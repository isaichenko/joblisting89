function revslider_showDoubleJqueryError(e){var t="Revolution Slider Error: You have some jquery.js library include that comes after the revolution files js include.";t+="<br> This includes make eliminates the revolution slider libraries, and make it not work.",t+="<br><br> To fix it you can:<br>&nbsp;&nbsp;&nbsp; 1. In the Slider Settings -> Troubleshooting set option:  <strong><b>Put JS Includes To Body</b></strong> option to true.",t="<span style='font-size:16px;color:#BC0C06;'>"+(t+="<br>&nbsp;&nbsp;&nbsp; 2. Find the double jquery.js include and remove it.")+"</span>",jQuery(e).show().html(t)}if(function(){"undefined"!=typeof window.CKEDITOR_BASEPATH&&null!==window.CKEDITOR_BASEPATH||(window.CKEDITOR_BASEPATH="/assets/ckeditor/")}.call(this),function(){function e(e,t){CKEDITOR.tools.extend(this,t,{editor:e,id:"cke-"+CKEDITOR.tools.getUniqueId(),area:e._.notificationArea}),t.type||(this.type="info"),this.element=this._createElement(),e.plugins.clipboard&&CKEDITOR.plugins.clipboard.preventDefaultDropOnElement(this.element)}function t(e){var t=this;this.editor=e,this.notifications=[],this.element=this._createElement(),this._uiBuffer=CKEDITOR.tools.eventsBuffer(10,this._layout,this),this._changeBuffer=CKEDITOR.tools.eventsBuffer(500,this._layout,this),e.on("destroy",function(){t._removeListeners(),t.element.remove()})}var n,i,o,r,a,s,l,c,d,u,h,p,f,m,g,v,T,y,E,b,C,_,O,I,D,w,R,k,x,S,K,N,A,L,P,M,F,B,$,H,z,q,j,W,U,V,X,Y,G,Q,Z;window.CKEDITOR&&window.CKEDITOR.dom||(window.CKEDITOR||(window.CKEDITOR=function(){var o=/(^|.*[\\\/])ckeditor\.js(?:\?.*|;.*)?$/i,t={timestamp:"H5SC",version:"4.7.1",revision:"08ffd39",rnd:Math.floor(900*Math.random())+100,_:{pending:[],basePathSrcPattern:o},status:"unloaded",basePath:function(){var e=window.CKEDITOR_BASEPATH||"";if(!e)for(var t=document.getElementsByTagName("script"),n=0;n<t.length;n++){var i=t[n].src.match(o);if(i){e=i[1];break}}if(-1==e.indexOf(":/")&&"//"!=e.slice(0,2)&&(e=0===e.indexOf("/")?location.href.match(/^.*?:\/\/[^\/]*/)[0]+e:location.href.match(/^[^\?]*\/(?:)/)[0]+e),!e)throw'The CKEditor installation path could not be automatically detected. Please set the global variable "CKEDITOR_BASEPATH" before creating editor instances.';return e}(),getUrl:function(e){return-1==e.indexOf(":/")&&0!==e.indexOf("/")&&(e=this.basePath+e),this.timestamp&&"/"!=e.charAt(e.length-1)&&!/[&?]t=/.test(e)&&(e+=(0<=e.indexOf("?")?"&":"?")+"t="+this.timestamp),e},domReady:function(){function i(){try{document.addEventListener?(document.removeEventListener("DOMContentLoaded",i,!1),e()):document.attachEvent&&"complete"===document.readyState&&(document.detachEvent("onreadystatechange",i),e())}catch(o){}}function e(){for(var e;e=o.shift();)e()}var o=[];return function(e){function t(){try{document.documentElement.doScroll("left")}catch(e){return void setTimeout(t,1)}i()}if(o.push(e),"complete"===document.readyState&&setTimeout(i,1),1==o.length)if(document.addEventListener)document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",i),window.attachEvent("onload",i),e=!1;try{e=!window.frameElement}catch(n){}document.documentElement.doScroll&&e&&t()}}}()},n=window.CKEDITOR_GETURL;if(n){var i=t.getUrl;t.getUrl=function(e){return n.call(t,e)||i.call(t,e)}}return t}()),CKEDITOR.event||(CKEDITOR.event=function(){},CKEDITOR.event.implementOn=function(e){var t,n=CKEDITOR.event.prototype;for(t in n)null==e[t]&&(e[t]=n[t])},CKEDITOR.event.prototype=function(){function d(e){var t=f(this);return t[e]||(t[e]=new n(e))}var c,u,h,p,f=function(e){return(e=e.getPrivate&&e.getPrivate()||e._||(e._={})).events||(e.events={})},n=function(e){this.name=e,this.listeners=[]};return n.prototype={getListenerIndex:function(e){for(var t=0,n=this.listeners;t<n.length;t++)if(n[t].fn==e)return t;return-1}},{define:function(e,t){var n=d.call(this,e);CKEDITOR.tools.extend(n,t,!0)},on:function(o,r,a,s,e){function t(e,t,n,i){return!(e={name:o,sender:this,editor:e,data:t,listenerData:s,stop:n,cancel:i,removeListener:l})!==r.call(a,e)&&e.data}function l(){i.removeListener(o,r)}var n=d.call(this,o);if(n.getListenerIndex(r)<0){n=n.listeners,a||(a=this),isNaN(e)&&(e=10);var i=this;t.fn=r,t.priority=e;for(var c=n.length-1;0<=c;c--)if(n[c].priority<=e)return n.splice(c+1,0,t),{removeListener:l};n.unshift(t)}return{removeListener:l}},once:function(){var e=Array.prototype.slice.call(arguments),t=e[1];return e[1]=function(e){return e.removeListener(),t.apply(this,arguments)},this.on.apply(this,e)},capture:function(){CKEDITOR.event.useCapture=1;var e=this.on.apply(this,arguments);return CKEDITOR.event.useCapture=0,e},fire:(c=0,u=function(){c=1},h=0,p=function(){h=1},function(e,t,n){var i=f(this)[e];e=c;var o=h;if(c=h=0,i&&(a=i.listeners).length)for(var r,a=a.slice(0),s=0;s<a.length;s++){if(i.errorProof)try{r=a[s].call(this,n,t,u,p)}catch(l){}else r=a[s].call(this,n,t,u,p);if(!1===r?h=1:void 0!==r&&(t=r),c||h)break}return t=!h&&(void 0===t||t),c=e,h=o,t}),fireOnce:function(e,t,n){return t=this.fire(e,t,n),delete f(this)[e],t},removeListener:function(e,t){var n=f(this)[e];if(n){var i=n.getListenerIndex(t);0<=i&&n.listeners.splice(i,1)}},removeAllListeners:function(){var e,t=f(this);for(e in t)delete t[e]},hasListeners:function(e){return(e=f(this)[e])&&0<e.listeners.length}}}()),CKEDITOR.editor||(CKEDITOR.editor=function(){CKEDITOR._.pending.push([this,arguments]),CKEDITOR.event.call(this)},CKEDITOR.editor.prototype.fire=function(e,t){return e in{instanceReady:1,loaded:1}&&(this[e]=!0),CKEDITOR.event.prototype.fire.call(this,e,t,this)},CKEDITOR.editor.prototype.fireOnce=function(e,t){return e in{instanceReady:1,loaded:1}&&(this[e]=!0),CKEDITOR.event.prototype.fireOnce.call(this,e,t,this)},CKEDITOR.event.implementOn(CKEDITOR.editor.prototype)),CKEDITOR.env||(CKEDITOR.env=function(){var e=navigator.userAgent.toLowerCase(),t=e.match(/edge[ \/](\d+.?\d*)/),n=-1<e.indexOf("trident/");(n={ie:n=!(!t&&!n),edge:!!t,webkit:!n&&-1<e.indexOf(" applewebkit/"),air:-1<e.indexOf(" adobeair/"),mac:-1<e.indexOf("macintosh"),quirks:"BackCompat"==document.compatMode&&(!document.documentMode||document.documentMode<10),mobile:-1<e.indexOf("mobile"),iOS:/(ipad|iphone|ipod)/.test(e),isCustomDomain:function(){if(!this.ie)return!1;var e=document.domain,t=window.location.hostname;return e!=t&&e!="["+t+"]"},secure:"https:"==location.protocol}).gecko="Gecko"==navigator.product&&!n.webkit&&!n.ie,n.webkit&&(-1<e.indexOf("chrome")?n.chrome=!0:n.safari=!0);var i=0;return n.ie&&(i=t?parseFloat(t[1]):n.quirks||!document.documentMode?parseFloat(e.match(/msie (\d+)/)[1]):document.documentMode,n.ie9Compat=9==i,n.ie8Compat=8==i,n.ie7Compat=7==i,n.ie6Compat=i<7||n.quirks),n.gecko&&(t=e.match(/rv:([\d\.]+)/))&&(i=1e4*(t=t[1].split("."))[0]+100*(t[1]||0)+1*(t[2]||0)),n.air&&(i=parseFloat(e.match(/ adobeair\/(\d+)/)[1])),n.webkit&&(i=parseFloat(e.match(/ applewebkit\/(\d+)/)[1])),n.version=i,n.isCompatible=!(n.ie&&i<7||n.gecko&&i<4e4||n.webkit&&i<534),n.hidpi=2<=window.devicePixelRatio,n.needsBrFiller=n.gecko||n.webkit||n.ie&&10<i,n.needsNbspFiller=n.ie&&i<11,n.cssClass="cke_browser_"+(n.ie?"ie":n.gecko?"gecko":n.webkit?"webkit":"unknown"),n.quirks&&(n.cssClass+=" cke_browser_quirks"),n.ie&&(n.cssClass+=" cke_browser_ie"+(n.quirks?"6 cke_browser_iequirks":n.version)),n.air&&(n.cssClass+=" cke_browser_air"),n.iOS&&(n.cssClass+=" cke_browser_ios"),n.hidpi&&(n.cssClass+=" cke_hidpi"),n}()),"unloaded"==CKEDITOR.status&&(CKEDITOR.event.implementOn(CKEDITOR),CKEDITOR.loadFullCore=function(){if("basic_ready"!=CKEDITOR.status)CKEDITOR.loadFullCore._load=1;else{delete CKEDITOR.loadFullCore;var e=document.createElement("script");e.type="text/javascript",e.src=CKEDITOR.basePath+"ckeditor.js",document.getElementsByTagName("head")[0].appendChild(e)}},CKEDITOR.loadFullCoreTimeout=0,CKEDITOR.add=function(e){(this._.pending||(this._.pending=[])).push(e)},CKEDITOR.domReady(function(){var e=CKEDITOR.loadFullCore,t=CKEDITOR.loadFullCoreTimeout;e&&(CKEDITOR.status="basic_ready",e&&e._load?e():t&&setTimeout(function(){CKEDITOR.loadFullCore&&CKEDITOR.loadFullCore()},1e3*t))}),CKEDITOR.status="basic_loaded"),CKEDITOR.VERBOSITY_WARN=1,CKEDITOR.VERBOSITY_ERROR=2,CKEDITOR.verbosity=CKEDITOR.VERBOSITY_WARN|CKEDITOR.VERBOSITY_ERROR,CKEDITOR.warn=function(e,t){CKEDITOR.verbosity&CKEDITOR.VERBOSITY_WARN&&CKEDITOR.fire("log",{type:"warn",errorCode:e,additionalData:t})},CKEDITOR.error=function(e,t){CKEDITOR.verbosity&CKEDITOR.VERBOSITY_ERROR&&CKEDITOR.fire("log",{type:"error",errorCode:e,additionalData:t})},CKEDITOR.on("log",function(e){if(window.console&&window.console.log){var t=console[e.data.type]?e.data.type:"log",n=e.data.errorCode;(e=e.data.additionalData)?console[t]("[CKEDITOR] Error code: "+n+".",e):console[t]("[CKEDITOR] Error code: "+n+"."),console[t]("[CKEDITOR] For more information about this error go to http://docs.ckeditor.com/#!/guide/dev_errors-section-"+n)}},null,null,999),CKEDITOR.dom={},u=[],h=CKEDITOR.env.gecko?"-moz-":CKEDITOR.env.webkit?"-webkit-":CKEDITOR.env.ie?"-ms-":"",p=/&/g,f=/>/g,m=/</g,g=/"/g,v=/&(lt|gt|amp|quot|nbsp|shy|#\d{1,5});/g,T={lt:"<",gt:">",amp:"&",quot:'"',nbsp:"\xa0",shy:"\xad"},y=function(e,t){return"#"==t[0]?String.fromCharCode(parseInt(t.slice(1),10)):T[t]},CKEDITOR.on("reset",function(){u=[]}),CKEDITOR.tools={arrayCompare:function(e,t){if(!e&&!t)return!0;if(!e||!t||e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0},getIndex:function(e,t){for(var n=0;n<e.length;++n)if(t(e[n]))return n;return-1},clone:function(e){var t;if(e&&e instanceof Array){t=[];for(var n=0;n<e.length;n++)t[n]=CKEDITOR.tools.clone(e[n]);return t}if(null===e||"object"!=typeof e||e instanceof String||e instanceof Number||e instanceof Boolean||e instanceof Date||e instanceof RegExp||e.nodeType||e.window===e)return e;for(n in t=new e.constructor,e)t[n]=CKEDITOR.tools.clone(e[n]);return t},capitalize:function(e,t){return e.charAt(0).toUpperCase()+(t?e.slice(1):e.slice(1).toLowerCase())},extend:function(e){var t,n,i=arguments.length;"boolean"==typeof(t=arguments[i-1])?i--:"boolean"==typeof(t=arguments[i-2])&&(n=arguments[i-1],i-=2);for(var o=1;o<i;o++){var r,a=arguments[o];for(r in a)!0!==t&&null!=e[r]||(!n||r in n)&&(e[r]=a[r])}return e},prototypedCopy:function(e){var t=function(){};return t.prototype=e,new t},copy:function(e){var t,n={};for(t in e)n[t]=e[t];return n},isArray:function(e){return"[object Array]"==Object.prototype.toString.call(e)},isEmpty:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},cssVendorPrefix:function(e,t,n){return n?h+e+":"+t+";"+e+":"+t:((n={})[e]=t,n[h+e]=t,n)},cssStyleToDomStyle:(c=document.createElement("div").style,d="undefined"!=typeof c.cssFloat?"cssFloat":"undefined"!=typeof c.styleFloat?"styleFloat":"float",function(e){return"float"==e?d:e.replace(/-./g,function(e){return e.substr(1).toUpperCase()})}),buildStyleHtml:function(e){e=[].concat(e);for(var t,n=[],i=0;i<e.length;i++)(t=e[i])&&(/@import|[{}]/.test(t)?n.push("<style>"+t+"</style>"):n.push('<link type="text/css" rel=stylesheet href="'+t+'">'));return n.join("")},htmlEncode:function(e){return null==e?"":String(e).replace(p,"&amp;").replace(f,"&gt;").replace(m,"&lt;")},htmlDecode:function(e){return e.replace(v,y)},htmlEncodeAttr:function(e){return CKEDITOR.tools.htmlEncode(e).replace(g,"&quot;")},htmlDecodeAttr:function(e){return CKEDITOR.tools.htmlDecode(e)},transformPlainTextToHtml:function(e,t){var n=t==CKEDITOR.ENTER_BR,i=(i=this.htmlEncode(e.replace(/\r\n/g,"\n"))).replace(/\t/g,"&nbsp;&nbsp; &nbsp;"),o=t==CKEDITOR.ENTER_P?"p":"div";if(!n){var r=/\n{2}/g;if(r.test(i)){var a="<"+o+">",s="</"+o+">";i=a+i.replace(r,function(){return s+a})+s}}return i=i.replace(/\n/g,"<br>"),n||(i=i.replace(new RegExp("<br>(?=</"+o+">)"),function(e){return CKEDITOR.tools.repeat(e,2)})),(i=i.replace(/^ | $/g,"&nbsp;")).replace(/(>|\s) /g,function(e,t){return t+"&nbsp;"}).replace(/ (?=<)/g,"&nbsp;")},getNextNumber:(l=0,function(){return++l}),getNextId:function(){return"cke_"+this.getNextNumber()},getUniqueId:function(){for(var e="e",t=0;t<8;t++)e+=Math.floor(65536*(1+Math.random())).toString(16).substring(1);return e},override:function(e,t){var n=t(e);return n.prototype=e.prototype,n},setTimeout:function(e,t,n,i,o){return o||(o=window),n||(n=o),o.setTimeout(function(){i?e.apply(n,[].concat(i)):e.apply(n)},t||0)},trim:(s=/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g,function(e){return e.replace(s,"")}),ltrim:(a=/^[ \t\n\r]+/g,function(e){return e.replace(a,"")}),rtrim:(r=/[ \t\n\r]+$/g,function(e){return e.replace(r,"")}),indexOf:function(e,t){if("function"==typeof t){for(var n=0,i=e.length;n<i;n++)if(t(e[n]))return n}else{if(e.indexOf)return e.indexOf(t);for(n=0,i=e.length;n<i;n++)if(e[n]===t)return n}return-1},search:function(e,t){var n=CKEDITOR.tools.indexOf(e,t);return 0<=n?e[n]:null},bind:function(e,t){return function(){return e.apply(t,arguments)}},createClass:function(e){var t=e.$,n=e.base,i=e.privates||e._,o=e.proto;if(e=e.statics,!t&&(t=function(){n&&this.base.apply(this,arguments)}),i){var r=t;t=function(){var e,t=this._||(this._={});for(e in i){var n=i[e];t[e]="function"==typeof n?CKEDITOR.tools.bind(n,this):n}r.apply(this,arguments)}}return n&&(t.prototype=this.prototypedCopy(n.prototype),(t.prototype.constructor=t).base=n,t.baseProto=n.prototype,t.prototype.base=function(){this.base=n.prototype.base,n.apply(this,arguments),this.base=arguments.callee}),o&&this.extend(t.prototype,o,!0),e&&this.extend(t,e,!0),t},addFunction:function(e,t){return u.push(function(){return e.apply(t||this,arguments)})-1},removeFunction:function(e){u[e]=null},callFunction:function(e){var t=u[e];return t&&t.apply(window,Array.prototype.slice.call(arguments,1))},cssLength:(o=/^-?\d+\.?\d*px$/,function(e){return i=CKEDITOR.tools.trim(e+"")+"px",o.test(i)?i:e||""}),convertToPx:function(e){return n||(n=CKEDITOR.dom.element.createFromHtml('<div style="position:absolute;left:-9999px;top:-9999px;margin:0px;padding:0px;border:0px;"></div>',CKEDITOR.document),CKEDITOR.document.getBody().append(n)),/%$/.test(e)?e:(n.setStyle("width",e),n.$.clientWidth)},repeat:function(e,t){return Array(t+1).join(e)},tryThese:function(){for(var e,t=0,n=arguments.length;t<n;t++){var i=arguments[t];try{e=i();break}catch(T){}}return e},genKey:function(){return Array.prototype.slice.call(arguments).join("-")},defer:function(n){return function(){var e=arguments,t=this;window.setTimeout(function(){n.apply(t,e)},0)}},normalizeCssText:function(e,t){var n,i=[],o=CKEDITOR.tools.parseCssText(e,!0,t);for(n in o)i.push(n+":"+o[n]);return i.sort(),i.length?i.join(";")+";":""},convertRgbToHex:function(e){return e.replace(/(?:rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\))/gi,function(e,t,n,i){for(e=[t,n,i],t=0;t<3;t++)e[t]=("0"+parseInt(e[t],10).toString(16)).slice(-2);return"#"+e.join("")})},normalizeHex:function(e){return e.replace(/#(([0-9a-f]{3}){1,2})($|;|\s+)/gi,function(e,t,n,i){return 3==(e=t.toLowerCase()).length&&(e=[(e=e.split(""))[0],e[0],e[1],e[1],e[2],e[2]].join("")),"#"+e+i})},parseCssText:function(e,i,t){var o={};return t&&(e=new CKEDITOR.dom.element("span").setAttribute("style",e).getAttribute("style")||""),e&&(e=CKEDITOR.tools.normalizeHex(CKEDITOR.tools.convertRgbToHex(e))),e&&";"!=e&&e.replace(/&quot;/g,'"').replace(/\s*([^:;\s]+)\s*:\s*([^;]+)\s*(?=;|$)/g,function(e,t,n){i&&("font-family"==(t=t.toLowerCase())&&(n=n.replace(/\s*,\s*/g,",")),n=CKEDITOR.tools.trim(n)),o[t]=n}),o},writeCssText:function(e,t){var n,i=[];for(n in e)i.push(n+":"+e[n]);return t&&i.sort(),i.join("; ")},objectCompare:function(e,t,n){var i;if(!e&&!t)return!0;if(!e||!t)return!1;for(i in e)if(e[i]!=t[i])return!1;if(!n)for(i in t)if(e[i]!=t[i])return!1;return!0},objectKeys:function(e){var t,n=[];for(t in e)n.push(t);return n},convertArrayToObject:function(e,t){var n={};1==arguments.length&&(t=!0);for(var i=0,o=e.length;i<o;++i)n[e[i]]=t;return n},fixDomain:function(){for(var e;;)try{e=window.parent.document.domain;break}catch(p){if(!(e=e?e.replace(/.+?(?:\.|$)/,""):document.domain))break;document.domain=e}return!!e},eventsBuffer:function(t,e,n){function i(){r=(new Date).getTime(),o=!1,n?e.call(n):e()}var o,r=0;return{input:function(){if(!o){var e=(new Date).getTime()-r;e<t?o=setTimeout(i,t-e):i()}},reset:function(){o&&clearTimeout(o),o=r=0}}},enableHtml5Elements:function(e,t){for(var n,i="abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup main mark meter nav output progress section summary time video".split(" "),o=i.length;o--;)n=e.createElement(i[o]),t&&e.appendChild(n)},checkIfAnyArrayItemMatches:function(e,t){for(var n=0,i=e.length;n<i;++n)if(e[n].match(t))return!0;return!1},checkIfAnyObjectPropertyMatches:function(e,t){for(var n in e)if(n.match(t))return!0;return!1},keystrokeToString:function(e,t){var n=16711680&t,i=65535&t,o=CKEDITOR.env.mac,r=[],a=[];return n&CKEDITOR.CTRL&&(r.push(o?"\u2318":e[17]),a.push(o?e[224]:e[17])),n&CKEDITOR.ALT&&(r.push(o?"\u2325":e[18]),a.push(e[18])),n&CKEDITOR.SHIFT&&(r.push(o?"\u21e7":e[16]),a.push(e[16])),i&&(e[i]?(r.push(e[i]),a.push(e[i])):(r.push(String.fromCharCode(i)),a.push(String.fromCharCode(i)))),{display:r.join("+"),aria:a.join("+")}},transparentImageData:"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==",getCookie:function(e){e=e.toLowerCase();for(var t,n=document.cookie.split(";"),i=0;i<n.length;i++)if(t=n[i].split("="),decodeURIComponent(CKEDITOR.tools.trim(t[0]).toLowerCase())===e)return decodeURIComponent(1<t.length?t[1]:"");return null},setCookie:function(e,t){document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+";path=/"},getCsrfToken:function(){if(!(e=CKEDITOR.tools.getCookie("ckCsrfToken"))||40!=e.length){var e=[],t="";if(window.crypto&&window.crypto.getRandomValues)e=new Uint8Array(40),window.crypto.getRandomValues(e);else for(var n=0;n<40;n++)e.push(Math.floor(256*Math.random()));for(n=0;n<e.length;n++){var i="abcdefghijklmnopqrstuvwxyz0123456789".charAt(e[n]%36);t+=.5<Math.random()?i.toUpperCase():i}e=t,CKEDITOR.tools.setCookie("ckCsrfToken",e)}return e},escapeCss:function(e){return e?window.CSS&&CSS.escape?CSS.escape(e):isNaN(parseInt(e.charAt(0),10))?e:"\\3"+e.charAt(0)+" "+e.substring(1,e.length):""},style:{parse:{_colors:{aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"},_rgbaRegExp:/rgba?\(\s*\d+%?\s*,\s*\d+%?\s*,\s*\d+%?\s*(?:,\s*[0-9.]+\s*)?\)/gi,_hslaRegExp:/hsla?\(\s*[0-9.]+\s*,\s*\d+%\s*,\s*\d+%\s*(?:,\s*[0-9.]+\s*)?\)/gi,background:function(t){var e={},n=this._findColor(t);return n.length&&(e.color=n[0],CKEDITOR.tools.array.forEach(n,function(e){t=t.replace(e,"")})),(t=CKEDITOR.tools.trim(t))&&(e.unprocessed=t),e},margin:function(e){function t(e){n.top=i[e[0]],n.right=i[e[1]],n.bottom=i[e[2]],n.left=i[e[3]]}var n={},i=e.match(/(?:\-?[\.\d]+(?:%|\w*)|auto|inherit|initial|unset)/g)||["0px"];switch(i.length){case 1:t([0,0,0,0]);break;case 2:t([0,1,0,1]);break;case 3:t([0,1,2,1]);break;case 4:t([0,1,2,3])}return n},_findColor:function(e){var t=[],n=CKEDITOR.tools.array;return(t=(t=t.concat(e.match(this._rgbaRegExp)||[])).concat(e.match(this._hslaRegExp)||[])).concat(n.filter(e.split(/\s+/),function(e){return!!e.match(/^\#[a-f0-9]{3}(?:[a-f0-9]{3})?$/gi)||e.toLowerCase()in CKEDITOR.tools.style.parse._colors}))}}},array:{filter:function(n,i,o){var r=[];return this.forEach(n,function(e,t){i.call(o,e,t,n)&&r.push(e)}),r},forEach:function(e,t,n){var i,o=e.length;for(i=0;i<o;i++)t.call(n,e[i],i,e)},map:function(e,t,n){for(var i=[],o=0;o<e.length;o++)i.push(t.call(n,e[o],o,e));return i},reduce:function(e,t,n,i){for(var o=0;o<e.length;o++)n=t.call(i,n,e[o],o,e);return n}},object:{findKey:function(e,t){if("object"!=typeof e)return null;for(var n in e)if(e[n]===t)return n;return null}}},CKEDITOR.tools.array.indexOf=CKEDITOR.tools.indexOf,CKEDITOR.tools.array.isArray=CKEDITOR.tools.isArray,CKEDITOR.dtd=(E=CKEDITOR.tools.extend,b=function(e,t){for(var n=CKEDITOR.tools.clone(e),i=1;i<arguments.length;i++)for(var o in t=arguments[i])delete n[o];return n},_={},O={address:1,article:1,aside:1,blockquote:1,details:1,div:1,dl:1,fieldset:1,figure:1,footer:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,hr:1,main:1,menu:1,nav:1,ol:1,p:1,pre:1,section:1,table:1,ul:1},I={command:1,link:1,meta:1,noscript:1,script:1,style:1},D={},R={center:1,dir:1,noframes:1},E(C={},{a:1,abbr:1,area:1,audio:1,b:1,bdi:1,bdo:1,br:1,button:1,canvas:1,cite:1,code:1,command:1,datalist:1,del:1,dfn:1,em:1,embed:1,i:1,iframe:1,img:1,input:1,ins:1,kbd:1,keygen:1,label:1,map:1,mark:1,meter:1,noscript:1,object:1,output:1,progress:1,q:1,ruby:1,s:1,samp:1,script:1,select:1,small:1,span:1,strong:1,sub:1,sup:1,textarea:1,time:1,u:1,"var":1,video:1,wbr:1},w={"#":1},{acronym:1,applet:1,basefont:1,big:1,font:1,isindex:1,strike:1,style:1,tt:1}),E(_,O,C,R),E(b={a:b(C,{a:1,button:1}),abbr:C,address:_,area:D,article:_,aside:_,audio:E({source:1,track:1},_),b:C,base:D,bdi:C,bdo:C,blockquote:_,body:_,br:D,button:b(C,{a:1,button:1}),canvas:C,caption:_,cite:C,code:C,col:D,colgroup:{col:1},command:D,datalist:E({option:1},C),dd:_,del:C,details:E({summary:1},_),dfn:C,div:_,dl:{dt:1,dd:1},dt:_,em:C,embed:D,fieldset:E({legend:1},_),figcaption:_,figure:E({figcaption:1},_),footer:_,form:_,h1:C,h2:C,h3:C,h4:C,h5:C,h6:C,head:E({title:1,base:1},I),header:_,hgroup:{h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},hr:D,html:E({head:1,body:1},_,I),i:C,iframe:w,img:D,input:D,ins:C,kbd:C,keygen:D,label:C,legend:C,li:_,link:D,main:_,map:_,mark:C,menu:E({li:1},_),meta:D,meter:b(C,{meter:1}),nav:_,noscript:E({link:1,meta:1,style:1},C),object:E({param:1},C),ol:{li:1},optgroup:{option:1},option:w,output:C,p:C,param:D,pre:C,progress:b(C,{progress:1}),q:C,rp:C,rt:C,ruby:E({rp:1,rt:1},C),s:C,samp:C,script:w,section:_,select:{optgroup:1,option:1},small:C,source:D,span:C,strong:C,style:w,sub:C,summary:E({h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},C),sup:C,table:{caption:1,colgroup:1,thead:1,tfoot:1,tbody:1,tr:1},tbody:{tr:1},td:_,textarea:w,tfoot:{tr:1},th:_,thead:{tr:1},time:b(C,{time:1}),title:w,tr:{th:1,td:1},track:D,u:C,ul:{li:1},"var":C,video:E({source:1,track:1},_),wbr:D,acronym:C,applet:E({param:1},_),basefont:D,big:C,center:_,dialog:D,dir:{li:1},font:C,isindex:D,noframes:_,strike:C,tt:C},{$block:E({audio:1,dd:1,dt:1,figcaption:1,li:1,video:1},O,R),$blockLimit:{article:1,aside:1,audio:1,body:1,caption:1,details:1,dir:1,div:1,dl:1,fieldset:1,figcaption:1,figure:1,footer:1,form:1,header:1,hgroup:1,main:1,menu:1,nav:1,ol:1,section:1,table:1,td:1,th:1,tr:1,ul:1,video:1},$cdata:{script:1,style:1},$editable:{address:1,article:1,aside:1,blockquote:1,body:1,details:1,div:1,fieldset:1,figcaption:1,footer:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,main:1,nav:1,p:1,pre:1,section:1},$empty:{area:1,base:1,basefont:1,br:1,col:1,command:1,dialog:1,embed:1,hr:1,img:1,input:1,isindex:1,keygen:1,link:1,meta:1,param:1,source:1,track:1,wbr:1},$inline:C,$list:{dl:1,ol:1,ul:1},$listItem:{dd:1,dt:1,li:1},$nonBodyContent:E({body:1,head:1,html:1},b.head),$nonEditable:{applet:1,audio:1,button:1,embed:1,iframe:1,map:1,object:1,option:1,param:1,script:1,textarea:1,video:1},$object:{applet:1,audio:1,button:1,hr:1,iframe:1,img:1,input:1,object:1,select:1,table:1,textarea:1,video:1},$removeEmpty:{abbr:1,acronym:1,b:1,bdi:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,mark:1,meter:1,output:1,q:1,ruby:1,s:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,time:1,tt:1,u:1,"var":1},$tabIndex:{a:1,area:1,button:1,input:1,object:1,select:1,textarea:1},$tableContent:{caption:1,col:1,colgroup:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1},$transparent:{a:1,audio:1,canvas:1,del:1,ins:1,map:1,noscript:1,object:1,video:1},$intermediate:{caption:1,colgroup:1,dd:1,dt:1,figcaption:1,legend:1,li:1,optgroup:1,option:1,rp:1,rt:1,summary:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1}}),b),CKEDITOR.dom.event=function(e){this.$=e},CKEDITOR.dom.event.prototype={getKey:function(){return this.$.keyCode||this.$.which},getKeystroke:function(){var e=this.getKey();return(this.$.ctrlKey||this.$.metaKey)&&(e+=CKEDITOR.CTRL),this.$.shiftKey&&(e+=CKEDITOR.SHIFT),this.$.altKey&&(e+=CKEDITOR.ALT),e},preventDefault:function(e){var t=this.$;t.preventDefault?t.preventDefault():t.returnValue=!1,e&&this.stopPropagation()},stopPropagation:function(){var e=this.$;e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},getTarget:function(){var e=this.$.target||this.$.srcElement;return e?new CKEDITOR.dom.node(e):null},getPhase:function(){return this.$.eventPhase||2},getPageOffset:function(){var e=this.getTarget().getDocument().$;return{x:this.$.pageX||this.$.clientX+(e.documentElement.scrollLeft||e.body.scrollLeft),y:this.$.pageY||this.$.clientY+(e.documentElement.scrollTop||e.body.scrollTop)}}},CKEDITOR.CTRL=1114112,CKEDITOR.SHIFT=2228224,CKEDITOR.ALT=4456448,CKEDITOR.EVENT_PHASE_CAPTURING=1,CKEDITOR.EVENT_PHASE_AT_TARGET=2,CKEDITOR.EVENT_PHASE_BUBBLING=3,CKEDITOR.dom.domObject=function(e){e&&(this.$=e)},CKEDITOR.dom.domObject.prototype=(k=function(t,n){return function(e){"undefined"!=typeof CKEDITOR&&t.fire(n,new CKEDITOR.dom.event(e))}},{getPrivate:function(){var e;return(e=this.getCustomData("_"))||this.setCustomData("_",e={}),e},on:function(e){var t=this.getCustomData("_cke_nativeListeners");return t||(t={},this.setCustomData("_cke_nativeListeners",t)),t[e]||(t=t[e]=k(this,e),this.$.addEventListener?this.$.addEventListener(e,t,!!CKEDITOR.event.useCapture):this.$.attachEvent&&this.$.attachEvent("on"+e,t)),CKEDITOR.event.prototype.on.apply(this,arguments)},removeListener:function(e){if(CKEDITOR.event.prototype.removeListener.apply(this,arguments),!this.hasListeners(e)){var t=this.getCustomData("_cke_nativeListeners"),n=t&&t[e];n&&(this.$.removeEventListener?this.$.removeEventListener(e,n,!1):this.$.detachEvent&&this.$.detachEvent("on"+e,n),delete t[e])}},removeAllListeners:function(){var e,t=this.getCustomData("_cke_nativeListeners");for(e in t){var n=t[e];this.$.detachEvent?this.$.detachEvent("on"+e,n):this.$.removeEventListener&&this.$.removeEventListener(e,n,!1),delete t[e]}CKEDITOR.event.prototype.removeAllListeners.call(this)}}),x=CKEDITOR.dom.domObject.prototype,S={},CKEDITOR.on("reset",function(){S={}}),x.equals=function(e){try{return e&&e.$===this.$}catch(t){return!1}},x.setCustomData=function(e,t){var n=this.getUniqueId();return(S[n]||(S[n]={}))[e]=t,this},x.getCustomData=function(e){var t=this.$["data-cke-expando"];return(t=t&&S[t])&&e in t?t[e]:null},x.removeCustomData=function(e){var t,n,i;return(t=(t=this.$["data-cke-expando"])&&S[t])&&(n=t[e],i=e in t,delete t[e]),i?n:null},x.clearCustomData=function(){this.removeAllListeners();var e=this.$["data-cke-expando"];e&&delete S[e]},x.getUniqueId=function(){return this.$["data-cke-expando"]||(this.$["data-cke-expando"]=CKEDITOR.tools.getNextNumber())},CKEDITOR.event.implementOn(x),CKEDITOR.dom.node=function(e){return e?new CKEDITOR.dom[e.nodeType==CKEDITOR.NODE_DOCUMENT?"document":e.nodeType==CKEDITOR.NODE_ELEMENT?"element":e.nodeType==CKEDITOR.NODE_TEXT?"text":e.nodeType==CKEDITOR.NODE_COMMENT?"comment":e.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT?"documentFragment":"domObject"](e):this},CKEDITOR.dom.node.prototype=new CKEDITOR.dom.domObject,CKEDITOR.NODE_ELEMENT=1,CKEDITOR.NODE_DOCUMENT=9,CKEDITOR.NODE_TEXT=3,CKEDITOR.NODE_COMMENT=8,CKEDITOR.NODE_DOCUMENT_FRAGMENT=11,CKEDITOR.POSITION_IDENTICAL=0,CKEDITOR.POSITION_DISCONNECTED=1,CKEDITOR.POSITION_FOLLOWING=2,CKEDITOR.POSITION_PRECEDING=4,CKEDITOR.POSITION_IS_CONTAINED=8,CKEDITOR.POSITION_CONTAINS=16,CKEDITOR.tools.extend(CKEDITOR.dom.node.prototype,{appendTo:function(e,t){return e.append(this,t),e},clone:function(n,i){function o(e){if(e["data-cke-expando"]&&(e["data-cke-expando"]=!1),(e.nodeType==CKEDITOR.NODE_ELEMENT||e.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT)&&(i||e.nodeType!=CKEDITOR.NODE_ELEMENT||e.removeAttribute("id",!1),n)){e=e.childNodes;for(var t=0;t<e.length;t++)o(e[t])}}function r(e){if(e.type==CKEDITOR.NODE_ELEMENT||e.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT){if(e.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var t=e.getName();":"==t[0]&&e.renameNode(t.substring(1))}if(n)for(t=0;t<e.getChildCount();t++)r(e.getChild(t))}}var e=this.$.cloneNode(n);return o(e),e=new CKEDITOR.dom.node(e),CKEDITOR.env.ie&&CKEDITOR.env.version<9&&(this.type==CKEDITOR.NODE_ELEMENT||this.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT)&&r(e),e},hasPrevious:function(){return!!this.$.previousSibling},hasNext:function(){return!!this.$.nextSibling},insertAfter:function(e){return e.$.parentNode.insertBefore(this.$,e.$.nextSibling),e},insertBefore:function(e){return e.$.parentNode.insertBefore(this.$,e.$),e},insertBeforeMe:function(e){return this.$.parentNode.insertBefore(e.$,this.$),e},getAddress:function(e){for(var t=[],n=this.getDocument().$.documentElement,i=this.$;i&&i!=n;){var o=i.parentNode;o&&t.unshift(this.getIndex.call({$:i},e)),i=o}return t},getDocument:function(){return new CKEDITOR.dom.document(this.$.ownerDocument||this.$.parentNode.ownerDocument)},getIndex:function(e){function i(e,t){var n=t?e.nextSibling:e.previousSibling;return n&&n.nodeType==CKEDITOR.NODE_TEXT?o(n)?i(n,t):n:null}function o(e){return!e.nodeValue||e.nodeValue==CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE}var t,n=this.$,r=-1;if(!this.$.parentNode||e&&n.nodeType==CKEDITOR.NODE_TEXT&&o(n)&&!i(n)&&!i(n,!0))return-1;for(;e&&n!=this.$&&n.nodeType==CKEDITOR.NODE_TEXT&&(t||o(n))||(r++,t=n.nodeType==CKEDITOR.NODE_TEXT),n=n.previousSibling;);return r},getNextSourceNode:function(e,t,n){if(n&&!n.call){var i=n;n=function(e){return!e.equals(i)}}var o;if(!(e=!e&&this.getFirst&&this.getFirst())){if(this.type==CKEDITOR.NODE_ELEMENT&&n&&!1===n(this,!0))return null;e=this.getNext()}for(;!e&&(o=(o||this).getParent());){if(n&&!1===n(o,!0))return null;e=o.getNext()}return!e||n&&!1===n(e)?null:t&&t!=e.type?e.getNextSourceNode(!1,t,n):e},getPreviousSourceNode:function(e,t,n){if(
n&&!n.call){var i=n;n=function(e){return!e.equals(i)}}var o;if(!(e=!e&&this.getLast&&this.getLast())){if(this.type==CKEDITOR.NODE_ELEMENT&&n&&!1===n(this,!0))return null;e=this.getPrevious()}for(;!e&&(o=(o||this).getParent());){if(n&&!1===n(o,!0))return null;e=o.getPrevious()}return!e||n&&!1===n(e)?null:t&&e.type!=t?e.getPreviousSourceNode(!1,t,n):e},getPrevious:function(e){for(var t,n=this.$;(t=(n=n.previousSibling)&&10!=n.nodeType&&new CKEDITOR.dom.node(n))&&e&&!e(t););return t},getNext:function(e){for(var t,n=this.$;(t=(n=n.nextSibling)&&new CKEDITOR.dom.node(n))&&e&&!e(t););return t},getParent:function(e){var t=this.$.parentNode;return t&&(t.nodeType==CKEDITOR.NODE_ELEMENT||e&&t.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT)?new CKEDITOR.dom.node(t):null},getParents:function(e){for(var t=this,n=[];n[e?"push":"unshift"](t),t=t.getParent(););return n},getCommonAncestor:function(e){if(e.equals(this))return this;if(e.contains&&e.contains(this))return e;var t=this.contains?this:this.getParent();do{if(t.contains(e))return t}while(t=t.getParent());return null},getPosition:function(e){var t=this.$,n=e.$;if(t.compareDocumentPosition)return t.compareDocumentPosition(n);if(t==n)return CKEDITOR.POSITION_IDENTICAL;if(this.type==CKEDITOR.NODE_ELEMENT&&e.type==CKEDITOR.NODE_ELEMENT){if(t.contains){if(t.contains(n))return CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_PRECEDING;if(n.contains(t))return CKEDITOR.POSITION_IS_CONTAINED+CKEDITOR.POSITION_FOLLOWING}if("sourceIndex"in t)return t.sourceIndex<0||n.sourceIndex<0?CKEDITOR.POSITION_DISCONNECTED:t.sourceIndex<n.sourceIndex?CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_FOLLOWING}t=this.getAddress(),e=e.getAddress();n=Math.min(t.length,e.length);for(var i=0;i<n;i++)if(t[i]!=e[i])return t[i]<e[i]?CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_FOLLOWING;return t.length<e.length?CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_IS_CONTAINED+CKEDITOR.POSITION_FOLLOWING},getAscendant:function(t,e){var n,i,o=this.$;for(e||(o=o.parentNode),n="function"==typeof t?(i=!0,t):(i=!1,function(e){return e="string"==typeof e.nodeName?e.nodeName.toLowerCase():"","string"==typeof t?e==t:e in t});o;){if(n(i?new CKEDITOR.dom.node(o):o))return new CKEDITOR.dom.node(o);try{o=o.parentNode}catch(r){o=null}}return null},hasAscendant:function(e,t){var n=this.$;for(t||(n=n.parentNode);n;){if(n.nodeName&&n.nodeName.toLowerCase()==e)return!0;n=n.parentNode}return!1},move:function(e,t){e.append(this.remove(),t)},remove:function(e){var t=this.$,n=t.parentNode;if(n){if(e)for(;e=t.firstChild;)n.insertBefore(t.removeChild(e),t);n.removeChild(t)}return this},replace:function(e){this.insertBefore(e),e.remove()},trim:function(){this.ltrim(),this.rtrim()},ltrim:function(){for(var e;this.getFirst&&(e=this.getFirst());){if(e.type==CKEDITOR.NODE_TEXT){var t=CKEDITOR.tools.ltrim(e.getText()),n=e.getLength();if(!t){e.remove();continue}t.length<n&&(e.split(n-t.length),this.$.removeChild(this.$.firstChild))}break}},rtrim:function(){for(var e;this.getLast&&(e=this.getLast());){if(e.type==CKEDITOR.NODE_TEXT){var t=CKEDITOR.tools.rtrim(e.getText()),n=e.getLength();if(!t){e.remove();continue}t.length<n&&(e.split(t.length),this.$.lastChild.parentNode.removeChild(this.$.lastChild))}break}CKEDITOR.env.needsBrFiller&&(e=this.$.lastChild)&&1==e.type&&"br"==e.nodeName.toLowerCase()&&e.parentNode.removeChild(e)},isReadOnly:function(e){var t=this;if(this.type!=CKEDITOR.NODE_ELEMENT&&(t=this.getParent()),CKEDITOR.env.edge&&t&&t.is("textarea","input")&&(e=!0),!e&&t&&"undefined"!=typeof t.$.isContentEditable)return!(t.$.isContentEditable||t.data("cke-editable"));for(;t;){if(t.data("cke-editable"))return!1;if(t.hasAttribute("contenteditable"))return"false"==t.getAttribute("contenteditable");t=t.getParent()}return!0}}),CKEDITOR.dom.window=function(e){CKEDITOR.dom.domObject.call(this,e)},CKEDITOR.dom.window.prototype=new CKEDITOR.dom.domObject,CKEDITOR.tools.extend(CKEDITOR.dom.window.prototype,{focus:function(){this.$.focus()},getViewPaneSize:function(){var e=this.$.document,t="CSS1Compat"==e.compatMode;return{width:(t?e.documentElement.clientWidth:e.body.clientWidth)||0,height:(t?e.documentElement.clientHeight:e.body.clientHeight)||0}},getScrollPosition:function(){var e=this.$;return"pageXOffset"in e?{x:e.pageXOffset||0,y:e.pageYOffset||0}:{x:(e=e.document).documentElement.scrollLeft||e.body.scrollLeft||0,y:e.documentElement.scrollTop||e.body.scrollTop||0}},getFrame:function(){var e=this.$.frameElement;return e?new CKEDITOR.dom.element.get(e):null}}),CKEDITOR.dom.document=function(e){CKEDITOR.dom.domObject.call(this,e)},CKEDITOR.dom.document.prototype=new CKEDITOR.dom.domObject,CKEDITOR.tools.extend(CKEDITOR.dom.document.prototype,{type:CKEDITOR.NODE_DOCUMENT,appendStyleSheet:function(e){if(this.$.createStyleSheet)this.$.createStyleSheet(e);else{var t=new CKEDITOR.dom.element("link");t.setAttributes({rel:"stylesheet",type:"text/css",href:e}),this.getHead().append(t)}},appendStyleText:function(e){if(this.$.createStyleSheet){var t=this.$.createStyleSheet("");t.cssText=e}else{var n=new CKEDITOR.dom.element("style",this);n.append(new CKEDITOR.dom.text(e,this)),this.getHead().append(n)}return t||n.$.sheet},createElement:function(e,t){var n=new CKEDITOR.dom.element(e,this);return t&&(t.attributes&&n.setAttributes(t.attributes),t.styles&&n.setStyles(t.styles)),n},createText:function(e){return new CKEDITOR.dom.text(e,this)},focus:function(){this.getWindow().focus()},getActive:function(){var e;try{e=this.$.activeElement}catch(t){return null}return new CKEDITOR.dom.element(e)},getById:function(e){return(e=this.$.getElementById(e))?new CKEDITOR.dom.element(e):null},getByAddress:function(e,t){for(var n=this.$.documentElement,i=0;n&&i<e.length;i++){var o=e[i];if(t)for(var r=-1,a=0;a<n.childNodes.length;a++){var s=n.childNodes[a];if((!0!==t||3!=s.nodeType||!s.previousSibling||3!=s.previousSibling.nodeType)&&++r==o){n=s;break}}else n=n.childNodes[o]}return n?new CKEDITOR.dom.node(n):null},getElementsByTag:function(e,t){return CKEDITOR.env.ie&&document.documentMode<=8||!t||(e=t+":"+e),new CKEDITOR.dom.nodeList(this.$.getElementsByTagName(e))},getHead:function(){var e=this.$.getElementsByTagName("head")[0];return e?new CKEDITOR.dom.element(e):this.getDocumentElement().append(new CKEDITOR.dom.element("head"),!0)},getBody:function(){return new CKEDITOR.dom.element(this.$.body)},getDocumentElement:function(){return new CKEDITOR.dom.element(this.$.documentElement)},getWindow:function(){return new CKEDITOR.dom.window(this.$.parentWindow||this.$.defaultView)},write:function(e){this.$.open("text/html","replace"),CKEDITOR.env.ie&&(e=e.replace(/(?:^\s*<!DOCTYPE[^>]*?>)|^/i,'$&\n<script data-cke-temp="1">('+CKEDITOR.tools.fixDomain+")();</script>")),this.$.write(e),this.$.close()},find:function(e){return new CKEDITOR.dom.nodeList(this.$.querySelectorAll(e))},findOne:function(e){return(e=this.$.querySelector(e))?new CKEDITOR.dom.element(e):null},_getHtml5ShivFrag:function(){var e=this.getCustomData("html5ShivFrag");return e||(e=this.$.createDocumentFragment(),CKEDITOR.tools.enableHtml5Elements(e,!0),this.setCustomData("html5ShivFrag",e)),e}}),CKEDITOR.dom.nodeList=function(e){this.$=e},CKEDITOR.dom.nodeList.prototype={count:function(){return this.$.length},getItem:function(e){return e<0||e>=this.$.length?null:(e=this.$[e])?new CKEDITOR.dom.node(e):null}},CKEDITOR.dom.element=function(e,t){"string"==typeof e&&(e=(t?t.$:document).createElement(e)),CKEDITOR.dom.domObject.call(this,e)},CKEDITOR.dom.element.get=function(e){return(e="string"==typeof e?document.getElementById(e)||document.getElementsByName(e)[0]:e)&&(e.$?e:new CKEDITOR.dom.element(e))},CKEDITOR.dom.element.prototype=new CKEDITOR.dom.node,CKEDITOR.dom.element.createFromHtml=function(e,t){var n=new CKEDITOR.dom.element("div",t);return n.setHtml(e),n.getFirst().remove()},CKEDITOR.dom.element.setMarker=function(e,t,n,i){var o=t.getCustomData("list_marker_id")||t.setCustomData("list_marker_id",CKEDITOR.tools.getNextNumber()).getCustomData("list_marker_id"),r=t.getCustomData("list_marker_names")||t.setCustomData("list_marker_names",{}).getCustomData("list_marker_names");return e[o]=t,r[n]=1,t.setCustomData(n,i)},CKEDITOR.dom.element.clearAllMarkers=function(e){for(var t in e)CKEDITOR.dom.element.clearMarkers(e,e[t],1)},CKEDITOR.dom.element.clearMarkers=function(e,t,n){var i,o=t.getCustomData("list_marker_names"),r=t.getCustomData("list_marker_id");for(i in o)t.removeCustomData(i);t.removeCustomData("list_marker_names"),n&&(t.removeCustomData("list_marker_id"),delete e[r])},function(){function n(e,t){return-1<(" "+e+" ").replace(c," ").indexOf(" "+t+" ")}function o(e){var t=!0;return e.$.id||(e.$.id="cke_tmp_"+CKEDITOR.tools.getNextNumber(),t=!1),function(){t||e.removeAttribute("id")}}function i(e,t){var n=CKEDITOR.tools.escapeCss(e.$.id);return"#"+n+" "+t.split(/,\s*/).join(", #"+n+" ")}function r(e){for(var t=0,n=0,i=d[e].length;n<i;n++)t+=parseFloat(this.getComputedStyle(d[e][n])||0,10)||0;return t}var e,a,t,s,l=void 0!==(l=document.createElement("_").classList)&&null!==String(l.add).match(/\[Native code\]/gi),c=/[\n\t\r]/g;CKEDITOR.tools.extend(CKEDITOR.dom.element.prototype,{type:CKEDITOR.NODE_ELEMENT,addClass:l?function(e){return this.$.classList.add(e),this}:function(e){var t=this.$.className;return t&&(n(t,e)||(t+=" "+e)),this.$.className=t||e,this},removeClass:l?function(e){var t=this.$;return t.classList.remove(e),t.className||t.removeAttribute("class"),this}:function(e){var t=this.getAttribute("class");return t&&n(t,e)&&((t=t.replace(new RegExp("(?:^|\\s+)"+e+"(?=\\s|$)"),"").replace(/^\s+/,""))?this.setAttribute("class",t):this.removeAttribute("class")),this},hasClass:function(e){return n(this.$.className,e)},append:function(e,t){return"string"==typeof e&&(e=this.getDocument().createElement(e)),t?this.$.insertBefore(e.$,this.$.firstChild):this.$.appendChild(e.$),e},appendHtml:function(e){if(this.$.childNodes.length){var t=new CKEDITOR.dom.element("div",this.getDocument());t.setHtml(e),t.moveChildren(this)}else this.setHtml(e)},appendText:function(e){null!=this.$.text&&CKEDITOR.env.ie&&CKEDITOR.env.version<9?this.$.text+=e:this.append(new CKEDITOR.dom.text(e))},appendBogus:function(e){if(e||CKEDITOR.env.needsBrFiller){for(e=this.getLast();e&&e.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.rtrim(e.getText());)e=e.getPrevious();e&&e.is&&e.is("br")||(e=this.getDocument().createElement("br"),CKEDITOR.env.gecko&&e.setAttribute("type","_moz"),this.append(e))}},breakParent:function(e,t){var n=new CKEDITOR.dom.range(this.getDocument());n.setStartAfter(this),n.setEndAfter(e);var i,o=n.extractContents(!1,t||!1);if(n.insertNode(this.remove()),CKEDITOR.env.ie&&!CKEDITOR.env.edge){for(n=new CKEDITOR.dom.element("div");i=o.getFirst();)i.$.style.backgroundColor&&(i.$.style.backgroundColor=i.$.style.backgroundColor),n.append(i);n.insertAfter(this),n.remove(!0)}else o.insertAfterNode(this)},contains:document.compareDocumentPosition?function(e){return!!(16&this.$.compareDocumentPosition(e.$))}:function(e){var t=this.$;return e.type!=CKEDITOR.NODE_ELEMENT?t.contains(e.getParent().$):t!=e.$&&t.contains(e.$)},focus:function(){function t(){try{this.$.focus()}catch(i){}}return function(e){e?CKEDITOR.tools.setTimeout(t,100,this):t.call(this)}}(),getHtml:function(){var e=this.$.innerHTML;return CKEDITOR.env.ie?e.replace(/<\?[^>]*>/g,""):e},getOuterHtml:function(){if(this.$.outerHTML)return this.$.outerHTML.replace(/<\?[^>]*>/,"");var e=this.$.ownerDocument.createElement("div");return e.appendChild(this.$.cloneNode(!0)),e.innerHTML},getClientRect:function(){var e=CKEDITOR.tools.extend({},this.$.getBoundingClientRect());return!e.width&&(e.width=e.right-e.left),!e.height&&(e.height=e.bottom-e.top),e},setHtml:CKEDITOR.env.ie&&CKEDITOR.env.version<9?function(e){try{var t=this.$;if(this.getParent())return t.innerHTML=e;var n=this.getDocument()._getHtml5ShivFrag();return n.appendChild(t),t.innerHTML=e,n.removeChild(t),e}catch(i){for(this.$.innerHTML="",(t=new CKEDITOR.dom.element("body",this.getDocument())).$.innerHTML=e,t=t.getChildren();t.count();)this.append(t.getItem(0));return e}}:function(e){return this.$.innerHTML=e},setText:(s=document.createElement("p"),s.innerHTML="x",s=s.textContent,function(e){this.$[s?"textContent":"innerText"]=e}),getAttribute:(t=function(e){return this.$.getAttribute(e,2)},CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(e){switch(e){case"class":e="className";break;case"http-equiv":e="httpEquiv";break;case"name":return this.$.name;case"tabindex":return 0!==(e=this.$.getAttribute(e,2))&&0===this.$.tabIndex&&(e=null),e;case"checked":return((e=this.$.attributes.getNamedItem(e)).specified?e.nodeValue:this.$.checked)?"checked":null;case"hspace":case"value":return this.$[e];case"style":return this.$.style.cssText;case"contenteditable":case"contentEditable":return this.$.attributes.getNamedItem("contentEditable").specified?this.$.getAttribute("contentEditable"):null}return this.$.getAttribute(e,2)}:t),getAttributes:function(e){var t,n={},i=this.$.attributes;for(e=CKEDITOR.tools.isArray(e)?e:[],t=0;t<i.length;t++)-1===CKEDITOR.tools.indexOf(e,i[t].name)&&(n[i[t].name]=i[t].value);return n},getChildren:function(){return new CKEDITOR.dom.nodeList(this.$.childNodes)},getComputedStyle:document.defaultView&&document.defaultView.getComputedStyle?function(e){var t=this.getWindow().$.getComputedStyle(this.$,null);return t?t.getPropertyValue(e):""}:function(e){return this.$.currentStyle[CKEDITOR.tools.cssStyleToDomStyle(e)]},getDtd:function(){var e=CKEDITOR.dtd[this.getName()];return this.getDtd=function(){return e},e},getElementsByTag:CKEDITOR.dom.document.prototype.getElementsByTag,getTabIndex:function(){var e=this.$.tabIndex;return 0!==e||CKEDITOR.dtd.$tabIndex[this.getName()]||0===parseInt(this.getAttribute("tabindex"),10)?e:-1},getText:function(){return this.$.textContent||this.$.innerText||""},getWindow:function(){return this.getDocument().getWindow()},getId:function(){return this.$.id||null},getNameAtt:function(){return this.$.name||null},getName:function(){var e=this.$.nodeName.toLowerCase();if(CKEDITOR.env.ie&&document.documentMode<=8){var t=this.$.scopeName;"HTML"!=t&&(e=t.toLowerCase()+":"+e)}return this.getName=function(){return e},this.getName()},getValue:function(){return this.$.value},getFirst:function(e){var t=this.$.firstChild;return(t=t&&new CKEDITOR.dom.node(t))&&e&&!e(t)&&(t=t.getNext(e)),t},getLast:function(e){var t=this.$.lastChild;return(t=t&&new CKEDITOR.dom.node(t))&&e&&!e(t)&&(t=t.getPrevious(e)),t},getStyle:function(e){return this.$.style[CKEDITOR.tools.cssStyleToDomStyle(e)]},is:function(e){var t=this.getName();if("object"==typeof e)return!!e[t];for(var n=0;n<arguments.length;n++)if(arguments[n]==t)return!0;return!1},isEditable:function(e){var t=this.getName();return!(this.isReadOnly()||"none"==this.getComputedStyle("display")||"hidden"==this.getComputedStyle("visibility")||CKEDITOR.dtd.$nonEditable[t]||CKEDITOR.dtd.$empty[t]||this.is("a")&&(this.data("cke-saved-name")||this.hasAttribute("name"))&&!this.getChildCount())&&(!1===e||!(!(e=CKEDITOR.dtd[t]||CKEDITOR.dtd.span)||!e["#"]))},isIdentical:function(e){var t=this.clone(0,1);if(e=e.clone(0,1),t.removeAttributes(["_moz_dirty","data-cke-expando","data-cke-saved-href","data-cke-saved-name"]),e.removeAttributes(["_moz_dirty","data-cke-expando","data-cke-saved-href","data-cke-saved-name"]),t.$.isEqualNode)return t.$.style.cssText=CKEDITOR.tools.normalizeCssText(t.$.style.cssText),e.$.style.cssText=CKEDITOR.tools.normalizeCssText(e.$.style.cssText),t.$.isEqualNode(e.$);if(t=t.getOuterHtml(),e=e.getOuterHtml(),CKEDITOR.env.ie&&CKEDITOR.env.version<9&&this.is("a")){var n=this.getParent();n.type==CKEDITOR.NODE_ELEMENT&&((n=n.clone()).setHtml(t),t=n.getHtml(),n.setHtml(e),e=n.getHtml())}return t==e},isVisible:function(){var e,t,n=(this.$.offsetHeight||this.$.offsetWidth)&&"hidden"!=this.getComputedStyle("visibility");return n&&CKEDITOR.env.webkit&&(!(e=this.getWindow()).equals(CKEDITOR.document.getWindow())&&(t=e.$.frameElement)&&(n=new CKEDITOR.dom.element(t).isVisible())),!!n},isEmptyInlineRemoveable:function(){if(!CKEDITOR.dtd.$removeEmpty[this.getName()])return!1;for(var e=this.getChildren(),t=0,n=e.count();t<n;t++){var i=e.getItem(t);if((i.type!=CKEDITOR.NODE_ELEMENT||!i.data("cke-bookmark"))&&(i.type==CKEDITOR.NODE_ELEMENT&&!i.isEmptyInlineRemoveable()||i.type==CKEDITOR.NODE_TEXT&&CKEDITOR.tools.trim(i.getText())))return!1}return!0},hasAttributes:CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(){for(var e=this.$.attributes,t=0;t<e.length;t++){var n=e[t];switch(n.nodeName){case"class":if(this.getAttribute("class"))return!0;case"data-cke-expando":continue;default:if(n.specified)return!0}}return!1}:function(){var e=this.$.attributes,t=e.length,n={"data-cke-expando":1,_moz_dirty:1};return 0<t&&(2<t||!n[e[0].nodeName]||2==t&&!n[e[1].nodeName])},hasAttribute:function(){function t(e){var t=this.$.attributes.getNamedItem(e);if("input"==this.getName())switch(e){case"class":return 0<this.$.className.length;case"checked":return!!this.$.checked;case"value":return"checkbox"==(e=this.getAttribute("type"))||"radio"==e?"on"!=this.$.value:!!this.$.value}return!!t&&t.specified}return CKEDITOR.env.ie?CKEDITOR.env.version<8?function(e){return"name"==e?!!this.$.name:t.call(this,e)}:t:function(e){return!!this.$.attributes.getNamedItem(e)}}(),hide:function(){this.setStyle("display","none")},moveChildren:function(e,t){var n,i=this.$;if(i!=(e=e.$))if(t)for(;n=i.lastChild;)e.insertBefore(i.removeChild(n),e.firstChild);else for(;n=i.firstChild;)e.appendChild(i.removeChild(n))},mergeSiblings:function(){function t(e,t,n){if(t&&t.type==CKEDITOR.NODE_ELEMENT){for(var i=[];t.data("cke-bookmark")||t.isEmptyInlineRemoveable();)if(i.push(t),!(t=n?t.getNext():t.getPrevious())||t.type!=CKEDITOR.NODE_ELEMENT)return;if(e.isIdentical(t)){for(var o=n?e.getLast():e.getFirst();i.length;)i.shift().move(e,!n);t.moveChildren(e,!n),t.remove(),o&&o.type==CKEDITOR.NODE_ELEMENT&&o.mergeSiblings()}}}return function(e){(!1===e||CKEDITOR.dtd.$removeEmpty[this.getName()]||this.is("a"))&&(t(this,this.getNext(),!0),t(this,this.getPrevious()))}}(),show:function(){this.setStyles({display:"",visibility:""})},setAttribute:(a=function(e,t){return this.$.setAttribute(e,t),this},CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(e,t){return"class"==e?this.$.className=t:"style"==e?this.$.style.cssText=t:"tabindex"==e?this.$.tabIndex=t:"checked"==e?this.$.checked=t:"contenteditable"==e?a.call(this,"contentEditable",t):a.apply(this,arguments),this}:CKEDITOR.env.ie8Compat&&CKEDITOR.env.secure?function(e,t){if("src"==e&&t.match(/^http:\/\//))try{a.apply(this,arguments)}catch(n){}else a.apply(this,arguments);return this}:a),setAttributes:function(e){for(var t in e)this.setAttribute(t,e[t]);return this},setValue:function(e){return this.$.value=e,this},removeAttribute:(e=function(e){this.$.removeAttribute(e)},CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(e){"class"==e?e="className":"tabindex"==e?e="tabIndex":"contenteditable"==e&&(e="contentEditable"),this.$.removeAttribute(e)}:e),removeAttributes:function(e){if(CKEDITOR.tools.isArray(e))for(var t=0;t<e.length;t++)this.removeAttribute(e[t]);else for(t in e=e||this.getAttributes())e.hasOwnProperty(t)&&this.removeAttribute(t)},removeStyle:function(e){if((i=this.$.style).removeProperty||"border"!=e&&"margin"!=e&&"padding"!=e)i.removeProperty?i.removeProperty(e):i.removeAttribute(CKEDITOR.tools.cssStyleToDomStyle(e)),this.$.style.cssText||this.removeAttribute("style");else{var t,n=["top","left","right","bottom"];"border"==e&&(t=["color","style","width"]);for(var i=[],o=0;o<n.length;o++)if(t)for(var r=0;r<t.length;r++)i.push([e,n[o],t[r]].join("-"));else i.push([e,n[o]].join("-"));for(e=0;e<i.length;e++)this.removeStyle(i[e])}},setStyle:function(e,t){return this.$.style[CKEDITOR.tools.cssStyleToDomStyle(e)]=t,this},setStyles:function(e){for(var t in e)this.setStyle(t,e[t]);return this},setOpacity:function(e){CKEDITOR.env.ie&&CKEDITOR.env.version<9?(e=Math.round(100*e),this.setStyle("filter",100<=e?"":"progid:DXImageTransform.Microsoft.Alpha(opacity="+e+")")):this.setStyle("opacity",e)},unselectable:function(){if(this.setStyles(CKEDITOR.tools.cssVendorPrefix("user-select","none")),CKEDITOR.env.ie){this.setAttribute("unselectable","on");for(var e=this.getElementsByTag("*"),t=0,n=e.count();t<n;t++)e.getItem(t).setAttribute("unselectable","on")}},getPositionedAncestor:function(){for(var e=this;"html"!=e.getName();){if("static"!=e.getComputedStyle("position"))return e;e=e.getParent()}return null},getDocumentPosition:function(e){var t=0,n=0,i=this.getDocument(),o=i.getBody(),r="BackCompat"==i.$.compatMode;if(!document.documentElement.getBoundingClientRect||CKEDITOR.env.ie&&8===CKEDITOR.env.version)for(l=this,c=null;l&&"body"!=l.getName()&&"html"!=l.getName();){for(t+=l.$.offsetLeft-l.$.scrollLeft,n+=l.$.offsetTop-l.$.scrollTop,l.equals(this)||(t+=l.$.clientLeft||0,n+=l.$.clientTop||0);c&&!c.equals(l);)t-=c.$.scrollLeft,n-=c.$.scrollTop,c=c.getParent();l=(a=(c=l).$.offsetParent)?new CKEDITOR.dom.element(a):null}else{var a=this.$.getBoundingClientRect(),s=i.$.documentElement,l=s.clientTop||o.$.clientTop||0,c=s.clientLeft||o.$.clientLeft||0,d=!0;CKEDITOR.env.ie&&(d=i.getDocumentElement().contains(this),i=i.getBody().contains(this),d=r&&i||!r&&d),d&&(n=CKEDITOR.env.webkit||CKEDITOR.env.ie&&12<=CKEDITOR.env.version?(t=o.$.scrollLeft||s.scrollLeft,o.$.scrollTop||s.scrollTop):(t=(n=r?o.$:s).scrollLeft,n.scrollTop),t=a.left+t-c,n=a.top+n-l)}return e&&(a=this.getWindow(),l=e.getWindow(),!a.equals(l)&&a.$.frameElement&&(t+=(e=new CKEDITOR.dom.element(a.$.frameElement).getDocumentPosition(e)).x,n+=e.y)),document.documentElement.getBoundingClientRect||!CKEDITOR.env.gecko||r||(t+=this.$.clientLeft?1:0,n+=this.$.clientTop?1:0),{x:t,y:n}},scrollIntoView:function(e){var t=this.getParent();if(t)do{if((t.$.clientWidth&&t.$.clientWidth<t.$.scrollWidth||t.$.clientHeight&&t.$.clientHeight<t.$.scrollHeight)&&!t.is("body")&&this.scrollIntoParent(t,e,1),t.is("html")){var n=t.getWindow();try{var i=n.$.frameElement;i&&(t=new CKEDITOR.dom.element(i))}catch(o){}}}while(t=t.getParent())},scrollIntoParent:function(n,e,t){function i(e,t){/body|html/.test(n.getName())?n.getWindow().$.scrollBy(e,t):(n.$.scrollLeft+=e,n.$.scrollTop+=t)}function o(e,t){var n={x:0,y:0};if(!e.is(d?"body":"html")){var i=e.$.getBoundingClientRect();n.x=i.left,n.y=i.top}return(i=e.getWindow()).equals(t)||(i=o(CKEDITOR.dom.element.get(i.$.frameElement),t),n.x+=i.x,n.y+=i.y),n}function r(e,t){return parseInt(e.getComputedStyle("margin-"+t)||0,10)||0}var a,s,l,c;!n&&(n=this.getWindow());var d="BackCompat"==(l=n.getDocument()).$.compatMode;n instanceof CKEDITOR.dom.window&&(n=d?l.getBody():l.getDocumentElement()),CKEDITOR.env.webkit&&(l=this.getEditor(!1))&&(l._.previousScrollTop=null),s=o(this,l=n.getWindow());var u=o(n,l),h=this.$.offsetHeight;a=this.$.offsetWidth;var p=n.$.clientHeight,f=n.$.clientWidth;l=s.x-r(this,"left")-u.x||0,c=s.y-r(this,"top")-u.y||0,a=s.x+a+r(this,"right")-(u.x+f)||0,s=s.y+h+r(this,"bottom")-(u.y+p)||0,(c<0||0<s)&&i(0,!0===e?c:!1===e?s:c<0?c:s),t&&(l<0||0<a)&&i(l<0?l:a,0)},setState:function(e,t,n){switch(t=t||"cke",e){case CKEDITOR.TRISTATE_ON:this.addClass(t+"_on"),this.removeClass(t+"_off"),this.removeClass(t+"_disabled"),n&&this.setAttribute("aria-pressed",!0),n&&this.removeAttribute("aria-disabled");break;case CKEDITOR.TRISTATE_DISABLED:this.addClass(t+"_disabled"),this.removeClass(t+"_off"),this.removeClass(t+"_on"),n&&this.setAttribute("aria-disabled",!0),n&&this.removeAttribute("aria-pressed");break;default:this.addClass(t+"_off"),this.removeClass(t+"_on"),this.removeClass(t+"_disabled"),n&&this.removeAttribute("aria-pressed"),n&&this.removeAttribute("aria-disabled")}},getFrameDocument:function(){var e=this.$;try{e.contentWindow.document}catch(i){e.src=e.src}return e&&new CKEDITOR.dom.document(e.contentWindow.document)},copyAttributes:function(e,t){var n=this.$.attributes;t=t||{};for(var i=0;i<n.length;i++){var o,r=n[i],a=r.nodeName.toLowerCase();a in t||("checked"==a&&(o=this.getAttribute(a))?e.setAttribute(a,o):CKEDITOR.env.ie&&!this.hasAttribute(a)||(null===(o=this.getAttribute(a))&&(o=r.nodeValue),e.setAttribute(a,o)))}""!==this.$.style.cssText&&(e.$.style.cssText=this.$.style.cssText)},renameNode:function(e){if(this.getName()!=e){var t=this.getDocument();e=new CKEDITOR.dom.element(e,t),this.copyAttributes(e),this.moveChildren(e),this.getParent(!0)&&this.$.parentNode.replaceChild(e.$,this.$),e.$["data-cke-expando"]=this.$["data-cke-expando"],this.$=e.$,delete this.getName}},getChild:function(){function n(e,t){var n=e.childNodes;if(0<=t&&t<n.length)return n[t]}return function(e){var t=this.$;if(e.slice)for(e=e.slice();0<e.length&&t;)t=n(t,e.shift());else t=n(t,e);return t?new CKEDITOR.dom.node(t):null}}(),getChildCount:function(){return this.$.childNodes.length},disableContextMenu:function(){function t(e){return e.type==CKEDITOR.NODE_ELEMENT&&e.hasClass("cke_enable_context_menu")}this.on("contextmenu",function(e){e.data.getTarget().getAscendant(t,!0)||e.data.preventDefault()})},getDirection:function(e){return e?this.getComputedStyle("direction")||this.getDirection()||this.getParent()&&this.getParent().getDirection(1)||this.getDocument().$.dir||"ltr":this.getStyle("direction")||this.getAttribute("dir")},data:function(e,t){return e="data-"+e,void 0===t?this.getAttribute(e):(!1===t?this.removeAttribute(e):this.setAttribute(e,t),null)},getEditor:function(e){var t,n,i,o=CKEDITOR.instances;for(t in e=e||void 0===e,o)if((n=o[t]).element.equals(this)&&n.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO||!e&&(i=n.editable())&&(i.equals(this)||i.contains(this)))return n;return null},find:function(e){var t=o(this);return e=new CKEDITOR.dom.nodeList(this.$.querySelectorAll(i(this,e))),t(),e},findOne:function(e){var t=o(this);return e=this.$.querySelector(i(this,e)),t(),e?new CKEDITOR.dom.element(e):null},forEach:function(e,t,n){if(!(n||t&&this.type!=t))var i=e(this);if(!1!==i){n=this.getChildren();for(var o=0;o<n.count();o++)(i=n.getItem(o)).type==CKEDITOR.NODE_ELEMENT?i.forEach(e,t):t&&i.type!=t||e(i)}}});var d={width:["border-left-width","border-right-width","padding-left","padding-right"],height:["border-top-width","border-bottom-width","padding-top","padding-bottom"]};CKEDITOR.dom.element.prototype.setSize=function(e,t,n){"number"==typeof t&&(!n||CKEDITOR.env.ie&&CKEDITOR.env.quirks||(t-=r.call(this,e)),this.setStyle(e,t+"px"))},CKEDITOR.dom.element.prototype.getSize=function(e,t){var n=Math.max(this.$["offset"+CKEDITOR.tools.capitalize(e)],this.$["client"+CKEDITOR.tools.capitalize(e)])||0;return t&&(n-=r.call(this,e)),n}}(),CKEDITOR.dom.documentFragment=function(e){e=e||CKEDITOR.document,this.$=e.type==CKEDITOR.NODE_DOCUMENT?e.$.createDocumentFragment():e},CKEDITOR.tools.extend(CKEDITOR.dom.documentFragment.prototype,CKEDITOR.dom.element.prototype,{type:CKEDITOR.NODE_DOCUMENT_FRAGMENT,insertAfterNode:function(e){(e=e.$).parentNode.insertBefore(this.$,e.nextSibling)},getHtml:function(){var e=new CKEDITOR.dom.element("div");return this.clone(1,1).appendTo(e),e.getHtml().replace(/\s*data-cke-expando=".*?"/g,"")}},!0,{append:1,appendBogus:1,clone:1,getFirst:1,getHtml:1,getLast:1,getParent:1,getNext:1,getPrevious:1,appendTo:1,moveChildren:1,insertBefore:1,insertAfterNode:1,replace:1,trim:1,type:1,ltrim:1,rtrim:1,getDocument:1,getChildCount:1,getChild:1,getChildren:1}),function(){function i(e,t){var n=this.range;if(this._.end)return null;if(!this._.start){if(this._.start=1,n.collapsed)return this.end(),null;n.optimize()}var i,o=n.startContainer;i=n.endContainer;var r,a=n.startOffset,s=n.endOffset,l=this.guard,c=this.type,d=e?"getPreviousSourceNode":"getNextSourceNode";if(!e&&!this._.guardLTR){var u=i.type==CKEDITOR.NODE_ELEMENT?i:i.getParent(),h=i.type==CKEDITOR.NODE_ELEMENT?i.getChild(s):i.getNext();this._.guardLTR=function(e,t){return!(t&&u.equals(e)||h&&e.equals(h)||e.type==CKEDITOR.NODE_ELEMENT&&t&&e.equals(n.root))}}if(e&&!this._.guardRTL){var p=o.type==CKEDITOR.NODE_ELEMENT?o:o.getParent(),f=o.type==CKEDITOR.NODE_ELEMENT?a?o.getChild(a-1):null:o.getPrevious();this._.guardRTL=function(e,t){return!(t&&p.equals(e)||f&&e.equals(f)||e.type==CKEDITOR.NODE_ELEMENT&&t&&e.equals(n.root))}}var m=e?this._.guardRTL:this._.guardLTR;for(r=l?function(e,t){return!1!==m(e,t)&&l(e,t)}:m,this.current?i=this.current[d](!1,c,r):(e?i.type==CKEDITOR.NODE_ELEMENT&&(i=0<s?i.getChild(s-1):!1===r(i,!0)?null:i.getPreviousSourceNode(!0,c,r)):(i=o).type==CKEDITOR.NODE_ELEMENT&&((i=i.getChild(a))||(i=!1===r(o,!0)?null:o.getNextSourceNode(!0,c,r))),i&&!1===r(i)&&(i=null));i&&!this._.end;){if(this.current=i,this.evaluator&&!1===this.evaluator(i)){if(t&&this.evaluator)return!1}else if(!t)return i;i=i[d](!1,c,r)}return this.end(),this.current=null}function e(e){for(var t,n=null;t=i.call(this,e);)n=t;return n}CKEDITOR.dom.walker=CKEDITOR.tools.createClass({$:function(e){this.range=e,this._={}},proto:{end:function(){this._.end=1},next:function(){return i.call(this)},previous:function(){return i.call(this,1)},checkForward:function(){return!1!==i.call(this,0,1)},checkBackward:function(){return!1!==i.call(this,1,1)},lastForward:function(){return e.call(this)},lastBackward:function(){return e.call(this,1)},reset:function(){delete this.current,this._={}}}});var t={block:1,"list-item":1,table:1,"table-row-group":1,"table-header-group":1,"table-footer-group":1,"table-row":1,"table-column-group":1,"table-column":1,"table-cell":1,"table-caption":1},n={absolute:1,fixed:1};CKEDITOR.dom.element.prototype.isBlockBoundary=function(e){return!("none"!=this.getComputedStyle("float")||this.getComputedStyle("position")in n||!t[this.getComputedStyle("display")])||!!(this.is(CKEDITOR.dtd.$block)||e&&this.is(e))},CKEDITOR.dom.walker.blockBoundary=function(t){return function(e){return!(e.type==CKEDITOR.NODE_ELEMENT&&e.isBlockBoundary(t))}},CKEDITOR.dom.walker.listItemBoundary=function(){return this.blockBoundary({br:1})},CKEDITOR.dom.walker.bookmark=function(i,o){function r(e){return e&&e.getName&&"span"==e.getName()&&e.data("cke-bookmark")}return function(e){var t,n;return t=e&&e.type!=CKEDITOR.NODE_ELEMENT&&(n=e.getParent())&&r(n),t=i?t:t||r(e),!!(o^t)}},CKEDITOR.dom.walker.whitespaces=function(n){return function(e){var t;return e&&e.type==CKEDITOR.NODE_TEXT&&(t=!CKEDITOR.tools.trim(e.getText())||CKEDITOR.env.webkit&&e.getText()==CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE),!!(n^t)}},CKEDITOR.dom.walker.invisible=function(t){var n=CKEDITOR.dom.walker.whitespaces(),i=CKEDITOR.env.webkit?1:0;return function(e){return e=n(e)?1:(e.type==CKEDITOR.NODE_TEXT&&(e=e.getParent()),e.$.offsetWidth<=i),!!(t^e)}},CKEDITOR.dom.walker.nodeType=function(t,n){return function(e){return!!(n^e.type==t)}},CKEDITOR.dom.walker.bogus=function(n){function i(e){return!r(e)&&!a(e)}return function(e){var t=CKEDITOR.env.needsBrFiller?e.is&&e.is("br"):e.getText&&o.test(e.getText());return t&&(t=e.getParent(),e=e.getNext(i),t=t.isBlockBoundary()&&(!e||e.type==CKEDITOR.NODE_ELEMENT&&e.isBlockBoundary())),!!(n^t)}},CKEDITOR.dom.walker.temp=function(t){return function(e){return e.type!=CKEDITOR.NODE_ELEMENT&&(e=e.getParent()),e=e&&e.hasAttribute("data-cke-temp"),!!(t^e)}};var o=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/,r=CKEDITOR.dom.walker.whitespaces(),a=CKEDITOR.dom.walker.bookmark(),s=CKEDITOR.dom.walker.temp(),l=function(e){return a(e)||r(e)||e.type==CKEDITOR.NODE_ELEMENT&&e.is(CKEDITOR.dtd.$inline)&&!e.is(CKEDITOR.dtd.$empty)};CKEDITOR.dom.walker.ignored=function(t){return function(e){return e=r(e)||a(e)||s(e),!!(t^e)}};var c=CKEDITOR.dom.walker.ignored();CKEDITOR.dom.walker.empty=function(i){return function(e){for(var t=0,n=e.getChildCount();t<n;++t)if(!c(e.getChild(t)))return!!i;return!i}};var d=CKEDITOR.dom.walker.empty(),u=CKEDITOR.dom.walker.validEmptyBlockContainers=CKEDITOR.tools.extend(function(e){var t,n={};for(t in e)CKEDITOR.dtd[t]["#"]&&(n[t]=1);return n}(CKEDITOR.dtd.$block),{caption:1,td:1,th:1});CKEDITOR.dom.walker.editable=function(t){return function(e){return e=!c(e)&&!!(e.type==CKEDITOR.NODE_TEXT||e.type==CKEDITOR.NODE_ELEMENT&&(e.is(CKEDITOR.dtd.$inline)||e.is("hr")||"false"==e.getAttribute("contenteditable")||!CKEDITOR.env.needsBrFiller&&e.is(u)&&d(e))),!!(t^e)}},CKEDITOR.dom.element.prototype.getBogus=function(){for(var e=this;e=e.getPreviousSourceNode(),l(e););return!(!e||!(CKEDITOR.env.needsBrFiller?e.is&&e.is("br"):e.getText&&o.test(e.getText())))&&e}}(),CKEDITOR.dom.range=function(e){this.endOffset=this.endContainer=this.startOffset=this.startContainer=null,this.collapsed=!0;var t=e instanceof CKEDITOR.dom.document;this.document=t?e:e.getDocument(),this.root=t?e.getBody():e},function(){
function n(e){e.collapsed=e.startContainer&&e.endContainer&&e.startContainer.equals(e.endContainer)&&e.startOffset==e.endOffset}function i(n,e,t,i,r){function o(e,t,n,i){var o=n?e.getPrevious():e.getNext();return i&&l||(d||i?t.append(e.clone(!0,r),n):(e.remove(),c&&t.append(e))),o}function a(){var e,t,n,i=Math.min(O.length,I.length);for(e=0;e<i;e++)if(t=O[e],n=I[e],!t.equals(n))return e;return e-1}function s(){var e=D-1,t=p&&f&&!v.equals(T);e<w-1||e<R-1||t?(t?n.moveToPosition(T,CKEDITOR.POSITION_BEFORE_START):R==e+1&&h?n.moveToPosition(I[e],CKEDITOR.POSITION_BEFORE_END):n.moveToPosition(I[e+1],CKEDITOR.POSITION_BEFORE_START),i&&(e=O[e+1])&&e.type==CKEDITOR.NODE_ELEMENT&&((t=CKEDITOR.dom.element.createFromHtml('<span data-cke-bookmark="1" style="display:none">&nbsp;</span>',n.document)).insertAfter(e),e.mergeSiblings(!1),n.moveToBookmark({startNode:t}))):n.collapse(!0)}n.optimizeBookmark();var l=0===e,c=1==e,d=2==e;e=d||c;var u,h,p,f,m,g,v=n.startContainer,T=n.endContainer,y=n.startOffset,E=n.endOffset;if(d&&T.type==CKEDITOR.NODE_TEXT&&v.equals(T))v=n.document.createText(v.substring(y,E)),t.append(v);else{T.type==CKEDITOR.NODE_TEXT?d?g=!0:T=T.split(E):0<T.getChildCount()?E>=T.getChildCount()?(T=T.getChild(E-1),h=!0):T=T.getChild(E):f=h=!0,v.type==CKEDITOR.NODE_TEXT?d?m=!0:v.split(y):0<v.getChildCount()?0===y?(v=v.getChild(y),u=!0):v=v.getChild(y-1):p=u=!0;for(var b,C,_,O=v.getParents(),I=T.getParents(),D=a(),w=O.length-1,R=I.length-1,k=t,x=-1,S=D;S<=w;S++){for(_=(C=O[S]).getNext(),S!=w||C.equals(I[S])&&w<R?e&&(b=k.append(C.clone(0,r))):u?o(C,k,!1,p):m&&k.append(n.document.createText(C.substring(y)));_;){if(_.equals(I[S])){x=S;break}_=o(_,k)}k=b}for(k=t,S=D;S<=R;S++)if(_=(t=I[S]).getPrevious(),t.equals(O[S]))e&&(k=k.getChild(0));else{if(S!=R||t.equals(O[S])&&R<w?e&&(b=k.append(t.clone(0,r))):h?o(t,k,!1,f):g&&k.append(n.document.createText(t.substring(0,E))),x<S)for(;_;)_=o(_,k,!0);k=b}d||s()}}function o(){var t=!1,n=CKEDITOR.dom.walker.whitespaces(),i=CKEDITOR.dom.walker.bookmark(!0),o=CKEDITOR.dom.walker.bogus();return function(e){return!(!i(e)&&!n(e))||(o(e)&&!t?t=!0:!(e.type==CKEDITOR.NODE_TEXT&&(e.hasAscendant("pre")||CKEDITOR.tools.trim(e.getText()).length)||e.type==CKEDITOR.NODE_ELEMENT&&!e.is(a)))}}function r(t){var n=CKEDITOR.dom.walker.whitespaces(),i=CKEDITOR.dom.walker.bookmark(1);return function(e){return!(!i(e)&&!n(e))||(!t&&s(e)||e.type==CKEDITOR.NODE_ELEMENT&&e.is(CKEDITOR.dtd.$removeEmpty))}}function e(e){return function(){var t;return this[e?"getPreviousNode":"getNextNode"](function(e){return!t&&d(e)&&(t=e),c(e)&&!(s(e)&&e.equals(t))})}}var a={abbr:1,acronym:1,b:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,q:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,tt:1,u:1,"var":1},s=CKEDITOR.dom.walker.bogus(),l=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/,c=CKEDITOR.dom.walker.editable(),d=CKEDITOR.dom.walker.ignored(!0);CKEDITOR.dom.range.prototype={clone:function(){var e=new CKEDITOR.dom.range(this.root);return e._setStartContainer(this.startContainer),e.startOffset=this.startOffset,e._setEndContainer(this.endContainer),e.endOffset=this.endOffset,e.collapsed=this.collapsed,e},collapse:function(e){e?(this._setEndContainer(this.startContainer),this.endOffset=this.startOffset):(this._setStartContainer(this.endContainer),this.startOffset=this.endOffset),this.collapsed=!0},cloneContents:function(e){var t=new CKEDITOR.dom.documentFragment(this.document);return this.collapsed||i(this,2,t,!1,void 0===e||e),t},deleteContents:function(e){this.collapsed||i(this,0,null,e)},extractContents:function(e,t){var n=new CKEDITOR.dom.documentFragment(this.document);return this.collapsed||i(this,1,n,e,void 0===t||t),n},createBookmark:function(e){var t,n,i,o,r=this.collapsed;return(t=this.document.createElement("span")).data("cke-bookmark",1),t.setStyle("display","none"),t.setHtml("&nbsp;"),e&&(i="cke_bm_"+CKEDITOR.tools.getNextNumber(),t.setAttribute("id",i+(r?"C":"S"))),r||((n=t.clone()).setHtml("&nbsp;"),e&&n.setAttribute("id",i+"E"),(o=this.clone()).collapse(),o.insertNode(n)),(o=this.clone()).collapse(!0),o.insertNode(t),n?(this.setStartAfter(t),this.setEndBefore(n)):this.moveToPosition(t,CKEDITOR.POSITION_AFTER_END),{startNode:e?i+(r?"C":"S"):t,endNode:e?i+"E":n,serializable:e,collapsed:r}},createBookmark2:function(){function o(e){var t,n=e.container,i=e.offset,o=i;if((t=(t=n).type!=CKEDITOR.NODE_ELEMENT||0===o||o==t.getChildCount()?0:t.getChild(o-1).type==CKEDITOR.NODE_TEXT&&t.getChild(o).type==CKEDITOR.NODE_TEXT)&&(i=(n=n.getChild(i-1)).getLength()),n.type==CKEDITOR.NODE_ELEMENT&&0<i){e:{for(t=n;i--;)if(0<=(o=t.getChild(i).getIndex(!0))){i=o;break e}i=-1}i+=1}if(n.type==CKEDITOR.NODE_TEXT){for(t=n,o=0;(t=t.getPrevious())&&t.type==CKEDITOR.NODE_TEXT;)o+=t.getText().replace(CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE,"").length;t=o,n.getText()?i+=t:(o=n.getPrevious(a),t?(i=t,n=o?o.getNext():n.getParent().getFirst()):(n=n.getParent(),i=o?o.getIndex(!0)+1:0))}e.container=n,e.offset=i}function r(e,t){var n=t.getCustomData("cke-fillingChar");if(n){var i=e.container;n.equals(i)&&(e.offset-=CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE.length,e.offset<=0&&(e.offset=i.getIndex(),e.container=i.getParent()))}}var a=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_TEXT,!0);return function(e){var t=this.collapsed,n={container:this.startContainer,offset:this.startOffset},i={container:this.endContainer,offset:this.endOffset};return e&&(o(n),r(n,this.root),t||(o(i),r(i,this.root))),{start:n.container.getAddress(e),end:t?null:i.container.getAddress(e),startOffset:n.offset,endOffset:i.offset,normalized:e,collapsed:t,is2:!0}}}(),moveToBookmark:function(e){if(e.is2){var t=this.document.getByAddress(e.start,e.normalized),n=e.startOffset,i=e.end&&this.document.getByAddress(e.end,e.normalized);e=e.endOffset,this.setStart(t,n),i?this.setEnd(i,e):this.collapse(!0)}else t=(n=e.serializable)?this.document.getById(e.startNode):e.startNode,e=n?this.document.getById(e.endNode):e.endNode,this.setStartBefore(t),t.remove(),e?(this.setEndBefore(e),e.remove()):this.collapse(!0)},getBoundaryNodes:function(){var e,t=this.startContainer,n=this.endContainer,i=this.startOffset,o=this.endOffset;if(t.type==CKEDITOR.NODE_ELEMENT)if(i<(e=t.getChildCount()))t=t.getChild(i);else if(e<1)t=t.getPreviousSourceNode();else{for(t=t.$;t.lastChild;)t=t.lastChild;t=(t=new CKEDITOR.dom.node(t)).getNextSourceNode()||t}if(n.type==CKEDITOR.NODE_ELEMENT)if(o<(e=n.getChildCount()))n=n.getChild(o).getPreviousSourceNode(!0);else if(e<1)n=n.getPreviousSourceNode();else{for(n=n.$;n.lastChild;)n=n.lastChild;n=new CKEDITOR.dom.node(n)}return t.getPosition(n)&CKEDITOR.POSITION_FOLLOWING&&(t=n),{startNode:t,endNode:n}},getCommonAncestor:function(e,t){var n=this.startContainer,i=this.endContainer;n=n.equals(i)?e&&n.type==CKEDITOR.NODE_ELEMENT&&this.startOffset==this.endOffset-1?n.getChild(this.startOffset):n:n.getCommonAncestor(i);return t&&!n.is?n.getParent():n},optimize:function(){var e=this.startContainer,t=this.startOffset;e.type!=CKEDITOR.NODE_ELEMENT&&(t?t>=e.getLength()&&this.setStartAfter(e):this.setStartBefore(e)),e=this.endContainer,t=this.endOffset,e.type!=CKEDITOR.NODE_ELEMENT&&(t?t>=e.getLength()&&this.setEndAfter(e):this.setEndBefore(e))},optimizeBookmark:function(){var e=this.startContainer,t=this.endContainer;e.is&&e.is("span")&&e.data("cke-bookmark")&&this.setStartAt(e,CKEDITOR.POSITION_BEFORE_START),t&&t.is&&t.is("span")&&t.data("cke-bookmark")&&this.setEndAt(t,CKEDITOR.POSITION_AFTER_END)},trim:function(e,t){var n=this.startContainer,i=this.startOffset,o=this.collapsed;if((!e||o)&&n&&n.type==CKEDITOR.NODE_TEXT){if(i)if(i>=n.getLength())i=n.getIndex()+1,n=n.getParent();else{var r=n.split(i);i=n.getIndex()+1,n=n.getParent();this.startContainer.equals(this.endContainer)?this.setEnd(r,this.endOffset-this.startOffset):n.equals(this.endContainer)&&(this.endOffset+=1)}else i=n.getIndex(),n=n.getParent();if(this.setStart(n,i),o)return void this.collapse(!0)}n=this.endContainer,i=this.endOffset,t||o||!n||n.type!=CKEDITOR.NODE_TEXT||(i=i?(i>=n.getLength()||n.split(i),n.getIndex()+1):n.getIndex(),n=n.getParent(),this.setEnd(n,i))},enlarge:function(e,t){function n(e){return e&&e.type==CKEDITOR.NODE_ELEMENT&&e.hasAttribute("contenteditable")?null:e}var o=new RegExp(/[^\s\ufeff]/);switch(e){case CKEDITOR.ENLARGE_INLINE:var i=1;case CKEDITOR.ENLARGE_ELEMENT:var r=function(e,t){var n,i;for((n=new CKEDITOR.dom.range(f)).setStart(e,t),n.setEndAt(f,CKEDITOR.POSITION_BEFORE_END),(n=new CKEDITOR.dom.walker(n)).guard=function(e){return!(e.type==CKEDITOR.NODE_ELEMENT&&e.isBlockBoundary())};i=n.next();){if(i.type!=CKEDITOR.NODE_TEXT)return!1;if(h=i!=e?i.getText():i.substring(t),o.test(h))return!1}return!0};if(this.collapsed)break;var a,s,l,c,d,u,h,p=this.getCommonAncestor(),f=this.root,m=!1;u=this.startContainer;var g=this.startOffset;for(u.type==CKEDITOR.NODE_TEXT?(g&&(m=!!(u=!CKEDITOR.tools.trim(u.substring(0,g)).length&&u)),u&&((c=u.getPrevious())||(l=u.getParent()))):(g&&(c=u.getChild(g-1)||u.getLast()),c||(l=u)),l=n(l);l||c;){if(l&&!c){if(!d&&l.equals(p)&&(d=!0),i?l.isBlockBoundary():!f.contains(l))break;m&&"inline"==l.getComputedStyle("display")||(m=!1,d?a=l:this.setStartBefore(l)),c=l.getPrevious()}for(;c;)if(u=!1,c.type==CKEDITOR.NODE_COMMENT)c=c.getPrevious();else{if(c.type==CKEDITOR.NODE_TEXT)h=c.getText(),o.test(h)&&(c=null),u=/[\s\ufeff]$/.test(h);else if((c.$.offsetWidth>(CKEDITOR.env.webkit?1:0)||t&&c.is("br"))&&!c.data("cke-bookmark"))if(m&&CKEDITOR.dtd.$removeEmpty[c.getName()]){if(h=c.getText(),o.test(h))c=null;else{g=c.$.getElementsByTagName("*");for(var v,T=0;v=g[T++];)if(!CKEDITOR.dtd.$removeEmpty[v.nodeName.toLowerCase()]){c=null;break}}c&&(u=!!h.length)}else c=null;if(u&&(m?d?a=l:l&&this.setStartBefore(l):m=!0),c){if(u=c.getPrevious(),!l&&!u){l=c,c=null;break}c=u}else l=null}l&&(l=n(l.getParent()))}for(u=this.endContainer,g=this.endOffset,l=c=null,d=m=!1,u.type==CKEDITOR.NODE_TEXT?CKEDITOR.tools.trim(u.substring(g)).length?m=!0:(m=!u.getLength(),g==u.getLength()?(c=u.getNext())||(l=u.getParent()):r(u,g)&&(l=u.getParent())):(c=u.getChild(g))||(l=u);l||c;){if(l&&!c){if(!d&&l.equals(p)&&(d=!0),i?l.isBlockBoundary():!f.contains(l))break;m&&"inline"==l.getComputedStyle("display")||(m=!1,d?s=l:l&&this.setEndAfter(l)),c=l.getNext()}for(;c;){if(u=!1,c.type==CKEDITOR.NODE_TEXT)h=c.getText(),r(c,0)||(c=null),u=/^[\s\ufeff]/.test(h);else if(c.type==CKEDITOR.NODE_ELEMENT){if((0<c.$.offsetWidth||t&&c.is("br"))&&!c.data("cke-bookmark"))if(m&&CKEDITOR.dtd.$removeEmpty[c.getName()]){if(h=c.getText(),o.test(h))c=null;else for(g=c.$.getElementsByTagName("*"),T=0;v=g[T++];)if(!CKEDITOR.dtd.$removeEmpty[v.nodeName.toLowerCase()]){c=null;break}c&&(u=!!h.length)}else c=null}else u=1;if(u&&m&&(d?s=l:this.setEndAfter(l)),c){if(u=c.getNext(),!l&&!u){l=c,c=null;break}c=u}else l=null}l&&(l=n(l.getParent()))}a&&s&&(p=a.contains(s)?s:a,this.setStartBefore(p),this.setEndAfter(p));break;case CKEDITOR.ENLARGE_BLOCK_CONTENTS:case CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:l=new CKEDITOR.dom.range(this.root),f=this.root,l.setStartAt(f,CKEDITOR.POSITION_AFTER_START),l.setEnd(this.startContainer,this.startOffset),l=new CKEDITOR.dom.walker(l);var y,E,b=CKEDITOR.dom.walker.blockBoundary(e==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS?{br:1}:null),C=null,_=function(e){if(e.type==CKEDITOR.NODE_ELEMENT&&"false"==e.getAttribute("contenteditable"))if(C){if(C.equals(e))return void(C=null)}else C=e;else if(C)return;var t=b(e);return t||(y=e),t};i=function(e){var t=_(e);return!t&&e.is&&e.is("br")&&(E=e),t};if(l.guard=_,l=l.lastBackward(),y=y||f,this.setStartAt(y,!y.is("br")&&(!l&&this.checkStartOfBlock()||l&&y.contains(l))?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_AFTER_END),e==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS){l=this.clone(),l=new CKEDITOR.dom.walker(l);var O=CKEDITOR.dom.walker.whitespaces(),I=CKEDITOR.dom.walker.bookmark();if(l.evaluator=function(e){return!O(e)&&!I(e)},(l=l.previous())&&l.type==CKEDITOR.NODE_ELEMENT&&l.is("br"))break}(l=this.clone()).collapse(),l.setEndAt(f,CKEDITOR.POSITION_BEFORE_END),(l=new CKEDITOR.dom.walker(l)).guard=e==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS?i:_,y=C=E=null,l=l.lastForward(),y=y||f,this.setEndAt(y,!l&&this.checkEndOfBlock()||l&&y.contains(l)?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_BEFORE_START),E&&this.setEndAfter(E)}},shrink:function(n,e,t){var i="boolean"==typeof t?t:!t||"boolean"!=typeof t.shrinkOnBlockBoundary||t.shrinkOnBlockBoundary,o=t&&t.skipBogus;if(!this.collapsed){n=n||CKEDITOR.SHRINK_TEXT;var r=this.clone(),a=this.startContainer,s=this.endContainer,l=this.startOffset,c=this.endOffset,d=t=1;a&&a.type==CKEDITOR.NODE_TEXT&&(l?l>=a.getLength()?r.setStartAfter(a):(r.setStartBefore(a),t=0):r.setStartBefore(a)),s&&s.type==CKEDITOR.NODE_TEXT&&(c?c>=s.getLength()?r.setEndAfter(s):(r.setEndAfter(s),d=0):r.setEndBefore(s));r=new CKEDITOR.dom.walker(r);var u,h=CKEDITOR.dom.walker.bookmark(),p=CKEDITOR.dom.walker.bogus();return r.evaluator=function(e){return e.type==(n==CKEDITOR.SHRINK_ELEMENT?CKEDITOR.NODE_ELEMENT:CKEDITOR.NODE_TEXT)},r.guard=function(e,t){return!!(o&&p(e)||h(e))||!(n==CKEDITOR.SHRINK_ELEMENT&&e.type==CKEDITOR.NODE_TEXT||t&&e.equals(u)||!1===i&&e.type==CKEDITOR.NODE_ELEMENT&&e.isBlockBoundary()||e.type==CKEDITOR.NODE_ELEMENT&&e.hasAttribute("contenteditable"))&&(t||e.type!=CKEDITOR.NODE_ELEMENT||(u=e),!0)},t&&(a=r[n==CKEDITOR.SHRINK_ELEMENT?"lastForward":"next"]())&&this.setStartAt(a,e?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_START),d&&(r.reset(),(r=r[n==CKEDITOR.SHRINK_ELEMENT?"lastBackward":"previous"]())&&this.setEndAt(r,e?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_AFTER_END)),!(!t&&!d)}},insertNode:function(e){this.optimizeBookmark(),this.trim(!1,!0);var t=this.startContainer,n=t.getChild(this.startOffset);n?e.insertBefore(n):t.append(e),e.getParent()&&e.getParent().equals(this.endContainer)&&this.endOffset++,this.setStartBefore(e)},moveToPosition:function(e,t){this.setStartAt(e,t),this.collapse(!0)},moveToRange:function(e){this.setStart(e.startContainer,e.startOffset),this.setEnd(e.endContainer,e.endOffset)},selectNodeContents:function(e){this.setStart(e,0),this.setEnd(e,e.type==CKEDITOR.NODE_TEXT?e.getLength():e.getChildCount())},setStart:function(e,t){e.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$empty[e.getName()]&&(t=e.getIndex(),e=e.getParent()),this._setStartContainer(e),this.startOffset=t,this.endContainer||(this._setEndContainer(e),this.endOffset=t),n(this)},setEnd:function(e,t){e.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$empty[e.getName()]&&(t=e.getIndex()+1,e=e.getParent()),this._setEndContainer(e),this.endOffset=t,this.startContainer||(this._setStartContainer(e),this.startOffset=t),n(this)},setStartAfter:function(e){this.setStart(e.getParent(),e.getIndex()+1)},setStartBefore:function(e){this.setStart(e.getParent(),e.getIndex())},setEndAfter:function(e){this.setEnd(e.getParent(),e.getIndex()+1)},setEndBefore:function(e){this.setEnd(e.getParent(),e.getIndex())},setStartAt:function(e,t){switch(t){case CKEDITOR.POSITION_AFTER_START:this.setStart(e,0);break;case CKEDITOR.POSITION_BEFORE_END:e.type==CKEDITOR.NODE_TEXT?this.setStart(e,e.getLength()):this.setStart(e,e.getChildCount());break;case CKEDITOR.POSITION_BEFORE_START:this.setStartBefore(e);break;case CKEDITOR.POSITION_AFTER_END:this.setStartAfter(e)}n(this)},setEndAt:function(e,t){switch(t){case CKEDITOR.POSITION_AFTER_START:this.setEnd(e,0);break;case CKEDITOR.POSITION_BEFORE_END:e.type==CKEDITOR.NODE_TEXT?this.setEnd(e,e.getLength()):this.setEnd(e,e.getChildCount());break;case CKEDITOR.POSITION_BEFORE_START:this.setEndBefore(e);break;case CKEDITOR.POSITION_AFTER_END:this.setEndAfter(e)}n(this)},fixBlock:function(e,t){var n=this.createBookmark(),i=this.document.createElement(t);this.collapse(e),this.enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS),this.extractContents().appendTo(i),i.trim(),this.insertNode(i);var o=i.getBogus();return o&&o.remove(),i.appendBogus(),this.moveToBookmark(n),i},splitBlock:function(e,t){var n=new CKEDITOR.dom.elementPath(this.startContainer,this.root),i=new CKEDITOR.dom.elementPath(this.endContainer,this.root),o=n.block,r=i.block,a=null;return n.blockLimit.equals(i.blockLimit)?("br"!=e&&(o||(o=this.fixBlock(!0,e),r=new CKEDITOR.dom.elementPath(this.endContainer,this.root).block),r||(r=this.fixBlock(!1,e))),n=o&&this.checkStartOfBlock(),i=r&&this.checkEndOfBlock(),this.deleteContents(),o&&o.equals(r)&&(i?(a=new CKEDITOR.dom.elementPath(this.startContainer,this.root),this.moveToPosition(r,CKEDITOR.POSITION_AFTER_END),r=null):n?(a=new CKEDITOR.dom.elementPath(this.startContainer,this.root),this.moveToPosition(o,CKEDITOR.POSITION_BEFORE_START),o=null):(r=this.splitElement(o,t||!1),o.is("ul","ol")||o.appendBogus())),{previousBlock:o,nextBlock:r,wasStartOfBlock:n,wasEndOfBlock:i,elementPath:a}):null},splitElement:function(e,t){if(!this.collapsed)return null;this.setEndAt(e,CKEDITOR.POSITION_BEFORE_END);var n=this.extractContents(!1,t||!1),i=e.clone(!1,t||!1);return n.appendTo(i),i.insertAfter(e),this.moveToPosition(e,CKEDITOR.POSITION_AFTER_END),i},removeEmptyBlocksAtEnd:function(){function r(t){return function(e){return!(n(e)||i(e)||e.type==CKEDITOR.NODE_ELEMENT&&e.isEmptyInlineRemoveable()||t.is("table")&&e.is("caption"))}}var n=CKEDITOR.dom.walker.whitespaces(),i=CKEDITOR.dom.walker.bookmark(!1);return function(e){for(var t,n=this.createBookmark(),i=this[e?"endPath":"startPath"](),o=i.block||i.blockLimit;o&&!o.equals(i.root)&&!o.getFirst(r(o));)t=o.getParent(),this[e?"setEndAt":"setStartAt"](o,CKEDITOR.POSITION_AFTER_END),o.remove(1),o=t;this.moveToBookmark(n)}}(),startPath:function(){return new CKEDITOR.dom.elementPath(this.startContainer,this.root)},endPath:function(){return new CKEDITOR.dom.elementPath(this.endContainer,this.root)},checkBoundaryOfElement:function(e,t){var n=t==CKEDITOR.START,i=this.clone();return i.collapse(n),i[n?"setStartAt":"setEndAt"](e,n?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END),(i=new CKEDITOR.dom.walker(i)).evaluator=r(n),i[n?"checkBackward":"checkForward"]()},checkStartOfBlock:function(){var e=this.startContainer,t=this.startOffset;return CKEDITOR.env.ie&&t&&e.type==CKEDITOR.NODE_TEXT&&(e=CKEDITOR.tools.ltrim(e.substring(0,t)),l.test(e)&&this.trim(0,1)),this.trim(),e=new CKEDITOR.dom.elementPath(this.startContainer,this.root),(t=this.clone()).collapse(!0),t.setStartAt(e.block||e.blockLimit,CKEDITOR.POSITION_AFTER_START),(e=new CKEDITOR.dom.walker(t)).evaluator=o(),e.checkBackward()},checkEndOfBlock:function(){var e=this.endContainer,t=this.endOffset;return CKEDITOR.env.ie&&e.type==CKEDITOR.NODE_TEXT&&(e=CKEDITOR.tools.rtrim(e.substring(t)),l.test(e)&&this.trim(1,0)),this.trim(),e=new CKEDITOR.dom.elementPath(this.endContainer,this.root),(t=this.clone()).collapse(!1),t.setEndAt(e.block||e.blockLimit,CKEDITOR.POSITION_BEFORE_END),(e=new CKEDITOR.dom.walker(t)).evaluator=o(),e.checkForward()},getPreviousNode:function(e,t,n){var i=this.clone();return i.collapse(1),i.setStartAt(n||this.root,CKEDITOR.POSITION_AFTER_START),(n=new CKEDITOR.dom.walker(i)).evaluator=e,n.guard=t,n.previous()},getNextNode:function(e,t,n){var i=this.clone();return i.collapse(),i.setEndAt(n||this.root,CKEDITOR.POSITION_BEFORE_END),(n=new CKEDITOR.dom.walker(i)).evaluator=e,n.guard=t,n.next()},checkReadOnly:function(){function n(e,t){for(;e;){if(e.type==CKEDITOR.NODE_ELEMENT){if("false"==e.getAttribute("contentEditable")&&!e.data("cke-editable"))return 0;if(e.is("html")||"true"==e.getAttribute("contentEditable")&&(e.contains(t)||e.equals(t)))break}e=e.getParent()}return 1}return function(){var e=this.startContainer,t=this.endContainer;return!(n(e,t)&&n(t,e))}}(),moveToElementEditablePosition:function(e,t){if(e.type==CKEDITOR.NODE_ELEMENT&&!e.isEditable(!1))return this.moveToPosition(e,t?CKEDITOR.POSITION_AFTER_END:CKEDITOR.POSITION_BEFORE_START),!0;for(var n=0;e;){if(e.type==CKEDITOR.NODE_TEXT){t&&this.endContainer&&this.checkEndOfBlock()&&l.test(e.getText())?this.moveToPosition(e,CKEDITOR.POSITION_BEFORE_START):this.moveToPosition(e,t?CKEDITOR.POSITION_AFTER_END:CKEDITOR.POSITION_BEFORE_START),n=1;break}if(e.type==CKEDITOR.NODE_ELEMENT)if(e.isEditable())this.moveToPosition(e,t?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_AFTER_START),n=1;else if(t&&e.is("br")&&this.endContainer&&this.checkEndOfBlock())this.moveToPosition(e,CKEDITOR.POSITION_BEFORE_START);else if("false"==e.getAttribute("contenteditable")&&e.is(CKEDITOR.dtd.$block))return this.setStartBefore(e),this.setEndAfter(e),!0;var i=e,o=n,r=void 0;i.type==CKEDITOR.NODE_ELEMENT&&i.isEditable(!1)&&(r=i[t?"getLast":"getFirst"](d)),o||r||(r=i[t?"getPrevious":"getNext"](d)),e=r}return!!n},moveToClosestEditablePosition:function(e,t){var n,i,o,r=0,a=[CKEDITOR.POSITION_AFTER_END,CKEDITOR.POSITION_BEFORE_START];return e?(n=new CKEDITOR.dom.range(this.root)).moveToPosition(e,a[t?0:1]):n=this.clone(),e&&!e.is(CKEDITOR.dtd.$block)?r=1:(i=n[t?"getNextEditableNode":"getPreviousEditableNode"]())&&(r=1,(o=i.type==CKEDITOR.NODE_ELEMENT)&&i.is(CKEDITOR.dtd.$block)&&"false"==i.getAttribute("contenteditable")?(n.setStartAt(i,CKEDITOR.POSITION_BEFORE_START),n.setEndAt(i,CKEDITOR.POSITION_AFTER_END)):!CKEDITOR.env.needsBrFiller&&o&&i.is(CKEDITOR.dom.walker.validEmptyBlockContainers)?(n.setEnd(i,0),n.collapse()):n.moveToPosition(i,a[t?1:0])),r&&this.moveToRange(n),!!r},moveToElementEditStart:function(e){return this.moveToElementEditablePosition(e)},moveToElementEditEnd:function(e){return this.moveToElementEditablePosition(e,!0)},getEnclosedNode:function(){if((e=this.clone()).optimize(),e.startContainer.type!=CKEDITOR.NODE_ELEMENT||e.endContainer.type!=CKEDITOR.NODE_ELEMENT)return null;var e=new CKEDITOR.dom.walker(e),t=CKEDITOR.dom.walker.bookmark(!1,!0),n=CKEDITOR.dom.walker.whitespaces(!0);e.evaluator=function(e){return n(e)&&t(e)};var i=e.next();return e.reset(),i&&i.equals(e.previous())?i:null},getTouchedStartNode:function(){var e=this.startContainer;return this.collapsed||e.type!=CKEDITOR.NODE_ELEMENT?e:e.getChild(this.startOffset)||e},getTouchedEndNode:function(){var e=this.endContainer;return this.collapsed||e.type!=CKEDITOR.NODE_ELEMENT?e:e.getChild(this.endOffset-1)||e},getNextEditableNode:e(),getPreviousEditableNode:e(1),_getTableElement:function(e){e=e||{td:1,th:1,tr:1,tbody:1,thead:1,tfoot:1,table:1};var t=this.startContainer,n=this.endContainer,i=t.getAscendant("table",!0),o=n.getAscendant("table",!0);return CKEDITOR.env.safari&&i&&n.equals(this.root)?t.getAscendant(e,!0):this.getEnclosedNode()?this.getEnclosedNode().getAscendant(e,!0):i&&o&&(i.equals(o)||i.contains(o)||o.contains(i))?t.getAscendant(e,!0):null},scrollIntoView:function(){var e,t,n,i=new CKEDITOR.dom.element.createFromHtml("<span>&nbsp;</span>",this.document),o=this.clone();o.optimize(),(n=o.startContainer.type==CKEDITOR.NODE_TEXT)?(t=o.startContainer.getText(),e=o.startContainer.split(o.startOffset),i.insertAfter(o.startContainer)):o.insertNode(i),i.scrollIntoView(),n&&(o.startContainer.setText(t),e.remove()),i.remove()},_setStartContainer:function(e){this.startContainer=e},_setEndContainer:function(e){this.endContainer=e},_find:function(e,t){var n,i,o,r,a=this.getCommonAncestor(),s=this.getBoundaryNodes(),l=[];if(a&&a.find)for(i=a.find(e),n=0;n<i.count();n++)a=i.getItem(n),(t||!a.isReadOnly())&&(o=a.getPosition(s.startNode)&CKEDITOR.POSITION_FOLLOWING||s.startNode.equals(a),r=a.getPosition(s.endNode)&CKEDITOR.POSITION_PRECEDING+CKEDITOR.POSITION_IS_CONTAINED||s.endNode.equals(a),o&&r&&l.push(a));return l}},CKEDITOR.dom.range.mergeRanges=function(e){return CKEDITOR.tools.array.reduce(e,function(e,t){var n=e[e.length-1],i=!1;if((t=t.clone()).enlarge(CKEDITOR.ENLARGE_ELEMENT),n){var o=new CKEDITOR.dom.range(t.root),r=(i=new CKEDITOR.dom.walker(o),CKEDITOR.dom.walker.whitespaces());for(o.setStart(n.endContainer,n.endOffset),o.setEnd(t.startContainer,t.startOffset),o=i.next();r(o)||t.endContainer.equals(o);)o=i.next();i=!o}return i?n.setEnd(t.endContainer,t.endOffset):e.push(t),e},[])}}(),CKEDITOR.POSITION_AFTER_START=1,CKEDITOR.POSITION_BEFORE_END=2,CKEDITOR.POSITION_BEFORE_START=3,CKEDITOR.POSITION_AFTER_END=4,CKEDITOR.ENLARGE_ELEMENT=1,CKEDITOR.ENLARGE_BLOCK_CONTENTS=2,CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS=3,CKEDITOR.ENLARGE_INLINE=4,CKEDITOR.START=1,CKEDITOR.END=2,CKEDITOR.SHRINK_ELEMENT=1,CKEDITOR.SHRINK_TEXT=2,function(){function e(e){arguments.length<1||(this.range=e,this.forceBrBreak=0,this.enlargeBr=1,this.enforceRealBlocks=0,this._||(this._={}))}function r(e){var t=[];return e.forEach(function(e){if("true"==e.getAttribute("contenteditable"))return t.push(e),!1},CKEDITOR.NODE_ELEMENT,!0),t}function p(e,t,n,i){e:{null==i&&(i=r(n));for(var o;o=i.shift();)if(o.getDtd().p){i={element:o,remaining:i};break e}i=null}return i?(o=CKEDITOR.filter.instances[i.element.data("cke-filter")])&&!o.check(t)?p(e,t,n,i.remaining):((t=new CKEDITOR.dom.range(i.element)).selectNodeContents(i.element),(t=t.createIterator()).enlargeBr=e.enlargeBr,t.enforceRealBlocks=e.enforceRealBlocks,t.activeFilter=t.filter=o,e._.nestedEditable={element:i.element,container:n,remaining:i.remaining,iterator:t},1):0}function f(e,t,n){return!!t&&((e=e.clone()).collapse(!n),e.checkBoundaryOfElement(t,n?CKEDITOR.START:CKEDITOR.END))}var m=/^[\r\n\t ]+$/,g=CKEDITOR.dom.walker.bookmark(!1,!0),t=CKEDITOR.dom.walker.whitespaces(!0),v=function(e){return g(e)&&t(e)},T={dd:1,dt:1,li:1};e.prototype={getNextParagraph:function(e){var t,n,i,o,r;if(e=e||"p",this._.nestedEditable){if(t=this._.nestedEditable.iterator.getNextParagraph(e))return this.activeFilter=this._.nestedEditable.iterator.activeFilter,t;if(this.activeFilter=this.filter,p(this,e,this._.nestedEditable.container,this._.nestedEditable.remaining))return this.activeFilter=this._.nestedEditable.iterator.activeFilter,this._.nestedEditable.iterator.getNextParagraph(e);this._.nestedEditable=null}if(!this.range.root.getDtd()[e])return null;if(!this._.started){var a=this.range.clone();n=a.startPath();var s=a.endPath(),l=!a.collapsed&&f(a,n.block),c=!a.collapsed&&f(a,s.block,1);a.shrink(CKEDITOR.SHRINK_ELEMENT,!0),l&&a.setStartAt(n.block,CKEDITOR.POSITION_BEFORE_END),c&&a.setEndAt(s.block,CKEDITOR.POSITION_AFTER_START),n=a.endContainer.hasAscendant("pre",!0)||a.startContainer.hasAscendant("pre",!0),a.enlarge(this.forceBrBreak&&!n||!this.enlargeBr?CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:CKEDITOR.ENLARGE_BLOCK_CONTENTS),a.collapsed||(n=new CKEDITOR.dom.walker(a.clone()),s=CKEDITOR.dom.walker.bookmark(!0,!0),n.evaluator=s,this._.nextNode=n.next(),(n=new CKEDITOR.dom.walker(a.clone())).evaluator=s,n=n.previous(),this._.lastNode=n.getNextSourceNode(!0,null,a.root),this._.lastNode&&this._.lastNode.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.trim(this._.lastNode.getText())&&this._.lastNode.getParent().isBlockBoundary()&&((s=this.range.clone()).moveToPosition(this._.lastNode,CKEDITOR.POSITION_AFTER_END),s.checkEndOfBlock()&&(s=new CKEDITOR.dom.elementPath(s.endContainer,s.root),this._.lastNode=(s.block||s.blockLimit).getNextSourceNode(!0))),this._.lastNode&&a.root.contains(this._.lastNode)||(this._.lastNode=this._.docEndMarker=a.document.createText(""),this._.lastNode.insertAfter(n)),a=null),this._.started=1,n=a}for(s=this._.nextNode,a=this._.lastNode,this._.nextNode=null;s;){l=0,c=s.hasAscendant("pre");var d=s.type!=CKEDITOR.NODE_ELEMENT,u=0;if(d)s.type==CKEDITOR.NODE_TEXT&&m.test(s.getText())&&(d=0);else{var h=s.getName();if(CKEDITOR.dtd.$block[h]&&"false"==s.getAttribute("contenteditable")){p(this,e,t=s);break}if(s.isBlockBoundary(this.forceBrBreak&&!c&&{br:1})){if("br"==h)d=1;else if(!n&&!s.getChildCount()&&"hr"!=h){i=(t=s).equals(a);break}n&&(n.setEndAt(s,CKEDITOR.POSITION_BEFORE_START),"br"!=h&&(this._.nextNode=s)),l=1}else{if(s.getFirst()){n||(n=this.range.clone()).setStartAt(s,CKEDITOR.POSITION_BEFORE_START),s=s.getFirst();continue}d=1}}if(d&&!n&&(n=this.range.clone()).setStartAt(s,CKEDITOR.POSITION_BEFORE_START),i=(!l||d)&&s.equals(a),n&&!l)for(;!s.getNext(v)&&!i;){if((h=s.getParent()).isBlockBoundary(this.forceBrBreak&&!c&&{br:1})){l=1,d=0,i||h.equals(a),n.setEndAt(h,CKEDITOR.POSITION_BEFORE_END);break}d=1,i=(s=h).equals(a),u=1}if(d&&n.setEndAt(s,CKEDITOR.POSITION_AFTER_END),(i=!(s=this._getNextSourceNode(s,u,a)))||l&&n)break}if(!t){if(!n)return this._.docEndMarker&&this._.docEndMarker.remove(),this._.nextNode=null;s=(t=new CKEDITOR.dom.elementPath(n.startContainer,n.root)).blockLimit,l={div:1,th:1,td:1},!(t=t.block)&&s&&!this.enforceRealBlocks&&l[s.getName()]&&n.checkStartOfBlock()&&n.checkEndOfBlock()&&!s.equals(n.root)?t=s:!t||this.enforceRealBlocks&&t.is(T)?(t=this.range.document.createElement(e),n.extractContents().appendTo(t),t.trim(),n.insertNode(t),o=r=!0):"li"!=t.getName()?n.checkStartOfBlock()&&n.checkEndOfBlock()||(t=t.clone(!1),n.extractContents().appendTo(t),t.trim(),o=!(r=n.splitBlock()).wasStartOfBlock,r=!r.wasEndOfBlock,n.insertNode(t)):i||(this._.nextNode=t.equals(a)?null:this._getNextSourceNode(n.getBoundaryNodes().endNode,1,a))}return o&&(o=t.getPrevious())&&o.type==CKEDITOR.NODE_ELEMENT&&("br"==o.getName()?o.remove():o.getLast()&&"br"==o.getLast().$.nodeName.toLowerCase()&&o.getLast().remove()),r&&(o=t.getLast())&&o.type==CKEDITOR.NODE_ELEMENT&&"br"==o.getName()&&(!CKEDITOR.env.needsBrFiller||o.getPrevious(g)||o.getNext(g))&&o.remove(),this._.nextNode||(this._.nextNode=i||t.equals(a)||!a?null:this._getNextSourceNode(t,1,a)),t},_getNextSourceNode:function(e,t,n){function i(e){return!(e.equals(n)||e.equals(o))}var o=this.range.root;for(e=e.getNextSourceNode(t,null,i);!g(e);)e=e.getNextSourceNode(t,null,i);return e}},CKEDITOR.dom.range.prototype.createIterator=function(){return new e(this)}}(),CKEDITOR.command=function(t,n){var i;this.uiItems=[],this.exec=function(e){return!(this.state==CKEDITOR.TRISTATE_DISABLED||!this.checkAllowed())&&(this.editorFocus&&t.focus(),!1===this.fire("exec")||!1!==n.exec.call(this,t,e))},this.refresh=function(e,t){return!(this.readOnly||!e.readOnly)||(this.context&&!t.isContextFor(this.context)||!this.checkAllowed(!0)?(this.disable(),!0):(this.startDisabled||this.enable(),this.modes&&!this.modes[e.mode]&&this.disable(),!1===this.fire("refresh",{editor:e,path:t})||n.refresh&&!1!==n.refresh.apply(this,arguments)))},this.checkAllowed=function(e){return e||"boolean"!=typeof i?i=t.activeFilter.checkFeature(this):i},CKEDITOR.tools.extend(this,n,{modes:{wysiwyg:1},editorFocus:1,contextSensitive:!!n.context,state:CKEDITOR.TRISTATE_DISABLED}),CKEDITOR.event.call(this)},CKEDITOR.command.prototype={enable:function(){this.state==CKEDITOR.TRISTATE_DISABLED&&this.checkAllowed()&&this.setState(this.preserveState&&"undefined"!=typeof this.previousState?this.previousState:CKEDITOR.TRISTATE_OFF)},disable:function(){this.setState(CKEDITOR.TRISTATE_DISABLED)},setState:function(e){return!(this.state==e||e!=CKEDITOR.TRISTATE_DISABLED&&!this.checkAllowed())&&(this.previousState=this.state,this.state=e,this.fire("state"),!0)},toggleState:function(){this.state==CKEDITOR.TRISTATE_OFF?this.setState(CKEDITOR.TRISTATE_ON):this.state==CKEDITOR.TRISTATE_ON&&this.setState(CKEDITOR.TRISTATE_OFF)}},CKEDITOR.event.implementOn(CKEDITOR.command.prototype),CKEDITOR.ENTER_P=1,CKEDITOR.ENTER_BR=2,CKEDITOR.ENTER_DIV=3,CKEDITOR.config={customConfig:"config.js",autoUpdateElement:!0,language:"",defaultLanguage:"en",contentsLangDirection:"",enterMode:CKEDITOR.ENTER_P,forceEnterMode:!1,shiftEnterMode:CKEDITOR.ENTER_BR,docType:"<!DOCTYPE html>",bodyId:"",bodyClass:"",fullPage:!1,height:200,contentsCss:CKEDITOR.getUrl("contents.css"),extraPlugins:"",removePlugins:"",protectedSource:[],tabIndex:0,width:"",baseFloatZIndex:1e4,blockedKeystrokes:[CKEDITOR.CTRL+66,CKEDITOR.CTRL+73,CKEDITOR.CTRL+85]},function(){function r(e,t,n,i,o){var r,a,s;for(r in e=[],t){a="boolean"==typeof(a=t[r])?{}:"function"==typeof a?{match:a}:S(a),"$"!=r.charAt(0)&&(a.elements=r),n&&(a.featureName=n.toLowerCase());var l=a;l.elements=T(l.elements,/\s+/)||null,l.propertiesOnly=l.propertiesOnly||!0===l.elements;var c=/\s*,\s*/,d=void 0;for(d in L){l[d]=T(l[d],c)||null;var u=l,h=P[d],p=T(l[P[d]],c),f=l[d],m=[],g=!0,v=void 0;for(v in p?g=!1:p={},f)"!"==v.charAt(0)&&(v=v.slice(1),m.push(v),g=!(p[v]=!0));for(;v=m.pop();)f[v]=f["!"+v],delete f["!"+v];u[h]=!g&&p||null}l.match=l.match||null,i.push(a),e.push(a)}for(t=o.elements,o=o.generic,n=0,i=e.length;n<i;++n){for(c in a=!0===(r=S(e[n])).classes||!0===r.styles||!0===r.attributes,l=r,d=h=c=void 0,L)l[c]=O(l[c]);for(d in u=!0,P){for(f in p=[],f=void 0,h=l[c=P[d]])-1<f.indexOf("*")?p.push(new RegExp("^"+f.replace(/\*/g,".*")+"$")):p.push(f);(h=p).length&&(l[c]=h,u=!1)}if(l.nothingRequired=u,l.noProperties=!(l.attributes||l.classes||l.styles),!0===r.elements||null===r.elements)o[a?"unshift":"push"](r);else for(s in l=r.elements,delete r.elements,l)t[s]?t[s][a?"unshift":"push"](r):t[s]=[r]}}function y(e,t,n,i){if((
!e.match||e.match(t))&&(i||c(e,t))&&(e.propertiesOnly||(n.valid=!0),n.allAttributes||(n.allAttributes=s(e.attributes,t.attributes,n.validAttributes)),n.allStyles||(n.allStyles=s(e.styles,t.styles,n.validStyles)),!n.allClasses)){if(e=e.classes,t=t.classes,i=n.validClasses,e)if(!0===e)e=!0;else{for(var o,r=0,a=t.length;r<a;++r)i[o=t[r]]||(i[o]=e(o));e=!1}else e=!1;n.allClasses=e}}function s(e,t,n){if(!e)return!1;if(!0===e)return!0;for(var i in t)n[i]||(n[i]=e(i));return!1}function E(e,t,n){if(!e.match||e.match(t)){if(e.noProperties)return!1;if(n.hadInvalidAttribute=a(e.attributes,t.attributes)||n.hadInvalidAttribute,n.hadInvalidStyle=a(e.styles,t.styles)||n.hadInvalidStyle,e=e.classes,t=t.classes,e){for(var i=!1,o=!0===e,r=t.length;r--;)(o||e(t[r]))&&(t.splice(r,1),i=!0);e=i}else e=!1;n.hadInvalidClass=e||n.hadInvalidClass}}function a(e,t){if(!e)return!1;var n,i=!1,o=!0===e;for(n in t)(o||e(n))&&(delete t[n],i=!0);return i}function l(e,t,n){return!(e.disabled||e.customConfig&&!n||!t)&&(e._.cachedChecks={},!0)}function T(e,t){if(!e)return!1;if(!0===e)return e;if("string"==typeof e)return"*"==(e=K(e))||CKEDITOR.tools.convertArrayToObject(e.split(t));if(CKEDITOR.tools.isArray(e))return!!e.length&&CKEDITOR.tools.convertArrayToObject(e);var n,i={},o=0;for(n in e)i[n]=e[n],o++;return!!o&&i}function c(e,t){if(e.nothingRequired)return!0;var n,i,o,r;if(o=e.requiredClasses)for(r=t.classes,n=0;n<o.length;++n)if("string"==typeof(i=o[n])){if(-1==CKEDITOR.tools.indexOf(r,i))return!1}else if(!CKEDITOR.tools.checkIfAnyArrayItemMatches(r,i))return!1;return d(t.styles,e.requiredStyles)&&d(t.attributes,e.requiredAttributes)}function d(e,t){if(!t)return!0;for(var n,i=0;i<t.length;++i)if("string"==typeof(n=t[i])){if(!(n in e))return!1}else if(!CKEDITOR.tools.checkIfAnyObjectPropertyMatches(e,n))return!1;return!0}function u(e){if(!e)return{};e=e.split(/\s*,\s*/).sort();for(var t={};e.length;)t[e.shift()]="cke-test";return t}function h(e){var t,n,i,o,r={},a=1;for(e=K(e);t=e.match(M);)(n=t[2])?(i=p(n,"styles"),o=p(n,"attrs"),n=p(n,"classes")):i=o=n=null,r["$"+a++]={elements:t[1],classes:n,styles:i,attributes:o},e=e.slice(t[0].length);return r}function p(e,t){var n=e.match(i[t]);return n?K(n[1]):null}function b(e){var t=e.styleBackup=e.attributes.style,n=e.classBackup=e.attributes["class"];e.styles||(e.styles=CKEDITOR.tools.parseCssText(t||"",1)),e.classes||(e.classes=n?n.split(/\s+/):[])}function f(e,t,n,i){var o,r=0;if(i.toHtml&&(t.name=t.name.replace(F,"$1")),i.doCallbacks&&e.elementCallbacks){e:{for(var a,s=0,l=(o=e.elementCallbacks).length;s<l;++s)if(a=o[s](t)){o=a;break e}o=void 0}if(o)return o}if(i.doTransform&&(o=e._.transformations[t.name])){for(b(t),s=0;s<o.length;++s)I(e,t,o[s]);C(t)}if(i.doFilter){e:{s=t.name,e=(l=e._).allowedRules.elements[s],o=l.allowedRules.generic,s=l.disallowedRules.elements[s],l=l.disallowedRules.generic,a=i.skipRequired;var c,d,u={valid:!1,validAttributes:{},validClasses:{},validStyles:{},allAttributes:!1,allClasses:!1,allStyles:!1,hadInvalidAttribute:!1,hadInvalidClass:!1,hadInvalidStyle:!1};if(e||o){if(b(t),s)for(c=0,d=s.length;c<d;++c)if(!1===E(s[c],t,u)){e=null;break e}if(l)for(c=0,d=l.length;c<d;++c)E(l[c],t,u);if(e)for(c=0,d=e.length;c<d;++c)y(e[c],t,u,a);if(o)for(c=0,d=o.length;c<d;++c)y(o[c],t,u,a);e=u}else e=null}if(!e||!e.valid)return n.push(t),1;d=e.validAttributes;var h=e.validStyles;o=e.validClasses;s=t.attributes;var p=t.styles;l=t.classes;a=t.classBackup;var f,m,g=t.styleBackup,v=[],T=(u=[],/^data-cke-/);if(c=!1,delete s.style,delete s["class"],delete t.classBackup,delete t.styleBackup,!e.allAttributes)for(f in s)d[f]||T.test(f)&&(f==(m=f.replace(/^data-cke-saved-/,""))||d[m])||(delete s[f],c=!0);if(!e.allStyles||e.hadInvalidStyle){for(f in p)e.allStyles||h[f]?v.push(f+":"+p[f]):c=!0;v.length&&(s.style=v.sort().join("; "))}else g&&(s.style=g);if(!e.allClasses||e.hadInvalidClass){for(f=0;f<l.length;++f)(e.allClasses||o[l[f]])&&u.push(l[f]);u.length&&(s["class"]=u.sort().join(" ")),a&&u.length<a.split(/\s+/).length&&(c=!0)}else a&&(s["class"]=a);if(c&&(r=1),!i.skipFinalValidation&&!_(t))return n.push(t),1}return i.toHtml&&(t.name=t.name.replace(B,"cke:$1")),r}function e(e){var t,n=[];for(t in e)-1<t.indexOf("*")&&n.push(t.replace(/\*/g,".*"));return n.length?new RegExp("^(?:"+n.join("|")+")$"):null}function C(e){var t,n=e.attributes;delete n.style,delete n["class"],(t=CKEDITOR.tools.writeCssText(e.styles,!0))&&(n.style=t),e.classes.length&&(n["class"]=e.classes.sort().join(" "))}function _(e){switch(e.name){case"a":if(!(e.children.length||e.attributes.name||e.attributes.id))return!1;break;case"img":if(!e.attributes.src)return!1}return!0}function O(t){if(!t)return!1;if(!0===t)return!0;var n=e(t);return function(e){return e in t||n&&e.match(n)}}function m(){return new CKEDITOR.htmlParser.element("br")}function g(e){return e.type==CKEDITOR.NODE_ELEMENT&&("br"==e.name||x.$block[e.name])}function v(e,t,n){var i=e.name;if(x.$empty[i]||!e.children.length)"hr"==i&&"br"==t?e.replaceWith(m()):(e.parent&&n.push({check:"it",el:e.parent}),e.remove());else if(x.$block[i]||"tr"==i)if("br"==t)e.previous&&!g(e.previous)&&(t=m()).insertBefore(e),e.next&&!g(e.next)&&(t=m()).insertAfter(e),e.replaceWithChildren();else{var o;i=e.children;e:{o=x[t];for(var r,a=0,s=i.length;a<s;++a)if((r=i[a]).type==CKEDITOR.NODE_ELEMENT&&!o[r.name]){o=!1;break e}o=!0}if(o)e.name=t,e.attributes={},n.push({check:"parent-down",el:e});else{var l,c;for(a=(o=e.parent).type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||"body"==o.name,s=i.length;0<s;)r=i[--s],a&&(r.type==CKEDITOR.NODE_TEXT||r.type==CKEDITOR.NODE_ELEMENT&&x.$inline[r.name])?(l||((l=new CKEDITOR.htmlParser.element(t)).insertAfter(e),n.push({check:"parent-down",el:l})),l.add(r,0)):(l=null,c=x[o.name]||x.span,r.insertAfter(e),o.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||r.type!=CKEDITOR.NODE_ELEMENT||c[r.name]||n.push({check:"el-up",el:r}));e.remove()}}else i in{style:1,script:1}?e.remove():(e.parent&&n.push({check:"it",el:e.parent}),e.replaceWithChildren())}function I(e,t,n){var i,o;for(i=0;i<n.length;++i)if(!((o=n[i]).check&&!e.check(o.check,!1)||o.left&&!o.left(t))){o.right(t,A);break}}function n(e,t){var n,i,o,r,a=t.getDefinition(),s=a.attributes,l=a.styles;if(e.name!=a.element)return!1;for(n in s)if("class"==n){for(a=s[n].split(/\s+/),o=e.classes.join("|");r=a.pop();)if(-1==o.indexOf(r))return!1}else if(e.attributes[n]!=s[n])return!1;for(i in l)if(e.styles[i]!=l[i])return!1;return!0}function D(e,n){var t,i;return"string"==typeof e?t=e:i=e instanceof CKEDITOR.style?e:(t=e[0],e[1]),[{element:t,left:i,right:function(e,t){t.transform(e,n)}}]}function w(t){return function(e){return n(e,t)}}function R(n){return function(e,t){t[n](e)}}var o,k,x=CKEDITOR.dtd,S=CKEDITOR.tools.copy,K=CKEDITOR.tools.trim,N=["","p","br","div"];CKEDITOR.FILTER_SKIP_TREE=2,CKEDITOR.filter=function(e){if(this.allowedContent=[],this.disallowedContent=[],this.elementCallbacks=null,this.disabled=!1,this.editor=null,this.id=CKEDITOR.tools.getNextNumber(),this._={allowedRules:{elements:{},generic:[]},disallowedRules:{elements:{},generic:[]},transformations:{},cachedTests:{}},CKEDITOR.filter.instances[this.id]=this,e instanceof CKEDITOR.editor){e=this.editor=e,this.customConfig=!0;var t=e.config.allowedContent;!0===t?this.disabled=!0:(t||(this.customConfig=!1),this.allow(t,"config",1),this.allow(e.config.extraAllowedContent,"extra",1),this.allow(N[e.enterMode]+" "+N[e.shiftEnterMode],"default",1),this.disallow(e.config.disallowedContent))}else this.customConfig=!1,this.allow(e,"default",1)},CKEDITOR.filter.instances={},CKEDITOR.filter.prototype={allow:function(e,t,n){if(!l(this,e,n))return!1;var i,o;if("string"==typeof e)e=h(e);else if(e instanceof CKEDITOR.style){if(e.toAllowedContentRules)return this.allow(e.toAllowedContentRules(this.editor),t,n);i=e.getDefinition(),e={},n=i.attributes,e[i.element]=i={styles:i.styles,requiredStyles:i.styles&&CKEDITOR.tools.objectKeys(i.styles)},n&&(n=S(n),i.classes=n["class"]?n["class"].split(/\s+/):null,i.requiredClasses=i.classes,delete n["class"],i.attributes=n,i.requiredAttributes=n&&CKEDITOR.tools.objectKeys(n))}else if(CKEDITOR.tools.isArray(e)){for(i=0;i<e.length;++i)o=this.allow(e[i],t,n);return o}return r(this,e,t,this.allowedContent,this._.allowedRules),!0},applyTo:function(e,a,t,n){if(this.disabled)return!1;var s,i,o,l=this,c=[],d=this.editor&&this.editor.config.protectedSource,u=!1,h={doFilter:!t,doTransform:!0,doCallbacks:!0,toHtml:a};for(e.forEach(function(e){if(e.type==CKEDITOR.NODE_ELEMENT){if("off"==e.attributes["data-cke-filter"])return!1;if(!a||"span"!=e.name||!~CKEDITOR.tools.objectKeys(e.attributes).join("|").indexOf("data-cke-"))if(1&(s=f(l,e,c,h)))u=!0;else if(2&s)return!1}else if(e.type==CKEDITOR.NODE_COMMENT&&e.value.match(/^\{cke_protected\}(?!\{C\})/)){var t;e:{var n,i,o,r=decodeURIComponent(e.value.replace(/^\{cke_protected\}/,""));if(t=[],d)for(i=0;i<d.length;++i)if((o=r.match(d[i]))&&o[0].length==r.length){t=!0;break e}1==(r=CKEDITOR.htmlParser.fragment.fromHtml(r)).children.length&&(n=r.children[0]).type==CKEDITOR.NODE_ELEMENT&&f(l,n,t,h),t=!t.length}t||c.push(e)}},null,!0),c.length&&(u=!0),e=[],n=N[n||(this.editor?this.editor.enterMode:CKEDITOR.ENTER_P)];t=c.pop();)t.type==CKEDITOR.NODE_ELEMENT?v(t,n,e):t.remove();for(;i=e.pop();)if((t=i.el).parent)switch(o=x[t.parent.name]||x.span,i.check){case"it":x.$removeEmpty[t.name]&&!t.children.length?v(t,n,e):_(t)||v(t,n,e);break;case"el-up":t.parent.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||o[t.name]||v(t,n,e);break;case"parent-down":t.parent.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||o[t.name]||v(t.parent,n,e)}return u},checkFeature:function(e){return!(!this.disabled&&e)||(e.toFeature&&(e=e.toFeature(this.editor)),!e.requiredContent||this.check(e.requiredContent))},disable:function(){this.disabled=!0},disallow:function(e){return!!l(this,e,!0)&&("string"==typeof e&&(e=h(e)),r(this,e,null,this.disallowedContent,this._.disallowedRules),!0)},addContentForms:function(e){if(!this.disabled&&e){var t,n,i,o=[];for(t=0;t<e.length&&!i;++t)("string"==typeof(n=e[t])||n instanceof CKEDITOR.style)&&this.check(n)&&(i=n);if(i){for(t=0;t<e.length;++t)o.push(D(e[t],i));this.addTransformations(o)}}},addElementCallback:function(e){this.elementCallbacks||(this.elementCallbacks=[]),this.elementCallbacks.push(e)},addFeature:function(e){return!(!this.disabled&&e)||(e.toFeature&&(e=e.toFeature(this.editor)),this.allow(e.allowedContent,e.name),this.addTransformations(e.contentTransformations),this.addContentForms(e.contentForms),!e.requiredContent||!this.customConfig&&!this.disallowedContent.length||this.check(e.requiredContent))},addTransformations:function(e){var t,n;if(!this.disabled&&e){var i,o=this._.transformations;for(i=0;i<e.length;++i){t=e[i];var r=void 0,a=void 0,s=void 0,l=void 0,c=void 0,d=void 0;for(n=[],a=0;a<t.length;++a)d="string"==typeof(s=t[a])?(l=(s=s.split(/\s*:\s*/))[0],c=null,s[1]):(l=s.check,c=s.left,s.right),r||(r=(r=s).element?r.element:l?l.match(/^([a-z0-9]+)/i)[0]:r.left.getDefinition().element),c instanceof CKEDITOR.style&&(c=w(c)),n.push({check:l==r?null:l,left:c,right:"string"==typeof d?R(d):d});o[t=r]||(o[t]=[]),o[t].push(n)}}},check:function(e,t,n){if(this.disabled)return!0;if(CKEDITOR.tools.isArray(e)){for(var i=e.length;i--;)if(this.check(e[i],t,n))return!0;return!1}var o,r;if("string"==typeof e){if((r=e+"<"+(!1===t?"0":"1")+(n?"1":"0")+">")in this._.cachedChecks)return this._.cachedChecks[r];o=(i=h(e).$1).styles;var a=i.classes;i.name=i.elements,i.classes=a=a?a.split(/\s*,\s*/):[],i.styles=u(o),i.attributes=u(i.attributes),i.children=[],a.length&&(i.attributes["class"]=a.join(" ")),o&&(i.attributes.style=CKEDITOR.tools.writeCssText(i.styles)),o=i}else o=(i=e.getDefinition()).styles,a=i.attributes||{},o&&!CKEDITOR.tools.isEmpty(o)?(o=S(o),a.style=CKEDITOR.tools.writeCssText(o,!0)):o={},o={name:i.element,attributes:a,classes:a["class"]?a["class"].split(/\s+/):[],styles:o,children:[]};a=CKEDITOR.tools.clone(o);var s,l=[];if(!1!==t&&(s=this._.transformations[o.name])){for(i=0;i<s.length;++i)I(this,o,s[i]);C(o)}return f(this,a,l,{doFilter:!0,doTransform:!1!==t,skipRequired:!n,skipFinalValidation:!n}),t=!(0<l.length)&&!!CKEDITOR.tools.objectCompare(o.attributes,a.attributes,!0),"string"==typeof e&&(this._.cachedChecks[r]=t),t},getAllowedEnterMode:(o=["p","div","br"],k={p:CKEDITOR.ENTER_P,div:CKEDITOR.ENTER_DIV,br:CKEDITOR.ENTER_BR},function(e,t){var n,i=o.slice();if(this.check(N[e]))return e;for(t||(i=i.reverse());n=i.pop();)if(this.check(n))return k[n];return CKEDITOR.ENTER_BR}),destroy:function(){delete CKEDITOR.filter.instances[this.id],delete this._,delete this.allowedContent,delete this.disallowedContent}};var A,L={styles:1,attributes:1,classes:1},P={styles:"requiredStyles",attributes:"requiredAttributes",classes:"requiredClasses"},M=/^([a-z0-9\-*\s]+)((?:\s*\{[!\w\-,\s\*]+\}\s*|\s*\[[!\w\-,\s\*]+\]\s*|\s*\([!\w\-,\s\*]+\)\s*){0,3})(?:;\s*|$)/i,i={styles:/{([^}]+)}/,attrs:/\[([^\]]+)\]/,classes:/\(([^\)]+)\)/},F=/^cke:(object|embed|param)$/,B=/^(object|embed|param)$/;A=CKEDITOR.filter.transformationsTools={sizeToStyle:function(e){this.lengthToStyle(e,"width"),this.lengthToStyle(e,"height")},sizeToAttribute:function(e){this.lengthToAttribute(e,"width"),this.lengthToAttribute(e,"height")},lengthToStyle:function(e,t,n){if(!((n=n||t)in e.styles)){var i=e.attributes[t];i&&(/^\d+$/.test(i)&&(i+="px"),e.styles[n]=i)}delete e.attributes[t]},lengthToAttribute:function(e,t,n){if(!((n=n||t)in e.attributes)){var i=e.styles[t],o=i&&i.match(/^(\d+)(?:\.\d*)?px$/);o?e.attributes[n]=o[1]:"cke-test"==i&&(e.attributes[n]="cke-test")}delete e.styles[t]},alignmentToStyle:function(e){if(!("float"in e.styles)){var t=e.attributes.align;"left"!=t&&"right"!=t||(e.styles["float"]=t)}delete e.attributes.align},alignmentToAttribute:function(e){if(!("align"in e.attributes)){var t=e.styles["float"];"left"!=t&&"right"!=t||(e.attributes.align=t)}delete e.styles["float"]},splitBorderShorthand:function(t){function e(e){t.styles["border-top-width"]=n[e[0]],t.styles["border-right-width"]=n[e[1]],t.styles["border-bottom-width"]=n[e[2]],t.styles["border-left-width"]=n[e[3]]}if(t.styles.border){var n=t.styles.border.match(/([\.\d]+\w+)/g)||["0px"];switch(n.length){case 1:t.styles["border-width"]=n[0];break;case 2:e([0,1,0,1]);break;case 3:e([0,1,2,1]);break;case 4:e([0,1,2,3])}t.styles["border-style"]=t.styles["border-style"]||(t.styles.border.match(/(none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset|initial|inherit)/)||[])[0],t.styles["border-style"]||delete t.styles["border-style"],delete t.styles.border}},listTypeToStyle:function(e){if(e.attributes.type)switch(e.attributes.type){case"a":e.styles["list-style-type"]="lower-alpha";break;case"A":e.styles["list-style-type"]="upper-alpha";break;case"i":e.styles["list-style-type"]="lower-roman";break;case"I":e.styles["list-style-type"]="upper-roman";break;case"1":e.styles["list-style-type"]="decimal";break;default:e.styles["list-style-type"]=e.attributes.type}},splitMarginShorthand:function(t){function e(e){t.styles["margin-top"]=n[e[0]],t.styles["margin-right"]=n[e[1]],t.styles["margin-bottom"]=n[e[2]],t.styles["margin-left"]=n[e[3]]}if(t.styles.margin){var n=t.styles.margin.match(/(\-?[\.\d]+\w+)/g)||["0px"];switch(n.length){case 1:e([0,0,0,0]);break;case 2:e([0,1,0,1]);break;case 3:e([0,1,2,1]);break;case 4:e([0,1,2,3])}delete t.styles.margin}},matchesStyle:n,transform:function(e,t){if("string"==typeof t)e.name=t;else{var n,i,o,r,a=t.getDefinition(),s=a.styles,l=a.attributes;for(n in e.name=a.element,l)if("class"==n)for(a=e.classes.join("|"),o=l[n].split(/\s+/);r=o.pop();)-1==a.indexOf(r)&&e.classes.push(r);else e.attributes[n]=l[n];for(i in s)e.styles[i]=s[i]}}}}(),CKEDITOR.focusManager=function(e){return e.focusManager?e.focusManager:(this.hasFocus=!1,this.currentActive=null,this._={editor:e},this)},CKEDITOR.focusManager._={blurDelay:200},CKEDITOR.focusManager.prototype={focus:function(e){this._.timer&&clearTimeout(this._.timer),e&&(this.currentActive=e),this.hasFocus||this._.locked||((e=CKEDITOR.currentInstance)&&e.focusManager.blur(1),this.hasFocus=!0,(e=this._.editor.container)&&e.addClass("cke_focus"),this._.editor.fire("focus"))},lock:function(){this._.locked=1},unlock:function(){delete this._.locked},blur:function(e){function t(){if(this.hasFocus){this.hasFocus=!1;var e=this._.editor.container;e&&e.removeClass("cke_focus"),this._.editor.fire("blur")}}if(!this._.locked){this._.timer&&clearTimeout(this._.timer);var n=CKEDITOR.focusManager._.blurDelay;e||!n?t.call(this):this._.timer=CKEDITOR.tools.setTimeout(function(){delete this._.timer,t.call(this)},n,this)}},add:function(e,t){if(!(n=e.getCustomData("focusmanager"))||n!=this){n&&n.remove(e);var n="focus",i="blur";t&&(CKEDITOR.env.ie?(n="focusin",i="focusout"):CKEDITOR.event.useCapture=1);var o={blur:function(){e.equals(this.currentActive)&&this.blur()},focus:function(){this.focus(e)}};e.on(n,o.focus,this),e.on(i,o.blur,this),t&&(CKEDITOR.event.useCapture=0),e.setCustomData("focusmanager",this),e.setCustomData("focusmanager_handlers",o)}},remove:function(e){e.removeCustomData("focusmanager");var t=e.removeCustomData("focusmanager_handlers");e.removeListener("blur",t.blur),e.removeListener("focus",t.focus)}},CKEDITOR.keystrokeHandler=function(e){return e.keystrokeHandler?e.keystrokeHandler:(this.keystrokes={},this.blockedKeystrokes={},this._={editor:e},this)},N=function(e){var t=(e=e.data).getKeystroke(),n=this.keystrokes[t],i=this._.editor;return(K=!1===i.fire("key",{keyCode:t,domEvent:e}))||(n&&(K=!1!==i.execCommand(n,{from:"keystrokeHandler"})),K||(K=!!this.blockedKeystrokes[t])),K&&e.preventDefault(!0),!K},A=function(e){K&&(K=!1,e.data.preventDefault(!0))},CKEDITOR.keystrokeHandler.prototype={attach:function(e){e.on("keydown",N,this),CKEDITOR.env.gecko&&CKEDITOR.env.mac&&e.on("keypress",A,this)}},CKEDITOR.lang={languages:{af:1,ar:1,az:1,bg:1,bn:1,bs:1,ca:1,cs:1,cy:1,da:1,de:1,"de-ch":1,el:1,"en-au":1,"en-ca":1,"en-gb":1,en:1,eo:1,es:1,"es-mx":1,et:1,eu:1,fa:1,fi:1,fo:1,"fr-ca":1,fr:1,gl:1,gu:1,he:1,hi:1,hr:1,hu:1,id:1,is:1,it:1,ja:1,ka:1,km:1,ko:1,ku:1,lt:1,lv:1,mk:1,mn:1,ms:1,nb:1,nl:1,no:1,oc:1,pl:1,"pt-br":1,pt:1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,"sr-latn":1,sr:1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,"zh-cn":1,zh:1},rtl:{ar:1,fa:1,he:1,ku:1,ug:1},load:function(e,t,n){e&&CKEDITOR.lang.languages[e]||(e=this.detect(t,e));var i=this;t=function(){i[e].dir=i.rtl[e]?"rtl":"ltr",n(e,i[e])},this[e]?t():CKEDITOR.scriptLoader.load(CKEDITOR.getUrl("lang/"+e+".js"),t,this)},detect:function(e,t){var n=this.languages,i=(o=(t=t||navigator.userLanguage||navigator.language||e).toLowerCase().match(/([a-z]+)(?:-([a-z]+))?/))[1],o=o[2];return n[i+"-"+o]?i=i+"-"+o:n[i]||(i=null),CKEDITOR.lang.detect=i?function(){return i}:function(e){return e},i||e}},CKEDITOR.scriptLoader=(L={},P={},{load:function(e,i,t,n){var o="string"==typeof e;o&&(e=[e]),t||(t=CKEDITOR);var r=e.length,a=[],s=[],l=function(e){i&&(o?i.call(t,e):i.call(t,a,s))};if(0===r)l(!0);else{var c=function(e,t){(t?a:s).push(e),--r<=0&&(n&&CKEDITOR.document.getDocumentElement().removeStyle("cursor"),l(t))},d=function(e,t){L[e]=1;var n=P[e];delete P[e];for(var i=0;i<n.length;i++)n[i](e,t)},u=function(e){if(L[e])c(e,!0);else{var t=P[e]||(P[e]=[]);if(t.push(c),!(1<t.length)){var n=new CKEDITOR.dom.element("script");n.setAttributes({type:"text/javascript",src:e}),i&&(CKEDITOR.env.ie&&(CKEDITOR.env.version<=8||CKEDITOR.env.ie9Compat)?n.$.onreadystatechange=function(){"loaded"!=n.$.readyState&&"complete"!=n.$.readyState||(n.$.onreadystatechange=null,d(e,!0))}:(n.$.onload=function(){setTimeout(function(){d(e,!0)},0)},n.$.onerror=function(){d(e,!1)})),n.appendTo(CKEDITOR.document.getHead())}}};n&&CKEDITOR.document.getDocumentElement().setStyle("cursor","wait");for(var h=0;h<r;h++)u(e[h])}},queue:function(){function i(){var e;(e=o[0])&&this.load(e.scriptUrl,e.callback,CKEDITOR,0)}var o=[];return function(e,t){var n=this;o.push({scriptUrl:e,callback:function(){t&&t.apply(this,arguments),o.shift(),i.call(n)}}),1==o.length&&i.call(this)}}()}),CKEDITOR.resourceManager=function(e,t){this.basePath=e,this.fileName=t,this.registered={},this.loaded={},this.externals={},this._={waitingList:{}}},CKEDITOR.resourceManager.prototype={add:function(e,t){if(this.registered[e])throw Error('[CKEDITOR.resourceManager.add] The resource name "'+e+'" is already registered.');var n=this.registered[e]=t||{};return n.name=e,n.path=this.getPath(e),CKEDITOR.fire(e+CKEDITOR.tools.capitalize(this.fileName)+"Ready",n),this.get(e)},get:function(e){return this.registered[e]||null},getPath:function(e){var t=this.externals[e];return CKEDITOR.getUrl(t&&t.dir||this.basePath+e+"/")},getFilePath:function(e){var t=this.externals[e];return CKEDITOR.getUrl(this.getPath(e)+(t?t.file:this.fileName+".js"))},addExternal:function(e,t,n){e=e.split(",");for(var i=0;i<e.length;i++){var o=e[i];n||(t=t.replace(/[^\/]+$/,function(e){return n=e,""})),this.externals[o]={dir:t,file:n||this.fileName+".js"}}},load:function(e,a,s){CKEDITOR.tools.isArray(e)||(e=e?[e]:[]);for(var l=this.loaded,t=this.registered,n=[],c={},d={},i=0;i<e.length;i++){var o=e[i];if(o)if(l[o]||t[o])d[o]=this.get(o);else{var r=this.getFilePath(o);n.push(r),r in c||(c[r]=[]),c[r].push(o)}}CKEDITOR.scriptLoader.load(n,function(e,t){if(t.length)throw Error('[CKEDITOR.resourceManager.load] Resource name "'+c[t[0]].join(",")+'" was not found at "'+t[0]+'".');for(var n=0;n<e.length;n++)for(var i=c[e[n]],o=0;o<i.length;o++){var r=i[o];d[r]=this.get(r),l[r]=1}a.call(s,d)},this)}},CKEDITOR.plugins=new CKEDITOR.resourceManager("plugins/","plugin"),CKEDITOR.plugins.load=CKEDITOR.tools.override(CKEDITOR.plugins.load,function(t){var u={};return function(e,s,l){var c={},d=function(e){t.call(this,e,function(e){CKEDITOR.tools.extend(c,e);var t,n=[];for(t in e){var i=e[t],o=i&&i.requires;if(!u[t]){if(i.icons)for(var r=i.icons.split(","),a=r.length;a--;)CKEDITOR.skin.addIcon(r[a],i.path+"icons/"+(CKEDITOR.env.hidpi&&i.hidpi?"hidpi/":"")+r[a]+".png");u[t]=1}if(o)for(o.split&&(o=o.split(",")),i=0;i<o.length;i++)c[o[i]]||n.push(o[i])}if(n.length)d.call(this,n);else{for(t in c)(i=c[t]).onLoad&&!i.onLoad._called&&(!1===i.onLoad()&&delete c[t],i.onLoad._called=1);s&&s.call(l||window,c)}},this)};d.call(this,e)}}),CKEDITOR.plugins.setLang=function(e,t,n){var i=this.get(e);e=i.langEntries||(i.langEntries={}),(i=i.lang||(i.lang=[])).split&&(i=i.split(",")),-1==CKEDITOR.tools.indexOf(i,t)&&i.push(t),e[t]=n},CKEDITOR.ui=function(e){return e.ui?e.ui:(this.items={},this.instances={},this.editor=e,this._={handlers:{}},this)},CKEDITOR.ui.prototype={add:function(e,t,n){n.name=e.toLowerCase();var i=this.items[e]={type:t,command:n.command||null,args:Array.prototype.slice.call(arguments,2)};CKEDITOR.tools.extend(i,n)},get:function(e){return this.instances[e]},create:function(e){var t=this.items[e],n=t&&this._.handlers[t.type],i=t&&t.command&&this.editor.getCommand(t.command);n=n&&n.create.apply(this,t.args);return this.instances[e]=n,i&&i.uiItems.push(n),n&&!n.type&&(n.type=t.type),n},addHandler:function(e,t){this._.handlers[e]=t},space:function(e){return CKEDITOR.document.getById(this.spaceId(e))},spaceId:function(e){return this.editor.id+"_"+e}},CKEDITOR.event.implementOn(CKEDITOR.ui),function(){function e(e,t,n){if(CKEDITOR.event.call(this),e=e&&CKEDITOR.tools.clone(e),void 0!==t){if(!(t instanceof CKEDITOR.dom.element))throw Error("Expect element of type CKEDITOR.dom.element.");if(!n)throw Error("One of the element modes must be specified.");if(CKEDITOR.env.ie&&CKEDITOR.env.quirks&&n==CKEDITOR.ELEMENT_MODE_INLINE)throw Error("Inline element mode is not supported on IE quirks.");if(!o(t,n))throw Error('The specified element mode is not supported on element: "'+t.getName()+'".');this.element=t,this.elementMode=n,this.name=this.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO&&(t.getId()||t.getNameAtt())}else this.elementMode=CKEDITOR.ELEMENT_MODE_NONE;this._={},this.commands={},this.templates={},this.name=this.name||i(),this.id=CKEDITOR.tools.getNextId(),this.status="unloaded",this.config=CKEDITOR.tools.prototypedCopy(CKEDITOR.config),this.ui=new CKEDITOR.ui(this),this.focusManager=new CKEDITOR.focusManager(this),this.keystrokeHandler=new CKEDITOR.keystrokeHandler(this),this.on("readOnly",r),this.on("selectionChange",function(e){s(this,e.data.path)}),this.on("activeFilterChange",function(){s(this,this.elementPath(),!0)}),this.on("mode",r),this.on("instanceReady",function(){this.config.startupFocus&&this.focus()}),CKEDITOR.fire("instanceCreated",null,this),CKEDITOR.add(this),CKEDITOR.tools.setTimeout(function(){"destroyed"!==this.status?c(this,e):CKEDITOR.warn("editor-incorrect-destroy")},0,this)}function i(){do{var e="editor"+ ++f}while(CKEDITOR.instances[e]);return e}function o(e,t){return t==CKEDITOR.ELEMENT_MODE_INLINE?e.is(CKEDITOR.dtd.$editable)||e.is("textarea"):t==CKEDITOR.ELEMENT_MODE_REPLACE?!e.is(CKEDITOR.dtd.$nonBodyContent):1}function r(){var e,t=this.commands;for(e in t)a(this,t[e])}function a(e,t){t[t.startDisabled?"disable":e.readOnly&&!t.readOnly?"disable":t.modes[e.mode]?"enable":"disable"]()}function s(e,t,n){if(t){var i,o,r=e.commands;for(o in r)i=r[o],(n||i.contextSensitive)&&i.refresh(e,t)}}function l(e){if(!(t=e.config.customConfig))return!1;var t=CKEDITOR.getUrl(t),n=m[t]||(m[t]={});return n.fn?(n.fn.call(e,e.config),CKEDITOR.getUrl(e.config.customConfig)!=t&&l(e)||e.fireOnce("customConfigLoaded")):CKEDITOR.scriptLoader.queue(t,function(){n.fn=CKEDITOR.editorConfig?CKEDITOR.editorConfig:function(){},l(e)}),!0}function c(t,n){t.on("customConfigLoaded",function(){if(n){if(n.on)for(var e in n.on)t.on(e,n.on[e]);CKEDITOR.tools.extend(t.config,n,!0),delete t.config.on}e=t.config,t.readOnly=!!e.readOnly||(t.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?t.element.is("textarea")?t.element.hasAttribute("disabled")||t.element.hasAttribute("readonly"):t.element.isReadOnly():t.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE&&(t.element.hasAttribute("disabled")||t.element.hasAttribute("readonly"))),t.blockless=t.elementMode==CKEDITOR.ELEMENT_MODE_INLINE&&!(t.element.is("textarea")||CKEDITOR.dtd[t.element.getName()].p),t.tabIndex=e.tabIndex||t.element&&t.element.getAttribute("tabindex")||0,t.activeEnterMode=t.enterMode=t.blockless?CKEDITOR.ENTER_BR:e.enterMode,t.activeShiftEnterMode=t.shiftEnterMode=t.blockless?CKEDITOR.ENTER_BR:e.shiftEnterMode,e.skin&&(CKEDITOR.skinName=e.skin),t.fireOnce("configLoaded"),t.dataProcessor=new CKEDITOR.htmlDataProcessor(t),t.filter=t.activeFilter=new CKEDITOR.filter(t),d(t)}),n&&null!=n.customConfig&&(t.config.customConfig=n.customConfig),l(t)||t.fireOnce("customConfigLoaded")}function d(e){CKEDITOR.skin.loadPart("editor",function(){t(e)})}function t(i){CKEDITOR.lang.load(i.config.language,i.config.defaultLanguage,function(e,t){var n=i.config.title;i.langCode=e,i.lang=CKEDITOR.tools.prototypedCopy(t),i.title="string"==typeof n||!1===n?n:[i.lang.editor,i.name].join(", "),i.config.contentsLangDirection||(i.config.contentsLangDirection=i.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?i.element.getDirection(1):i.lang.dir),i.fire("langLoaded"),u(i)})}function u(t){t.getStylesSet(function(e){t.once("loaded",function(){t.fire("stylesSet",{styles:e})},null,null,1),n(t)})}function n(d){var u=d.config,e=u.plugins,t=u.extraPlugins,n=u.removePlugins;if(t){var i=new RegExp("(?:^|,)(?:"+t.replace(/\s*,\s*/g,"|")+")(?=,|$)","g");e=(e=e.replace(i,""))+","+t}if(n){var h=new RegExp("(?:^|,)(?:"+n.replace(/\s*,\s*/g,"|")+")(?=,|$)","g");e=e.replace(h,"")}CKEDITOR.env.air&&(e+=",adobeair"),CKEDITOR.plugins.load(e.split(","),function(e){var o=[],r=[],t=[];for(var n in d.plugins=e){var i,a=e[n],s=a.lang,l=null,c=a.requires;if(CKEDITOR.tools.isArray(c)&&(c=c.join(",")),c&&(i=c.match(h)))for(;c=i.pop();)CKEDITOR.error("editor-plugin-required",{plugin:c.replace(",",""),requiredBy:n});s&&!d.lang[n]&&(s.split&&(s=s.split(",")),l=0<=CKEDITOR.tools.indexOf(s,d.langCode)?d.langCode:(l=d.langCode.replace(/-.*/,""))!=d.langCode&&0<=CKEDITOR.tools.indexOf(s,l)?l:0<=CKEDITOR.tools.indexOf(s,"en")?"en":s[0],a.langEntries&&a.langEntries[l]?(d.lang[n]=a.langEntries[l],l=null):t.push(CKEDITOR.getUrl(a.path+"lang/"+l+".js"))),r.push(l),o.push(a)}CKEDITOR.scriptLoader.load(t,function(){for(var e=["beforeInit","init","afterInit"],t=0;t<e.length;t++)for(var n=0;n<o.length;n++){var i=o[n];0===t&&r[n]&&i.lang&&i.langEntries&&(d.lang[i.name]=i.langEntries[r[n]]),i[e[t]]&&i[e[t]](d)}for(d.fireOnce("pluginsLoaded"),u.keystrokes&&d.setKeystroke(d.config.keystrokes),n=0;n<d.config.blockedKeystrokes.length;n++)d.keystrokeHandler.blockedKeystrokes[d.config.blockedKeystrokes[n]]=1;d.status="loaded",d.fireOnce("loaded"),CKEDITOR.fire("instanceLoaded",null,d)})})}function h(){var e=this.element;if(e&&this.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO){var t=this.getData();return this.config.htmlEncodeOutput&&(t=CKEDITOR.tools.htmlEncode(t)),e.is("textarea")?e.setValue(t):e.setHtml(t),!0}return!1}function p(e,t){function n(e){var t=e.startContainer,n=e.endContainer;return!(!t.is||!(t.is("tr")||t.is("td")&&t.equals(n)&&e.endOffset===t.getChildCount()))}function i(e){var t=e.startContainer;return t.is("tr")?e.cloneContents():t.clone(!0)}for(var o,r,a,s=new CKEDITOR.dom.documentFragment,l=0;l<e.length;l++){var c=e[l],d=c.startContainer.getAscendant("tr",!0);n(c)?(o||((o=d.getAscendant("table").clone()).append(d.getAscendant({thead:1,tbody:1,tfoot:1}).clone()),s.append(o),o=o.findOne("thead, tbody, tfoot")),r&&r.equals(d)||(a=(r=d).clone(),o.append(a)),a.append(i(c))):s.append(c.cloneContents())}return o?s:t.getHtmlFromRange(e[0])}e.prototype=CKEDITOR.editor.prototype,CKEDITOR.editor=e;var f=0,m={};CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{addCommand:function(e,t){t.name=e.toLowerCase();var n=new CKEDITOR.command(this,t);return this.mode&&a(this,n),this.commands[e]=n},_attachToForm:function(){function t(e){n.updateElement(),n._.required&&!i.getValue()&&!1===n.fire("required")&&e.data.preventDefault()}function e(e){return!!(e&&e.call&&e.apply)}var n=this,i=n.element,o=new CKEDITOR.dom.element(i.$.form);i.is("textarea")&&o&&(o.on("submit",t),e(o.$.submit)&&(o.$.submit=CKEDITOR.tools.override(o.$.submit,function(e){return function(){t(),e.apply?e.apply(this):e()}})),n.on("destroy",function(){o.removeListener("submit",t)}))},destroy:function(e){this.fire("beforeDestroy"),!e&&h.call(this),this.editable(null),this.filter&&(this.filter.destroy(),delete this.filter),delete this.activeFilter,this.status="destroyed",this.fire("destroy"),this.removeAllListeners(),CKEDITOR.remove(this),CKEDITOR.fire("instanceDestroyed",null,this)},elementPath:function(e){if(!e){if(!(e=this.getSelection()))return null;e=e.getStartElement()}return e?new CKEDITOR.dom.elementPath(e,this.editable()):null},createRange:function(){var e=this.editable();return e?new CKEDITOR.dom.range(e):null},execCommand:function(e,t){var n=this.getCommand(e),i={name:e,commandData:t||{},command:n};return!(!n||n.state==CKEDITOR.TRISTATE_DISABLED||!1===this.fire("beforeCommandExec",i)||(i.returnValue=n.exec(i.commandData),n.async||!1===this.fire("afterCommandExec",i)))&&i.returnValue},getCommand:function(e){return this.commands[e]},getData:function(e){!e&&this.fire("beforeGetData");var t=this._.data;return"string"!=typeof t&&(t=(t=this.element)&&this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE?t.is("textarea")?t.getValue():t.getHtml():""),t={dataValue:t},!e&&this.fire("getData",t),t.dataValue},getSnapshot:function(){var e=this.fire("getSnapshot");return"string"!=typeof e&&(e=(e=this.element)&&this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE?e.is("textarea")?e.getValue():e.getHtml():""),e},loadSnapshot:function(e){this.fire("loadSnapshot",e)},setData:function(e,t,n){var i=!0,o=t;t&&"object"==typeof t&&(n=t.internal,o=t.callback,i=!t.noSnapshot),!n&&i&&this.fire("saveSnapshot"),!o&&n||this.once("dataReady",function(e){!n&&i&&this.fire("saveSnapshot"),o&&o.call(e.editor)}),e={dataValue:e},!n&&this.fire("setData",e),this._.data=e.dataValue,!n&&this.fire("afterSetData",e)},setReadOnly:function(e){e=null==e||e,this.readOnly!=e&&(this.readOnly=e,this.keystrokeHandler.blockedKeystrokes[8]=+e,this.editable().setReadOnly(e),this.fire("readOnly"))},insertHtml:function(e,t,n){this.fire("insertHtml",{dataValue:e,mode:t,range:n})},insertText:function(e){this.fire("insertText",e)},insertElement:function(e){this.fire("insertElement",e)},getSelectedHtml:function(e){var t=this.editable(),n=(n=this.getSelection())&&n.getRanges();return t&&n&&0!==n.length?(t=p(n,t),e?t.getHtml():t):null},extractSelectedHtml:function(e,t){var n,i=this.editable(),o=this.getSelection().getRanges(),r=new CKEDITOR.dom.documentFragment;if(!i||0===o.length)return null;for(n=0;n<o.length;n++)r.append(i.extractHtmlFromRange(o[n],t));return t||this.getSelection(
).selectRanges([o[0]]),e?r.getHtml():r},focus:function(){this.fire("beforeFocus")},checkDirty:function(){return"ready"==this.status&&this._.previousValue!==this.getSnapshot()},resetDirty:function(){this._.previousValue=this.getSnapshot()},updateElement:function(){return h.call(this)},setKeystroke:function(e){for(var t,n,i=this.keystrokeHandler.keystrokes,o=CKEDITOR.tools.isArray(e)?e:[[].slice.call(arguments,0)],r=o.length;r--;)t=o[r],n=0,CKEDITOR.tools.isArray(t)&&(n=t[1],t=t[0]),n?i[t]=n:delete i[t]},getCommandKeystroke:function(e){if(e="string"==typeof e?this.getCommand(e):e){var t,n=CKEDITOR.tools.object.findKey(this.commands,e),i=this.keystrokeHandler.keystrokes;if(e.fakeKeystroke)return e.fakeKeystroke;for(t in i)if(i.hasOwnProperty(t)&&i[t]==n)return t}return null},addFeature:function(e){return this.filter.addFeature(e)},setActiveFilter:function(e){e||(e=this.filter),this.activeFilter!==e&&(this.activeFilter=e,this.fire("activeFilterChange"),e===this.filter?this.setActiveEnterMode(null,null):this.setActiveEnterMode(e.getAllowedEnterMode(this.enterMode),e.getAllowedEnterMode(this.shiftEnterMode,!0)))},setActiveEnterMode:function(e,t){e=e?this.blockless?CKEDITOR.ENTER_BR:e:this.enterMode,t=t?this.blockless?CKEDITOR.ENTER_BR:t:this.shiftEnterMode,this.activeEnterMode==e&&this.activeShiftEnterMode==t||(this.activeEnterMode=e,this.activeShiftEnterMode=t,this.fire("activeEnterModeChange"))},showNotification:function(e){alert(e)}})}(),CKEDITOR.ELEMENT_MODE_NONE=0,CKEDITOR.ELEMENT_MODE_REPLACE=1,CKEDITOR.ELEMENT_MODE_APPENDTO=2,CKEDITOR.ELEMENT_MODE_INLINE=3,CKEDITOR.htmlParser=function(){this._={htmlPartsRegex:/<(?:(?:\/([^>]+)>)|(?:!--([\S|\s]*?)--\x3e)|(?:([^\/\s>]+)((?:\s+[\w\-:.]+(?:\s*=\s*?(?:(?:"[^"]*")|(?:'[^']*')|[^\s"'\/>]+))?)*)[\S\s]*?(\/?)>))/g}},M=/([\w\-:.]+)(?:(?:\s*=\s*(?:(?:"([^"]*)")|(?:'([^']*)')|([^\s>]+)))|(?=\s|$))/g,F={checked:1,compact:1,declare:1,defer:1,disabled:1,ismap:1,multiple:1,nohref:1,noresize:1,noshade:1,nowrap:1,readonly:1,selected:1},CKEDITOR.htmlParser.prototype={onTagOpen:function(){},onTagClose:function(){},onText:function(){},onCDATA:function(){},onComment:function(){},parse:function(e){for(var t,n,i,o=0;t=this._.htmlPartsRegex.exec(e);)if(o<(n=t.index)&&(o=e.substring(o,n),i?i.push(o):this.onText(o)),o=this._.htmlPartsRegex.lastIndex,!(n=t[1])||(n=n.toLowerCase(),i&&CKEDITOR.dtd.$cdata[n]&&(this.onCDATA(i.join("")),i=null),i))if(i)i.push(t[0]);else if(n=t[3]){if(n=n.toLowerCase(),!/="/.test(n)){var r,a={},s=t[4];if(t=!!t[5],s)for(;r=M.exec(s);){var l=r[1].toLowerCase();r=r[2]||r[3]||r[4]||"",a[l]=!r&&F[l]?l:CKEDITOR.tools.htmlDecodeAttr(r)}this.onTagOpen(n,a,t),!i&&CKEDITOR.dtd.$cdata[n]&&(i=[])}}else(n=t[2])&&this.onComment(n);else this.onTagClose(n);e.length>o&&this.onText(e.substring(o,e.length))}},CKEDITOR.htmlParser.basicWriter=CKEDITOR.tools.createClass({$:function(){this._={output:[]}},proto:{openTag:function(e){this._.output.push("<",e)},openTagClose:function(e,t){t?this._.output.push(" />"):this._.output.push(">")},attribute:function(e,t){"string"==typeof t&&(t=CKEDITOR.tools.htmlEncodeAttr(t)),this._.output.push(" ",e,'="',t,'"')},closeTag:function(e){this._.output.push("</",e,">")},text:function(e){this._.output.push(e)},comment:function(e){this._.output.push("<!--",e,"-->")},write:function(e){this._.output.push(e)},reset:function(){this._.output=[],this._.indent=!1},getHtml:function(e){var t=this._.output.join("");return e&&this.reset(),t}}}),CKEDITOR.htmlParser.node=function(){},CKEDITOR.htmlParser.node.prototype={remove:function(){var e=this.parent.children,t=CKEDITOR.tools.indexOf(e,this),n=this.previous,i=this.next;n&&(n.next=i),i&&(i.previous=n),e.splice(t,1),this.parent=null},replaceWith:function(e){var t=this.parent.children,n=CKEDITOR.tools.indexOf(t,this),i=e.previous=this.previous,o=e.next=this.next;i&&(i.next=e),o&&(o.previous=e),(t[n]=e).parent=this.parent,this.parent=null},insertAfter:function(e){var t=e.parent.children,n=CKEDITOR.tools.indexOf(t,e),i=e.next;t.splice(n+1,0,this),this.next=e.next,(this.previous=e).next=this,i&&(i.previous=this),this.parent=e.parent},insertBefore:function(e){var t=e.parent.children,n=CKEDITOR.tools.indexOf(t,e);t.splice(n,0,this),this.next=e,(this.previous=e.previous)&&(e.previous.next=this),(e.previous=this).parent=e.parent},getAscendant:function(t){for(var e="function"==typeof t?t:"string"==typeof t?function(e){return e.name==t}:function(e){return e.name in t},n=this.parent;n&&n.type==CKEDITOR.NODE_ELEMENT;){if(e(n))return n;n=n.parent}return null},wrapWith:function(e){return this.replaceWith(e),e.add(this),e},getIndex:function(){return CKEDITOR.tools.indexOf(this.parent.children,this)},getFilterContext:function(e){return e||{}}},CKEDITOR.htmlParser.comment=function(e){this.value=e,this._={isBlockLike:!1}},CKEDITOR.htmlParser.comment.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_COMMENT,filter:function(e,t){var n=this.value;return(n=e.onComment(t,n,this))?"string"!=typeof n?(this.replaceWith(n),!1):(this.value=n,!0):(this.remove(),!1)},writeHtml:function(e,t){t&&this.filter(t),e.comment(this.value)}}),CKEDITOR.htmlParser.text=function(e){this.value=e,this._={isBlockLike:!1}},CKEDITOR.htmlParser.text.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_TEXT,filter:function(e,t){if(!(this.value=e.onText(t,this.value,this)))return this.remove(),!1},writeHtml:function(e,t){t&&this.filter(t),e.text(this.value)}}),CKEDITOR.htmlParser.cdata=function(e){this.value=e},CKEDITOR.htmlParser.cdata.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_TEXT,filter:function(){},writeHtml:function(e){e.write(this.value)}}),CKEDITOR.htmlParser.fragment=function(){this.children=[],this.parent=null,this._={isBlockLike:!0,hasInlineStarted:!1}},function(){function T(e){return!e.attributes["data-cke-survive"]&&("a"==e.name&&e.attributes.href||CKEDITOR.dtd.$removeEmpty[e.name])}var y=CKEDITOR.tools.extend({table:1,ul:1,ol:1,dl:1},CKEDITOR.dtd.table,CKEDITOR.dtd.ul,CKEDITOR.dtd.ol,CKEDITOR.dtd.dl),E={ol:1,ul:1},b=CKEDITOR.tools.extend({},{html:1},CKEDITOR.dtd.html,CKEDITOR.dtd.body,CKEDITOR.dtd.head,{style:1,script:1}),i={ul:"li",ol:"li",dl:"dd",table:"tbody",tbody:"tr",thead:"tr",tfoot:"tr",tr:"td"};CKEDITOR.htmlParser.fragment.fromHtml=function(e,t,a){function o(e){var t;if(0<p.length)for(var n=0;n<p.length;n++){var i=p[n],o=i.name,r=CKEDITOR.dtd[o],a=m.name&&CKEDITOR.dtd[m.name];a&&!a[o]||e&&r&&!r[e]&&CKEDITOR.dtd[e]?o==m.name&&(l(m,m.parent,1),n--):(t||(s(),t=1),(i=i.clone()).parent=m,m=i,p.splice(n,1),n--)}}function s(){for(;f.length;)l(f.shift(),m)}function r(e){if(e._.isBlockLike&&"pre"!=e.name&&"textarea"!=e.name){var t,n=e.children.length,i=e.children[n-1];i&&i.type==CKEDITOR.NODE_TEXT&&((t=CKEDITOR.tools.rtrim(i.value))?i.value=t:e.children.length=n-1)}}function l(e,t,n){t=t||m||h;var i=m;void 0===e.previous&&(c(t,e)&&(m=t,u.onTagOpen(a,{}),e.returnPoint=t=m),r(e),T(e)&&!e.children.length||t.add(e),"pre"==e.name&&(v=!1),"textarea"==e.name&&(g=!1)),e.returnPoint?(m=e.returnPoint,delete e.returnPoint):m=n?t:i}function c(e,t){var n,i;if((e==h||"body"==e.name)&&a&&(!e.name||CKEDITOR.dtd[e.name][a]))return(n=t.attributes&&(i=t.attributes["data-cke-real-element-type"])?i:t.name)&&n in CKEDITOR.dtd.$inline&&!(n in CKEDITOR.dtd.head)&&!t.isOrphan||t.type==CKEDITOR.NODE_TEXT}function d(e,t){return(e in CKEDITOR.dtd.$listItem||e in CKEDITOR.dtd.$tableContent)&&(e==t||"dt"==e&&"dd"==t||"dd"==e&&"dt"==t)}var u=new CKEDITOR.htmlParser,h=t instanceof CKEDITOR.htmlParser.element?t:"string"==typeof t?new CKEDITOR.htmlParser.element(t):new CKEDITOR.htmlParser.fragment,p=[],f=[],m=h,g="textarea"==h.name,v="pre"==h.name;for(u.onTagOpen=function(e,t,n,i){if((t=new CKEDITOR.htmlParser.element(e,t)).isUnknown&&n&&(t.isEmpty=!0),t.isOptionalClose=i,T(t))p.push(t);else{if("pre"==e)v=!0;else{if("br"==e&&v)return void m.add(new CKEDITOR.htmlParser.text("\n"));"textarea"==e&&(g=!0)}if("br"==e)f.push(t);else{for(;i=(n=m.name)?CKEDITOR.dtd[n]||(m._.isBlockLike?CKEDITOR.dtd.div:CKEDITOR.dtd.span):b,!(t.isUnknown||m.isUnknown||i[e]);)if(m.isOptionalClose)u.onTagClose(n);else if(e in E&&n in E)(n=(n=m.children)[n.length-1])&&"li"==n.name||l(n=new CKEDITOR.htmlParser.element("li"),m),!t.returnPoint&&(t.returnPoint=m),m=n;else if(e in CKEDITOR.dtd.$listItem&&!d(e,n))u.onTagOpen("li"==e?"ul":"dl",{},0,1);else if(n in y&&!d(e,n))!t.returnPoint&&(t.returnPoint=m),m=m.parent;else{if(n in CKEDITOR.dtd.$inline&&p.unshift(m),!m.parent){t.isOrphan=1;break}l(m,m.parent,1)}o(e),s(),t.parent=m,t.isEmpty?l(t):m=t}}},u.onTagClose=function(e){for(var t=p.length-1;0<=t;t--)if(e==p[t].name)return void p.splice(t,1);for(var n=[],i=[],o=m;o!=h&&o.name!=e;)o._.isBlockLike||i.unshift(o),n.push(o),o=o.returnPoint||o.parent;if(o!=h){for(t=0;t<n.length;t++){var r=n[t];l(r,r.parent)}(m=o)._.isBlockLike&&s(),l(o,o.parent),o==m&&(m=m.parent),p=p.concat(i)}"body"==e&&(a=!1)},u.onText=function(e){if(m._.hasInlineStarted&&!f.length||v||g||0!==(e=CKEDITOR.tools.ltrim(e)).length){var t=m.name,n=t?CKEDITOR.dtd[t]||(m._.isBlockLike?CKEDITOR.dtd.div:CKEDITOR.dtd.span):b;!g&&!n["#"]&&t in y?(u.onTagOpen(i[t]||""),u.onText(e)):(s(),o(),v||g||(e=e.replace(/[\t\r\n ]{2,}|[\t\r\n]/g," ")),e=new CKEDITOR.htmlParser.text(e),c(m,e)&&this.onTagOpen(a,{},0,1),m.add(e))}},u.onCDATA=function(e){m.add(new CKEDITOR.htmlParser.cdata(e))},u.onComment=function(e){s(),o(),m.add(new CKEDITOR.htmlParser.comment(e))},u.parse(e),s();m!=h;)l(m,m.parent,1);return r(h),h},CKEDITOR.htmlParser.fragment.prototype={type:CKEDITOR.NODE_DOCUMENT_FRAGMENT,add:function(e,t){isNaN(t)&&(t=this.children.length);var n=0<t?this.children[t-1]:null;if(n){if(e._.isBlockLike&&n.type==CKEDITOR.NODE_TEXT&&(n.value=CKEDITOR.tools.rtrim(n.value),0===n.value.length))return this.children.pop(),void this.add(e);n.next=e}e.previous=n,(e.parent=this).children.splice(t,0,e),this._.hasInlineStarted||(this._.hasInlineStarted=e.type==CKEDITOR.NODE_TEXT||e.type==CKEDITOR.NODE_ELEMENT&&!e._.isBlockLike)},filter:function(e,t){t=this.getFilterContext(t),e.onRoot(t,this),this.filterChildren(e,!1,t)},filterChildren:function(e,t,n){if(this.childrenFilteredBy!=e.id)for(n=this.getFilterContext(n),t&&!this.parent&&e.onRoot(n,this),this.childrenFilteredBy=e.id,t=0;t<this.children.length;t++)!1===this.children[t].filter(e,n)&&t--},writeHtml:function(e,t){t&&this.filter(t),this.writeChildrenHtml(e)},writeChildrenHtml:function(e,t,n){var i=this.getFilterContext();for(n&&!this.parent&&t&&t.onRoot(i,this),t&&this.filterChildren(t,!1,i),t=0,i=(n=this.children).length;t<i;t++)n[t].writeHtml(e)},forEach:function(e,t,n){if(!(n||t&&this.type!=t))var i=e(this);if(!1!==i){n=this.children;for(var o=0;o<n.length;o++)(i=n[o]).type==CKEDITOR.NODE_ELEMENT?i.forEach(e,t):t&&i.type!=t||e(i)}},getFilterContext:function(e){return e||{}}}}(),function(){function a(){this.rules=[]}function i(e,t,n,i){var o,r;for(o in t)(r=e[o])||(r=e[o]=new a),r.add(t[o],n,i)}CKEDITOR.htmlParser.filter=CKEDITOR.tools.createClass({$:function(e){this.id=CKEDITOR.tools.getNextNumber(),this.elementNameRules=new a,this.attributeNameRules=new a,this.elementsRules={},this.attributesRules={},this.textRules=new a,this.commentRules=new a,this.rootRules=new a,e&&this.addRules(e,10)},proto:{addRules:function(e,t){var n;"number"==typeof t?n=t:t&&"priority"in t&&(n=t.priority),"number"!=typeof n&&(n=10),"object"!=typeof t&&(t={}),e.elementNames&&this.elementNameRules.addMany(e.elementNames,n,t),e.attributeNames&&this.attributeNameRules.addMany(e.attributeNames,n,t),e.elements&&i(this.elementsRules,e.elements,n,t),e.attributes&&i(this.attributesRules,e.attributes,n,t),e.text&&this.textRules.add(e.text,n,t),e.comment&&this.commentRules.add(e.comment,n,t),e.root&&this.rootRules.add(e.root,n,t)},applyTo:function(e){e.filter(this)},onElementName:function(e,t){return this.elementNameRules.execOnName(e,t)},onAttributeName:function(e,t){return this.attributeNameRules.execOnName(e,t)},onText:function(e,t,n){return this.textRules.exec(e,t,n)},onComment:function(e,t,n){return this.commentRules.exec(e,t,n)},onRoot:function(e,t){return this.rootRules.exec(e,t)},onElement:function(e,t){for(var n,i=[this.elementsRules["^"],this.elementsRules[t.name],this.elementsRules.$],o=0;o<3;o++)if(n=i[o]){if(!1===(n=n.exec(e,t,this)))return null;if(n&&n!=t)return this.onNode(e,n);if(t.parent&&!t.name)break}return t},onNode:function(e,t){var n=t.type;return n==CKEDITOR.NODE_ELEMENT?this.onElement(e,t):n==CKEDITOR.NODE_TEXT?new CKEDITOR.htmlParser.text(this.onText(e,t.value)):n==CKEDITOR.NODE_COMMENT?new CKEDITOR.htmlParser.comment(this.onComment(e,t.value)):null},onAttribute:function(e,t,n,i){return(n=this.attributesRules[n])?n.exec(e,i,t,this):i}}}),(CKEDITOR.htmlParser.filterRulesGroup=a).prototype={add:function(e,t,n){this.rules.splice(this.findIndex(t),0,{value:e,priority:t,options:n})},addMany:function(e,t,n){for(var i=[this.findIndex(t),0],o=0,r=e.length;o<r;o++)i.push({value:e[o],priority:t,options:n});this.rules.splice.apply(this.rules,i)},findIndex:function(e){for(var t=this.rules,n=t.length-1;0<=n&&e<t[n].priority;)n--;return n+1},exec:function(e,t){var n,i,o,r,a=t instanceof CKEDITOR.htmlParser.node||t instanceof CKEDITOR.htmlParser.fragment,s=Array.prototype.slice.call(arguments,1),l=this.rules,c=l.length;for(r=0;r<c;r++)if(a&&(n=t.type,i=t.name),o=l[r],!(e.nonEditable&&!o.options.applyToAll||e.nestedEditable&&o.options.excludeNestedEditable)){if(!1===(o=o.value.apply(null,s))||a&&o&&(o.name!=i||o.type!=n))return o;null!=o&&(s[0]=t=o)}return t},execOnName:function(e,t){for(var n,i=0,o=this.rules,r=o.length;t&&i<r;i++)n=o[i],e.nonEditable&&!n.options.applyToAll||e.nestedEditable&&n.options.excludeNestedEditable||(t=t.replace(n.value[0],n.value[1]));return t}}}(),function(){function n(e,t){function s(e){return e||CKEDITOR.env.needsNbspFiller?new CKEDITOR.htmlParser.text("\xa0"):new CKEDITOR.htmlParser.element("br",{"data-cke-bogus":1})}function n(r,a){return function(e){if(e.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var t,n,i=[],o=d(e);if(o)for(l(o,1)&&i.push(o);o;)p(o)&&(t=u(o))&&l(t)&&((n=u(t))&&!p(n)?i.push(t):(s(c).insertAfter(t),t.remove())),o=o.previous;for(o=0;o<i.length;o++)i[o].remove();(i=!r||!1!==("function"==typeof a?a(e):a))&&(i=!(!c&&!CKEDITOR.env.needsBrFiller&&e.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT)&&(!(!c&&!CKEDITOR.env.needsBrFiller&&(7<document.documentMode||e.name in CKEDITOR.dtd.tr||e.name in CKEDITOR.dtd.$listItem))&&(!(i=d(e))||"form"==e.name&&"input"==i.name))),i&&e.add(s(r))}}}function l(e,t){return!(c&&!CKEDITOR.env.needsBrFiller||e.type!=CKEDITOR.NODE_ELEMENT||"br"!=e.name||e.attributes["data-cke-eol"])||!!(e.type==CKEDITOR.NODE_TEXT&&(n=e.value.match(T))&&(n.index&&(new CKEDITOR.htmlParser.text(e.value.substring(0,n.index)).insertBefore(e),e.value=n[0]),!CKEDITOR.env.needsBrFiller&&c&&(!t||e.parent.name in a)||!c&&((n=e.previous)&&"br"==n.name||!n||p(n))));var n}var i,o,r={elements:{}},c="html"==t,a=CKEDITOR.tools.extend({},b);for(i in a)"#"in E[i]||delete a[i];for(i in a)r.elements[i]=n(c,e.config.fillEmptyBlocks);return r.root=n(c,!1),r.elements.br=(o=c,function(e){if(e.parent.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var t=e.attributes;if("data-cke-bogus"in t||"data-cke-eol"in t)delete t["data-cke-bogus"];else{for(t=e.next;t&&h(t);)t=t.next;var n=u(e);!t&&p(e.parent)?f(e.parent,s(o)):p(t)&&n&&!p(n)&&s(o).insertBefore(t)}}}),r}function r(e,t){return e!=CKEDITOR.ENTER_BR&&!1!==t&&(e==CKEDITOR.ENTER_DIV?"div":"p")}function d(e){for(e=e.children[e.children.length-1];e&&h(e);)e=e.previous;return e}function u(e){for(e=e.previous;e&&h(e);)e=e.previous;return e}function h(e){return e.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.trim(e.value)||e.type==CKEDITOR.NODE_ELEMENT&&e.attributes["data-cke-bookmark"]}function p(e){return e&&(e.type==CKEDITOR.NODE_ELEMENT&&e.name in b||e.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT)}function f(e,t){var n=e.children[e.children.length-1];e.children.push(t),t.parent=e,n&&((n.next=t).previous=n)}function e(e){"false"!=(e=e.attributes).contenteditable&&(e["data-cke-editable"]=e.contenteditable?"true":1),e.contenteditable="false"}function t(e){switch((e=e.attributes)["data-cke-editable"]){case"true":e.contenteditable="true";break;case"1":delete e.contenteditable}}function a(e){return e.replace(i,function(e,t,n){return"<"+t+n.replace(D,function(e,t){return w.test(t)&&-1==n.indexOf("data-cke-saved-"+t)?" data-cke-saved-"+e+" data-cke-"+CKEDITOR.rnd+"-"+e:e})+">"})}function s(e,t){return e.replace(t,function(e,t,n){return 0===e.indexOf("<textarea")&&(e=t+m(n).replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</textarea>"),"<cke:encoded>"+encodeURIComponent(e)+"</cke:encoded>"})}function l(e){return e.replace(x,function(e,t){return decodeURIComponent(t)})}function c(e){return e.replace(/\x3c!--(?!{cke_protected})[\s\S]+?--\x3e/g,function(e){return"<!--"+y+"{C}"+encodeURIComponent(e).replace(/--/g,"%2D%2D")+"-->"})}function m(e){return e.replace(/\x3c!--\{cke_protected\}\{C\}([\s\S]+?)--\x3e/g,function(e,t){return decodeURIComponent(t)})}function g(e,t){var n=t._.dataStore;return e.replace(/\x3c!--\{cke_protected\}([\s\S]+?)--\x3e/g,function(e,t){return decodeURIComponent(t)}).replace(/\{cke_protected_(\d+)\}/g,function(e,t){return n&&n[t]||""})}function v(e,o){var i=[],t=o.config.protectedSource,n=o._.dataStore||(o._.dataStore={id:1}),r=/<\!--\{cke_temp(comment)?\}(\d*?)--\x3e/g;t=[/<script[\s\S]*?(<\/script>|$)/gi,/<noscript[\s\S]*?<\/noscript>/gi,/<meta[\s\S]*?\/?>/gi].concat(t);e=e.replace(/\x3c!--[\s\S]*?--\x3e/g,function(e){return"<!--{cke_tempcomment}"+(i.push(e)-1)+"-->"});for(var a=0;a<t.length;a++)e=e.replace(t[a],function(e){return e=e.replace(r,function(e,t,n){return i[n]}),/cke_temp(comment)?/.test(e)?e:"<!--{cke_temp}"+(i.push(e)-1)+"-->"});return(e=(e=e.replace(r,function(e,t,n){return"<!--"+y+(t?"{C}":"")+encodeURIComponent(i[n]).replace(/--/g,"%2D%2D")+"-->"})).replace(/<\w+(?:\s+(?:(?:[^\s=>]+\s*=\s*(?:[^'"\s>]+|'[^']*'|"[^"]*"))|[^\s=\/>]+))+\s*\/?>/g,function(e){return e.replace(/\x3c!--\{cke_protected\}([^>]*)--\x3e/g,function(e,t){return n[n.id]=decodeURIComponent(t),"{cke_protected_"+n.id+++"}"})})).replace(/<(title|iframe|textarea)([^>]*)>([\s\S]*?)<\/\1>/g,function(e,t,n,i){return"<"+t+n+">"+g(m(i),o)+"</"+t+">"})}CKEDITOR.htmlDataProcessor=function(o){var e,t,i=this;this.editor=o,this.dataFilter=e=new CKEDITOR.htmlParser.filter,this.htmlFilter=t=new CKEDITOR.htmlParser.filter,this.writer=new CKEDITOR.htmlParser.basicWriter,e.addRules(C),e.addRules(_,{applyToAll:!0}),e.addRules(n(o,"data"),{applyToAll:!0}),t.addRules(O),t.addRules(I,{applyToAll:!0}),t.addRules(n(o,"html"),{applyToAll:!0}),o.on("toHtml",function(e){var t,n,i=(i=(i=(i=(i=s(i=a(i=s(i=v(i=(e=e.data).dataValue,o),k)),R)).replace(S,"$1cke:$2")).replace(N,"<cke:$1$2></cke:$1>")).replace(/(<pre\b[^>]*>)(\r\n|\n)/g,"$1$2$2")).replace(/([^a-z0-9<\-])(on\w{3,})(?!>)/gi,"$1data-cke-"+CKEDITOR.rnd+"-$2");t=e.context||o.editable().getName(),CKEDITOR.env.ie&&CKEDITOR.env.version<9&&"pre"==t&&(t="div",i="<pre>"+i+"</pre>",n=1),(t=o.document.createElement(t)).setHtml("a"+i),i=(i=t.getHtml().substr(1)).replace(new RegExp("data-cke-"+CKEDITOR.rnd+"-","ig"),""),n&&(i=i.replace(/^<pre>|<\/pre>$/gi,"")),i=m(i=l(i=i.replace(K,"$1$2"))),t=!1!==e.fixForBody&&r(e.enterMode,o.config.autoParagraph),i=CKEDITOR.htmlParser.fragment.fromHtml(i,e.context,t),t&&(!(n=i).children.length&&CKEDITOR.dtd[n.name][t]&&(t=new CKEDITOR.htmlParser.element(t),n.add(t))),e.dataValue=i},null,null,5),o.on("toHtml",function(e){e.data.filter.applyTo(e.data.dataValue,!0,e.data.dontFilter,e.data.enterMode)&&o.fire("dataFiltered")},null,null,6),o.on("toHtml",function(e){e.data.dataValue.filterChildren(i.dataFilter,!0)},null,null,10),o.on("toHtml",function(e){var t=(e=e.data).dataValue,n=new CKEDITOR.htmlParser.basicWriter;t.writeChildrenHtml(n),t=n.getHtml(!0),e.dataValue=c(t)},null,null,15),o.on("toDataFormat",function(e){var t=e.data.dataValue;e.data.enterMode!=CKEDITOR.ENTER_BR&&(t=t.replace(/^<br *\/?>/i,"")),e.data.dataValue=CKEDITOR.htmlParser.fragment.fromHtml(t,e.data.context,r(e.data.enterMode,o.config.autoParagraph))},null,null,5),o.on("toDataFormat",function(e){e.data.dataValue.filterChildren(i.htmlFilter,!0)},null,null,10),o.on("toDataFormat",function(e){e.data.filter.applyTo(e.data.dataValue,!1,!0)},null,null,11),o.on("toDataFormat",function(e){var t=e.data.dataValue,n=i.writer;n.reset(),t.writeChildrenHtml(n),t=g(t=m(t=n.getHtml(!0)),o),e.data.dataValue=t},null,null,15)},CKEDITOR.htmlDataProcessor.prototype={toHtml:function(e,t,n,i){var o,r,a,s,l=this.editor;return t&&"object"==typeof t?(o=t.context,n=t.fixForBody,i=t.dontFilter,r=t.filter,a=t.enterMode,s=t.protectedWhitespaces):o=t,o||null===o||(o=l.editable().getName()),l.fire("toHtml",{dataValue:e,context:o,fixForBody:n,dontFilter:i,filter:r||l.filter,enterMode:a||l.enterMode,protectedWhitespaces:s}).dataValue},toDataFormat:function(e,t){var n,i,o;return t&&(n=t.context,i=t.filter,o=t.enterMode),n||null===n||(n=this.editor.editable().getName()),this.editor.fire("toDataFormat",{dataValue:e,filter:i||this.editor.filter,context:n,enterMode:o||this.editor.enterMode}).dataValue}};var T=/(?:&nbsp;|\xa0)$/,y="{cke_protected}",E=CKEDITOR.dtd,o="caption colgroup col thead tfoot tbody".split(" "),b=CKEDITOR.tools.extend({},E.$blockLimit,E.$block),C={elements:{input:e,textarea:e}},_={attributeNames:[[/^on/,"data-cke-pa-on"],[/^srcdoc/,"data-cke-pa-srcdoc"],[/^data-cke-expando$/,""]],elements:{iframe:function(e){if(e.attributes&&e.attributes.src){var t=e.attributes.src.toLowerCase().replace(/[^a-z]/gi,"");0!==t.indexOf("javascript")&&0!==t.indexOf("data")||(e.attributes["data-cke-pa-src"]=e.attributes.src,delete e.attributes.src)}}}},O={elements:{embed:function(e){if((n=e.parent)&&"object"==n.name){var t=n.attributes.width,n=n.attributes.height;t&&(e.attributes.width=t),n&&(e.attributes.height=n)}},a:function(e){var t=e.attributes;if(!(e.children.length||t.name||t.id||e.attributes["data-cke-saved-name"]))return!1}}},I={elementNames:[[/^cke:/,""],[/^\?xml:namespace$/,""]],attributeNames:[[/^data-cke-(saved|pa)-/,""],[/^data-cke-.*/,""],["hidefocus",""]],elements:{$:function(e){var t=e.attributes;if(t){if(t["data-cke-temp"])return!1;for(var n=["name","href","src"],i=0;i<n.length;i++)"data-cke-saved-"+n[i]in t&&delete t[n[i]]}return e},table:function(e){e.children.slice(0).sort(function(e,t){var n,i;return e.type==CKEDITOR.NODE_ELEMENT&&t.type==e.type&&(n=CKEDITOR.tools.indexOf(o,e.name),i=CKEDITOR.tools.indexOf(o,t.name)),-1<n&&-1<i&&n!=i||(n=e.parent?e.getIndex():-1,i=t.parent?t.getIndex():-1),i<n?1:-1})},param:function(e){return e.children=[],e.isEmpty=!0,e},span:function(e){"Apple-style-span"==e.attributes["class"]&&delete e.name},html:function(e){delete e.attributes.contenteditable,delete e.attributes["class"]},body:function(e){delete e.attributes.spellcheck,delete e.attributes.contenteditable},style:function(e){var t=e.children[0];t&&t.value&&(t.value=CKEDITOR.tools.trim(t.value)),e.attributes.type||(e.attributes.type="text/css")},title:function(e){var t=e.children[0];!t&&f(e,t=new CKEDITOR.htmlParser.text),t.value=e.attributes["data-cke-title"]||""},input:t,textarea:t},attributes:{"class":function(e){return CKEDITOR.tools.ltrim(e.replace(/(?:^|\s+)cke_[^\s]*/g,""))||!1}}};CKEDITOR.env.ie&&(I.attributes.style=function(e){return e.replace(/(^|;)([^\:]+)/g,function(e){return e.toLowerCase()})});var i=/<(a|area|img|input|source)\b([^>]*)>/gi,D=/([\w-:]+)\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|(?:[^ "'>]+))/gi,w=/^(href|src|name)$/i,R=/(?:<style(?=[ >])[^>]*>[\s\S]*?<\/style>)|(?:<(:?link|meta|base)[^>]*>)/gi,k=/(<textarea(?=[ >])[^>]*>)([\s\S]*?)(?:<\/textarea>)/gi,x=/<cke:encoded>([^<]*)<\/cke:encoded>/gi,S=/(<\/?)((?:object|embed|param|html|body|head|title)[^>]*>)/gi,K=/(<\/?)cke:((?:html|body|head|title)[^>]*>)/gi,N=/<cke:(param|embed)([^>]*?)\/?>(?!\s*<\/cke:\1)/gi}(),CKEDITOR.htmlParser.element=function(e,t){this.name=e,this.attributes=t||{},this.children=[];var n=e||"",i=n.match(/^cke:(.*)/);i&&(n=i[1]),n=!!(CKEDITOR.dtd.$nonBodyContent[n]||CKEDITOR.dtd.$block[n]||CKEDITOR.dtd.$listItem[n]||CKEDITOR.dtd.$tableContent[n]||CKEDITOR.dtd.$nonEditable[n]||"br"==n),this.isEmpty=!!CKEDITOR.dtd.$empty[e],this.isUnknown=!CKEDITOR.dtd[e],this._={isBlockLike:n,hasInlineStarted:this.isEmpty||!n}},CKEDITOR.htmlParser.cssStyle=function(e){var i={};return((e instanceof CKEDITOR.htmlParser.element?e.attributes.style:e)||"").replace(/&quot;/g,'"').replace(/\s*([^ :;]+)\s*:\s*([^;]+)\s*(?=;|$)/g,function(e,t,n){"font-family"==t&&(n=n.replace(/["']/g,"")),i[t.toLowerCase()]=n}),{rules:i,populate:function(e){var t=this.toString();t&&(e instanceof CKEDITOR.dom.element?e.setAttribute("style",t):e instanceof CKEDITOR.htmlParser.element?e.attributes.style=t:e.style=t)},toString:function(){var e,t=[];for(e in i)i[e]&&t.push(e,":",i[e],";");return t.join("")}}},function(){function i(t){return function(e){return e.type==CKEDITOR.NODE_ELEMENT&&("string"==typeof t?e.name==t:e.name in t)}}var s=function(e,t){return(e=e[0])<(t=t[0])?-1:t<e?1:0},e=CKEDITOR.htmlParser.fragment.prototype;CKEDITOR.htmlParser.element.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_ELEMENT,add:e.add,clone:function(){return new CKEDITOR.htmlParser.element(this.name,this.attributes)},filter:function(e,t){var n,i,o,r,a=this;if((t=a.getFilterContext(t)).off)return!0;for(a.parent||e.onRoot(t,a);;){if(n=a.name,!(i=e.onElementName(t,n)))return this.remove(),!1;if(a.name=i,!(a=e.onElement(t,a)))return this.remove(),!1;if(a!==this)return this.replaceWith(a),!1;if(a.name==n)break;if(a.type!=CKEDITOR.NODE_ELEMENT)return this.replaceWith(a),!1;if(!a.name)return this.replaceWithChildren(),!1}for(o in n=a.attributes){for(i=n[o];;){if(!(r=e.onAttributeName(t,o))){delete n[o];break}if(r==o)break;delete n[o],o=r}r&&(!1===(i=e.onAttribute(t,a,r,i))?delete n[r]:n[r]=i)}return a.isEmpty||this.filterChildren(e,!1,t),!0},filterChildren:e.filterChildren,writeHtml:function(e,t){t&&this.filter(t);var n,i,o=this.name,r=[],a=this.attributes;for(n in e.openTag(o,a),a)r.push([n,a[n]]);for(e.sortAttributes&&r.sort(s),n=0,i=r.length;n<i;n++)a=r[n],e.attribute(a[0],a[1]);e.openTagClose(o,this.isEmpty),this.writeChildrenHtml(e),this.isEmpty||e.closeTag(o)},writeChildrenHtml:e.writeChildrenHtml,replaceWithChildren:function(){for(var e=this.children,t=e.length;t;)e[--t].insertAfter(this);this.remove()},forEach:e.forEach,getFirst:function(e){if(!e)return this.children.length?this.children[0]:null;"function"!=typeof e&&(e=i(e));for(var t=0,n=this.children.length;t<n;++t)if(e(this.children[t]))return this.children[t];return null},getHtml:function(){var e=new CKEDITOR.htmlParser.basicWriter;return this.writeChildrenHtml(e),e.getHtml()},setHtml:function(e){for(var t=0,n=(e=this.children=CKEDITOR.htmlParser.fragment.fromHtml(e).children).length;t<n;++t)e[t].parent=this},getOuterHtml:function(){var e=new CKEDITOR.htmlParser.basicWriter;return this.writeHtml(e),e.getHtml()},split:function(e){for(var t=this.children.splice(e,this.children.length-e),n=this.clone(),i=0;i<t.length;++i)t[i].parent=n;return(n.children=t)[0]&&(t[0].previous=null),0<e&&(this.children[e-1].next=null),this.parent.add(n,this.getIndex()+1),n},find:function(e,t){void 0===t&&(t=!1);var n,i=[];for(n=0;n<this.children.length;n++){var o=this.children[n];"function"==typeof e&&e(o)?i.push(o):"string"==typeof e&&o.name===e&&i.push(o),t&&o.find&&(i=i.concat(o.find(e,t)))}return i},addClass:function(e){if(!this.hasClass(e)){var t=this.attributes["class"]||"";this.attributes["class"]=t+(t?" ":"")+e}},removeClass:function(e){var t=this.attributes["class"];t&&((t=CKEDITOR.tools.trim(t.replace(new RegExp("(?:\\s+|^)"+e+"(?:\\s+|$)")," ")))?this.attributes["class"]=t:delete this.attributes["class"])},hasClass:function(e){var t=this.attributes["class"];return!!t&&new RegExp("(?:^|\\s)"+e+"(?=\\s|$)").test(t)},getFilterContext:function(e){var t=[];if(e||(e={off:!1,nonEditable:!1,nestedEditable:!1}),e.off||"off"!=this.attributes["data-cke-processor"]||t.push("off",!0),e.nonEditable||"false"!=this.attributes.contenteditable?e.nonEditable&&!e.nestedEditable&&"true"==this.attributes.contenteditable&&t.push("nestedEditable",!0):t.push("nonEditable",!0),t.length){e=CKEDITOR.tools.copy(e);for(var n=0;n<t.length;n+=2)e[t[n]]=t[n+1]}return e}},!0)}(),B=/{([^}]+)}/g,CKEDITOR.template=function(e){this.source=String(e)},CKEDITOR.template.prototype.output=function(n,e){var t=this.source.replace(B,function(e,t){return void 0!==n[t]?n[t]:e});return e?e.push(t):t},delete CKEDITOR.loadFullCore,CKEDITOR.instances={},CKEDITOR.document=new CKEDITOR.dom.document(document),CKEDITOR.add=function(e){(CKEDITOR.instances[e.name]=e).on("focus",function(){CKEDITOR.currentInstance!=e&&(CKEDITOR.currentInstance=e,CKEDITOR.fire("currentInstance"))}),e.on("blur",function(){CKEDITOR.currentInstance==e&&(CKEDITOR.currentInstance=null,CKEDITOR.fire("currentInstance"))}),CKEDITOR.fire("instance",null,e)},CKEDITOR.remove=function(e){delete CKEDITOR.instances[e.name]},$={},CKEDITOR.addTemplate=function(e,t){var n=$[e];return n||(n={name:e,source:t},CKEDITOR.fire("template",n),$[e]=new CKEDITOR.template(n.source))},CKEDITOR.getTemplate=function(e){return $[e]},H=[],CKEDITOR.addCss=function(e){H.push(e)},CKEDITOR.getCss=function(){return H.join("\n")},CKEDITOR.on("instanceDestroyed",function(){CKEDITOR.tools.isEmpty(this.instances)&&CKEDITOR.fire("reset")}),CKEDITOR.TRISTATE_ON=1,CKEDITOR.TRISTATE_OFF=2,CKEDITOR.TRISTATE_DISABLED=0,CKEDITOR.inline=function(e,t){if(!CKEDITOR.env.isCompatible)return null;if((e=CKEDITOR.dom.element.get(e)).getEditor())throw'The editor instance "'+e.getEditor().name+'" is already attached to the provided element.';var n=new CKEDITOR.editor(t,e,CKEDITOR.ELEMENT_MODE_INLINE),i=e.is("textarea")?e:null;return i?(n.setData(i.getValue(),null,!0),(e=CKEDITOR.dom.element.createFromHtml('<div contenteditable="'+!!n.readOnly+'" class="cke_textarea_inline">'+i.getValue()+"</div>",CKEDITOR.document)).insertAfter(i),i.hide(),i.$.form&&n._attachToForm()):n.setData(e.getHtml(),null,!0),n.on("loaded",function(){n.fire("uiReady"),n.editable(e),n.container=e,n.ui.contentsElement=e,n.setData(n.getData(1)),n.resetDirty(),n.fire("contentDom"),n.mode="wysiwyg",n.fire("mode"),n.status="ready",n.fireOnce("instanceReady"),CKEDITOR.fire("instanceReady",null,n)},null,null,1e4),n.on("destroy",function(){i&&(n.container.clearCustomData(),n.container.remove(),i.show()),n.element.clearCustomData(),delete n.element}),n},CKEDITOR.inlineAll=function(){var e,t,n;for(n in CKEDITOR.dtd.$editable)for(var i=CKEDITOR.document.getElementsByTag(n),o=0,r=i.count();o<r;o++)"true"==(e=i.getItem(o)).getAttribute("contenteditable")&&(!(t={element:e,config:{}})!==CKEDITOR.fire("inline",t)&&CKEDITOR.inline(e,t.config))},CKEDITOR.domReady(function(){!CKEDITOR.disableAutoInline&&CKEDITOR.inlineAll()}),CKEDITOR.replaceClass="ckeditor",function(){function i(e,t,n,i){if(!CKEDITOR.env.isCompatible)return null;if((e=CKEDITOR.dom.element.get(e)).getEditor())throw'The editor instance "'+e.getEditor().name+'" is already attached to the provided element.';var o=new CKEDITOR.editor(t,e,i);return i==CKEDITOR.ELEMENT_MODE_REPLACE&&(e.setStyle("visibility","hidden"),o._.required=e.hasAttribute("required"),e.removeAttribute("required")),n&&o.setData(n,null,!0),o.on("loaded",function(){a(o),i==CKEDITOR.ELEMENT_MODE_REPLACE&&o.config.autoUpdateElement&&e.$.form&&o._attachToForm(),o.setMode(o.config.startupMode,function(){o.resetDirty(),o.status="ready",o.fireOnce("instanceReady"),CKEDITOR.fire("instanceReady",null,o)})}),o.on("destroy",r),o}function r(){var e=this.container,t=this.element;e&&(e.clearCustomData(),e.remove()),t&&(t.clearCustomData(),this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE&&(t.show(),this._.required&&t.setAttribute("required","required")),delete this.element)}function a(e){var t=e.name,n=e.element,i=e.elementMode,o=e.fire("uiSpace",{space:"top",html:""}).html,r=e.fire("uiSpace",{space:"bottom",html:""}).html,a=new CKEDITOR.template('<{outerEl} id="cke_{name}" class="{id} cke cke_reset cke_chrome cke_editor_{name} cke_{langDir} '+CKEDITOR.env.cssClass+'"  dir="{langDir}" lang="{langCode}" role="application"'+(e.title?' aria-labelledby="cke_{name}_arialbl"':"")+">"+(e.title?'<span id="cke_{name}_arialbl" class="cke_voice_label">{voiceLabel}</span>':"")+'<{outerEl} class="cke_inner cke_reset" role="presentation">{topHtml}<{outerEl} id="{contentId}" class="cke_contents cke_reset" role="presentation"></{outerEl}>{bottomHtml}</{outerEl}></{outerEl}>');t=CKEDITOR.dom.element.createFromHtml(a.output({id:e.id,name:t,langDir:e.lang.dir,langCode:e.langCode,voiceLabel:e.title,topHtml:o?'<span id="'+e.ui.spaceId(
"top")+'" class="cke_top cke_reset_all" role="presentation" style="height:auto">'+o+"</span>":"",contentId:e.ui.spaceId("contents"),bottomHtml:r?'<span id="'+e.ui.spaceId("bottom")+'" class="cke_bottom cke_reset_all" role="presentation">'+r+"</span>":"",outerEl:CKEDITOR.env.ie?"span":"div"}));i==CKEDITOR.ELEMENT_MODE_REPLACE?(n.hide(),t.insertAfter(n)):n.append(t),e.container=t,e.ui.contentsElement=e.ui.space("contents"),o&&e.ui.space("top").unselectable(),r&&e.ui.space("bottom").unselectable(),n=e.config.width,i=e.config.height,n&&t.setStyle("width",CKEDITOR.tools.cssLength(n)),i&&e.ui.space("contents").setStyle("height",CKEDITOR.tools.cssLength(i)),t.disableContextMenu(),CKEDITOR.env.webkit&&t.on("focus",function(){e.focus()}),e.fireOnce("uiReady")}CKEDITOR.replace=function(e,t){return i(e,t,null,CKEDITOR.ELEMENT_MODE_REPLACE)},CKEDITOR.appendTo=function(e,t,n){return i(e,t,n,CKEDITOR.ELEMENT_MODE_APPENDTO)},CKEDITOR.replaceAll=function(e){for(var t=document.getElementsByTagName("textarea"),n=0;n<t.length;n++){var i=null,o=t[n];if(o.name||o.id){if("string"==typeof e){if(!new RegExp("(?:^|\\s)"+e+"(?:$|\\s)").test(o.className))continue}else if("function"==typeof e&&!(i={})===e(o,i))continue;this.replace(o,i)}}},CKEDITOR.editor.prototype.addMode=function(e,t){(this._.modes||(this._.modes={}))[e]=t},CKEDITOR.editor.prototype.setMode=function(e,t){var n=this,i=this._.modes;if(e!=n.mode&&i&&i[e]){if(n.fire("beforeSetMode",e),n.mode){var o,r=n.checkDirty(),a=(i=n._.previousModeData,0);n.fire("beforeModeUnload"),n.editable(0),n._.previousMode=n.mode,n._.previousModeData=o=n.getData(1),"source"==n.mode&&i==o&&(n.fire("lockSnapshot",{forceUpdate:!0}),a=1),n.ui.space("contents").setHtml(""),n.mode=""}else n._.previousModeData=n.getData(1);this._.modes[e](function(){n.mode=e,void 0!==r&&!r&&n.resetDirty(),a?n.fire("unlockSnapshot"):"wysiwyg"==e&&n.fire("saveSnapshot"),setTimeout(function(){n.fire("mode"),t&&t.call(n)},0)})}},CKEDITOR.editor.prototype.resize=function(e,t,n,i){var o=this.container,r=this.ui.space("contents"),a=CKEDITOR.env.webkit&&this.document&&this.document.getWindow().$.frameElement;(i=i?this.container.getFirst(function(e){return e.type==CKEDITOR.NODE_ELEMENT&&e.hasClass("cke_inner")}):o).setSize("width",e,!0),a&&(a.style.width="1%");var s=(i.$.offsetHeight||0)-(r.$.clientHeight||0);o=Math.max(t-(n?0:s),0);t=n?t+s:t,r.setStyle("height",o+"px"),a&&(a.style.width="100%"),this.fire("resize",{outerHeight:t,contentsHeight:o,outerWidth:e||i.getSize("width")})},CKEDITOR.editor.prototype.getResizable=function(e){return e?this.ui.space("contents"):this.container},CKEDITOR.domReady(function(){CKEDITOR.replaceClass&&CKEDITOR.replaceAll(CKEDITOR.replaceClass)})}(),CKEDITOR.config.startupMode="wysiwyg",function(){function i(e){var t,n=e.editor,i=e.data.path,o=i.blockLimit,r=e.data.selection,a=r.getRanges()[0];(CKEDITOR.env.gecko||CKEDITOR.env.ie&&CKEDITOR.env.needsBrFiller)&&(r=s(r,i))&&(r.appendBogus(),t=CKEDITOR.env.ie),M(n,i.block,o)&&a.collapsed&&!a.getCommonAncestor().isReadOnly()&&((i=a.clone()).enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS),(o=new CKEDITOR.dom.walker(i)).guard=function(e){return!P(e)||e.type==CKEDITOR.NODE_COMMENT||e.isReadOnly()},!o.checkForward()||i.checkStartOfBlock()&&i.checkEndOfBlock())&&(n=a.fixBlock(!0,n.activeEnterMode==CKEDITOR.ENTER_DIV?"div":"p"),CKEDITOR.env.needsBrFiller||(n=n.getFirst(P))&&n.type==CKEDITOR.NODE_TEXT&&CKEDITOR.tools.trim(n.getText()).match(/^(?:&nbsp;|\xa0)$/)&&n.remove(),t=1,e.cancel()),t&&a.select()}function s(e,t){if(e.isFake)return 0;var n=t.block||t.blockLimit,i=n&&n.getLast(P);return!n||!n.isBlockBoundary()||i&&i.type==CKEDITOR.NODE_ELEMENT&&i.isBlockBoundary()||n.is("pre")||n.getBogus()?void 0:n}function r(e){var t=e.data.getTarget();t.is("input")&&("submit"!=(t=t.getAttribute("type"))&&"reset"!=t||e.data.preventDefault())}function P(e){return h(e)&&c(e)}function o(n,i){return function(e){var t=e.data.$.toElement||e.data.$.fromElement||e.data.$.relatedTarget;(t=t&&t.nodeType==CKEDITOR.NODE_ELEMENT?new CKEDITOR.dom.element(t):null)&&(i.equals(t)||i.contains(t))||n.call(this,e)}}function u(e){function t(n){return function(e,t){if(t&&e.type==CKEDITOR.NODE_ELEMENT&&e.is(o)&&(i=e),!(t||!P(e)||n&&d(e)))return!1}}var i,n=e.getRanges()[0];e=e.root;var o={table:1,ul:1,ol:1,dl:1};if(n.startPath().contains(o)){var r=n.clone();if(r.collapse(1),r.setStartAt(e,CKEDITOR.POSITION_AFTER_START),(e=new CKEDITOR.dom.walker(r)).guard=t(),e.checkBackward(),i)return(r=n.clone()).collapse(),r.setEndAt(i,CKEDITOR.POSITION_AFTER_END),(e=new CKEDITOR.dom.walker(r)).guard=t(!0),i=!1,e.checkForward(),i}return null}function M(e,t,n){return!1!==e.config.autoParagraph&&e.activeEnterMode!=CKEDITOR.ENTER_BR&&(e.editable().equals(n)&&!t||t&&"true"==t.getAttribute("contenteditable"))}function F(e){return e.activeEnterMode!=CKEDITOR.ENTER_BR&&!1!==e.config.autoParagraph&&(e.activeEnterMode==CKEDITOR.ENTER_DIV?"div":"p")}function a(e){var t=e.editor;t.getSelection().scrollIntoView(),setTimeout(function(){t.fire("saveSnapshot")},0)}function l(e,t,n){var i=e.getCommonAncestor(t);for(t=e=n?t:e;(e=e.getParent())&&!i.equals(e)&&1==e.getChildCount();)t=e;t.remove()}var h,c,p,d,f,m,g,v,t,T;CKEDITOR.editable=CKEDITOR.tools.createClass({base:CKEDITOR.dom.element,$:function(e,t){this.base(t.$||t),this.editor=e,this.status="unloaded",this.hasFocus=!1,this.setup()},proto:{focus:function(){var e;if(CKEDITOR.env.webkit&&!this.hasFocus&&(e=this.editor._.previousActive||this.getDocument().getActive(),this.contains(e)))e.focus();else{CKEDITOR.env.edge&&14<CKEDITOR.env.version&&!this.hasFocus&&this.getDocument().equals(CKEDITOR.document)&&(this.editor._.previousScrollTop=this.$.scrollTop);try{if(!CKEDITOR.env.ie||CKEDITOR.env.edge&&14<CKEDITOR.env.version||!this.getDocument().equals(CKEDITOR.document))if(CKEDITOR.env.chrome){var t=this.$.scrollTop;this.$.focus(),this.$.scrollTop=t}else this.$.focus();else this.$.setActive()}catch(P){if(!CKEDITOR.env.ie)throw P}CKEDITOR.env.safari&&!this.isInline()&&((e=CKEDITOR.document.getActive()).equals(this.getWindow().getFrame())||this.getWindow().focus())}},on:function(e,t){var n=Array.prototype.slice.call(arguments,0);return CKEDITOR.env.ie&&/^focus|blur$/.exec(e)&&(e="focus"==e?"focusin":"focusout",t=o(t,this),n[0]=e,n[1]=t),CKEDITOR.dom.element.prototype.on.apply(this,n)},attachListener:function(e){!this._.listeners&&(this._.listeners=[]);var t=Array.prototype.slice.call(arguments,1);t=e.on.apply(e,t);return this._.listeners.push(t),t},clearListeners:function(){var e=this._.listeners;try{for(;e.length;)e.pop().removeListener()}catch(r){}},restoreAttrs:function(){var e,t,n=this._.attrChanges;for(t in n)n.hasOwnProperty(t)&&(null!==(e=n[t])?this.setAttribute(t,e):this.removeAttribute(t))},attachClass:function(e){var t=this.getCustomData("classes");this.hasClass(e)||(!t&&(t=[]),t.push(e),this.setCustomData("classes",t),this.addClass(e))},changeAttr:function(e,t){var n=this.getAttribute(e);t!==n&&(!this._.attrChanges&&(this._.attrChanges={}),e in this._.attrChanges||(this._.attrChanges[e]=n),this.setAttribute(e,t))},insertText:function(e){this.editor.focus(),this.insertHtml(this.transformPlainTextToHtml(e),"text")},transformPlainTextToHtml:function(e){var t=this.editor.getSelection().getStartElement().hasAscendant("pre",!0)?CKEDITOR.ENTER_BR:this.editor.activeEnterMode;return CKEDITOR.tools.transformPlainTextToHtml(e,t)},insertHtml:function(e,t,n){var i=this.editor;i.focus(),i.fire("saveSnapshot"),n||(n=i.getSelection().getRanges()[0]),m(this,t||"html",e,n),n.select(),a(this),this.editor.fire("afterInsertHtml",{})},insertHtmlIntoRange:function(e,t,n){m(this,n||"html",e,t),this.editor.fire("afterInsertHtml",{intoRange:t})},insertElement:function(e,t){(i=this.editor).focus(),i.fire("saveSnapshot");var n=i.activeEnterMode,i=i.getSelection(),o=e.getName();o=CKEDITOR.dtd.$block[o];t||(t=i.getRanges()[0]),this.insertElementIntoRange(e,t)&&(t.moveToPosition(e,CKEDITOR.POSITION_AFTER_END),o&&((o=e.getNext(function(e){return P(e)&&!d(e)}))&&o.type==CKEDITOR.NODE_ELEMENT&&o.is(CKEDITOR.dtd.$block)?o.getDtd()["#"]?t.moveToElementEditStart(o):t.moveToElementEditEnd(e):o||n==CKEDITOR.ENTER_BR||(o=t.fixBlock(!0,n==CKEDITOR.ENTER_DIV?"div":"p"),t.moveToElementEditStart(o)))),i.selectRanges([t]),a(this)},insertElementIntoSelection:function(e){this.insertElement(e)},insertElementIntoRange:function(e,t){var n,i,o=this.editor,r=o.config.enterMode,a=e.getName(),s=CKEDITOR.dtd.$block[a];if(t.checkReadOnly())return!1;if(t.deleteContents(1),t.startContainer.type==CKEDITOR.NODE_ELEMENT&&(t.startContainer.is({tr:1,table:1,tbody:1,thead:1,tfoot:1})?g(t):t.startContainer.is(CKEDITOR.dtd.$list)&&v(t)),s)for(;(n=t.getCommonAncestor(0,1))&&(i=CKEDITOR.dtd[n.getName()])&&(!i||!i[a]);)n.getName()in CKEDITOR.dtd.span?t.splitElement(n):t.checkStartOfBlock()&&t.checkEndOfBlock()?(t.setStartBefore(n),t.collapse(!0),n.remove()):t.splitBlock(r==CKEDITOR.ENTER_DIV?"div":"p",o.editable());return t.insertNode(e),!0},setData:function(e,t){t||(e=this.editor.dataProcessor.toHtml(e)),this.setHtml(e),this.fixInitialSelection(),"unloaded"==this.status&&(this.status="ready"),this.editor.fire("dataReady")},getData:function(e){var t=this.getHtml();return e||(t=this.editor.dataProcessor.toDataFormat(t)),t},setReadOnly:function(e){this.setAttribute("contenteditable",!e)},detach:function(){this.removeClass("cke_editable"),this.status="detached";var e=this.editor;this._.detach(),delete e.document,delete e.window},isInline:function(){return this.getDocument().equals(CKEDITOR.document)},fixInitialSelection:function(){function e(){var e,t=i.getDocument().$,n=t.getSelection();e:if(n.anchorNode&&n.anchorNode==i.$)e=!0;else{if(CKEDITOR.env.webkit&&(e=i.getDocument().getActive())&&e.equals(i)&&!n.anchorNode){e=!0;break e}e=void 0}e&&((e=new CKEDITOR.dom.range(i)).moveToElementEditStart(i),(t=t.createRange()).setStart(e.startContainer.$,e.startOffset),t.collapse(!0),n.removeAllRanges(),n.addRange(t))}function t(){var e=i.getDocument().$,t=e.selection,n=i.getDocument().getActive();"None"==t.type&&n.equals(i)&&(t=new CKEDITOR.dom.range(i),e=e.body.createTextRange(),t.moveToElementEditStart(i),(t=t.startContainer).type!=CKEDITOR.NODE_ELEMENT&&(t=t.getParent()),e.moveToElementText(t.$),e.collapse(!0),e.select())}var i=this;CKEDITOR.env.ie&&(CKEDITOR.env.version<9||CKEDITOR.env.quirks)?this.hasFocus&&(this.focus(),t()):this.hasFocus?(this.focus(),e()):this.once("focus",function(){e()},null,null,-999)},getHtmlFromRange:function(e){return e.collapsed?new CKEDITOR.dom.documentFragment(e.document):(e={doc:this.getDocument(),range:e.clone()},t.eol.detect(e,this),t.bogus.exclude(e),t.cell.shrink(e),e.fragment=e.range.cloneContents(),t.tree.rebuild(e,this),t.eol.fix(e,this),new CKEDITOR.dom.documentFragment(e.fragment.$))},extractHtmlFromRange:function(e,t){var n=T,i={range:e,doc:e.document},o=this.getHtmlFromRange(e);if(e.collapsed)return e.optimize(),o;if(e.enlarge(CKEDITOR.ENLARGE_INLINE,1),n.table.detectPurge(i),i.bookmark=e.createBookmark(),delete i.range,(a=this.editor.createRange()).moveToPosition(i.bookmark.startNode,CKEDITOR.POSITION_BEFORE_START),i.targetBookmark=a.createBookmark(),n.list.detectMerge(i,this),n.table.detectRanges(i,this),n.block.detectMerge(i,this),i.tableContentsRanges?(n.table.deleteRanges(i),e.moveToBookmark(i.bookmark),i.range=e):(e.moveToBookmark(i.bookmark),(i.range=e).extractContents(n.detectExtractMerge(i))),e.moveToBookmark(i.targetBookmark),e.optimize(),n.fixUneditableRangePosition(e),n.list.merge(i,this),n.table.purge(i,this),n.block.merge(i,this),t){if(n=e.startPath(),i=e.checkStartOfBlock()&&e.checkEndOfBlock()&&n.block&&!e.root.equals(n.block)){e:{var r,a=0;if(i=n.block.getElementsByTag("span"))for(;r=i.getItem(a++);)if(!c(r)){i=!0;break e}i=!1}i=!i}i&&(e.moveToPosition(n.block,CKEDITOR.POSITION_BEFORE_START),n.block.remove())}else n.autoParagraph(this.editor,e),p(e.startContainer)&&e.startContainer.appendBogus();return e.startContainer.mergeSiblings(),o},setup:function(){var c=this.editor;if(this.attachListener(c,"beforeGetData",function(){var e=this.getData();this.is("textarea")||!1!==c.config.ignoreEmptyParagraph&&(e=e.replace(f,function(e,t){return t})),c.setData(e,null,1)},this),this.attachListener(c,"getSnapshot",function(e){e.data=this.getData(1)},this),this.attachListener(c,"afterSetData",function(){this.setData(c.getData(1))},this),this.attachListener(c,"loadSnapshot",function(e){this.setData(e.data,1)},this),this.attachListener(c,"beforeFocus",function(){var e=c.getSelection();(e=e&&e.getNative())&&"Control"==e.type||this.focus()},this),this.attachListener(c,"insertHtml",function(e){this.insertHtml(e.data.dataValue,e.data.mode,e.data.range)},this),this.attachListener(c,"insertElement",function(e){this.insertElement(e.data)},this),this.attachListener(c,"insertText",function(e){this.insertText(e.data)},this),this.setReadOnly(c.readOnly),this.attachClass("cke_editable"),c.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?this.attachClass("cke_editable_inline"):c.elementMode!=CKEDITOR.ELEMENT_MODE_REPLACE&&c.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO||this.attachClass("cke_editable_themed"),this.attachClass("cke_contents_"+c.config.contentsLangDirection),c.keystrokeHandler.blockedKeystrokes[8]=+c.readOnly,c.keystrokeHandler.attach(this),this.on("blur",function(){this.hasFocus=!1},null,null,-1),this.on("focus",function(){this.hasFocus=!0},null,null,-1),CKEDITOR.env.webkit&&this.on("scroll",function(){c._.previousScrollTop=c.editable().$.scrollTop},null,null,-1),CKEDITOR.env.edge&&14<CKEDITOR.env.version){var t=function(){var e=c.editable();null!=c._.previousScrollTop&&e.getDocument().equals(CKEDITOR.document)&&(e.$.scrollTop=c._.previousScrollTop,c._.previousScrollTop=null,this.removeListener("scroll",t))};this.on("scroll",t)}if(c.focusManager.add(this),this.equals(CKEDITOR.document.getActive())&&(this.hasFocus=!0,c.once("contentDom",function(){c.focusManager.focus(this)},this)),this.isInline()&&this.changeAttr("tabindex",c.tabIndex),!this.is("textarea")){c.document=this.getDocument(),c.window=this.getWindow();var e=c.document;this.changeAttr("spellcheck",!c.config.disableNativeSpellChecker);var n=c.config.contentsLangDirection;this.getDirection(1)!=n&&this.changeAttr("dir",n);var i=CKEDITOR.getCss();if(i){var o=(n=e.getHead()).getCustomData("stylesheet");o?i!=o.getText()&&(CKEDITOR.env.ie&&CKEDITOR.env.version<9?o.$.styleSheet.cssText=i:o.setText(i)):(i=e.appendStyleText(i),i=new CKEDITOR.dom.element(i.ownerNode||i.owningElement),n.setCustomData("stylesheet",i),i.data("cke-temp",1))}n=e.getCustomData("stylesheet_ref")||0,e.setCustomData("stylesheet_ref",n+1),this.setCustomData("cke_includeReadonly",!c.config.disableReadonlyStyling),this.attachListener(this,"click",function(e){e=e.data;var t=new CKEDITOR.dom.elementPath(e.getTarget(),this).contains("a");t&&2!=e.$.button&&t.isReadOnly()&&e.preventDefault()});var d={8:1,46:1};this.attachListener(c,"key",function(e){if(c.readOnly)return!0;var t,n=e.data.domEvent.getKey();if(0!==(e=c.getSelection()).getRanges().length){if(n in d){var i,o,r,a,s=e.getRanges()[0],l=s.startPath();n=8==n;CKEDITOR.env.ie&&CKEDITOR.env.version<11&&(i=e.getSelectedElement())||(i=u(e))?(c.fire("saveSnapshot"),s.moveToPosition(i,CKEDITOR.POSITION_BEFORE_START),i.remove(),s.select(),c.fire("saveSnapshot"),t=1):s.collapsed&&((o=l.block)&&(a=o[n?"getPrevious":"getNext"](h))&&a.type==CKEDITOR.NODE_ELEMENT&&a.is("table")&&s[n?"checkStartOfBlock":"checkEndOfBlock"]()?(c.fire("saveSnapshot"),s[n?"checkEndOfBlock":"checkStartOfBlock"]()&&o.remove(),s["moveToElementEdit"+(n?"End":"Start")](a),s.select(),c.fire("saveSnapshot"),t=1):l.blockLimit&&l.blockLimit.is("td")&&(r=l.blockLimit.getAscendant("table"))&&s.checkBoundaryOfElement(r,n?CKEDITOR.START:CKEDITOR.END)&&(a=r[n?"getPrevious":"getNext"](h))?(c.fire("saveSnapshot"),s["moveToElementEdit"+(n?"End":"Start")](a),s.checkStartOfBlock()&&s.checkEndOfBlock()?a.remove():s.select(),c.fire("saveSnapshot"),t=1):(r=l.contains(["td","th","caption"]))&&s.checkBoundaryOfElement(r,n?CKEDITOR.START:CKEDITOR.END)&&(t=1))}return!t}}),c.blockless&&CKEDITOR.env.ie&&CKEDITOR.env.needsBrFiller&&this.attachListener(this,"keyup",function(e){e.data.getKeystroke()in d&&!this.getFirst(P)&&(this.appendBogus(),(e=c.createRange()).moveToPosition(this,CKEDITOR.POSITION_AFTER_START),e.select())}),this.attachListener(this,"dblclick",function(e){if(c.readOnly)return!1;e={element:e.data.getTarget()},c.fire("doubleclick",e)}),CKEDITOR.env.ie&&this.attachListener(this,"click",r),CKEDITOR.env.ie&&!CKEDITOR.env.edge||this.attachListener(this,"mousedown",function(e){var t=e.data.getTarget();t.is("img","hr","input","textarea","select")&&!t.isReadOnly()&&(c.getSelection().selectElement(t),t.is("input","textarea","select")&&e.data.preventDefault())}),CKEDITOR.env.edge&&this.attachListener(this,"mouseup",function(e){(e=e.data.getTarget())&&e.is("img")&&c.getSelection().selectElement(e)}),CKEDITOR.env.gecko&&this.attachListener(this,"mouseup",function(e){if(2==e.data.$.button&&!(e=e.data.getTarget()).getOuterHtml().replace(f,"")){var t=c.createRange();t.moveToElementEditStart(e),t.select(!0)}}),CKEDITOR.env.webkit&&(this.attachListener(this,"click",function(e){e.data.getTarget().is("input","select")&&e.data.preventDefault()}),this.attachListener(this,"mouseup",function(e){e.data.getTarget().is("input","textarea")&&e.data.preventDefault()})),CKEDITOR.env.webkit&&this.attachListener(c,"key",function(e){if(c.readOnly)return!0;if((t=e.data.domEvent.getKey())in d&&0!==(e=c.getSelection()).getRanges().length){var t=8==t,n=e.getRanges()[0];if(e=n.startPath(),n.collapsed)e:{var i=e.block;if(i&&n[t?"checkStartOfBlock":"checkEndOfBlock"]()&&n.moveToClosestEditablePosition(i,!t)&&n.collapsed){if(n.startContainer.type==CKEDITOR.NODE_ELEMENT){var o=n.startContainer.getChild(n.startOffset-(t?1:0));if(o&&o.type==CKEDITOR.NODE_ELEMENT&&o.is("hr")){c.fire("saveSnapshot"),o.remove(),e=!0;break e}}var r;if(!(n=n.startPath().block)||n&&n.contains(i))e=void 0;else c.fire("saveSnapshot"),(r=(t?n:i).getBogus())&&r.remove(),o=(r=c.getSelection()).createBookmarks(),(t?i:n).moveChildren(t?n:i,!1),e.lastElement.mergeSiblings(),l(i,n,!t),r.selectBookmarks(o),e=!0}else e=!1}else t=n,r=e.block,n=t.endPath().block,e=!(!r||!n||r.equals(n))&&(c.fire("saveSnapshot"),(i=r.getBogus())&&i.remove(),t.enlarge(CKEDITOR.ENLARGE_INLINE),t.deleteContents(),n.getParent()&&(n.moveChildren(r,!1),e.lastElement.mergeSiblings(),l(r,n,!0)),(t=c.getSelection().getRanges()[0]).collapse(1),t.optimize(),""===t.startContainer.getHtml()&&t.startContainer.appendBogus(),t.select(),!0);if(!e)return;return c.getSelection().scrollIntoView(),c.fire("saveSnapshot"),!1}},this,null,100)}}},_:{detach:function(){var e;if(this.editor.setData(this.editor.getData(),0,1),this.clearListeners(),this.restoreAttrs(),e=this.removeCustomData("classes"))for(;e.length;)this.removeClass(e.pop());if(!this.is("textarea")){var t=(e=this.getDocument()).getHead();if(t.getCustomData("stylesheet")){var n=e.getCustomData("stylesheet_ref");--n?e.setCustomData("stylesheet_ref",n):(e.removeCustomData("stylesheet_ref"),t.removeCustomData("stylesheet").remove())}}this.editor.fire("contentDomUnload"),delete this.editor}}}),CKEDITOR.editor.prototype.editable=function(e){var t=this._.editable;return t&&e?0:(arguments.length&&(t=this._.editable=e?e instanceof CKEDITOR.editable?e:new CKEDITOR.editable(this,e):(t&&t.detach(),null)),t)},CKEDITOR.on("instanceLoaded",function(e){var n=e.editor;n.on("insertElement",function(e){(e=e.data).type==CKEDITOR.NODE_ELEMENT&&(e.is("input")||e.is("textarea"))&&("false"!=e.getAttribute("contentEditable")&&e.data("cke-editable",e.hasAttribute("contenteditable")?"true":"1"),e.setAttribute("contentEditable",!1))}),n.on("selectionChange",function(e){if(!n.readOnly){var t=n.getSelection();t&&!t.isLocked&&(t=n.checkDirty(),n.fire("lockSnapshot"),i(e),n.fire("unlockSnapshot"),!t&&n.resetDirty())}})}),CKEDITOR.on("instanceCreated",function(e){var o=e.editor;o.on("mode",function(){var e=o.editable();if(e&&e.isInline()){var t=o.title;if(e.changeAttr("role","textbox"),e.changeAttr("aria-label",t),t&&e.changeAttr("title",t),(i=o.fire("ariaEditorHelpLabel",{}).label)&&(t=this.ui.space(this.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?"top":"contents"))){var n=CKEDITOR.tools.getNextId(),i=CKEDITOR.dom.element.createFromHtml('<span id="'+n+'" class="cke_voice_label">'+i+"</span>");t.append(i),e.changeAttr("aria-describedby",n)}}})}),CKEDITOR.addCss(".cke_editable{cursor:text}.cke_editable img,.cke_editable input,.cke_editable textarea{cursor:default}"),h=CKEDITOR.dom.walker.whitespaces(!0),c=CKEDITOR.dom.walker.bookmark(!1,!0),p=CKEDITOR.dom.walker.empty(),d=CKEDITOR.dom.walker.bogus(),f=/(^|<body\b[^>]*>)\s*<(p|div|address|h\d|center|pre)[^>]*>\s*(?:<br[^>]*>|&nbsp;|\u00A0|&#160;)?\s*(:?<\/\2>)?\s*(?=$|<\/body>)/gi,m=function(){function D(e){return e.type==CKEDITOR.NODE_ELEMENT}function w(e,t){var n,i,o,r,a=[],s=t.range.startContainer;n=t.range.startPath();s=N[s.getName()];for(var l=0,c=e.getChildren(),d=c.count(),u=-1,h=-1,p=0,f=n.contains(N.$list);l<d;++l)D(n=c.getItem(l))?(o=n.getName(),f&&o in CKEDITOR.dtd.$list?a=a.concat(w(n,t)):(r=!!s[o],"br"!=o||!n.data("cke-eol")||l&&l!=d-1||(p=(i=l?a[l-1].node:c.getItem(l+1))&&(!D(i)||!i.is("br")),i=i&&D(i)&&N.$block[i.getName()]),-1!=u||r||(u=l),r||(h=l),a.push({isElement:1,isLineBreak:p,isBlock:n.isBlockBoundary(),hasBlockSibling:i,node:n,name:o,allowed:r}),i=p=0)):a.push({isElement:0,node:n,allowed:1});return-1<u&&(a[u].firstNotAllowed=1),-1<h&&(a[h].lastNotAllowed=1),a}function R(e,t){var n,i=[],o=e.getChildren(),r=o.count(),a=0,s=N[t],l=!e.is(N.$inline)||e.is("br");for(l&&i.push(" ");a<r;a++)D(n=o.getItem(a))&&!n.is(s)?i=i.concat(R(n,t)):i.push(n);return l&&i.push(" "),i}function k(e){return D(e.startContainer)&&e.startContainer.getChild(e.startOffset-1)}function x(e){return e&&D(e)&&(e.is(N.$removeEmpty)||e.is("a")&&!e.isBlockBoundary())}function S(e,t,n,i){var o,r,a=e.clone();a.setEndAt(t,CKEDITOR.POSITION_BEFORE_END),(o=new CKEDITOR.dom.walker(a).next())&&D(o)&&s[o.getName()]&&(r=o.getPrevious())&&D(r)&&!r.getParent().equals(e.startContainer)&&n.contains(r)&&i.contains(o)&&o.isIdentical(r)&&(o.moveChildren(r),o.remove(),S(e,t,n,i))}function K(e,t){function n(e,t){if(t.isBlock&&t.isElement&&!t.node.is("br")&&D(e)&&e.is("br"))return e.remove(),1}var i=t.endContainer.getChild(t.endOffset),o=t.endContainer.getChild(t.endOffset-1);i&&n(i,e[e.length-1]),o&&n(o,e[0])&&(t.setEnd(t.endContainer,t.endOffset-1),t.collapse())}var N=CKEDITOR.dtd,s={p:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,ul:1,ol:1,li:1,pre:1,dl:1,blockquote:1},A={p:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},L=CKEDITOR.tools.extend({},N.$inline);return delete L.br,function(e,t,n,i){var o=e.editor,r=!1;if("unfiltered_html"==t&&(t="html",r=!0),!i.checkReadOnly()){var a,s,l;if(t=(e={type:t,dontFilter:r,editable:e,editor:o,range:i,blockLimit:y=new CKEDITOR.dom.elementPath(i.startContainer,i.root).blockLimit||i.root,mergeCandidates:[],zombies:[]}).range,i=e.mergeCandidates,"text"==e.type&&t.shrink(CKEDITOR.SHRINK_ELEMENT,!0,!1)&&(a=CKEDITOR.dom.element.createFromHtml("<span>&nbsp;</span>",t.document),t.insertNode(a),t.setStartAfter(a)),r=new CKEDITOR.dom.elementPath(t.startContainer),e.endPath=y=new CKEDITOR.dom.elementPath(t.endContainer),!t.collapsed){o=y.block||y.blockLimit;var c=t.getCommonAncestor();o&&!o.equals(c)&&!o.contains(c)&&t.checkEndOfBlock()&&e.zombies.push(o),t.deleteContents()}for(;(s=k(t))&&D(s)&&s.isBlockBoundary()&&r.contains(s);)t.moveToPosition(s,CKEDITOR.POSITION_BEFORE_END);for(S(t,e.blockLimit,r,y),a&&(t.setEndBefore(a),t.collapse(),a.remove()),(o=(a=t.startPath()).contains(x,!1,1))&&(t.splitElement(o),e.inlineStylesRoot=o,e.inlineStylesPeak=a.lastElement),(o=(a=t.createBookmark()).startNode.getPrevious(P))&&D(o)&&x(o)&&i.push(o),(o=a.startNode.getNext(P))&&D(o)&&x(o)&&i.push(o),o=a.startNode;(o=o.getParent())&&x(o);)i.push(o);if(t.moveToBookmark(a),a=n){if(a=e.range,"text"==e.type&&e.inlineStylesRoot){for(t=(s=e.inlineStylesPeak).getDocument().createText("{cke-peak}"),i=e.inlineStylesRoot.getParent();!s.equals(i);)t=t.appendTo(s.clone()),s=s.getParent();n=t.getOuterHtml().split("{cke-peak}").join(n)}if(s=e.blockLimit.getName(),/^\s+|\s+$/.test(n)&&"span"in CKEDITOR.dtd[s])n=(v='<span data-cke-marker="1">&nbsp;</span>')+n+v;if(n=e.editor.dataProcessor.toHtml(n,{context:null,fixForBody:!1,protectedWhitespaces:!!v,dontFilter:e.dontFilter,filter:e.editor.activeFilter,enterMode:e.editor.activeEnterMode}),(s=a.document.createElement("body")).setHtml(n),v&&(s.getFirst().remove(),s.getLast().remove()),(v=a.startPath().block)&&(1!=v.getChildCount()||!v.getBogus()))e:{var d;if(1==s.getChildCount()&&D(d=s.getFirst())&&d.is(A)&&!d.hasAttribute("contenteditable")){for(a=0,i=(v=d.getElementsByTag("*")).count();a<i;a++)if(!(t=v.getItem(a)).is(L))break e;d.moveChildren(d.getParent(1)),d.remove()}}e.dataWrapper=s,a=n}if(a){var u;a=(d=e.range).document,s=e.blockLimit;var h,p,f,m,g,v=[];n=o=i=0,t=d.startContainer;var T,y=(r=e.endPath.elements[0]).getPosition(t);c=!(!r.getCommonAncestor(t)||y==CKEDITOR.POSITION_IDENTICAL||y&CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_IS_CONTAINED);for(K(t=w(e.dataWrapper,e),d);i<t.length;i++){if(u=(y=t[i]).isLineBreak){u=d,m=s;var E=void 0,b=void 0;u=y.hasBlockSibling?1:(E=u.startContainer.getAscendant(N.$block,1))&&E.is({div:1,p:1})?(b=E.getPosition(m))==CKEDITOR.POSITION_IDENTICAL||b==CKEDITOR.POSITION_CONTAINS?0:(m=u.splitElement(E),u.moveToPosition(m,CKEDITOR.POSITION_AFTER_START),1):0}if(u)n=0<i;else{if(u=d.startPath(),!y.isBlock&&M(e.editor,u.block,u.blockLimit)&&(f=F(e.editor))&&((f=a.createElement(f)).appendBogus(),d.insertNode(f),CKEDITOR.env.needsBrFiller&&(h=f.getBogus())&&h.remove(),d.moveToPosition(f,CKEDITOR.POSITION_BEFORE_END)),(u=d.startPath().block)&&!u.equals(p)&&((h=u.getBogus())&&(h.remove(),v.push(u)),p=u),y.firstNotAllowed&&(o=1),o&&y.isElement){for(u=d.startContainer,m=null;u&&!N[u.getName()][y.name];){if(u.equals(s)){u=null;break}u=(m=u).getParent()}if(u)m&&(g=d.splitElement(m),e.zombies.push(g),e.zombies.push(m));else{m=s.getName(),T=!i,u=i==t.length-1;E=[],b=(m=R(y.node,m)).length;for(var C=0,_=void 0,O=0,I=-1;C<b;C++)O=" "==(_=m[C])?(O||T&&!C||(E.push(new CKEDITOR.dom.text(" ")),I=E.length),1):(E.push(_),0);u&&I==E.length&&E.pop(),T=E}}if(T){for(;u=T.pop();)d.insertNode(u);T=0}else d.insertNode(y.node);y.lastNotAllowed&&i<t.length-1&&((g=c?r:g)&&d.setEndAt(g,CKEDITOR.POSITION_AFTER_START),o=0),d.collapse()}}(h=1==t.length&&((h=t[0]).isElement&&"false"==h.node.getAttribute("contenteditable")))&&(n=!0,u=t[0].node,d.setStartAt(u,CKEDITOR.POSITION_BEFORE_START),d.setEndAt(u,CKEDITOR.POSITION_AFTER_END)),e.dontMoveCaret=n,e.bogusNeededBlocks=v}for(h=e.range,g=e.bogusNeededBlocks,T=h.createBookmark();p=e.zombies.pop();)p.getParent()&&((f=h.clone()).moveToElementEditStart(p),f.removeEmptyBlocksAtEnd());if(g)for(;p=g.pop();)CKEDITOR.env.needsBrFiller?p.appendBogus():p.append(h.document.createText("\xa0"));for(;p=e.mergeCandidates.pop();)p.mergeSiblings();if(h.moveToBookmark(T),!e.dontMoveCaret){for(p=k(h);p&&D(p)&&!p.is(N.$empty);){if(p.isBlockBoundary())h.moveToPosition(p,CKEDITOR.POSITION_BEFORE_END);else{if(x(p)&&p.getHtml().match(/(\s|&nbsp;)$/g)){l=null;break}(l=h.clone()).moveToPosition(p,CKEDITOR.POSITION_BEFORE_END)}p=p.getLast(P)}l&&h.moveToRange(l)}}}}(),g=function(){function o(e){return(e=new CKEDITOR.dom.walker(e)).guard=function(e,t){return!t&&(e.type==CKEDITOR.NODE_ELEMENT?e.is(CKEDITOR.dtd.$tableContent):void 0)},e.evaluator=function(e){return e.type==CKEDITOR.NODE_ELEMENT},e}function r(e,t,n){return t=e.getDocument().createElement(t),e.append(t,n),t}function a(e){for(var t,n=e.count();0<n--;)t=e.getItem(n),CKEDITOR.tools.trim(t.getHtml())||(t.appendBogus(),CKEDITOR.env.ie&&CKEDITOR.env.version<9&&t.getChildCount()&&t.getFirst().remove())}return function(e){var t=e.startContainer,n=t.getAscendant("table",1),i=!1;a(n.getElementsByTag("td")),a(n.getElementsByTag("th")),(n=e.clone()).setStart(t,0),(n=o(n).lastBackward())||((n=e.clone()).setEndAt(t,CKEDITOR.POSITION_BEFORE_END),n=o(n).lastForward(),i=!0),n||(n=t),n.is("table")?(e.setStartAt(n,CKEDITOR.POSITION_BEFORE_START),e.collapse(!0),n.remove()):(n.is({tbody:1,thead:1,tfoot:1})&&(n=r(n,"tr",i)),n.is("tr")&&(n=r(n,n.getParent().is("thead")?"th":"td",i)),(t=n.getBogus())&&t.remove(),e.moveToPosition(n,i?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END))}}(),v=function(){function o(e){return(e=new CKEDITOR.dom.walker(e)).guard=function(e,t){return!t&&(e.type==CKEDITOR.NODE_ELEMENT?e.is(CKEDITOR.dtd.$list)||e.is(CKEDITOR.dtd.$listItem):void 0)},e.evaluator=function(e){return e.type==CKEDITOR.NODE_ELEMENT&&e.is(CKEDITOR.dtd.$listItem)},e}return function(e){var t,n=e.startContainer,i=!1;(t=e.clone()).setStart(n,0),(t=o(t).lastBackward())||((t=e.clone()).setEndAt(n,CKEDITOR.POSITION_BEFORE_END),t=o(t).lastForward(),i=!0),t||(t=n),t.is(CKEDITOR.dtd.$list)?(e.setStartAt(t,CKEDITOR.POSITION_BEFORE_START),e.collapse(!0),t.remove()):((n=t.getBogus())&&n.remove(),e.moveToPosition(t,i?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END),e.select())}}(),t={eol:{detect:function(e,t){var n=e.range,i=n.clone(),o=n.clone(),r=new CKEDITOR.dom.elementPath(n.startContainer,t),a=new CKEDITOR.dom.elementPath(n.endContainer,t);i.collapse(1),o.collapse(),r.block&&i.checkBoundaryOfElement(r.block,CKEDITOR.END)&&(n.setStartAfter(r.block),e.prependEolBr=1),a.block&&o.checkBoundaryOfElement(a.block,CKEDITOR.START)&&(n.setEndBefore(a.block),e.appendEolBr=1)},fix:function(e,t){var n,i=t.getDocument();e.appendEolBr&&(n=this.createEolBr(i),e.fragment.append(n)),!e.prependEolBr||n&&!n.getPrevious()||e.fragment.append(this.createEolBr(i),1)},createEolBr:function(e){return e.createElement("br",{attributes:{"data-cke-eol":1}})}},bogus:{exclude:function(e){var t,n=(t=e.range.getBoundaryNodes()).startNode;!(t=t.endNode)||!d(t)||n&&n.equals(t)||e.range.setEndBefore(t)}},tree:{rebuild:function(e,t){var n,i=(a=e.range).getCommonAncestor(),o=new CKEDITOR.dom.elementPath(i,t),r=new CKEDITOR.dom.elementPath(a.startContainer,t),a=new CKEDITOR.dom.elementPath(a.endContainer,t);if(i.type==CKEDITOR.NODE_TEXT&&(i=i.getParent()),o.blockLimit.is({tr:1,table:1})){var s=o.contains("table").getParent();n=function(e){return!e.equals(s)}}else if(o.block&&o.block.is(CKEDITOR.dtd.$listItem)&&(r=r.contains(CKEDITOR.dtd.$list),a=a.contains(CKEDITOR.dtd.$list),!r.equals(a))){var l=o.contains(CKEDITOR.dtd.$list).getParent();n=function(e){return!e.equals(l)}}n||(n=function(e){return!e.equals(o.block)&&!e.equals(o.blockLimit)}),this.rebuildFragment(e,t,i,n)},rebuildFragment:function(e,t,n,i){for(var o;n&&!n.equals(t)&&i(n);)o=n.clone(0,1),e.fragment.appendTo(o),e.fragment=o,n=n.getParent()}},cell:{shrink:function(e){var t=(e=e.range).startContainer,n=e.endContainer,i=e.startOffset,o=e.endOffset;t.type==CKEDITOR.NODE_ELEMENT&&t.equals(n)&&t.is("tr")&&++i==o&&e.shrink(CKEDITOR.SHRINK_TEXT)}}},T=function(){function o(e,t){var n=e.getParent();n.is(CKEDITOR.dtd.$inline)&&e[t?"insertBefore":"insertAfter"](n)}function l(e,t,n){o(t),o(n,1);for(var i;i=n.getNext();)i.insertAfter(t),t=i;p(e)&&e.remove()}function u(e,t){var n=new CKEDITOR.dom.range(e);return n.setStartAfter(t.startNode),n.setEndBefore(t.endNode),n}return{list:{detectMerge:function(e,t){var n=u(t,e.bookmark),i=n.startPath(),o=n.endPath(),r=i.contains(CKEDITOR.dtd.$list),a=o.contains(CKEDITOR.dtd.$list);e.mergeList=r&&a&&r.getParent().equals(a.getParent())&&!r.equals(a),e.mergeListItems=i.block&&o.block&&i.block.is(CKEDITOR.dtd.$listItem)&&o.block.is(CKEDITOR.dtd.$listItem),(e.mergeList||e.mergeListItems)&&((n=n.clone()).setStartBefore(e.bookmark.startNode),n.setEndAfter(e.bookmark.endNode),e.mergeListBookmark=n.createBookmark())},merge:function(e,t){if(e.mergeListBookmark){var n=e.mergeListBookmark.startNode,i=e.mergeListBookmark.endNode,o=new CKEDITOR.dom.elementPath(n,t),r=new CKEDITOR.dom.elementPath(i,t);if(e.mergeList){var a=o.contains(CKEDITOR.dtd.$list),s=r.contains(CKEDITOR.dtd.$list);a.equals(s)||(s.moveChildren(a),s.remove())}e.mergeListItems&&(o=o.contains(CKEDITOR.dtd.$listItem),r=r.contains(CKEDITOR.dtd.$listItem),o.equals(r)||l(r,n,i)),n.remove(),i.remove()}}},block:{detectMerge:function(e,t){if(!e.tableContentsRanges&&!e.mergeListBookmark){var n=new CKEDITOR.dom.range(t);n.setStartBefore(e.bookmark.startNode),n.setEndAfter(e.bookmark.endNode),e.mergeBlockBookmark=n.createBookmark()}},merge:function(e,t){if(e.mergeBlockBookmark&&!e.purgeTableBookmark){var n=e.mergeBlockBookmark.startNode,i=e.mergeBlockBookmark.endNode,o=new CKEDITOR.dom.elementPath(n,t),r=new CKEDITOR.dom.elementPath(i,t);o=o.block,r=r.block;o&&r&&!o.equals(r)&&l(r,n,i),n.remove(
),i.remove()}}},table:function(){function s(i){var o,r=[],e=new CKEDITOR.dom.walker(i),a=i.startPath().contains(d),s=i.endPath().contains(d),l={};return e.guard=function(e,t){if(e.type==CKEDITOR.NODE_ELEMENT){var n="visited_"+(t?"out":"in");if(e.getCustomData(n))return;CKEDITOR.dom.element.setMarker(l,e,n,1)}t&&a&&e.equals(a)?((o=i.clone()).setEndAt(a,CKEDITOR.POSITION_BEFORE_END),r.push(o)):!t&&s&&e.equals(s)?((o=i.clone()).setStartAt(s,CKEDITOR.POSITION_AFTER_START),r.push(o)):((n=!t)&&(n=e.type==CKEDITOR.NODE_ELEMENT&&e.is(d)&&(!a||c(e,a))&&(!s||c(e,s))),n&&((o=i.clone()).selectNodeContents(e),r.push(o)))},e.lastForward(),CKEDITOR.dom.element.clearAllMarkers(l),r}function c(e,t){var n=CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_IS_CONTAINED,i=e.getPosition(t);return i!==CKEDITOR.POSITION_IDENTICAL&&0==(i&n)}var d={td:1,th:1,caption:1};return{detectPurge:function(e){var t=e.range;(n=t.clone()).enlarge(CKEDITOR.ENLARGE_ELEMENT);var n=new CKEDITOR.dom.walker(n),i=0;if(n.evaluator=function(e){e.type==CKEDITOR.NODE_ELEMENT&&e.is(d)&&++i},n.checkForward(),1<i){n=t.startPath().contains("table");var o=t.endPath().contains("table");n&&o&&t.checkBoundaryOfElement(n,CKEDITOR.START)&&t.checkBoundaryOfElement(o,CKEDITOR.END)&&((t=e.range.clone()).setStartBefore(n),t.setEndAfter(o),e.purgeTableBookmark=t.createBookmark())}},detectRanges:function(e,t){var n,i,o=u(t,e.bookmark),r=o.clone(),a=o.getCommonAncestor();a.is(CKEDITOR.dtd.$tableContent)&&!a.is(d)&&(a=a.getAscendant("table",!0)),i=a,a=new CKEDITOR.dom.elementPath(o.startContainer,i),i=new CKEDITOR.dom.elementPath(o.endContainer,i),a=a.contains("table"),i=i.contains("table"),(a||i)&&(a&&i&&c(a,i)?((e.tableSurroundingRange=r).setStartAt(a,CKEDITOR.POSITION_AFTER_END),r.setEndAt(i,CKEDITOR.POSITION_BEFORE_START),(r=o.clone()).setEndAt(a,CKEDITOR.POSITION_AFTER_END),(n=o.clone()).setStartAt(i,CKEDITOR.POSITION_BEFORE_START),n=s(r).concat(s(n))):a?i||((e.tableSurroundingRange=r).setStartAt(a,CKEDITOR.POSITION_AFTER_END),o.setEndAt(a,CKEDITOR.POSITION_AFTER_END)):((e.tableSurroundingRange=r).setEndAt(i,CKEDITOR.POSITION_BEFORE_START),o.setStartAt(i,CKEDITOR.POSITION_AFTER_START)),e.tableContentsRanges=n||s(o))},deleteRanges:function(e){for(var t;t=e.tableContentsRanges.pop();)t.extractContents(),p(t.startContainer)&&t.startContainer.appendBogus();e.tableSurroundingRange&&e.tableSurroundingRange.extractContents()},purge:function(e){if(e.purgeTableBookmark){var t=e.doc,n=e.range.clone();(t=t.createElement("p")).insertBefore(e.purgeTableBookmark.startNode),n.moveToBookmark(e.purgeTableBookmark),n.deleteContents(),e.range.moveToPosition(t,CKEDITOR.POSITION_AFTER_START)}}}}(),detectExtractMerge:function(e){return!(e.range.startPath().contains(CKEDITOR.dtd.$listItem)&&e.range.endPath().contains(CKEDITOR.dtd.$listItem))},fixUneditableRangePosition:function(e){e.startContainer.getDtd()["#"]||e.moveToClosestEditablePosition(null,!0)},autoParagraph:function(e,t){var n,i=t.startPath();M(e,i.block,i.blockLimit)&&(n=F(e))&&((n=t.document.createElement(n)).appendBogus(),t.insertNode(n),t.moveToPosition(n,CKEDITOR.POSITION_AFTER_START))}}}()}(),function(){function h(e,t){if(0===e.length)return!1;var n,i;if((n=!t&&1===e.length)&&!(n=e[0].collapsed)){var o=e[0];n=o.startContainer.getAscendant({td:1,th:1},!0);var r=o.endContainer.getAscendant({td:1,th:1},!0);i=CKEDITOR.tools.trim,n=!(!n||!n.equals(r)||n.findOne("td, th, tr, tbody, table"))&&(!(o=o.cloneContents()).getFirst()||i(o.getFirst().getText())!==i(n.getText()))}if(n)return!1;for(i=0;i<e.length;i++)if(!(n=e[i]._getTableElement()))return!1;return!0}function r(e){function t(e){e=e.find("td, th");var t,n=[];for(t=0;t<e.count();t++)n.push(e.getItem(t));return n}var n,i,o=[];for(i=0;i<e.length;i++)(n=e[i]._getTableElement()).is&&n.is({td:1,th:1})?o.push(n):o=o.concat(t(n));return o}function i(e){e=r(e);var t,n,i="",o=[];for(n=0;n<e.length;n++)t&&!t.equals(e[n].getAscendant("tr"))?(i+=o.join("\t")+"\n",t=e[n].getAscendant("tr"),o=[]):0===n&&(t=e[n].getAscendant("tr")),o.push(e[n].getText());return i+o.join("\t")}function p(e){var t=this.root.editor,n=t.getSelection(1);this.reset(),b=!0,n.root.once("selectionchange",function(e){e.cancel()},null,null,0),n.selectRanges([e[0]]),(n=this._.cache).ranges=new CKEDITOR.dom.rangeList(e),n.type=CKEDITOR.SELECTION_TEXT,n.selectedElement=e[0]._getTableElement(),n.selectedText=i(e),n.nativeSel=null,this.isFake=1,this.rev=O++,t._.fakeSelection=this,b=!1,this.root.fire("selectionchange")}function g(){var e,t=this._.fakeSelection;if(t){var n;if(!(n=!(e=this.getSelection(1)))&&(n=!e.isHidden())){n=t;var i=e.getRanges(),o=n.getRanges(),r=i.length&&i[0]._getTableElement()&&i[0]._getTableElement().getAscendant("table",!0),a=o.length&&o[0]._getTableElement()&&o[0]._getTableElement().getAscendant("table",!0),s=1===i.length&&i[0]._getTableElement()&&i[0]._getTableElement().is("table"),l=1===o.length&&o[0]._getTableElement()&&o[0]._getTableElement().is("table"),c=1===i.length&&i[0].collapsed;o=h(i,!!CKEDITOR.env.webkit)&&h(o);n=!(n=!(!(r=!(!r||!a)&&(r.equals(a)||a.contains(r)))||!c&&!o)&&(s&&!l&&n.selectRanges(i),!0))}n&&(t.reset(),t=0)}(t||(t=e||this.getSelection(1))&&t.getType()!=CKEDITOR.SELECTION_NONE)&&(this.fire("selectionCheck",t),(e=this.elementPath()).compare(this._.selectionPreviousPath)||(n=this._.selectionPreviousPath&&this._.selectionPreviousPath.blockLimit.equals(e.blockLimit),CKEDITOR.env.webkit&&!n&&(this._.previousActive=this.document.getActive()),this._.selectionPreviousPath=e,this.fire("selectionChange",{selection:t,path:e})))}function v(){C=!0,t||(e.call(this),t=CKEDITOR.tools.setTimeout(e,200,this))}function e(){t=null,C&&(CKEDITOR.tools.setTimeout(g,0,this),C=!1)}function a(e){return!(!c(e)&&(e.type!=CKEDITOR.NODE_ELEMENT||e.is(CKEDITOR.dtd.$empty)))}function f(n){function e(e,t){return!(!e||e.type==CKEDITOR.NODE_TEXT)&&n.clone()["moveToElementEdit"+(t?"End":"Start")](e)}if(!(n.root instanceof CKEDITOR.editable))return!1;var t=n.startContainer,i=n.getPreviousNode(a,null,t),o=n.getNextNode(a,null,t);return!(!e(i)&&!e(o,1)&&(i||o||t.type==CKEDITOR.NODE_ELEMENT&&t.isBlockBoundary()&&t.getBogus()))}function m(e){T(e,!1);var t=e.getDocument().createText(l);return e.setCustomData("cke-fillingChar",t),t}function T(e,t){var n=e&&e.removeCustomData("cke-fillingChar");if(n){if(!1!==t){var i=e.getDocument().getSelection().getNative(),o=i&&"None"!=i.type&&i.getRangeAt(0),r=l.length;if(n.getLength()>r&&o&&o.intersectsNode(n.$)){var a=[{node:i.anchorNode,offset:i.anchorOffset},{node:i.focusNode,offset:i.focusOffset}];i.anchorNode==n.$&&i.anchorOffset>r&&(a[0].offset-=r),i.focusNode==n.$&&i.focusOffset>r&&(a[1].offset-=r)}}n.setText(s(n.getText(),1)),a&&(i=(n=e.getDocument().$).getSelection(),(n=n.createRange()).setStart(a[0].node,a[0].offset),n.collapse(!0),i.removeAllRanges(),i.addRange(n),i.extend(a[1].node,a[1].offset))}}function s(e,t){return t?e.replace(n,function(e,t){return t?"\xa0":""}):e.replace(l,"")}function y(e,t){var n=CKEDITOR.dom.element.createFromHtml('<div data-cke-hidden-sel="1" data-cke-temp="1" style="'+(CKEDITOR.env.ie&&CKEDITOR.env.version<14?"display:none":"position:fixed;top:0;left:-1000px")+'">'+(t||"&nbsp;")+"</div>",e.document);e.fire("lockSnapshot"),e.editable().append(n);var i=e.getSelection(1),o=e.createRange(),r=i.root.on("selectionchange",function(e){e.cancel()},null,null,0);o.setStartAt(n,CKEDITOR.POSITION_AFTER_START),o.setEndAt(n,CKEDITOR.POSITION_BEFORE_END),i.selectRanges([o]),r.removeListener(),e.fire("unlockSnapshot"),e._.hiddenSelectionContainer=n}function E(o){var r={37:1,39:1,8:1,46:1};return function(e){var t=e.data.getKeystroke();if(r[t]){var n=o.getSelection().getRanges(),i=n[0];1==n.length&&i.collapsed&&(t=i[t<38?"getPreviousEditableNode":"getNextEditableNode"]())&&t.type==CKEDITOR.NODE_ELEMENT&&"false"==t.getAttribute("contenteditable")&&(o.getSelection().fake(t),e.data.preventDefault(),e.cancel())}}}function o(n){for(var i=0;i<n.length;i++){var o=n[i];if(o.getCommonAncestor().isReadOnly()&&n.splice(i,1),!o.collapsed){if(o.startContainer.isReadOnly())for(var e,t=o.startContainer;t&&!((e=t.type==CKEDITOR.NODE_ELEMENT)&&t.is("body")||!t.isReadOnly());)e&&"false"==t.getAttribute("contentEditable")&&o.setStartAfter(t),t=t.getParent();t=o.startContainer,e=o.endContainer;var r=o.startOffset,a=o.endOffset,s=o.clone();t&&t.type==CKEDITOR.NODE_TEXT&&(r>=t.getLength()?s.setStartAfter(t):s.setStartBefore(t)),e&&e.type==CKEDITOR.NODE_TEXT&&(a?s.setEndAfter(e):s.setEndBefore(e)),(t=new CKEDITOR.dom.walker(s)).evaluator=function(e){if(e.type==CKEDITOR.NODE_ELEMENT&&e.isReadOnly()){var t=o.clone();return o.setEndBefore(e),o.collapsed&&n.splice(i--,1),e.getPosition(s.endContainer)&CKEDITOR.POSITION_CONTAINS||(t.setStartAfter(e),t.collapsed||n.splice(i+1,0,t)),!0}return!1},t.next()}}return n}var b,t,C,_="function"!=typeof window.getSelection,O=1,l=CKEDITOR.tools.repeat("\u200b",7),n=new RegExp(l+"( )?","g"),c=CKEDITOR.dom.walker.invisible(1),d=function(){function e(n){return function(e){var t=e.editor.createRange();return t.moveToClosestEditablePosition(e.selected,n)&&e.editor.getSelection().selectRanges([t]),!1}}function t(o){return function(e){var t,n=e.editor,i=n.createRange();return(t=i.moveToClosestEditablePosition(e.selected,o))||(t=i.moveToClosestEditablePosition(e.selected,!o)),t&&n.getSelection().selectRanges([i]),n.fire("saveSnapshot"),e.selected.remove(),t||(i.moveToElementEditablePosition(n.editable()),n.getSelection().selectRanges([i])),n.fire("saveSnapshot"),!1}}var n=e(),i=e(1);return{37:n,38:n,39:i,40:i,8:t(),46:t(1)}}();CKEDITOR.on("instanceCreated",function(e){function t(){var e=m.getSelection();e&&e.removeAllRanges()}var m=e.editor;m.on("contentDom",function(){function e(){(o=new CKEDITOR.dom.selection(m.getSelection())).lock()}function n(){l.removeListener("mouseup",n),u.removeListener("mouseup",n);var e=CKEDITOR.document.$.selection,t=e.createRange();"None"!=e.type&&t.parentElement().ownerDocument==s.$&&t.select()}function i(e){if(CKEDITOR.env.ie){var t=(e=e.getRanges()[0])?e.startContainer.getAscendant(function(e){return e.type==CKEDITOR.NODE_ELEMENT&&("false"==e.getAttribute("contenteditable")||"true"==e.getAttribute("contenteditable"))},!0):null;return e&&"false"==t.getAttribute("contenteditable")&&t}}var t,o,r,a,s=m.document,l=CKEDITOR.document,c=m.editable(),d=s.getBody(),u=s.getDocumentElement(),h=c.isInline();if((CKEDITOR.env.gecko&&c.attachListener(c,"focus",function(e){e.removeListener(),0!==t&&(e=m.getSelection().getNative())&&e.isCollapsed&&e.anchorNode==c.$&&((e=m.createRange()).moveToElementEditStart(c),e.select())},null,null,-2),c.attachListener(c,CKEDITOR.env.webkit?"DOMFocusIn":"focus",function(){t&&CKEDITOR.env.webkit&&(t=m._.previousActive&&m._.previousActive.equals(s.getActive()))&&null!=m._.previousScrollTop&&m._.previousScrollTop!=c.$.scrollTop&&(c.$.scrollTop=m._.previousScrollTop),m.unlockSelection(t),t=0},null,null,-1),c.attachListener(c,"mousedown",function(){t=0}),(CKEDITOR.env.ie||h)&&(_?c.attachListener(c,"beforedeactivate",e,null,null,-1):c.attachListener(m,"selectionCheck",e,null,null,-1),c.attachListener(c,CKEDITOR.env.webkit?"DOMFocusOut":"blur",function(){m.lockSelection(o),t=1},null,null,-1),c.attachListener(c,"mousedown",function(){t=0})),CKEDITOR.env.ie&&!h)&&(c.attachListener(c,"mousedown",function(e){2==e.data.$.button&&((e=m.document.getSelection())&&e.getType()!=CKEDITOR.SELECTION_NONE||(r=m.window.getScrollPosition()))}),c.attachListener(c,"mouseup",function(e){2==e.data.$.button&&r&&(m.document.$.documentElement.scrollLeft=r.x,m.document.$.documentElement.scrollTop=r.y),r=null}),"BackCompat"!=s.$.compatMode)){var p,f;if(CKEDITOR.env.ie7Compat||CKEDITOR.env.ie6Compat)u.on("mousedown",function(e){function t(e){if(e=e.data.$,p){var t=d.$.createTextRange();try{t.moveToPoint(e.clientX,e.clientY)}catch(i){}p.setEndPoint(f.compareEndPoints("StartToStart",t)<0?"EndToEnd":"StartToStart",t),p.select()}}function n(){u.removeListener("mousemove",t),l.removeListener("mouseup",n),u.removeListener("mouseup",n),p.select()}if((e=e.data).getTarget().is("html")&&e.$.y<u.$.clientHeight&&e.$.x<u.$.clientWidth){p=d.$.createTextRange();try{p.moveToPoint(e.$.clientX,e.$.clientY)}catch(i){}f=p.duplicate(),u.on("mousemove",t),l.on("mouseup",n),u.on("mouseup",n)}});7<CKEDITOR.env.version&&CKEDITOR.env.version<11&&u.on("mousedown",function(e){e.data.getTarget().is("html")&&(l.on("mouseup",n),u.on("mouseup",n))})}(c.attachListener(c,"selectionchange",g,m),c.attachListener(c,"keyup",v,m),c.attachListener(c,"keydown",function(e){var t=this.getSelection(1);i(t)&&(t.selectElement(i(t)),e.data.preventDefault())},m),c.attachListener(c,CKEDITOR.env.webkit?"DOMFocusIn":"focus",function(){m.forceNextSelectionCheck(),m.selectionChange(1)}),h&&(CKEDITOR.env.webkit||CKEDITOR.env.gecko))?(c.attachListener(c,"mousedown",function(){a=1}),c.attachListener(s.getDocumentElement(),"mouseup",function(){a&&v.call(m),a=0})):c.attachListener(CKEDITOR.env.ie?c:s.getDocumentElement(),"mouseup",v,m);CKEDITOR.env.webkit&&c.attachListener(s,"keydown",function(e){switch(e.data.getKey()){case 13:case 33:case 34:case 35:case 36:case 37:case 39:case 8:case 45:case 46:c.hasFocus&&T(c)}},null,null,-1),c.attachListener(c,"keydown",E(m),null,null,-1)}),m.on("setData",function(){m.unlockSelection(),CKEDITOR.env.webkit&&t()}),m.on("contentDomUnload",function(){m.unlockSelection()}),CKEDITOR.env.ie9Compat&&m.on("beforeDestroy",t,null,null,9),m.on("dataReady",function(){delete m._.fakeSelection,delete m._.hiddenSelectionContainer,m.selectionChange(1)}),m.on("loadSnapshot",function(){var e=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_ELEMENT),t=m.editable().getLast(e);t&&t.hasAttribute("data-cke-hidden-sel")&&(t.remove(),CKEDITOR.env.gecko&&(e=m.editable().getFirst(e))&&e.is("br")&&e.getAttribute("_moz_editor_bogus_node")&&e.remove())},null,null,100),m.on("key",function(e){if("wysiwyg"==m.mode){var t=m.getSelection();if(t.isFake){var n=d[e.data.keyCode];if(n)return n({editor:m,selected:t.getSelectedElement(),selection:t,keyEvent:e})}}})}),CKEDITOR.env.webkit&&CKEDITOR.on("instanceReady",function(e){var n=e.editor;n.on("selectionChange",function(){var e=n.editable(),t=e.getCustomData("cke-fillingChar");t&&(t.getCustomData("ready")?(T(e),e.editor.fire("selectionCheck")):t.setCustomData("ready",1))},null,null,-1),n.on("beforeSetMode",function(){T(n.editable())},null,null,-1),n.on("getSnapshot",function(e){e.data&&(e.data=s(e.data))},n,null,20),n.on("toDataFormat",function(e){e.data.dataValue=s(e.data.dataValue)},null,null,0)}),CKEDITOR.editor.prototype.selectionChange=function(e){(e?g:v).call(this)},CKEDITOR.editor.prototype.getSelection=function(e){return!this._.savedSelection&&!this._.fakeSelection||e?(e=this.editable())&&"wysiwyg"==this.mode?new CKEDITOR.dom.selection(e):null:this._.savedSelection||this._.fakeSelection},CKEDITOR.editor.prototype.lockSelection=function(e){return(e=e||this.getSelection(1)).getType()!=CKEDITOR.SELECTION_NONE&&(!e.isLocked&&e.lock(),this._.savedSelection=e,!0)},CKEDITOR.editor.prototype.unlockSelection=function(e){var t=this._.savedSelection;return!!t&&(t.unlock(e),delete this._.savedSelection,!0)},CKEDITOR.editor.prototype.forceNextSelectionCheck=function(){delete this._.selectionPreviousPath},CKEDITOR.dom.document.prototype.getSelection=function(){return new CKEDITOR.dom.selection(this)},CKEDITOR.dom.range.prototype.select=function(){var e=this.root instanceof CKEDITOR.editable?this.root.editor.getSelection():new CKEDITOR.dom.selection(this.root);return e.selectRanges([this]),e},CKEDITOR.SELECTION_NONE=1,CKEDITOR.SELECTION_TEXT=2,CKEDITOR.SELECTION_ELEMENT=3,CKEDITOR.dom.selection=function(e){if(e instanceof CKEDITOR.dom.selection){var t=e;e=e.root}var n,i,o=e instanceof CKEDITOR.dom.element;if(this.rev=t?t.rev:O++,this.document=e instanceof CKEDITOR.dom.document?e:e.getDocument(),this.root=o?e:this.document.getBody(),this.isLocked=0,this._={cache:{}},t)return CKEDITOR.tools.extend(this._.cache,t._.cache),this.isFake=t.isFake,this.isLocked=t.isLocked,this;if(e=this.getNative())if(e.getRangeAt)n=(i=e.rangeCount&&e.getRangeAt(0))&&new CKEDITOR.dom.node(i.commonAncestorContainer);else{try{i=e.createRange()}catch(T){}n=i&&CKEDITOR.dom.element.get(i.item&&i.item(0)||i.parentElement())}return(!n||n.type!=CKEDITOR.NODE_ELEMENT&&n.type!=CKEDITOR.NODE_TEXT||!this.root.equals(n)&&!this.root.contains(n))&&(this._.cache.type=CKEDITOR.SELECTION_NONE,this._.cache.startElement=null,this._.cache.selectedElement=null,this._.cache.selectedText="",this._.cache.ranges=new CKEDITOR.dom.rangeList),this};var u,I={img:1,hr:1,li:1,table:1,tr:1,td:1,th:1,embed:1,object:1,ol:1,ul:1,a:1,input:1,form:1,select:1,textarea:1,button:1,fieldset:1,thead:1,tfoot:1};CKEDITOR.tools.extend(CKEDITOR.dom.selection,{_removeFillingCharSequenceString:s,_createFillingCharSequenceNode:m,FILLING_CHAR_SEQUENCE:l}),CKEDITOR.dom.selection.prototype={getNative:function(){return void 0!==this._.cache.nativeSel?this._.cache.nativeSel:this._.cache.nativeSel=_?this.document.$.selection:this.document.getWindow().$.getSelection()},getType:_?function(){var e=this._.cache;if(e.type)return e.type;var t=CKEDITOR.SELECTION_NONE;try{var n=this.getNative(),i=n.type;"Text"==i&&(t=CKEDITOR.SELECTION_TEXT),"Control"==i&&(t=CKEDITOR.SELECTION_ELEMENT),n.createRange().parentElement()&&(t=CKEDITOR.SELECTION_TEXT)}catch(g){}return e.type=t}:function(){var e=this._.cache;if(e.type)return e.type;var t=CKEDITOR.SELECTION_TEXT;if((n=this.getNative())&&n.rangeCount){if(1==n.rangeCount){var n,i=(n=n.getRangeAt(0)).startContainer;i==n.endContainer&&1==i.nodeType&&1==n.endOffset-n.startOffset&&I[i.childNodes[n.startOffset].nodeName.toLowerCase()]&&(t=CKEDITOR.SELECTION_ELEMENT)}}else t=CKEDITOR.SELECTION_NONE;return e.type=t},getRanges:(u=_?function(){function h(e){return new CKEDITOR.dom.node(e).getIndex()}var s=function(e,t){(e=e.duplicate()).collapse(t);var n=e.parentElement();if(!n.hasChildNodes())return{container:n,offset:0};for(var i,o,r,a,s=n.children,l=e.duplicate(),c=0,d=s.length-1,u=-1;c<=d;)if(i=s[u=Math.floor((c+d)/2)],l.moveToElementText(i),0<(r=l.compareEndPoints("StartToStart",e)))d=u-1;else{if(!(r<0))return{container:n,offset:h(i)};c=u+1}if(-1==u||u==s.length-1&&r<0){if(l.moveToElementText(n),l.setEndPoint("StartToStart",e),l=l.text.replace(/(\r\n|\r)/g,"\n").length,s=n.childNodes,!l)return(i=s[s.length-1]).nodeType!=CKEDITOR.NODE_TEXT?{container:n,offset:s.length}:{container:i,offset:i.nodeValue.length};for(n=s.length;0<l&&0<n;)(o=s[--n]).nodeType==CKEDITOR.NODE_TEXT&&(l-=(a=o).nodeValue.length);return{container:a,offset:-l}}if(l.collapse(0<r),l.setEndPoint(0<r?"StartToStart":"EndToStart",e),!(l=l.text.replace(/(\r\n|\r)/g,"\n").length))return{container:n,offset:h(i)+(0<r?0:1)};for(;0<l;)try{(o=i[0<r?"previousSibling":"nextSibling"]).nodeType==CKEDITOR.NODE_TEXT&&(l-=o.nodeValue.length,a=o),i=o}catch(O){return{container:n,offset:h(i)}}return{container:a,offset:0<r?-l:a.nodeValue.length+l}};return function(){var e=(a=this.getNative())&&a.createRange(),t=this.getType();if(!a)return[];if(t==CKEDITOR.SELECTION_TEXT)return a=new CKEDITOR.dom.range(this.root),t=s(e,!0),a.setStart(new CKEDITOR.dom.node(t.container),t.offset),t=s(e),a.setEnd(new CKEDITOR.dom.node(t.container),t.offset),a.endContainer.getPosition(a.startContainer)&CKEDITOR.POSITION_PRECEDING&&a.endOffset<=a.startContainer.getIndex()&&a.collapse(),[a];if(t!=CKEDITOR.SELECTION_ELEMENT)return[];t=[];for(var n=0;n<e.length;n++){for(var i=e.item(n),o=i.parentNode,r=0,a=new CKEDITOR.dom.range(this.root);r<o.childNodes.length&&o.childNodes[r]!=i;r++);a.setStart(new CKEDITOR.dom.node(o),r),a.setEnd(new CKEDITOR.dom.node(o),r+1),t.push(a)}return t}}():function(){var e,t=[],n=this.getNative();if(!n)return t;for(var i=0;i<n.rangeCount;i++){var o=n.getRangeAt(i);(e=new CKEDITOR.dom.range(this.root)).setStart(new CKEDITOR.dom.node(o.startContainer),o.startOffset),e.setEnd(new CKEDITOR.dom.node(o.endContainer),o.endOffset),t.push(e)}return t},function(e){var t=this._.cache,n=t.ranges;return n||(t.ranges=n=new CKEDITOR.dom.rangeList(u.call(this))),e?o(new CKEDITOR.dom.rangeList(n.slice())):n}),getStartElement:function(){var e,t=this._.cache;if(void 0!==t.startElement)return t.startElement;switch(this.getType()){case CKEDITOR.SELECTION_ELEMENT:return this.getSelectedElement();case CKEDITOR.SELECTION_TEXT:var n=this.getRanges()[0];if(n){if(n.collapsed)(e=n.startContainer).type!=CKEDITOR.NODE_ELEMENT&&(e=e.getParent());else{for(n.optimize();e=n.startContainer,n.startOffset==(e.getChildCount?e.getChildCount():e.getLength())&&!e.isBlockBoundary();)n.setStartAfter(e);if((e=n.startContainer).type!=CKEDITOR.NODE_ELEMENT)return e.getParent();if((e=e.getChild(n.startOffset))&&e.type==CKEDITOR.NODE_ELEMENT)for(n=e.getFirst();n&&n.type==CKEDITOR.NODE_ELEMENT;)n=(e=n).getFirst();else e=n.startContainer}e=e.$}}return t.startElement=e?new CKEDITOR.dom.element(e):null},getSelectedElement:function(){var e=this._.cache;if(void 0!==e.selectedElement)return e.selectedElement;var o=this,t=CKEDITOR.tools.tryThese(function(){return o.getNative().createRange().item(0)},function(){for(var e,t,n=o.getRanges()[0].clone(),i=2;i&&!((e=n.getEnclosedNode())&&e.type==CKEDITOR.NODE_ELEMENT&&I[e.getName()]&&(t=e));i--)n.shrink(CKEDITOR.SHRINK_ELEMENT);return t&&t.$});return e.selectedElement=t?new CKEDITOR.dom.element(t):null},getSelectedText:function(){var e=this._.cache;if(void 0!==e.selectedText)return e.selectedText;var t=this.getNative();t=_?"Control"==t.type?"":t.createRange().text:t.toString();return e.selectedText=t},lock:function(){this.getRanges(),this.getStartElement(),this.getSelectedElement(),this.getSelectedText(),this._.cache.nativeSel=null,this.isLocked=1},unlock:function(e){if(this.isLocked){if(e)var t=this.getSelectedElement(),n=this.getRanges(),i=this.isFake;this.isLocked=0,this.reset(),e&&(e=t||n[0]&&n[0].getCommonAncestor())&&e.getAscendant("body",1)&&(h(n)?p.call(this,n):i?this.fake(t):t?this.selectElement(t):this.selectRanges(n))}},reset:function(){this._.cache={},this.isFake=0;var e=this.root.editor;if(e&&e._.fakeSelection)if(this.rev==e._.fakeSelection.rev){delete e._.fakeSelection;var t=e._.hiddenSelectionContainer;if(t){var n=e.checkDirty();e.fire("lockSnapshot"),t.remove(),e.fire("unlockSnapshot"),!n&&e.resetDirty()}delete e._.hiddenSelectionContainer}else CKEDITOR.warn("selection-fake-reset");this.rev=O++},selectElement:function(e){var t=new CKEDITOR.dom.range(this.root);t.setStartBefore(e),t.setEndAfter(e),this.selectRanges([t])},selectRanges:function(e){var t=this.root.editor,n=t&&t._.hiddenSelectionContainer;if(this.reset(),n){n=this.root;for(var i,o=0;o<e.length;++o)(i=e[o]).endContainer.equals(n)&&(i.endOffset=Math.min(i.endOffset,n.getChildCount()))}if(e.length)if(this.isLocked){var r=CKEDITOR.document.getActive();this.unlock(),this.selectRanges(e),this.lock(),r&&!r.equals(this.root)&&r.focus()}else{var a,s,l;if(1==e.length&&!(l=e[0]).collapsed&&(a=l.getEnclosedNode())&&a.type==CKEDITOR.NODE_ELEMENT&&((l=l.clone()).shrink(CKEDITOR.SHRINK_ELEMENT,!0),(s=l.getEnclosedNode())&&s.type==CKEDITOR.NODE_ELEMENT&&(a=s),"false"==a.getAttribute("contenteditable"))||(a=void 0),a)this.fake(a);else if(t&&t.plugins.tableselection&&CKEDITOR.plugins.tableselection.isSupportedEnvironment&&h(e)&&!b)p.call(this,e);else{if(_){var c,d,u;if(s=CKEDITOR.dom.walker.whitespaces(!0),a=/\ufeff|\u00a0/,l={table:1,tbody:1,tr:1},1<e.length&&(t=e[e.length-1],e[0].setEnd(t.endContainer,t.endOffset)),e=(t=e[0]).collapsed,(n=t.getEnclosedNode())&&n.type==CKEDITOR.NODE_ELEMENT&&n.getName()in I&&(!n.is("a")||!n.getText()))try{return(u=n.$.createControlRange()).addElement(n.$),void u.select()}catch(y){}(t.startContainer.type==CKEDITOR.NODE_ELEMENT&&t.startContainer.getName()in l||t.endContainer.type==CKEDITOR.NODE_ELEMENT&&t.endContainer.getName()in l)&&(t.shrink(CKEDITOR.NODE_ELEMENT,!0),e=t.collapsed),l=(u=t.createBookmark()).startNode,e||(r=u.endNode),(u=t.document.$.body.createTextRange()).moveToElementText(l.$),u.moveStart("character",1),r?((a=t.document.$.body.createTextRange()).moveToElementText(r.$),u.setEndPoint("EndToEnd",a),u.moveEnd("character",-1)):(c=l.getNext(s),d=l.hasAscendant("pre"),c=!(c&&c.getText&&c.getText().match(a))&&(d||!l.hasPrevious()||l.getPrevious().is&&l.getPrevious().is("br")),(d=t.document.createElement("span")).setHtml("&#65279;"),d.insertBefore(l),c&&t.document.createText("\ufeff").insertBefore(l)),t.setStartBefore(l),l.remove(),e?(c?(u.moveStart("character",-1),u.select(),t.document.$.selection.clear()):u.select(),t.moveToPosition(d,CKEDITOR.POSITION_BEFORE_START),d.remove()):(t.setEndBefore(r),r.remove(),u.select())}else{if(!(r=this.getNative()))return;for(this.removeAllRanges(),u=0;u<e.length;u++)if(u<e.length-1&&(c=e[u],d=e[u+1],(a=c.clone()).setStart(c.endContainer,c.endOffset),a.setEnd(d.startContainer,d.startOffset),!a.collapsed&&(a.shrink(CKEDITOR.NODE_ELEMENT,!0),t=a.getCommonAncestor(),a=a.getEnclosedNode(),t.isReadOnly()||a&&a.isReadOnly())))d.setStart(c.startContainer,c.startOffset),e.splice(u--,1);else{t=e[u],d=this.document.$.createRange(),t.collapsed&&CKEDITOR.env.webkit&&f(t)&&(a=m(this.root),t.insertNode(a),(c=a.getNext())&&!a.getPrevious()&&c.type==CKEDITOR.NODE_ELEMENT&&"br"==c.getName()?(T(this.root),t.moveToPosition(c,CKEDITOR.POSITION_BEFORE_START)):t.moveToPosition(a,CKEDITOR.POSITION_AFTER_END)),d.setStart(t.startContainer.$,t.startOffset);try{d.setEnd(t.endContainer.$,t.endOffset)}catch(C){if(!(0<=C.toString().indexOf("NS_ERROR_ILLEGAL_VALUE")))throw C;t.collapse(1),d.setEnd(t.endContainer.$,t.endOffset)}r.addRange(d)}}this.reset(),this.root.fire("selectionchange")}}},fake:function(e,t){var n=this.root.editor;void 0===t&&e.hasAttribute("aria-label")&&(t=e.getAttribute("aria-label")),this.reset(),y(n,t);var i=this._.cache,o=new CKEDITOR.dom.range(this.root);o.setStartBefore(e),o.setEndAfter(e),i.ranges=new CKEDITOR.dom.rangeList(o),i.selectedElement=i.startElement=e,i.type=CKEDITOR.SELECTION_ELEMENT,i.selectedText=i.nativeSel=null,this.isFake=1,this.rev=O++,(n._.fakeSelection=this).root.fire("selectionchange")},isHidden:function(){var e=this.getCommonAncestor();return e&&e.type==CKEDITOR.NODE_TEXT&&(e=e.getParent()),!(!e||!e.data("cke-hidden-sel"))},isInTable:function(){return h(this.getRanges())},createBookmarks:function(e){return e=this.getRanges().createBookmarks(e),this.isFake&&(e.isFake=1),e},createBookmarks2:function(e){return e=this.getRanges().createBookmarks2(e),this.isFake&&(e.isFake=1),e},selectBookmarks:function(e){for(var t,n=[],i=0;i<e.length;i++){var o=new CKEDITOR.dom.range(this.root);o.moveToBookmark(e[i]),n.push(o)}return e.isFake&&((t=h(n)?n[0]._getTableElement():n[0].getEnclosedNode())&&t.type==CKEDITOR.NODE_ELEMENT||(CKEDITOR.warn("selection-not-fake"),e.isFake=0)),e.isFake&&!h(n)?this.fake(t):this.selectRanges(n),this},getCommonAncestor:function(){var e=this.getRanges();return e.length?e[0].startContainer.getCommonAncestor(e[e.length-1].endContainer):null},scrollIntoView:function(){this.type!=CKEDITOR.SELECTION_NONE&&this.getRanges()[0].scrollIntoView()},removeAllRanges:function(){if(this.getType()!=CKEDITOR.SELECTION_NONE){var e=this.getNative();try{e&&e[_?"empty":"removeAllRanges"]()}catch(i){}this.reset()}}}}(),CKEDITOR.STYLE_BLOCK=1,CKEDITOR.STYLE_INLINE=2,CKEDITOR.STYLE_OBJECT=3,function(){function D(e,t){for(var n,i;(e=e.getParent())&&!e.equals(t);)if(e.getAttribute("data-nostyle"))n=e;else if(!i){var o=e.getAttribute("contentEditable");"false"==o?n=e:"true"==o&&(i=1)}return n}function w(e,t,n,i){return(e.getPosition(t)|i)==i&&(!n.childRule||n.childRule(e))}function R(e){var t=e.document;if(e.collapsed)t=S(this,t),e.insertNode(t),e.moveToPosition(t,CKEDITOR.POSITION_BEFORE_END);else{var n,i=this.element,o=this._.definition,r=(h=o.ignoreReadonly)||o.includeReadonly;null==r&&(r=e.root.getCustomData("cke_includeReadonly"));var a=CKEDITOR.dtd[i];a||(n=!0,a=CKEDITOR.dtd.span),e.enlarge(CKEDITOR.ENLARGE_INLINE,1),e.trim();var s,l=e.createBookmark(),c=l.startNode,d=l.endNode,u=c;if(!h){var h=D(c,p=e.getCommonAncestor()),p=D(d,p);h&&(u=h.getNextSourceNode(!0)),p&&(d=p)}for(u.getPosition(d)==CKEDITOR.POSITION_FOLLOWING&&(u=0);u;){if(h=!1,u.equals(d))h=!(u=null);else{p=(E=u.type==CKEDITOR.NODE_ELEMENT?u.getName():null)&&"false"==u.getAttribute("contentEditable");var f=E&&u.getAttribute("data-nostyle");if(E&&u.data("cke-bookmark")){u=u.getNextSourceNode(!0);continue}if(p&&r&&CKEDITOR.dtd.$block[E])for(var m=void 0,g=0,v=(I=(O=k(v=u)).length)&&new CKEDITOR.dom.range(v.getDocument());g<I;++g){m=O[g];var T=CKEDITOR.filter.instances[m.data("cke-filter")];T&&!T.check(this)||(v.selectNodeContents(m),R.call(this,v))}if(O=E?!a[E]||f?0:p&&!r?0:w(u,d,o,N):1){if(O=o,I=i,g=n,!(m=u.getParent())||!(m.getDtd()||CKEDITOR.dtd.span)[I]&&!g||O.parentRule&&!O.parentRule(m))h=!0;else if(s||E&&CKEDITOR.dtd.$removeEmpty[E]&&(u.getPosition(d)|N)!=N||(s=e.clone()).setStartBefore(u),(E=u.type)==CKEDITOR.NODE_TEXT||p||E==CKEDITOR.NODE_ELEMENT&&!u.getChildCount()){for(var y,E=u;(h=!E.getNext(K))&&a[(y=E.getParent()).getName()]&&w(y,c,o,A);)E=y;s.setEndAfter(E)}}else h=!0;u=u.getNextSourceNode(f||p)}if(h&&s&&!s.collapsed){p=(h=S(this,t)).hasAttributes(),f=s.getCommonAncestor(),E={};for(var b,C,_,O={},I=(m={},{});h&&f;){if(f.getName()==i){for(b in o.attributes)!I[b]&&(_=f.getAttribute(C))&&(h.getAttribute(b)==_?O[b]=1:I[b]=1);for(C in o.styles)!m[C]&&(_=f.getStyle(C))&&(h.getStyle(C)==_?E[C]=1:m[C]=1)}f=f.getParent()}for(b in O)h.removeAttribute(b);for(C in E)h.removeStyle(C);p&&!h.hasAttributes()&&(h=null),h?(s.extractContents().appendTo(h),s.insertNode(h),x.call(this,h),h.mergeSiblings(),CKEDITOR.env.ie||h.$.normalize()):(h=new CKEDITOR.dom.element("span"),s.extractContents().appendTo(h),s.insertNode(h),x.call(this,h),h.remove(!0)),s=null}}e.moveToBookmark(l),e.shrink(CKEDITOR.SHRINK_TEXT),e.shrink(CKEDITOR.NODE_ELEMENT,!0)}}function t(e){function t(){for(var e=new CKEDITOR.dom.elementPath(a.getParent()),t=new CKEDITOR.dom.elementPath(d.getParent()),n=null,i=null,o=0;o<e.elements.length;o++){var r=e.elements[o];if(r==e.block||r==e.blockLimit)break;u.checkElementRemovable(r,!0)&&(n=r)}for(o=0;o<t.elements.length&&((r=t.elements[o])!=t.block&&r!=t.blockLimit);o++)u.checkElementRemovable(r,!0)&&(i=r);i&&d.breakParent(i),n&&a.breakParent(n)}e.enlarge(CKEDITOR.ENLARGE_INLINE,1);var n=e.createBookmark(),a=n.startNode,i=this._.definition.alwaysRemoveElement;if(e.collapsed){for(var o,r,s=new CKEDITOR.dom.elementPath(a.getParent(),e.root),l=0;l<s.elements.length&&(r=s.elements[l])&&r!=s.block&&r!=s.blockLimit;l++)if(this.checkElementRemovable(r)){var c;!i&&e.collapsed&&(e.checkBoundaryOfElement(r,CKEDITOR.END)||(c=e.checkBoundaryOfElement(r,CKEDITOR.START)))?(o=r).match=c?"start":"end":(r.mergeSiblings(),r.is(this.element)?h.call(this,r):p(r,m(this)[r.getName()]))}if(o){for(i=a,l=0;!(r=s.elements[l]).equals(o);l++)r.match||((r=r.clone()).append(i),i=r);i["start"==o.match?"insertBefore":"insertAfter"](o)}}else{var d=n.endNode,u=this;for(t(),s=a;!s.equals(d);)o=s.getNextSourceNode(),s.type==CKEDITOR.NODE_ELEMENT&&this.checkElementRemovable(s)&&(s.getName()==this.element?h.call(this,s):p(s,m(this)[s.getName()]),o.type==CKEDITOR.NODE_ELEMENT&&o.contains(a)&&(t(),o=a.getNext())),s=o}e.moveToBookmark(n),e.shrink(CKEDITOR.NODE_ELEMENT,!0)}function k(e){var t=[];return e.forEach(function(e){if("true"==e.getAttribute("contenteditable"))return t.push(e),!1},CKEDITOR.NODE_ELEMENT,!0),t}function n(e){var t=e.getEnclosedNode()||e.getCommonAncestor(!1,!0);(e=new CKEDITOR.dom.elementPath(t,e.root).contains(this.element,1))&&!e.isReadOnly()&&s(e,this)}function i(e){var t=e.getCommonAncestor(!0,!0);if(e=new CKEDITOR.dom.elementPath(t,e.root).contains(this.element,1)){var n=(t=this._.definition).attributes;if(n)for(var i in n)e.removeAttribute(i,n[i]);if(t.styles)for(var o in t.styles)t.styles.hasOwnProperty(o)&&e.removeStyle(o)}}function o(e){var t=e.createBookmark(!0),n=e.createIterator();n.enforceRealBlocks=!0,this._.enterMode&&(n.enlargeBr=this._.enterMode!=CKEDITOR.ENTER_BR);for(var i,o=e.document;i=n.getNextParagraph();)!i.isReadOnly()&&(!n.activeFilter||n.activeFilter.check(this))&&a(i,S(this,o,i));e.moveToBookmark(t)}function r(e){var t,n,i=e.createBookmark(1),o=e.createIterator();for(o.enforceRealBlocks=!0,o.enlargeBr=this._.enterMode!=CKEDITOR.ENTER_BR;t=o.getNextParagraph();)this.checkElementRemovable(t)&&(t.is("pre")?((n=this._.enterMode==CKEDITOR.ENTER_BR?null:e.document.createElement(this._.enterMode==CKEDITOR.ENTER_P?"p":"div"))&&t.copyAttributes(n),a(t,n)):h.call(this,t));e.moveToBookmark(i)}function a(e,t){(n=!t)&&(t=e.getDocument().createElement("div"),e.copyAttributes(t));var n,i,o=t&&t.is("pre"),r=e.is("pre"),a=!o&&r;if(o&&!r){if(r=t,(a=e.getBogus())&&a.remove(),a=(a=(a=(a=c(a=e.getHtml(
),/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g,"")).replace(/[ \t\r\n]*(<br[^>]*>)[ \t\r\n]*/gi,"$1")).replace(/([ \t\n\r]+|&nbsp;)/g," ")).replace(/<br\b[^>]*>/gi,"\n"),CKEDITOR.env.ie){var s=e.getDocument().createElement("div");s.append(r),r.$.outerHTML="<pre>"+a+"</pre>",r.copyAttributes(s.getFirst()),r=s.getFirst().remove()}else r.setHtml(a);t=r}else a?t=d(n?[e.getHtml()]:l(e),t):e.moveChildren(t);(t.replace(e),o)?(i=(n=t).getPrevious(_))&&i.type==CKEDITOR.NODE_ELEMENT&&i.is("pre")&&(o=c(i.getHtml(),/\n$/,"")+"\n\n"+c(n.getHtml(),/^\n/,""),CKEDITOR.env.ie?n.$.outerHTML="<pre>"+o+"</pre>":n.setHtml(o),i.remove()):n&&u(t)}function l(e){var n=[];return c(e.getOuterHtml(),/(\S\s*)\n(?:\s|(<span[^>]+data-cke-bookmark.*?\/span>))*\n(?!$)/gi,function(e,t,n){return t+"</pre>"+n+"<pre>"}).replace(/<pre\b.*?>([\s\S]*?)<\/pre>/gi,function(e,t){n.push(t)}),n}function c(e,t,n){var i="",o="";return e=e.replace(/(^<span[^>]+data-cke-bookmark.*?\/span>)|(<span[^>]+data-cke-bookmark.*?\/span>$)/gi,function(e,t,n){return t&&(i=t),n&&(o=n),""}),i+e.replace(t,n)+o}function d(e,t){var n;1<e.length&&(n=new CKEDITOR.dom.documentFragment(t.getDocument()));for(var i=0;i<e.length;i++){var o=(o=(o=c(o=c(o=c(o=(o=e[i]).replace(/(\r\n|\r)/g,"\n"),/^[ \t]*\n/,""),/\n$/,""),/^[ \t]+|[ \t]+$/g,function(e,t){return 1==e.length?"&nbsp;":t?" "+CKEDITOR.tools.repeat("&nbsp;",e.length-1):CKEDITOR.tools.repeat("&nbsp;",e.length-1)+" "})).replace(/\n/g,"<br>")).replace(/[ \t]{2,}/g,function(e){return CKEDITOR.tools.repeat("&nbsp;",e.length-1)+" "});if(n){var r=t.clone();r.setHtml(o),n.append(r)}else t.setHtml(o)}return n||t}function h(e,t){var n,i=(o=this._.definition).attributes,o=o.styles,r=m(this)[e.getName()],a=CKEDITOR.tools.isEmpty(i)&&CKEDITOR.tools.isEmpty(o);for(n in i)("class"!=n&&!this._.definition.fullMatch||e.getAttribute(n)==g(n,i[n]))&&(t&&"data-"==n.slice(0,5)||(a=e.hasAttribute(n),e.removeAttribute(n)));for(var s in o)this._.definition.fullMatch&&e.getStyle(s)!=g(s,o[s],!0)||(a=a||!!e.getStyle(s),e.removeStyle(s));p(e,r,y[e.getName()]),a&&(this._.definition.alwaysRemoveElement?u(e,1):!CKEDITOR.dtd.$block[e.getName()]||this._.enterMode==CKEDITOR.ENTER_BR&&!e.hasAttributes()?u(e):e.renameNode(this._.enterMode==CKEDITOR.ENTER_P?"p":"div"))}function x(e){for(var t,n=m(this),i=e.getElementsByTag(this.element),o=i.count();0<=--o;)(t=i.getItem(o)).isReadOnly()||h.call(this,t,!0);for(var r in n)if(r!=this.element)for(o=(i=e.getElementsByTag(r)).count()-1;0<=o;o--)(t=i.getItem(o)).isReadOnly()||p(t,n[r])}function p(e,t,n){if(t=t&&t.attributes)for(var i=0;i<t.length;i++){var o,r=t[i][0];if(o=e.getAttribute(r)){var a=t[i][1];(null===a||a.test&&a.test(o)||"string"==typeof a&&o==a)&&e.removeAttribute(r)}}n||u(e)}function u(e,t){if(!e.hasAttributes()||t)if(CKEDITOR.dtd.$block[e.getName()]){var n=e.getPrevious(_),i=e.getNext(_);!n||n.type!=CKEDITOR.NODE_TEXT&&n.isBlockBoundary({br:1})||e.append("br",1),!i||i.type!=CKEDITOR.NODE_TEXT&&i.isBlockBoundary({br:1})||e.append("br"),e.remove(!0)}else n=e.getFirst(),i=e.getLast(),e.remove(!0),n&&(n.type==CKEDITOR.NODE_ELEMENT&&n.mergeSiblings(),i&&!n.equals(i)&&i.type==CKEDITOR.NODE_ELEMENT&&i.mergeSiblings())}function S(e,t,n){var i;return"*"==(i=e.element)&&(i="span"),i=new CKEDITOR.dom.element(i,t),n&&n.copyAttributes(i),i=s(i,e),t.getCustomData("doc_processing_style")&&i.hasAttribute("id")?i.removeAttribute("id"):t.setCustomData("doc_processing_style",1),i}function s(e,t){var n=(i=t._.definition).attributes,i=CKEDITOR.style.getStyleText(i);if(n)for(var o in n)e.setAttribute(o,n[o]);return i&&e.setAttribute("style",i),e}function f(e,n){for(var t in e)e[t]=e[t].replace(C,function(e,t){return n[t]})}function m(e){if(e._.overrides)return e._.overrides;var t=e._.overrides={},n=e._.definition.overrides;if(n){CKEDITOR.tools.isArray(n)||(n=[n]);for(var i=0;i<n.length;i++){var o,r;if("string"==typeof(s=n[i])?o=s.toLowerCase():(o=s.element?s.element.toLowerCase():e.element,r=s.attributes),s=t[o]||(t[o]={}),r){var a,s=s.attributes=s.attributes||[];for(a in r)s.push([a.toLowerCase(),r[a]])}}}return t}function g(e,t,n){var i=new CKEDITOR.dom.element("span");return i[n?"setStyle":"setAttribute"](e,t),i[n?"getStyle":"getAttribute"](e)}function v(e,t){function n(e,t){return"font-family"==t.toLowerCase()?e.replace(/["']/g,""):e}for(var i in"string"==typeof e&&(e=CKEDITOR.tools.parseCssText(e)),"string"==typeof t&&(t=CKEDITOR.tools.parseCssText(t,!0)),e)if(!(i in t)||n(t[i],i)!=n(e[i],i)&&"inherit"!=e[i]&&"inherit"!=t[i])return!1;return!0}function T(e,t,n){var i,o,r=e.document,a=e.getRanges();if(t=t?this.removeFromRange:this.applyToRange,e.isFake&&e.isInTable())for(i=[],o=0;o<a.length;o++)i.push(a[o].clone());for(var s=a.createIterator();o=s.getNextRange();)t.call(this,o,n);e.selectRanges(i||a),r.removeCustomData("doc_processing_style")}var y={address:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,p:1,pre:1,section:1,header:1,footer:1,nav:1,article:1,aside:1,figure:1,dialog:1,hgroup:1,time:1,meter:1,menu:1,command:1,keygen:1,output:1,progress:1,details:1,datagrid:1,datalist:1},E={a:1,blockquote:1,embed:1,hr:1,img:1,li:1,object:1,ol:1,table:1,td:1,tr:1,th:1,ul:1,dl:1,dt:1,dd:1,form:1,audio:1,video:1},b=/\s*(?:;\s*|$)/,C=/#\((.+?)\)/g,K=CKEDITOR.dom.walker.bookmark(0,1),_=CKEDITOR.dom.walker.whitespaces(1);CKEDITOR.style=function(e,t){if("string"==typeof e.type)return new CKEDITOR.style.customHandlers[e.type](e);var n=e.attributes;n&&n.style&&(e.styles=CKEDITOR.tools.extend({},e.styles,CKEDITOR.tools.parseCssText(n.style)),delete n.style),t&&(f((e=CKEDITOR.tools.clone(e)).attributes,t),f(e.styles,t)),n=this.element=e.element?"string"==typeof e.element?e.element.toLowerCase():e.element:"*",this.type=e.type||(y[n]?CKEDITOR.STYLE_BLOCK:E[n]?CKEDITOR.STYLE_OBJECT:CKEDITOR.STYLE_INLINE),"object"==typeof this.element&&(this.type=CKEDITOR.STYLE_OBJECT),this._={definition:e}},CKEDITOR.style.prototype={apply:function(e){if(e instanceof CKEDITOR.dom.document)return T.call(this,e.getSelection());if(this.checkApplicable(e.elementPath(),e)){var t=this._.enterMode;t||(this._.enterMode=e.activeEnterMode),T.call(this,e.getSelection(),0,e),this._.enterMode=t}},remove:function(e){if(e instanceof CKEDITOR.dom.document)return T.call(this,e.getSelection(),1);if(this.checkApplicable(e.elementPath(),e)){var t=this._.enterMode;t||(this._.enterMode=e.activeEnterMode),T.call(this,e.getSelection(),1,e),this._.enterMode=t}},applyToRange:function(e){return this.applyToRange=this.type==CKEDITOR.STYLE_INLINE?R:this.type==CKEDITOR.STYLE_BLOCK?o:this.type==CKEDITOR.STYLE_OBJECT?n:null,this.applyToRange(e)},removeFromRange:function(e){return this.removeFromRange=this.type==CKEDITOR.STYLE_INLINE?t:this.type==CKEDITOR.STYLE_BLOCK?r:this.type==CKEDITOR.STYLE_OBJECT?i:null,this.removeFromRange(e)},applyToObject:function(e){s(e,this)},checkActive:function(e,t){switch(this.type){case CKEDITOR.STYLE_BLOCK:return this.checkElementRemovable(e.block||e.blockLimit,!0,t);case CKEDITOR.STYLE_OBJECT:case CKEDITOR.STYLE_INLINE:for(var n,i=e.elements,o=0;o<i.length;o++)if(n=i[o],this.type!=CKEDITOR.STYLE_INLINE||n!=e.block&&n!=e.blockLimit){if(this.type==CKEDITOR.STYLE_OBJECT){var r=n.getName();if(!("string"==typeof this.element?r==this.element:r in this.element))continue}if(this.checkElementRemovable(n,!0,t))return!0}}return!1},checkApplicable:function(e,t,n){if(t&&t instanceof CKEDITOR.filter&&(n=t),n&&!n.check(this))return!1;switch(this.type){case CKEDITOR.STYLE_OBJECT:return!!e.contains(this.element);case CKEDITOR.STYLE_BLOCK:return!!e.blockLimit.getDtd()[this.element]}return!0},checkElementMatch:function(e,t){var n=this._.definition;if(!e||!n.ignoreReadonly&&e.isReadOnly())return!1;var i=e.getName();if("string"==typeof this.element?i==this.element:i in this.element){if(!t&&!e.hasAttributes())return!0;if(i=n._AC)n=i;else{i={};var o=0,r=n.attributes;if(r)for(var a in r)o++,i[a]=r[a];(a=CKEDITOR.style.getStyleText(n))&&(i.style||o++,i.style=a),i._length=o,n=n._AC=i}if(!n._length)return!0;for(var s in n)if("_length"!=s)if(i=e.getAttribute(s)||"","style"==s?v(n[s],i):n[s]==i){if(!t)return!0}else if(t)return!1;if(t)return!0}return!1},checkElementRemovable:function(e,t,n){if(this.checkElementMatch(e,t,n))return!0;if(t=m(this)[e.getName()]){var i;if(!(t=t.attributes))return!0;for(n=0;n<t.length;n++)if(i=t[n][0],i=e.getAttribute(i)){var o=t[n][1];if(null===o)return!0;if("string"==typeof o){if(i==o)return!0}else if(o.test(i))return!0}}return!1},buildPreview:function(e){var t=this._.definition,n=[],i=t.element;"bdo"==i&&(i="span");n=["<",i];var o=t.attributes;if(o)for(var r in o)n.push(" ",r,'="',o[r],'"');return(o=CKEDITOR.style.getStyleText(t))&&n.push(' style="',o,'"'),n.push(">",e||t.name,"</",i,">"),n.join("")},getDefinition:function(){return this._.definition}},CKEDITOR.style.getStyleText=function(e){if(t=e._ST)return t;var t=e.styles,n=e.attributes&&e.attributes.style||"",i="";for(var o in n.length&&(n=n.replace(b,";")),t){var r=t[o],a=(o+":"+r).replace(b,";");"inherit"==r?i+=a:n+=a}return n.length&&(n=CKEDITOR.tools.normalizeCssText(n,!0)),e._ST=n+i},CKEDITOR.style.customHandlers={},CKEDITOR.style.addCustomHandler=function(e){var t=function(e){this._={definition:e},this.setup&&this.setup(e)};return t.prototype=CKEDITOR.tools.extend(CKEDITOR.tools.prototypedCopy(CKEDITOR.style.prototype),{assignedTo:CKEDITOR.STYLE_OBJECT},e,!0),this.customHandlers[e.type]=t};var N=CKEDITOR.POSITION_PRECEDING|CKEDITOR.POSITION_IDENTICAL|CKEDITOR.POSITION_IS_CONTAINED,A=CKEDITOR.POSITION_FOLLOWING|CKEDITOR.POSITION_IDENTICAL|CKEDITOR.POSITION_IS_CONTAINED}(),CKEDITOR.styleCommand=function(e,t){this.requiredContent=this.allowedContent=this.style=e,CKEDITOR.tools.extend(this,t,!0)},CKEDITOR.styleCommand.prototype.exec=function(e){e.focus(),this.state==CKEDITOR.TRISTATE_OFF?e.applyStyle(this.style):this.state==CKEDITOR.TRISTATE_ON&&e.removeStyle(this.style)},CKEDITOR.stylesSet=new CKEDITOR.resourceManager("","stylesSet"),CKEDITOR.addStylesSet=CKEDITOR.tools.bind(CKEDITOR.stylesSet.add,CKEDITOR.stylesSet),CKEDITOR.loadStylesSet=function(e,t,n){CKEDITOR.stylesSet.addExternal(e,t,""),CKEDITOR.stylesSet.load(e,n)},CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{attachStyleStateChange:function(e,t){var o=this._.styleStateChangeCallbacks;o||(o=this._.styleStateChangeCallbacks=[],this.on("selectionChange",function(e){for(var t=0;t<o.length;t++){var n=o[t],i=n.style.checkActive(e.data.path,this)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF;n.fn.call(this,i)}})),o.push({style:e,fn:t})},applyStyle:function(e){e.apply(this)},removeStyle:function(e){e.remove(this)},getStylesSet:function(t){if(this._.stylesDefinitions)t(this._.stylesDefinitions);else{var n=this;if(!1===(e=n.config.stylesCombo_stylesSet||n.config.stylesSet))t(null);else if(e instanceof Array)n._.stylesDefinitions=e,t(e);else{e||(e="default");var e,i=(e=e.split(":"))[0];CKEDITOR.stylesSet.addExternal(i,e[1]?e.slice(1).join(":"):CKEDITOR.getUrl("styles.js"),""),CKEDITOR.stylesSet.load(i,function(e){n._.stylesDefinitions=e[i],t(n._.stylesDefinitions)})}}}}),CKEDITOR.dom.comment=function(e,t){"string"==typeof e&&(e=(t?t.$:document).createComment(e)),CKEDITOR.dom.domObject.call(this,e)},CKEDITOR.dom.comment.prototype=new CKEDITOR.dom.node,CKEDITOR.tools.extend(CKEDITOR.dom.comment.prototype,{type:CKEDITOR.NODE_COMMENT,getOuterHtml:function(){return"<!--"+this.$.nodeValue+"-->"}}),function(){var e,d={},u={};for(e in CKEDITOR.dtd.$blockLimit)e in CKEDITOR.dtd.$list||(d[e]=1);for(e in CKEDITOR.dtd.$block)e in CKEDITOR.dtd.$blockLimit||e in CKEDITOR.dtd.$empty||(u[e]=1);CKEDITOR.dom.elementPath=function(e,t){var n,i=null,o=null,r=[],a=e;t=t||e.getDocument().getBody(),a||(a=t);do{if(a.type==CKEDITOR.NODE_ELEMENT){if(r.push(a),!this.lastElement&&((this.lastElement=a).is(CKEDITOR.dtd.$object)||"false"==a.getAttribute("contenteditable")))continue;if(a.equals(t))break;if(!o&&(n=a.getName(),"true"==a.getAttribute("contenteditable")?o=a:!i&&u[n]&&(i=a),d[n])){if(n=!i&&"div"==n){e:{for(var s=0,l=(n=a.getChildren()).count();s<l;s++){var c=n.getItem(s);if(c.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$block[c.getName()]){n=!0;break e}}n=!1}n=!n}n?i=a:o=a}}}while(a=a.getParent());o||(o=t),this.block=i,this.blockLimit=o,this.root=t,this.elements=r}}(),CKEDITOR.dom.elementPath.prototype={compare:function(e){var t=this.elements;if(!(e=e&&e.elements)||t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].equals(e[n]))return!1;return!0},contains:function(t,e,n){var i;"string"==typeof t&&(i=function(e){return e.getName()==t}),t instanceof CKEDITOR.dom.element?i=function(e){return e.equals(t)}:CKEDITOR.tools.isArray(t)?i=function(e){return-1<CKEDITOR.tools.indexOf(t,e.getName())}:"function"==typeof t?i=t:"object"==typeof t&&(i=function(e){return e.getName()in t});var o=this.elements,r=o.length;for(e&&r--,n&&(o=Array.prototype.slice.call(o,0)).reverse(),e=0;e<r;e++)if(i(o[e]))return o[e];return null},isContextFor:function(e){return!(e in CKEDITOR.dtd.$block)||!!(this.contains(CKEDITOR.dtd.$intermediate)||this.root.equals(this.block)&&this.block||this.blockLimit).getDtd()[e]},direction:function(){return(this.block||this.blockLimit||this.root).getDirection(1)}},CKEDITOR.dom.text=function(e,t){"string"==typeof e&&(e=(t?t.$:document).createTextNode(e)),this.$=e},CKEDITOR.dom.text.prototype=new CKEDITOR.dom.node,CKEDITOR.tools.extend(CKEDITOR.dom.text.prototype,{type:CKEDITOR.NODE_TEXT,getLength:function(){return this.$.nodeValue.length},getText:function(){return this.$.nodeValue},setText:function(e){this.$.nodeValue=e},split:function(e){var t=this.$.parentNode,n=t.childNodes.length,i=this.getLength(),o=this.getDocument(),r=new CKEDITOR.dom.text(this.$.splitText(e),o);return t.childNodes.length==n&&(i<=e?(r=o.createText("")).insertAfter(this):((e=o.createText("")).insertAfter(r),e.remove())),r},substring:function(e,t){return"number"!=typeof t?this.$.nodeValue.substr(e):this.$.nodeValue.substring(e,t)}}),function(){function r(e,t,n){var i=e.serializable,o=t[n?"endContainer":"startContainer"],r=n?"endOffset":"startOffset",a=i?t.document.getById(e.startNode):e.startNode;return e=i?t.document.getById(e.endNode):e.endNode,o.equals(a.getPrevious())?(t.startOffset=t.startOffset-o.getLength()-e.getPrevious().getLength(),o=e.getNext()):o.equals(e.getPrevious())&&(t.startOffset-=o.getLength(),o=e.getNext()),o.equals(a.getParent())&&t[r]++,o.equals(e.getParent())&&t[r]++,t[n?"endContainer":"startContainer"]=o,t}CKEDITOR.dom.rangeList=function(e){return e instanceof CKEDITOR.dom.rangeList?e:(e?e instanceof CKEDITOR.dom.range&&(e=[e]):e=[],CKEDITOR.tools.extend(e,t))};var t={createIterator:function(){var r,a=this,s=CKEDITOR.dom.walker.bookmark(),l=[];return{getNextRange:function(e){var t=a[r=void 0===r?0:r+1];if(t&&1<a.length){if(!r)for(var n=a.length-1;0<=n;n--)l.unshift(a[n].createBookmark(!0));if(e)for(var i=0;a[r+i+1];){var o=t.document;for(e=0,n=o.getById(l[i].endNode),o=o.getById(l[i+1].startNode);;){if(n=n.getNextSourceNode(!1),o.equals(n))e=1;else if(s(n)||n.type==CKEDITOR.NODE_ELEMENT&&n.isBlockBoundary())continue;break}if(!e)break;i++}for(t.moveToBookmark(l.shift());i--;)(n=a[++r]).moveToBookmark(l.shift()),t.setEnd(n.endContainer,n.endOffset)}return t}}},createBookmarks:function(e){for(var t,n=[],i=0;i<this.length;i++){n.push(t=this[i].createBookmark(e,!0));for(var o=i+1;o<this.length;o++)this[o]=r(t,this[o]),this[o]=r(t,this[o],!0)}return n},createBookmarks2:function(e){for(var t=[],n=0;n<this.length;n++)t.push(this[n].createBookmark2(e));return t},moveToBookmarks:function(e){for(var t=0;t<this.length;t++)this[t].moveToBookmark(e[t])}}}(),function(){function r(){return CKEDITOR.getUrl(CKEDITOR.skinName.split(",")[1]||"skins/"+CKEDITOR.skinName.split(",")[0]+"/")}function n(e){var t=CKEDITOR.skin["ua_"+e],n=CKEDITOR.env;if(t){t=t.split(",").sort(function(e,t){return t<e?-1:1});for(var i,o=0;o<t.length;o++)if(i=t[o],n.ie&&(i.replace(/^ie/,"")==n.version||n.quirks&&"iequirks"==i)&&(i="ie"),n[i]){e+="_"+t[o];break}}return CKEDITOR.getUrl(r()+e+".css")}function i(e,t){o[e]||(CKEDITOR.document.appendStyleSheet(n(e)),o[e]=1),t&&t()}function a(e){var t=e.getById(l);return t||((t=e.getHead().append("style")).setAttribute("id",l),t.setAttribute("type","text/css")),t}function s(e,t,n){var i,o,r;if(CKEDITOR.env.webkit)for(t=t.split("}").slice(0,-1),o=0;o<t.length;o++)t[o]=t[o].split("{");for(var a=0;a<e.length;a++)if(CKEDITOR.env.webkit)for(o=0;o<t.length;o++){for(r=t[o][1],i=0;i<n.length;i++)r=r.replace(n[i][0],n[i][1]);e[a].$.sheet.addRule(t[o][0],r)}else{for(r=t,i=0;i<n.length;i++)r=r.replace(n[i][0],n[i][1]);CKEDITOR.env.ie&&CKEDITOR.env.version<11?e[a].$.styleSheet.cssText+=r:e[a].$.innerHTML+=r}}var o={};CKEDITOR.skin={path:r,loadPart:function(e,t){CKEDITOR.skin.name!=CKEDITOR.skinName.split(",")[0]?CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(r()+"skin.js"),function(){i(e,t)}):i(e,t)},getPath:function(e){return CKEDITOR.getUrl(n(e))},icons:{},addIcon:function(e,t,n,i){e=e.toLowerCase(),this.icons[e]||(this.icons[e]={path:t,offset:n||0,bgsize:i||"16px"})},getIconStyle:function(e,t,n,i,o){var r;return e&&(e=e.toLowerCase(),t&&(r=this.icons[e+"-rtl"]),r||(r=this.icons[e])),e=n||r&&r.path||"",i=i||r&&r.offset,o=o||r&&r.bgsize||"16px",e&&(e=e.replace(/'/g,"\\'")),e&&"background-image:url('"+CKEDITOR.getUrl(e)+"');background-position:0 "+i+"px;background-size:"+o+";"}},CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{getUiColor:function(){return this.uiColor},setUiColor:function(e){var o=a(CKEDITOR.document);return(this.setUiColor=function(e){this.uiColor=e;var t=CKEDITOR.skin.chameleon,n="",i="";"function"==typeof t&&(n=t(this,"editor"),i=t(this,"panel")),s([o],n,e=[[d,e]]),s(c,i,e)}).call(this,e)}});var l="cke_ui_color",c=[],d=/\$color/g;CKEDITOR.on("instanceLoaded",function(e){if(!CKEDITOR.env.ie||!CKEDITOR.env.quirks){var n=e.editor;e=function(e){if(!(e=(e.data[0]||e.data).element.getElementsByTag("iframe").getItem(0).getFrameDocument()).getById("cke_ui_color")){e=a(e),c.push(e);var t=n.getUiColor();t&&s([e],CKEDITOR.skin.chameleon(n,"panel"),[[d,t]])}},n.on("panelShow",e),n.on("menuShow",e),n.config.uiColor&&n.setUiColor(n.config.uiColor)}})}(),function(){if(CKEDITOR.env.webkit)CKEDITOR.env.hc=!1;else{var e=CKEDITOR.dom.element.createFromHtml('<div style="width:0;height:0;position:absolute;left:-10000px;border:1px solid;border-color:red blue"></div>',CKEDITOR.document);e.appendTo(CKEDITOR.document.getHead());try{var t=e.getComputedStyle("border-top-color"),n=e.getComputedStyle("border-right-color");CKEDITOR.env.hc=!(!t||t!=n)}catch(i){CKEDITOR.env.hc=!1}e.remove()}if(CKEDITOR.env.hc&&(CKEDITOR.env.cssClass+=" cke_hc"),CKEDITOR.document.appendStyleText(".cke{visibility:hidden;}"),CKEDITOR.status="loaded",CKEDITOR.fireOnce("loaded"),e=CKEDITOR._.pending)for(delete CKEDITOR._.pending,t=0;t<e.length;t++)CKEDITOR.editor.prototype.constructor.apply(e[t][0],e[t][1]),CKEDITOR.add(e[t][0])}(),CKEDITOR.skin.name="moono-lisa",CKEDITOR.skin.ua_editor="ie,iequirks,ie8,gecko",CKEDITOR.skin.ua_dialog="ie,iequirks,ie8",CKEDITOR.skin.chameleon=(z=function(e,t){for(var n=e.match(/[^#]./g),i=0;i<3;i++){var o,r=i;o=parseInt(n[i],16),o=("0"+(t<0?0|o*(1+t):0|o+(255-o)*t).toString(16)).slice(-2),n[r]=o}return"#"+n.join("")},q={editor:new CKEDITOR.template("{id}.cke_chrome [border-color:{defaultBorder};] {id} .cke_top [ background-color:{defaultBackground};border-bottom-color:{defaultBorder};] {id} .cke_bottom [background-color:{defaultBackground};border-top-color:{defaultBorder};] {id} .cke_resizer [border-right-color:{ckeResizer}] {id} .cke_dialog_title [background-color:{defaultBackground};border-bottom-color:{defaultBorder};] {id} .cke_dialog_footer [background-color:{defaultBackground};outline-color:{defaultBorder};] {id} .cke_dialog_tab [background-color:{dialogTab};border-color:{defaultBorder};] {id} .cke_dialog_tab:hover [background-color:{lightBackground};] {id} .cke_dialog_contents [border-top-color:{defaultBorder};] {id} .cke_dialog_tab_selected, {id} .cke_dialog_tab_selected:hover [background:{dialogTabSelected};border-bottom-color:{dialogTabSelectedBorder};] {id} .cke_dialog_body [background:{dialogBody};border-color:{defaultBorder};] {id} a.cke_button_off:hover,{id} a.cke_button_off:focus,{id} a.cke_button_off:active [background-color:{darkBackground};border-color:{toolbarElementsBorder};] {id} .cke_button_on [background-color:{ckeButtonOn};border-color:{toolbarElementsBorder};] {id} .cke_toolbar_separator,{id} .cke_toolgroup a.cke_button:last-child:after,{id} .cke_toolgroup a.cke_button.cke_button_disabled:hover:last-child:after [background-color: {toolbarElementsBorder};border-color: {toolbarElementsBorder};] {id} a.cke_combo_button:hover,{id} a.cke_combo_button:focus,{id} .cke_combo_on a.cke_combo_button [border-color:{toolbarElementsBorder};background-color:{darkBackground};] {id} .cke_combo:after [border-color:{toolbarElementsBorder};] {id} .cke_path_item [color:{elementsPathColor};] {id} a.cke_path_item:hover,{id} a.cke_path_item:focus,{id} a.cke_path_item:active [background-color:{darkBackground};] {id}.cke_panel [border-color:{defaultBorder};] "),panel:new CKEDITOR.template(".cke_panel_grouptitle [background-color:{lightBackground};border-color:{defaultBorder};] .cke_menubutton_icon [background-color:{menubuttonIcon};] .cke_menubutton:hover,.cke_menubutton:focus,.cke_menubutton:active [background-color:{menubuttonHover};] .cke_menubutton:hover .cke_menubutton_icon, .cke_menubutton:focus .cke_menubutton_icon, .cke_menubutton:active .cke_menubutton_icon [background-color:{menubuttonIconHover};] .cke_menubutton_disabled:hover .cke_menubutton_icon,.cke_menubutton_disabled:focus .cke_menubutton_icon,.cke_menubutton_disabled:active .cke_menubutton_icon [background-color:{menubuttonIcon};] .cke_menuseparator [background-color:{menubuttonIcon};] a:hover.cke_colorbox, a:active.cke_colorbox [border-color:{defaultBorder};] a:hover.cke_colorauto, a:hover.cke_colormore, a:active.cke_colorauto, a:active.cke_colormore [background-color:{ckeColorauto};border-color:{defaultBorder};] ")},function(e,t){var n=z(e.uiColor,.4);return n={id:"."+e.id,defaultBorder:z(n,-.2),toolbarElementsBorder:z(n,-.25),defaultBackground:n,lightBackground:z(n,.8),darkBackground:z(n,-.15),ckeButtonOn:z(n,.4),ckeResizer:z(n,-.4),ckeColorauto:z(n,.8),dialogBody:z(n,.7),dialogTab:z(n,.65),dialogTabSelected:"#FFF",dialogTabSelectedBorder:"#FFF",elementsPathColor:z(n,-.6),menubuttonHover:z(n,.1),menubuttonIcon:z(n,.5),menubuttonIconHover:z(n,.3)},q[t].output(n).replace(/\[/g,"{").replace(/\]/g,"}")}),CKEDITOR.plugins.add("dialogui",{onLoad:function(){var s,l,c,d=function(e){this._||(this._={}),this._["default"]=this._.initValue=e["default"]||"",this._.required=e.required||!1;for(var t=[this._],n=1;n<arguments.length;n++)t.push(arguments[n]);return t.push(!0),CKEDITOR.tools.extend.apply(CKEDITOR.tools,t),this._},e={build:function(e,t,n){return new CKEDITOR.ui.dialog.textInput(e,t,n)}},t={build:function(e,t,n){return new CKEDITOR.ui.dialog[t.type](e,t,n)}},n={isChanged:function(){return this.getValue()!=this.getInitValue()},reset:function(e){this.setValue(this.getInitValue(),e)},setInitValue:function(){this._.initValue=this.getValue()},resetInitValue:function(){this._.initValue=this._["default"]},getInitValue:function(){return this._.initValue}},i=CKEDITOR.tools.extend({},CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors,{onChange:function(e,t){this._.domOnChangeRegistered||(e.on("load",function(){this.getInputElement().on("change",function(){e.parts.dialog.isVisible()&&this.fire("change",{value:this.getValue()})},this)},this),this._.domOnChangeRegistered=!0),this.on("change",t)}},!0),o=/^on([A-Z]\w+)/,m=function(e){for(var t in e)(o.test(t)||"title"==t||"type"==t)&&delete e[t];return e},u=function(e){(e=e.data.getKeystroke())==CKEDITOR.SHIFT+CKEDITOR.ALT+36?this.setDirectionMarker("ltr"):e==CKEDITOR.SHIFT+CKEDITOR.ALT+35&&this.setDirectionMarker("rtl")};CKEDITOR.tools.extend(CKEDITOR.ui.dialog,{labeledElement:function(n,i,e,o){if(!(arguments.length<4)){var r=d.call(this,i);r.labelId=CKEDITOR.tools.getNextId()+"_label",this._.children=[];var t={role:i.role||"presentation"};i.includeLabel&&(t["aria-labelledby"]=r.labelId),CKEDITOR.ui.dialog.uiElement.call(this,n,i,e,"div",null,t,function(){var e=[],t=i.required?" cke_required":"";return"horizontal"!=i.labelLayout?e.push('<label class="cke_dialog_ui_labeled_label'+t+'" ',' id="'+r.labelId+'"',r.inputId?' for="'+r.inputId+'"':"",(i.labelStyle?' style="'+i.labelStyle+'"':"")+">",i.label,"</label>",'<div class="cke_dialog_ui_labeled_content"',i.controlStyle?' style="'+i.controlStyle+'"':"",' role="presentation">',o.call(this,n,i),"</div>"):(t={type:"hbox",widths:i.widths,padding:0,children:[{type:"html",html:'<label class="cke_dialog_ui_labeled_label'+t+'" id="'+r.labelId+'" for="'+r.inputId+'"'+(i.labelStyle?' style="'+i.labelStyle+'"':"")+">"+CKEDITOR.tools.htmlEncode(i.label)+"</label>"},{type:"html",html:'<span class="cke_dialog_ui_labeled_content"'+(i.controlStyle?' style="'+i.controlStyle+'"':"")+">"+o.call(this,n,i)+"</span>"}]},CKEDITOR.dialog._.uiElementBuilders.hbox.build(n,t,e)),e.join("")})}},textInput:function(t,n,e){if(!(arguments.length<3)){d.call(this,n);var i=this._.inputId=CKEDITOR.tools.getNextId()+"_textInput",o={"class":"cke_dialog_ui_input_"+n.type,id:i,type:n.type};n.validate&&(this.validate=n.validate),n.maxLength&&(o.maxlength=n.maxLength),n.size&&(o.size=n.size),n.inputStyle&&(o.style=n.inputStyle);var r=this,a=!1;t.on("load",function(){r.getInputElement().on("keydown",function(e){13==e.data.getKeystroke()&&(a=!0)}),r.getInputElement().on("keyup",function(e){13==e.data.getKeystroke()&&a&&(t.getButton("ok")&&setTimeout(function(){t.getButton("ok").click()},0),a=!1),r.bidi&&u.call(r,e)},null,null,1e3)}),CKEDITOR.ui.dialog.labeledElement.call(this,t,n,e,function(){var e=['<div class="cke_dialog_ui_input_',n.type,'" role="presentation"'];for(var t in n.width&&e.push('style="width:'+n.width+'" '),e.push("><input "),o["aria-labelledby"]=this._.labelId,this._.required&&(o["aria-required"]=this._.required),o)e.push(t+'="'+o[t]+'" ');return e.push(" /></div>"),e.join("")})}},textarea:function(e,t,n){if(!(arguments.length<3)){d.call(this,t);var i=this,o=this._.inputId=CKEDITOR.tools.getNextId()+"_textarea",r={};t.validate&&(this.validate=t.validate),r.rows=t.rows||5,r.cols=t.cols||20,r["class"]="cke_dialog_ui_input_textarea "+(t["class"]||""),"undefined"!=typeof t.inputStyle&&(r.style=t.inputStyle),t.dir&&(r.dir=t.dir),i.bidi&&e.on("load",function(){i.getInputElement().on("keyup",u)},i),CKEDITOR.ui.dialog.labeledElement.call(this,e,t,n,function(){r["aria-labelledby"]=this._.labelId,this._.required&&(r["aria-required"]=this._.required);var e,t=['<div class="cke_dialog_ui_input_textarea" role="presentation"><textarea id="',o,'" '];for(e in r)t.push(e+'="'+CKEDITOR.tools.htmlEncode(r[e])+'" ');return t.push(">",CKEDITOR.tools.htmlEncode(i._["default"]),"</textarea></div>"),t.join("")})}},checkbox:function(o,r,e){if(!(arguments.length<3)){var a=d.call(this,r,{"default":!!r["default"]});r.validate&&(this.validate=r.validate),CKEDITOR.ui.dialog.uiElement.call(this,o,r,e,"span",null,null,function(){var e=CKEDITOR.tools.extend({},r,{id:r.id?r.id+"_checkbox":CKEDITOR.tools.getNextId()+"_checkbox"},!0),t=[],n=CKEDITOR.tools.getNextId()+"_label",i={"class":"cke_dialog_ui_checkbox_input",type:"checkbox","aria-labelledby":n};return m(e),r["default"]&&(i.checked="checked"),"undefined"!=typeof e.inputStyle&&(e.style=e.inputStyle),a.checkbox=new CKEDITOR.ui.dialog.uiElement(o,e,t,"input",null,i),t.push(' <label id="',n,'" for="',i.id,'"'+(r.labelStyle?' style="'+r.labelStyle+'"':"")+">",CKEDITOR.tools.htmlEncode(r.label),"</label>"),t.join("")})}},radio:function(u,h,e){if(!(arguments.length<3)){d.call(this,h),this._["default"]||(this._["default"]=this._.initValue=h.items[0][1]),h.validate&&(this.validate=h.validate);var p=[],f=this;h.role="radiogroup",h.includeLabel=!0,CKEDITOR.ui.dialog.labeledElement.call(this,u,h,e,function(){for(var e=[],t=[],n=(h.id?h.id:CKEDITOR.tools.getNextId())+"_radio",i=0;i<h.items.length;i++){var o=h.items[i],r=void 0!==o[2]?o[2]:o[0],a=void 0!==o[1]?o[1]:o[0],s=(l=CKEDITOR.tools.getNextId()+"_radio_input")+"_label",l=CKEDITOR.tools.extend({},h,{id:l,title:null,type:null},!0),c=(r=CKEDITOR.tools.extend({},l,{title:r},!0),{type:"radio","class":"cke_dialog_ui_radio_input",name:n,value:a,"aria-labelledby":s}),d=[];f._["default"]==a&&(c.checked="checked"),m(l),m(r),"undefined"!=typeof l.inputStyle&&(l.style=l.inputStyle),l.keyboardFocusable=!0,p.push(new CKEDITOR.ui.dialog.uiElement(u,l,d,"input",null,c)),d.push(" "),new CKEDITOR.ui.dialog.uiElement(u,r,d,"label",null,{id:s,"for":c.id},o[0]),e.push(d.join(""))}return new CKEDITOR.ui.dialog.hbox(u,p,e,t),t.join("")}),this._.children=p}},button:function(e,t,n){if(arguments.length){"function"==typeof t&&(t=t(e.getParentEditor())),d.call(this,t,{disabled:t.disabled||!1}),CKEDITOR.event.implementOn(this);var i=this;e.on("load",function(){var e=this.getElement();e.on("click",function(e){i.click(),e.data.preventDefault()}),e.on("keydown",function(e){e.data.getKeystroke()in{32:1}&&(i.click(),e.data.preventDefault())}),e.unselectable()},this);var o=CKEDITOR.tools.extend({},t);delete o.style;var r=CKEDITOR.tools.getNextId()+"_label";CKEDITOR.ui.dialog.uiElement.call(this,e,o,n,"a",null,{style:t.style,href:"javascript:void(0)",title:t.label,hidefocus:"true","class":t["class"],role:"button","aria-labelledby":r},'<span id="'+r+'" class="cke_dialog_ui_button">'+CKEDITOR.tools.htmlEncode(t.label)+"</span>")}},select:function(a,s,e){if(!(arguments.length<3)){var l=d.call(this,s);s.validate&&(this.validate=s.validate),l.inputId=CKEDITOR.tools.getNextId()+"_select",CKEDITOR.ui.dialog.labeledElement.call(this,a,s,e,function(){var e=CKEDITOR.tools.extend({},s,{id:s.id?s.id+"_select":CKEDITOR.tools.getNextId()+"_select"},!0),t=[],n=[],i={id:l.inputId,"class":"cke_dialog_ui_input_select","aria-labelledby":this._.labelId};t.push('<div class="cke_dialog_ui_input_',s.type,'" role="presentation"'),s.width&&t.push('style="width:'+s.width+'" '),t.push(">"),void 0!==s.size&&(i.size=s.size),void 0!==s.multiple&&(i.multiple=s.multiple),m(e);for(var o,r=0;r<s.items.length&&(o=s.items[r]);r++)n.push('<option value="',CKEDITOR.tools.htmlEncode(void 0!==o[1]?o[1]:o[0]).replace(/"/g,"&quot;"),'" /> ',CKEDITOR.tools.htmlEncode(o[0]));return"undefined"!=typeof e.inputStyle&&(e.style=e.inputStyle),l.select=new CKEDITOR.ui.dialog.uiElement(a,e,t,"select",null,i,n.join("")),t.push("</div>"),t.join("")})}},file:function(e,t,n){if(!(arguments.length<3)){void 0===t["default"]&&(t["default"]="");var i=CKEDITOR.tools.extend(d.call(this,t),{definition:t,buttons:[]});t.validate&&(this.validate=t.validate),e.on("load",function(){CKEDITOR.document.getById(i.frameId).getParent().addClass("cke_dialog_ui_input_file")}),CKEDITOR.ui.dialog.labeledElement.call(this,e,t,n,function(){i.frameId=CKEDITOR.tools.getNextId()+"_fileInput";var e=['<iframe frameborder="0" allowtransparency="0" class="cke_dialog_ui_input_file" role="presentation" id="',i.frameId,'" title="',t.label,'" src="javascript:void('];return e.push(CKEDITOR.env.ie?"(function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.close();")+"})()":"0"),e.push(')"></iframe>'),e.join("")})}},fileButton:function(n,i,e){var t=this;if(!(arguments.length<3)){d.call(this,i),i.validate&&(this.validate=i.validate);var o=CKEDITOR.tools.extend({},i),r=o.onClick;o.className=(o.className?o.className+" ":"")+"cke_dialog_ui_button",o.onClick=function(e){var t=i["for"];r&&!1===r.call(this,e)||(n.getContentElement(t[0],t[1]).submit(),this.disable())},n.on("load",function(){n.getContentElement(i["for"][0],i["for"][1])._.buttons.push(t)}),CKEDITOR.ui.dialog.button.call(this,n,o,e)}},html:(s=/^\s*<[\w:]+\s+([^>]*)?>/,l=/^(\s*<[\w:]+(?:\s+[^>]*)?)((?:.|\r|\n)+)$/,c=/\/$/,function(e,t,n){if(!(arguments.length<3)){var i=[],o=t.html;"<"!=o.charAt(0)&&(o="<span>"+o+"</span>");var r=t.focus;if(r){var a=this.focus;this.focus=function(){("function"==typeof r?r:a).call(this),this.fire("focus")},t.isFocusable&&(this.isFocusable=this.isFocusable),this.keyboardFocusable=!0}CKEDITOR.ui.dialog.uiElement.call(this,e,t,i,"span",null,null,""),i=i.join("").match(s),o=o.match(l)||["","",""],c.test(o[1])&&(o[1]=o[1].slice(0,-1),o[2]="/"+o[2]),n.push([o[1]," ",i[1]||"",o[2]].join(""))}}),fieldset:function(e,t,n,i,o){var r=o.label;this._={children:t},CKEDITOR.ui.dialog.uiElement.call(this,e,o,i,"fieldset",null,null,function(){var e=[];r&&e.push("<legend"+(o.labelStyle?' style="'+o.labelStyle+'"':"")+">"+r+"</legend>");for(var t=0;t<n.length;t++)e.push(n[t]);return e.join("")})}},!0),
CKEDITOR.ui.dialog.html.prototype=new CKEDITOR.ui.dialog.uiElement,CKEDITOR.ui.dialog.labeledElement.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{setLabel:function(e){var t=CKEDITOR.document.getById(this._.labelId);return t.getChildCount()<1?new CKEDITOR.dom.text(e,CKEDITOR.document).appendTo(t):t.getChild(0).$.nodeValue=e,this},getLabel:function(){var e=CKEDITOR.document.getById(this._.labelId);return!e||e.getChildCount()<1?"":e.getChild(0).getText()},eventProcessors:i},!0),CKEDITOR.ui.dialog.button.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{click:function(){return!this._.disabled&&this.fire("click",{dialog:this._.dialog})},enable:function(){this._.disabled=!1;var e=this.getElement();e&&e.removeClass("cke_disabled")},disable:function(){this._.disabled=!0,this.getElement().addClass("cke_disabled")},isVisible:function(){return this.getElement().getFirst().isVisible()},isEnabled:function(){return!this._.disabled},eventProcessors:CKEDITOR.tools.extend({},CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors,{onClick:function(e,t){this.on("click",function(){t.apply(this,arguments)})}},!0),accessKeyUp:function(){this.click()},accessKeyDown:function(){this.focus()},keyboardFocusable:!0},!0),CKEDITOR.ui.dialog.textInput.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,{getInputElement:function(){return CKEDITOR.document.getById(this._.inputId)},focus:function(){var t=this.selectParentTab();setTimeout(function(){var e=t.getInputElement();e&&e.$.focus()},0)},select:function(){var t=this.selectParentTab();setTimeout(function(){var e=t.getInputElement();e&&(e.$.focus(),e.$.select())},0)},accessKeyUp:function(){this.select()},setValue:function(e){if(this.bidi){var t=e&&e.charAt(0);(t="\u202a"==t?"ltr":"\u202b"==t?"rtl":null)&&(e=e.slice(1)),this.setDirectionMarker(t)}return e||(e=""),CKEDITOR.ui.dialog.uiElement.prototype.setValue.apply(this,arguments)},getValue:function(){var e=CKEDITOR.ui.dialog.uiElement.prototype.getValue.call(this);if(this.bidi&&e){var t=this.getDirectionMarker();t&&(e=("ltr"==t?"\u202a":"\u202b")+e)}return e},setDirectionMarker:function(e){var t=this.getInputElement();e?t.setAttributes({dir:e,"data-cke-dir-marker":e}):this.getDirectionMarker()&&t.removeAttributes(["dir","data-cke-dir-marker"])},getDirectionMarker:function(){return this.getInputElement().data("cke-dir-marker")},keyboardFocusable:!0},n,!0),CKEDITOR.ui.dialog.textarea.prototype=new CKEDITOR.ui.dialog.textInput,CKEDITOR.ui.dialog.select.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,{getInputElement:function(){return this._.select.getElement()},add:function(e,t,n){var i=new CKEDITOR.dom.element("option",this.getDialog().getParentEditor().document),o=this.getInputElement().$;return i.$.text=e,i.$.value=null==t?e:t,null==n?CKEDITOR.env.ie?o.add(i.$):o.add(i.$,null):o.add(i.$,n),this},remove:function(e){return this.getInputElement().$.remove(e),this},clear:function(){for(var e=this.getInputElement().$;0<e.length;)e.remove(0);return this},keyboardFocusable:!0},n,!0),CKEDITOR.ui.dialog.checkbox.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{getInputElement:function(){return this._.checkbox.getElement()},setValue:function(e,t){this.getInputElement().$.checked=e,!t&&this.fire("change",{value:e})},getValue:function(){return this.getInputElement().$.checked},accessKeyUp:function(){this.setValue(!this.getValue())},eventProcessors:{onChange:function(e,t){return!CKEDITOR.env.ie||8<CKEDITOR.env.version?i.onChange.apply(this,arguments):(e.on("load",function(){var t=this._.checkbox.getElement();t.on("propertychange",function(e){"checked"==(e=e.data.$).propertyName&&this.fire("change",{value:t.$.checked})},this)},this),this.on("change",t),null)}},keyboardFocusable:!0},n,!0),CKEDITOR.ui.dialog.radio.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{setValue:function(e,t){for(var n,i=this._.children,o=0;o<i.length&&(n=i[o]);o++)n.getElement().$.checked=n.getValue()==e;!t&&this.fire("change",{value:e})},getValue:function(){for(var e=this._.children,t=0;t<e.length;t++)if(e[t].getElement().$.checked)return e[t].getValue();return null},accessKeyUp:function(){var e,t=this._.children;for(e=0;e<t.length;e++)if(t[e].getElement().$.checked)return void t[e].getElement().focus();t[0].getElement().focus()},eventProcessors:{onChange:function(e,t){return!CKEDITOR.env.ie||8<CKEDITOR.env.version?i.onChange.apply(this,arguments):(e.on("load",function(){for(var e=this._.children,t=this,n=0;n<e.length;n++)e[n].getElement().on("propertychange",function(e){"checked"==(e=e.data.$).propertyName&&this.$.checked&&t.fire("change",{value:this.getAttribute("value")})})},this),this.on("change",t),null)}}},n,!0),CKEDITOR.ui.dialog.file.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,n,{getInputElement:function(){var e=CKEDITOR.document.getById(this._.frameId).getFrameDocument();return 0<e.$.forms.length?new CKEDITOR.dom.element(e.$.forms[0].elements[0]):this.getElement()},submit:function(){return this.getInputElement().getParent().$.submit(),this},getAction:function(){return this.getInputElement().getParent().$.action},registerEvents:function(e){var t,n,i=/^on([A-Z]\w+)/,o=function(e,t,n,i){e.on("formLoaded",function(){e.getInputElement().on(n,i,e)})};for(n in e)(t=n.match(i))&&(this.eventProcessors[n]?this.eventProcessors[n].call(this,this._.dialog,e[n]):o(this,this._.dialog,t[1].toLowerCase(),e[n]));return this},reset:function(){function e(){i.$.open();var e="";o.size&&(e=o.size-(CKEDITOR.env.ie?7:0));var t=n.frameId+"_input";for(i.$.write(['<html dir="'+l+'" lang="'+c+'"><head><title></title></head><body style="margin: 0; overflow: hidden; background: transparent;">','<form enctype="multipart/form-data" method="POST" dir="'+l+'" lang="'+c+'" action="',CKEDITOR.tools.htmlEncode(o.action),'"><label id="',n.labelId,'" for="',t,'" style="display:none">',CKEDITOR.tools.htmlEncode(o.label),'</label><input style="width:100%" id="',t,'" aria-labelledby="',n.labelId,'" type="file" name="',CKEDITOR.tools.htmlEncode(o.id||"cke_upload"),'" size="',CKEDITOR.tools.htmlEncode(0<e?e:""),'" /></form></body></html><script>',CKEDITOR.env.ie?"("+CKEDITOR.tools.fixDomain+")();":"","window.parent.CKEDITOR.tools.callFunction("+a+");","window.onbeforeunload = function() {window.parent.CKEDITOR.tools.callFunction("+s+")}","</script>"].join("")),i.$.close(),e=0;e<r.length;e++)r[e].enable()}var n=this._,i=CKEDITOR.document.getById(n.frameId).getFrameDocument(),o=n.definition,r=n.buttons,a=this.formLoadedNumber,s=this.formUnloadNumber,l=n.dialog._.editor.lang.dir,c=n.dialog._.editor.langCode;a||(a=this.formLoadedNumber=CKEDITOR.tools.addFunction(function(){this.fire("formLoaded")},this),s=this.formUnloadNumber=CKEDITOR.tools.addFunction(function(){this.getInputElement().clearCustomData()},this),this.getDialog()._.editor.on("destroy",function(){CKEDITOR.tools.removeFunction(a),CKEDITOR.tools.removeFunction(s)})),CKEDITOR.env.gecko?setTimeout(e,500):e()},getValue:function(){return this.getInputElement().$.value||""},setInitValue:function(){this._.initValue=""},eventProcessors:{onChange:function(e,t){this._.domOnChangeRegistered||(this.on("formLoaded",function(){this.getInputElement().on("change",function(){this.fire("change",{value:this.getValue()})},this)},this),this._.domOnChangeRegistered=!0),this.on("change",t)}},keyboardFocusable:!0},!0),CKEDITOR.ui.dialog.fileButton.prototype=new CKEDITOR.ui.dialog.button,CKEDITOR.ui.dialog.fieldset.prototype=CKEDITOR.tools.clone(CKEDITOR.ui.dialog.hbox.prototype),CKEDITOR.dialog.addUIElement("text",e),CKEDITOR.dialog.addUIElement("password",e),CKEDITOR.dialog.addUIElement("textarea",t),CKEDITOR.dialog.addUIElement("checkbox",t),CKEDITOR.dialog.addUIElement("radio",t),CKEDITOR.dialog.addUIElement("button",t),CKEDITOR.dialog.addUIElement("select",t),CKEDITOR.dialog.addUIElement("file",t),CKEDITOR.dialog.addUIElement("fileButton",t),CKEDITOR.dialog.addUIElement("html",t),CKEDITOR.dialog.addUIElement("fieldset",{build:function(e,t,n){for(var i,o=t.children,r=[],a=[],s=0;s<o.length&&(i=o[s]);s++){var l=[];r.push(l),a.push(CKEDITOR.dialog._.uiElementBuilders[i.type].build(e,i,l))}return new CKEDITOR.ui.dialog[t.type](e,a,r,n,t)}})}}),CKEDITOR.DIALOG_RESIZE_NONE=0,CKEDITOR.DIALOG_RESIZE_WIDTH=1,CKEDITOR.DIALOG_RESIZE_HEIGHT=2,CKEDITOR.DIALOG_RESIZE_BOTH=3,CKEDITOR.DIALOG_STATE_IDLE=1,CKEDITOR.DIALOG_STATE_BUSY=2,function(){function v(){for(var e=this._.tabIdList.length,t=CKEDITOR.tools.indexOf(this._.tabIdList,this._.currentTabId)+e,n=t-1;t-e<n;n--)if(this._.tabs[this._.tabIdList[n%e]][0].$.offsetHeight)return this._.tabIdList[n%e];return null}function T(){for(var e=this._.tabIdList.length,t=CKEDITOR.tools.indexOf(this._.tabIdList,this._.currentTabId),n=t+1;n<t+e;n++)if(this._.tabs[this._.tabIdList[n%e]][0].$.offsetHeight)return this._.tabIdList[n%e];return null}function r(e,t){for(var n=e.$.getElementsByTagName("input"),i=0,o=n.length;i<o;i++){var r=new CKEDITOR.dom.element(n[i]);"text"==r.getAttribute("type").toLowerCase()&&(t?(r.setAttribute("value",r.getCustomData("fake_value")||""),r.removeCustomData("fake_value")):(r.setCustomData("fake_value",r.getAttribute("value")),r.setAttribute("value","")))}}function y(e,t){var n=this.getInputElement();n&&(e?n.removeAttribute("aria-invalid"):n.setAttribute("aria-invalid",!0)),e||(this.select?this.select():this.focus()),t&&alert(t),this.fire("validated",{valid:e,msg:t})}function E(){var e=this.getInputElement();e&&e.removeAttribute("aria-invalid")}function b(e){var t=CKEDITOR.dom.element.createFromHtml(CKEDITOR.addTemplate("dialog",h).output({id:CKEDITOR.tools.getNextNumber(),editorId:e.id,langDir:e.lang.dir,langCode:e.langCode,editorDialogClass:"cke_editor_"+e.name.replace(/\./g,"\\.")+"_dialog",closeTitle:e.lang.common.close,hidpi:CKEDITOR.env.hidpi?"cke_hidpi":""})),n=t.getChild([0,0,0,0,0]),i=n.getChild(0),o=n.getChild(1);return e.plugins.clipboard&&CKEDITOR.plugins.clipboard.preventDefaultDropOnElement(n),!CKEDITOR.env.ie||CKEDITOR.env.quirks||CKEDITOR.env.edge||(e="javascript:void(function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.close();")+"}())",CKEDITOR.dom.element.createFromHtml('<iframe frameBorder="0" class="cke_iframe_shim" src="'+e+'" tabIndex="-1"></iframe>').appendTo(n.getParent())),i.unselectable(),o.unselectable(),{element:t,parts:{dialog:t.getChild(0),title:i,close:o,tabs:n.getChild(2),contents:n.getChild([3,0,0,0]),footer:n.getChild([3,0,1,0])}}}function i(e,t,n){this.element=t,this.focusIndex=n,this.tabIndex=0,this.isFocusable=function(){return!t.getAttribute("disabled")&&t.isVisible()},this.focus=function(){e._.currentFocusIndex=this.focusIndex,this.element.focus()},t.on("keydown",function(e){e.data.getKeystroke()in{32:1,13:1}&&this.fire("click")}),t.on("focus",function(){this.fire("mouseover")}),t.on("blur",function(){this.fire("mouseout")})}function l(e){function t(){e.layout()}var n=CKEDITOR.document.getWindow();n.on("resize",t),e.on("hide",function(){n.removeListener("resize",t)})}function a(e,t){this._={dialog:e},CKEDITOR.tools.extend(this,t)}function C(s){function n(e){var t=s.getSize(),n=CKEDITOR.document.getWindow().getViewPaneSize(),i=e.data.$.screenX,o=e.data.$.screenY,r=i-l.x,a=o-l.y;l={x:i,y:o},c.x+=r,c.y+=a,s.move(c.x+h[3]<u?-h[3]:c.x-h[1]>n.width-t.width-u?n.width-t.width+("rtl"==d.lang.dir?0:h[1]):c.x,c.y+h[0]<u?-h[0]:c.y-h[2]>n.height-t.height-u?n.height-t.height+h[2]:c.y,1),e.data.preventDefault()}function i(){if(CKEDITOR.document.removeListener("mousemove",n),CKEDITOR.document.removeListener("mouseup",i),CKEDITOR.env.ie6Compat){var e=D.getChild(0).getFrameDocument();e.removeListener("mousemove",n),e.removeListener("mouseup",i)}}var l=null,c=null,d=s.getParentEditor(),u=d.config.dialog_magnetDistance,h=CKEDITOR.skin.margins||[0,0,0,0];void 0===u&&(u=20),s.parts.title.on("mousedown",function(e){if(l={x:e.data.$.screenX,y:e.data.$.screenY},CKEDITOR.document.on("mousemove",n),CKEDITOR.document.on("mouseup",i),c=s.getPosition(),CKEDITOR.env.ie6Compat){var t=D.getChild(0).getFrameDocument();t.on("mousemove",n),t.on("mouseup",i)}e.data.preventDefault()},s)}function _(l){function n(e){var t="rtl"==g.lang.dir,n=m.width,i=m.height,o=n+(e.data.$.screenX-f.x)*(t?-1:1)*(l._.moved?1:2),r=i+(e.data.$.screenY-f.y)*(l._.moved?1:2),a=l._.element.getFirst(),s=(a=t&&a.getComputedStyle("right"),l.getPosition());s.y+r>p.height&&(r=p.height-s.y),(t?a:s.x)+o>p.width&&(o=p.width-(t?a:s.x)),d!=CKEDITOR.DIALOG_RESIZE_WIDTH&&d!=CKEDITOR.DIALOG_RESIZE_BOTH||(n=Math.max(c.minWidth||0,o-u)),d!=CKEDITOR.DIALOG_RESIZE_HEIGHT&&d!=CKEDITOR.DIALOG_RESIZE_BOTH||(i=Math.max(c.minHeight||0,r-h)),l.resize(n,i),l._.moved||l.layout(),e.data.preventDefault()}function i(){if(CKEDITOR.document.removeListener("mouseup",i),CKEDITOR.document.removeListener("mousemove",n),o&&(o.remove(),o=null),CKEDITOR.env.ie6Compat){var e=D.getChild(0).getFrameDocument();e.removeListener("mouseup",i),e.removeListener("mousemove",n)}}var c=l.definition,d=c.resizable;if(d!=CKEDITOR.DIALOG_RESIZE_NONE){var u,h,p,f,m,o,g=l.getParentEditor(),t=CKEDITOR.tools.addFunction(function(e){m=l.getSize();var t=l.parts.contents;t.$.getElementsByTagName("iframe").length&&(o=CKEDITOR.dom.element.createFromHtml('<div class="cke_dialog_resize_cover" style="height: 100%; position: absolute; width: 100%;"></div>'),t.append(o)),h=m.height-l.parts.contents.getSize("height",!(CKEDITOR.env.gecko||CKEDITOR.env.ie&&CKEDITOR.env.quirks)),u=m.width-l.parts.contents.getSize("width",1),f={x:e.screenX,y:e.screenY},p=CKEDITOR.document.getWindow().getViewPaneSize(),CKEDITOR.document.on("mousemove",n),CKEDITOR.document.on("mouseup",i),CKEDITOR.env.ie6Compat&&((t=D.getChild(0).getFrameDocument()).on("mousemove",n),t.on("mouseup",i)),e.preventDefault&&e.preventDefault()});l.on("load",function(){var e="";d==CKEDITOR.DIALOG_RESIZE_WIDTH?e=" cke_resizer_horizontal":d==CKEDITOR.DIALOG_RESIZE_HEIGHT&&(e=" cke_resizer_vertical"),e=CKEDITOR.dom.element.createFromHtml('<div class="cke_resizer'+e+" cke_resizer_"+g.lang.dir+'" title="'+CKEDITOR.tools.htmlEncode(g.lang.common.resize)+'" onmousedown="CKEDITOR.tools.callFunction('+t+', event )">'+("ltr"==g.lang.dir?"\u25e2":"\u25e3")+"</div>"),l.parts.footer.append(e,1)}),g.on("destroy",function(){CKEDITOR.tools.removeFunction(t)})}}function c(e){e.data.preventDefault(1)}function d(e){var n=CKEDITOR.document.getWindow(),t=e.config,i=CKEDITOR.skinName||e.config.skin,o=t.dialog_backgroundCoverColor||("moono-lisa"==i?"black":"white"),r=(i=t.dialog_backgroundCoverOpacity,t.baseFloatZIndex),a=(t=CKEDITOR.tools.genKey(o,i,r),N[t]);a?a.show():(r=['<div tabIndex="-1" style="position: ',CKEDITOR.env.ie6Compat?"absolute":"fixed","; z-index: ",r,"; top: 0px; left: 0px; ",CKEDITOR.env.ie6Compat?"":"background-color: "+o,'" class="cke_dialog_background_cover">'],CKEDITOR.env.ie6Compat&&(o="<html><body style=\\'background-color:"+o+";\\'></body></html>",r.push('<iframe hidefocus="true" frameborder="0" id="cke_dialog_background_iframe" src="javascript:'),r.push("void((function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.write( '"+o+"' );document.close();")+"})())"),r.push('" style="position:absolute;left:0;top:0;width:100%;height: 100%;filter: progid:DXImageTransform.Microsoft.Alpha(opacity=0)"></iframe>')),r.push("</div>"),(a=CKEDITOR.dom.element.createFromHtml(r.join(""))).setOpacity(void 0!==i?i:.5),a.on("keydown",c),a.on("keypress",c),a.on("keyup",c),a.appendTo(CKEDITOR.document.getBody()),N[t]=a),e.focusManager.add(a),D=a;var s=function(){var e=n.getScrollPosition(),t=CKEDITOR.dialog._.currentTop;if(a.setStyles({left:e.x+"px",top:e.y+"px"}),t)for(;e=t.getPosition(),t.move(e.x,e.y),t=t._.parentDialog;);};if(g=e=function(){var e=n.getViewPaneSize();a.setStyles({width:e.width+"px",height:e.height+"px"})},n.on("resize",e),e(),CKEDITOR.env.mac&&CKEDITOR.env.webkit||a.focus(),CKEDITOR.env.ie6Compat){var l=function(){s(),arguments.callee.prevScrollHandler.apply(this,arguments)};n.$.setTimeout(function(){l.prevScrollHandler=window.onscroll||function(){},window.onscroll=l},0),s()}}function o(e){D&&(e.focusManager.remove(D),e=CKEDITOR.document.getWindow(),D.hide(),e.removeListener("resize",g),CKEDITOR.env.ie6Compat&&e.$.setTimeout(function(){window.onscroll=window.onscroll&&window.onscroll.prevScrollHandler||null},0),g=null)}var e,n,s,u=CKEDITOR.tools.cssLength,h='<div class="cke_reset_all {editorId} {editorDialogClass} {hidpi}" dir="{langDir}" lang="{langCode}" role="dialog" aria-labelledby="cke_dialog_title_{id}"><table class="cke_dialog '+CKEDITOR.env.cssClass+' cke_{langDir}" style="position:absolute" role="presentation"><tr><td role="presentation"><div class="cke_dialog_body" role="presentation"><div id="cke_dialog_title_{id}" class="cke_dialog_title" role="presentation"></div><a id="cke_dialog_close_button_{id}" class="cke_dialog_close_button" href="javascript:void(0)" title="{closeTitle}" role="button"><span class="cke_label">X</span></a><div id="cke_dialog_tabs_{id}" class="cke_dialog_tabs" role="tablist"></div><table class="cke_dialog_contents" role="presentation"><tr><td id="cke_dialog_contents_{id}" class="cke_dialog_contents_body" role="presentation"></td></tr><tr><td id="cke_dialog_footer_{id}" class="cke_dialog_footer" role="presentation"></td></tr></table></div></td></tr></table></div>';CKEDITOR.dialog=function(o,e){function t(){var e=f._.focusList;e.sort(function(e,t){return e.tabIndex!=t.tabIndex?t.tabIndex-e.tabIndex:e.focusIndex-t.focusIndex});for(var t=e.length,n=0;n<t;n++)e[n].focusIndex=n}function r(e){var t=f._.focusList;if(e=e||0,!(t.length<1)){var n=f._.currentFocusIndex;f._.tabBarMode&&e<0&&(n=0);try{t[n].getInputElement().$.blur()}catch(a){}var i=n,o=1<f._.pageCount;do{if(i+=e,o&&!f._.tabBarMode&&(i==t.length||-1==i))return f._.tabBarMode=!0,f._.tabs[f._.currentTabId][0].focus(),void(f._.currentFocusIndex=-1);if((i=(i+t.length)%t.length)==n)break}while(e&&!t[i].isFocusable());t[i].focus(),"text"==t[i].type&&t[i].select()}}function a(e){if(f==CKEDITOR.dialog._.currentTop){var t=e.data.getKeystroke(),n="rtl"==o.lang.dir,i=[37,38,39,40];if(l=c=0,9==t||t==CKEDITOR.SHIFT+9)r(t==CKEDITOR.SHIFT+9?-1:1),l=1;else if(t==CKEDITOR.ALT+121&&!f._.tabBarMode&&1<f.getPageCount())f._.tabBarMode=!0,f._.tabs[f._.currentTabId][0].focus(),f._.currentFocusIndex=-1,l=1;else if(-1!=CKEDITOR.tools.indexOf(i,t)&&f._.tabBarMode)t=-1!=CKEDITOR.tools.indexOf([n?39:37,38],t)?v.call(f):T.call(f),f.selectPage(t),f._.tabs[t][0].focus(),l=1;else if(13!=t&&32!=t||!f._.tabBarMode)if(13==t)(t=e.data.getTarget()).is("a","button","select","textarea")||t.is("input")&&"button"==t.$.type||((t=this.getButton("ok"))&&CKEDITOR.tools.setTimeout(t.click,0,t),l=1),c=1;else{if(27!=t)return;(t=this.getButton("cancel"))?CKEDITOR.tools.setTimeout(t.click,0,t):!1!==this.fire("cancel",{hide:!0}).hide&&this.hide(),c=1}else this.selectPage(this._.currentTabId),this._.tabBarMode=!1,this._.currentFocusIndex=-1,r(1),l=1;s(e)}}function s(e){l?e.data.preventDefault(1):c&&e.data.stopPropagation()}var l,c,n=CKEDITOR.dialog._.dialogDefinitions[e],i=CKEDITOR.tools.clone(O),d=o.config.dialog_buttonsOrder||"OS",u=o.lang.dir,h={};if(("OS"==d&&CKEDITOR.env.mac||"rtl"==d&&"ltr"==u||"ltr"==d&&"rtl"==u)&&i.buttons.reverse(),n=CKEDITOR.tools.extend(n(o),i),n=CKEDITOR.tools.clone(n),n=new I(this,n),i=b(o),this._={editor:o,element:i.element,name:e,contentSize:{width:0,height:0},size:{width:0,height:0},contents:{},buttons:{},accessKeyMap:{},tabs:{},tabIdList:[],currentTabId:null,currentTabIndex:null,pageCount:0,lastTab:null,tabBarMode:!1,focusList:[],currentFocusIndex:0,hasFocus:!1},this.parts=i.parts,CKEDITOR.tools.setTimeout(function(){o.fire("ariaWidget",this.parts.contents)},0,this),(i={position:CKEDITOR.env.ie6Compat?"absolute":"fixed",top:0,visibility:"hidden"})["rtl"==u?"right":"left"]=0,this.parts.dialog.setStyles(i),CKEDITOR.event.call(this),this.definition=n=CKEDITOR.fire("dialogDefinition",{name:e,definition:n},o).definition,!("removeDialogTabs"in o._)&&o.config.removeDialogTabs){for(i=o.config.removeDialogTabs.split(";"),u=0;u<i.length;u++)if(2==(d=i[u].split(":")).length){var p=d[0];h[p]||(h[p]=[]),h[p].push(d[1])}o._.removeDialogTabs=h}if(o._.removeDialogTabs&&(h=o._.removeDialogTabs[e]))for(u=0;u<h.length;u++)n.removeContents(h[u]);n.onLoad&&this.on("load",n.onLoad),n.onShow&&this.on("show",n.onShow),n.onHide&&this.on("hide",n.onHide),n.onOk&&this.on("ok",function(e){o.fire("saveSnapshot"),setTimeout(function(){o.fire("saveSnapshot")},0),!1===n.onOk.call(this,e)&&(e.data.hide=!1)}),this.state=CKEDITOR.DIALOG_STATE_IDLE,n.onCancel&&this.on("cancel",function(e){!1===n.onCancel.call(this,e)&&(e.data.hide=!1)});var f=this,m=function(e){var t,n=f._.contents;for(t in n)for(var i in n[t])if(e.call(this,n[t][i]))return};this.on("ok",function(i){m(function(e){if(e.validate){var t=e.validate(this),n="string"==typeof t||!1===t;return n&&(i.data.hide=!1,i.stop()),y.call(e,!n,"string"==typeof t?t:void 0),n}})},this,null,0),this.on("cancel",function(t){m(function(e){if(e.isChanged())return o.config.dialog_noConfirmCancel||confirm(o.lang.common.confirmCancel)||(t.data.hide=!1),!0})},this,null,0),this.parts.close.on("click",function(e){!1!==this.fire("cancel",{hide:!0}).hide&&this.hide(),e.data.preventDefault()},this),this.changeFocus=r;var g=this._.element;for(o.focusManager.add(g,1),this.on("show",function(){g.on("keydown",a,this),CKEDITOR.env.gecko&&g.on("keypress",s,this)}),this.on("hide",function(){g.removeListener("keydown",a),CKEDITOR.env.gecko&&g.removeListener("keypress",s),m(function(e){E.apply(e)})}),this.on("iframeAdded",function(e){new CKEDITOR.dom.document(e.data.iframe.$.contentWindow.document).on("keydown",a,this,null,0)}),this.on("show",function(){t();var e=1<f._.pageCount;o.config.dialog_startupFocusTab&&e?(f._.tabBarMode=!0,f._.tabs[f._.currentTabId][0].focus(),f._.currentFocusIndex=-1):this._.hasFocus||(this._.currentFocusIndex=e?-1:this._.focusList.length-1,n.onFocus?(e=n.onFocus.call(this))&&e.focus():r(1))},this,null,4294967295),CKEDITOR.env.ie6Compat&&this.on("load",function(){var e=this.getElement(),t=e.getFirst();t.remove(),t.appendTo(e)},this),C(this),_(this),new CKEDITOR.dom.text(n.title,CKEDITOR.document).appendTo(this.parts.title),u=0;u<n.contents.length;u++)(h=n.contents[u])&&this.addPage(h);for(this.parts.tabs.on("click",function(e){var t=e.data.getTarget();t.hasClass("cke_dialog_tab")&&(t=t.$.id,this.selectPage(t.substring(4,t.lastIndexOf("_"))),this._.tabBarMode&&(this._.tabBarMode=!1,this._.currentFocusIndex=-1,r(1)),e.data.preventDefault())},this),u=[],h=CKEDITOR.dialog._.uiElementBuilders.hbox.build(this,{type:"hbox",className:"cke_dialog_footer_buttons",widths:[],children:n.buttons},u).getChild(),this.parts.footer.setHtml(u.join("")),u=0;u<h.length;u++)this._.buttons[h[u].id]=h[u]},CKEDITOR.dialog.prototype={destroy:function(){this.hide(),this._.element.remove()},resize:function(e,t){this._.contentSize&&this._.contentSize.width==e&&this._.contentSize.height==t||(CKEDITOR.dialog.fire("resize",{dialog:this,width:e,height:t},this._.editor),this.fire("resize",{width:e,height:t},this._.editor),this.parts.contents.setStyles({width:e+"px",height:t+"px"}),"rtl"==this._.editor.lang.dir&&this._.position&&(this._.position.x=CKEDITOR.document.getWindow().getViewPaneSize().width-this._.contentSize.width-parseInt(this._.element.getFirst().getStyle("right"),10)),this._.contentSize={width:e,height:t})},getSize:function(){var e=this._.element.getFirst();return{width:e.$.offsetWidth||0,height:e.$.offsetHeight||0}},move:function(e,t,n){var i=this._.element.getFirst(),o="rtl"==this._.editor.lang.dir,r="fixed"==i.getComputedStyle("position");CKEDITOR.env.ie&&i.setStyle("zoom","100%"),r&&this._.position&&this._.position.x==e&&this._.position.y==t||(this._.position={x:e,y:t},r||(e+=(r=CKEDITOR.document.getWindow().getScrollPosition()).x,t+=r.y),o&&(r=this.getSize(),e=CKEDITOR.document.getWindow().getViewPaneSize().width-r.width-e),(t={top:(0<t?t:0)+"px"})[o?"right":"left"]=(0<e?e:0)+"px",i.setStyles(t),n&&(this._.moved=1))},getPosition:function(){return CKEDITOR.tools.extend({},this._.position)},show:function(){var e=this._.element,t=this.definition;for(var n in e.getParent()&&e.getParent().equals(CKEDITOR.document.getBody())?e.setStyle("display","block"):e.appendTo(CKEDITOR.document.getBody()),this.resize(this._.contentSize&&this._.contentSize.width||t.width||t.minWidth,this._.contentSize&&this._.contentSize.height||t.height||t.minHeight),this.reset(),this.selectPage(this.definition.contents[0].id),null===CKEDITOR.dialog._.currentZIndex&&(CKEDITOR.dialog._.currentZIndex=this._.editor.config.baseFloatZIndex),this._.element.getFirst().setStyle("z-index",CKEDITOR.dialog._.currentZIndex+=10),null===CKEDITOR.dialog._.currentTop?((CKEDITOR.dialog._.currentTop=this)._.parentDialog=null,d(this._.editor)):(this._.parentDialog=CKEDITOR.dialog._.currentTop,this._.parentDialog.getElement().getFirst().$.style.zIndex-=Math.floor(this._.editor.config.baseFloatZIndex/2),CKEDITOR.dialog._.currentTop=this),e.on("keydown",L),e.on("keyup",P),this._.hasFocus=!1,t.contents)if(t.contents[n]){e=t.contents[n];var i=this._.tabs[e.id],o=e.requiredContent,r=0;if(i){for(var a in this._.contents[e.id]){var s=this._.contents[e.id][a];"hbox"!=s.type&&"vbox"!=s.type&&s.getInputElement()&&(s.requiredContent&&!this._.editor.activeFilter.check(s.requiredContent)?s.disable():(s.enable(),r++))}!r||o&&!this._.editor.activeFilter.check(o)?i[0].addClass("cke_dialog_tab_disabled"):i[0].removeClass("cke_dialog_tab_disabled")}}CKEDITOR.tools.setTimeout(function(){this.layout(),l(this),this.parts.dialog.setStyle("visibility",""),this.fireOnce("load",{}),CKEDITOR.ui.fire("ready",this),this.fire("show",{}),this._.editor.fire("dialogShow",this),this._.parentDialog||this._.editor.focusManager.lock(),this.foreach(function(e){e.setInitValue&&e.setInitValue()})},100,this)},layout:function(){var e=this.parts.dialog,t=this.getSize(),n=CKEDITOR.document.getWindow().getViewPaneSize(),i=(n.width-t.width)/2,o=(n.height-t.height)/2;CKEDITOR.env.ie6Compat||(t.height+(0<o?o:0)>n.height||t.width+(0<i?i:0)>n.width?e.setStyle("position","absolute"):e.setStyle("position","fixed")),this.move(this._.moved?this._.position.x:i,this._.moved?this._.position.y:o)},foreach:function(e){for(var t in this._.contents)for(var n in this._.contents[t])e.call(this,this._.contents[t][n]);return this},reset:(e=function(e){e.reset&&e.reset(1)},function(){return this.foreach(e),this}),setupContent:function(){var t=arguments;this.foreach(function(e){e.setup&&e.setup.apply(e,t)})},commitContent:function(){var t=arguments;this.foreach(function(e){CKEDITOR.env.ie&&this._.currentFocusIndex==e.focusIndex&&e.getInputElement().$.blur(),e.commit&&e.commit.apply(e,t)})},hide:function(){if(this.parts.dialog.isVisible()){this.fire("hide",{}),this._.editor.fire("dialogHide",this),this.selectPage(this._.tabIdList[0]);var e=this._.element;for(e.setStyle("display","none"),this.parts.dialog.setStyle("visibility","hidden"),F(this);CKEDITOR.dialog._.currentTop!=this;)CKEDITOR.dialog._.currentTop.hide();if(this._.parentDialog){var t=this._.parentDialog.getElement().getFirst();t.setStyle("z-index",parseInt(t.$.style.zIndex,10)+Math.floor(this._.editor.config.baseFloatZIndex/2))}else o(this._.editor);if(CKEDITOR.dialog._.currentTop=this._.parentDialog)CKEDITOR.dialog._.currentZIndex-=10;else{CKEDITOR.dialog._.currentZIndex=null,e.removeListener("keydown",L),e.removeListener("keyup",P);var n=this._.editor;n.focus(),setTimeout(function(){n.focusManager.unlock(),CKEDITOR.env.iOS&&n.window.focus()},0)}delete this._.parentDialog,this.foreach(function(e){e.resetInitValue&&e.resetInitValue()}),this.setState(CKEDITOR.DIALOG_STATE_IDLE)}},addPage:function(e){if(!e.requiredContent||this._.editor.filter.check(e.requiredContent)){for(var t=[],n=e.label?' title="'+CKEDITOR.tools.htmlEncode(e.label)+'"':"",i=CKEDITOR.dialog._.uiElementBuilders.vbox.build(this,{type:"vbox",className:"cke_dialog_page_contents",children:e.elements,expand:!!e.expand,padding:e.padding,style:e.style||"width: 100%;"},t),o=this._.contents[e.id]={},r=i.getChild(),a=0;i=r.shift();)i.notAllowed||"hbox"==i.type||"vbox"==i.type||a++,"function"==typeof(o[i.id]=i).getChild&&r.push.apply(r,i.getChild());a||(e.hidden=!0),(t=CKEDITOR.dom.element.createFromHtml(t.join(""))).setAttribute("role","tabpanel"),i=CKEDITOR.env,o="cke_"+e.id+"_"+CKEDITOR.tools.getNextNumber(),n=CKEDITOR.dom.element.createFromHtml(['<a class="cke_dialog_tab"',0<this._.pageCount?" cke_last":"cke_first",n,e.hidden?' style="display:none"':"",' id="',o,'"',i.gecko&&!i.hc?"":' href="javascript:void(0)"',' tabIndex="-1" hidefocus="true" role="tab">',e.label,"</a>"].join("")),t.setAttribute("aria-labelledby",o),this._.tabs[e.id]=[n,t],this._.tabIdList.push(e.id),!e.hidden&&this._.pageCount++,this._.lastTab=n,this.updateStyle(),t.setAttribute("name",e.id),t.appendTo(this.parts.contents),n.unselectable(),this.parts.tabs.append(n),e.accessKey&&(M(this,this,"CTRL+"+e.accessKey,$,B),this._.accessKeyMap["CTRL+"+e.accessKey]=e.id)}},selectPage:function(e){if(this._.currentTabId!=e&&!this._.tabs[e][0].hasClass("cke_dialog_tab_disabled")&&!1!==this.fire("selectPage",{page:e,currentPage:this._.currentTabId})){for(var t in this._.tabs){var n=this._.tabs[t][0],i=this._.tabs[t][1];t!=e&&(n.removeClass("cke_dialog_tab_selected"),i.hide()),i.setAttribute("aria-hidden",t!=e)}var o=this._.tabs[e];o[0].addClass("cke_dialog_tab_selected"),CKEDITOR.env.ie6Compat||CKEDITOR.env.ie7Compat?(r(o[1]),o[1].show(),setTimeout(function(){r(o[1],1)},0)):o[1].show(),this._.currentTabId=e,this._.currentTabIndex=CKEDITOR.tools.indexOf(this._.tabIdList,e)}},updateStyle:function(){this.parts.dialog[(1===this._.pageCount?"add":"remove")+"Class"]("cke_single_page")},hidePage:function(e){var t=this._.tabs[e]&&this._.tabs[e][0];t&&1!=this._.pageCount&&t.isVisible()&&(e==this._.currentTabId&&this.selectPage(v.call(this)),t.hide(),this._.pageCount--,this.updateStyle())},showPage:function(e){(e=this._.tabs[e]&&this._.tabs[e][0])&&(e.show(),this._.pageCount++,this.updateStyle())},getElement:function(){return this._.element},getName:function(){return this._.name},getContentElement:function(e,t){var n=this._.contents[e];return n&&n[t]},getValueOf:function(e,t){return this.getContentElement(e,t).getValue()},setValueOf:function(e,t,n){return this.getContentElement(e,t).setValue(n)},getButton:function(e){return this._.buttons[e]},click:function(e){return this._.buttons[e].click()},disableButton:function(e){return this._.buttons[e].disable()},enableButton:function(e){return this._.buttons[e].enable()},getPageCount:function(){return this._.pageCount},getParentEditor:function(){return this._.editor},getSelectedElement:function(){return this.getParentEditor().getSelection().getSelectedElement()},addFocusable:function(e,t){if(void 0===t)t=this._.focusList.length,this._.focusList.push(new i(this,e,t));else{this._.focusList.splice(t,0,new i(this,e,t));for(var n=t+1;n<this._.focusList.length;n++)this._.focusList[n].focusIndex++}},setState:function(e){if(this.state!=e){if((this.state=e)==CKEDITOR.DIALOG_STATE_BUSY){if(!this.parts.spinner){var t=this.getParentEditor().lang.dir,n={attributes:{"class":"cke_dialog_spinner"},styles:{"float":"rtl"==t?"right":"left"}};n.styles["margin-"+("rtl"==t?"left":"right")]="8px",this.parts.spinner=CKEDITOR.document.createElement("div",n),this.parts.spinner.setHtml("&#8987;"),this.parts.spinner.appendTo(this.parts.title,1)}this.parts.spinner.show(),this.getButton("ok").disable()}else e==CKEDITOR.DIALOG_STATE_IDLE&&(this.parts.spinner&&this.parts.spinner.hide(),this.getButton("ok").enable());this.fire("state",e)}}},CKEDITOR.tools.extend(CKEDITOR.dialog,{add:function(e,t){this._.dialogDefinitions[e]&&"function"!=typeof t||(this._.dialogDefinitions[e]=t)},exists:function(e){return!!this._.dialogDefinitions[e]},getCurrent:function(){return CKEDITOR.dialog._.currentTop},isTabEnabled:function(e,t,n){return!((e=e.config.removeDialogTabs)&&e.match(new RegExp("(?:^|;)"+t+":"+n+"(?:$|;)","i")))},okButton:(s=function(e,t){return t=t||{},CKEDITOR.tools.extend({id:"ok",type:"button",label:e.lang.common.ok,"class":"cke_dialog_ui_button_ok",onClick:function(e){!1!==(e=e.data.dialog).fire("ok",{hide:!0}).hide&&e.hide()}},t,!0)},s.type="button",s.override=function(t){return CKEDITOR.tools.extend(function(e){return s(e,t)},{type:"button"},!0)},s),cancelButton:(n=function(e,t){return t=t||{},CKEDITOR.tools.extend({id:"cancel",type:"button",label:e.lang.common.cancel,"class":"cke_dialog_ui_button_cancel",onClick:function(e){!1!==(e=e.data.dialog).fire("cancel",{hide:!0}).hide&&e.hide()}},t,!0)},n.type="button",n.override=function(t){
return CKEDITOR.tools.extend(function(e){return n(e,t)},{type:"button"},!0)},n),addUIElement:function(e,t){this._.uiElementBuilders[e]=t}}),CKEDITOR.dialog._={uiElementBuilders:{},dialogDefinitions:{},currentTop:null,currentZIndex:null},CKEDITOR.event.implementOn(CKEDITOR.dialog),CKEDITOR.event.implementOn(CKEDITOR.dialog.prototype);var O={resizable:CKEDITOR.DIALOG_RESIZE_BOTH,minWidth:600,minHeight:400,buttons:[CKEDITOR.dialog.okButton,CKEDITOR.dialog.cancelButton]},p=function(e,t,n){for(var i,o=0;i=e[o];o++)if(i.id==t||n&&i[n]&&(i=p(i[n],t,n)))return i;return null},f=function(e,t,n,i,o){if(n){for(var r,a=0;r=e[a];a++){if(r.id==n)return e.splice(a,0,t),t;if(i&&r[i]&&(r=f(r[i],t,n,i,!0)))return r}if(o)return null}return e.push(t),t},m=function(e,t,n){for(var i,o=0;i=e[o];o++){if(i.id==t)return e.splice(o,1);if(n&&i[n]&&(i=m(i[n],t,n)))return i}return null},I=function(e,t){this.dialog=e;for(var n,i=t.contents,o=0;n=i[o];o++)i[o]=n&&new a(e,n);CKEDITOR.tools.extend(this,t)};I.prototype={getContents:function(e){return p(this.contents,e)},getButton:function(e){return p(this.buttons,e)},addContents:function(e,t){return f(this.contents,e,t)},addButton:function(e,t){return f(this.buttons,e,t)},removeContents:function(e){m(this.contents,e)},removeButton:function(e){m(this.buttons,e)}},a.prototype={get:function(e){return p(this.elements,e,"children")},add:function(e,t){return f(this.elements,e,t,"children")},remove:function(e){m(this.elements,e,"children")}};var g,D,t,w,R,k,x,S,K,N={},A={},L=function(e){var t=e.data.$.ctrlKey||e.data.$.metaKey,n=e.data.$.altKey,i=e.data.$.shiftKey,o=String.fromCharCode(e.data.$.keyCode);(t=A[(t?"CTRL+":"")+(n?"ALT+":"")+(i?"SHIFT+":"")+o])&&t.length&&((t=t[t.length-1]).keydown&&t.keydown.call(t.uiElement,t.dialog,t.key),e.data.preventDefault())},P=function(e){var t=e.data.$.ctrlKey||e.data.$.metaKey,n=e.data.$.altKey,i=e.data.$.shiftKey,o=String.fromCharCode(e.data.$.keyCode);(t=A[(t?"CTRL+":"")+(n?"ALT+":"")+(i?"SHIFT+":"")+o])&&t.length&&((t=t[t.length-1]).keyup&&(t.keyup.call(t.uiElement,t.dialog,t.key),e.data.preventDefault()))},M=function(e,t,n,i,o){(A[n]||(A[n]=[])).push({uiElement:e,dialog:t,key:n,keyup:o||e.accessKeyUp,keydown:i||e.accessKeyDown})},F=function(e){for(var t in A){for(var n=A[t],i=n.length-1;0<=i;i--)n[i].dialog!=e&&n[i].uiElement!=e||n.splice(i,1);0===n.length&&delete A[t]}},B=function(e,t){e._.accessKeyMap[t]&&e.selectPage(e._.accessKeyMap[t])},$=function(){};CKEDITOR.ui.dialog={uiElement:function(n,i,e,t,o,r,a){if(!(arguments.length<4)){var s=(t.call?t(i):t)||"div",l=["<",s," "],c=(o&&o.call?o(i):o)||{},d=(r&&r.call?r(i):r)||{},u=(a&&a.call?a.call(this,n,i):a)||"",h=this.domId=d.id||CKEDITOR.tools.getNextId()+"_uiElement";i.requiredContent&&!n.getParentEditor().filter.check(i.requiredContent)&&(c.display="none",this.notAllowed=!0),d.id=h;var p={};i.type&&(p["cke_dialog_ui_"+i.type]=1),i.className&&(p[i.className]=1),i.disabled&&(p.cke_disabled=1);var f=d["class"]&&d["class"].split?d["class"].split(" "):[];for(h=0;h<f.length;h++)f[h]&&(p[f[h]]=1);for(h in f=[],p)f.push(h);for(h in d["class"]=f.join(" "),i.title&&(d.title=i.title),p=(i.style||"").split(";"),i.align&&(f=i.align,c["margin-left"]="left"==f?0:"auto",c["margin-right"]="right"==f?0:"auto"),c)p.push(h+":"+c[h]);for(i.hidden&&p.push("display:none"),h=p.length-1;0<=h;h--)""===p[h]&&p.splice(h,1);for(h in 0<p.length&&(d.style=(d.style?d.style+"; ":"")+p.join("; ")),d)l.push(h+'="'+CKEDITOR.tools.htmlEncode(d[h])+'" ');l.push(">",u,"</",s,">"),e.push(l.join("")),(this._||(this._={})).dialog=n,"boolean"==typeof i.isChanged&&(this.isChanged=function(){return i.isChanged}),"function"==typeof i.isChanged&&(this.isChanged=i.isChanged),"function"==typeof i.setValue&&(this.setValue=CKEDITOR.tools.override(this.setValue,function(t){return function(e){t.call(this,i.setValue.call(this,e))}})),"function"==typeof i.getValue&&(this.getValue=CKEDITOR.tools.override(this.getValue,function(e){return function(){return i.getValue.call(this,e.call(this))}})),CKEDITOR.event.implementOn(this),this.registerEvents(i),this.accessKeyUp&&this.accessKeyDown&&i.accessKey&&M(this,n,"CTRL+"+i.accessKey);var m=this;n.on("load",function(){var e=m.getInputElement();if(e){var t=m.type in{checkbox:1,ratio:1}&&CKEDITOR.env.ie&&CKEDITOR.env.version<8?"cke_dialog_ui_focused":"";e.on("focus",function(){n._.tabBarMode=!1,n._.hasFocus=!0,m.fire("focus"),t&&this.addClass(t)}),e.on("blur",function(){m.fire("blur"),t&&this.removeClass(t)})}}),CKEDITOR.tools.extend(this,i),this.keyboardFocusable&&(this.tabIndex=i.tabIndex||0,this.focusIndex=n._.focusList.push(this)-1,this.on("focus",function(){n._.currentFocusIndex=m.focusIndex}))}},hbox:function(e,t,i,n,o){if(!(arguments.length<4)){this._||(this._={});var r,a=this._.children=t,s=o&&o.widths||null,l=o&&o.height||null,c={role:"presentation"};o&&o.align&&(c.align=o.align),CKEDITOR.ui.dialog.uiElement.call(this,e,o||{type:"hbox"},n,"table",{},c,function(){var e=['<tbody><tr class="cke_dialog_ui_hbox">'];for(r=0;r<i.length;r++){var t="cke_dialog_ui_hbox_child",n=[];0===r&&(t="cke_dialog_ui_hbox_first"),r==i.length-1&&(t="cke_dialog_ui_hbox_last"),e.push('<td class="',t,'" role="presentation" '),s?s[r]&&n.push("width:"+u(s[r])):n.push("width:"+Math.floor(100/i.length)+"%"),l&&n.push("height:"+u(l)),o&&void 0!==o.padding&&n.push("padding:"+u(o.padding)),CKEDITOR.env.ie&&CKEDITOR.env.quirks&&a[r].align&&n.push("text-align:"+a[r].align),0<n.length&&e.push('style="'+n.join("; ")+'" '),e.push(">",i[r],"</td>")}return e.push("</tr></tbody>"),e.join("")})}},vbox:function(i,e,o,t,r){if(!(arguments.length<3)){this._||(this._={});var a=this._.children=e,s=r&&r.width||null,l=r&&r.heights||null;CKEDITOR.ui.dialog.uiElement.call(this,i,r||{type:"vbox"},t,"div",null,{role:"presentation"},function(){var e=['<table role="presentation" cellspacing="0" border="0" '];e.push('style="'),r&&r.expand&&e.push("height:100%;"),e.push("width:"+u(s||"100%"),";"),CKEDITOR.env.webkit&&e.push("float:none;"),e.push('"'),e.push('align="',CKEDITOR.tools.htmlEncode(r&&r.align||("ltr"==i.getParentEditor().lang.dir?"left":"right")),'" '),e.push("><tbody>");for(var t=0;t<o.length;t++){var n=[];e.push('<tr><td role="presentation" '),s&&n.push("width:"+u(s||"100%")),l?n.push("height:"+u(l[t])):r&&r.expand&&n.push("height:"+Math.floor(100/o.length)+"%"),r&&void 0!==r.padding&&n.push("padding:"+u(r.padding)),CKEDITOR.env.ie&&CKEDITOR.env.quirks&&a[t].align&&n.push("text-align:"+a[t].align),0<n.length&&e.push('style="',n.join("; "),'" '),e.push(' class="cke_dialog_ui_vbox_child">',o[t],"</td></tr>")}return e.push("</tbody></table>"),e.join("")})}}},CKEDITOR.ui.dialog.uiElement.prototype={getElement:function(){return CKEDITOR.document.getById(this.domId)},getInputElement:function(){return this.getElement()},getDialog:function(){return this._.dialog},setValue:function(e,t){return this.getInputElement().setValue(e),!t&&this.fire("change",{value:e}),this},getValue:function(){return this.getInputElement().getValue()},isChanged:function(){return!1},selectParentTab:function(){for(var e=this.getInputElement();(e=e.getParent())&&-1==e.$.className.search("cke_dialog_page_contents"););return e&&(e=e.getAttribute("name"),this._.dialog._.currentTabId!=e&&this._.dialog.selectPage(e)),this},focus:function(){return this.selectParentTab().getInputElement().focus(),this},registerEvents:function(e){var t,n,i=/^on([A-Z]\w+)/,o=function(e,t,n,i){t.on("load",function(){e.getInputElement().on(n,i,e)})};for(n in e)(t=n.match(i))&&(this.eventProcessors[n]?this.eventProcessors[n].call(this,this._.dialog,e[n]):o(this,this._.dialog,t[1].toLowerCase(),e[n]));return this},eventProcessors:{onLoad:function(e,t){e.on("load",t,this)},onShow:function(e,t){e.on("show",t,this)},onHide:function(e,t){e.on("hide",t,this)}},accessKeyDown:function(){this.focus()},accessKeyUp:function(){},disable:function(){var e=this.getElement();this.getInputElement().setAttribute("disabled","true"),e.addClass("cke_disabled")},enable:function(){var e=this.getElement();this.getInputElement().removeAttribute("disabled"),e.removeClass("cke_disabled")},isEnabled:function(){return!this.getElement().hasClass("cke_disabled")},isVisible:function(){return this.getInputElement().isVisible()},isFocusable:function(){return!(!this.isEnabled()||!this.isVisible())}},CKEDITOR.ui.dialog.hbox.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{getChild:function(e){return arguments.length<1?this._.children.concat():(e.splice||(e=[e]),e.length<2?this._.children[e[0]]:this._.children[e[0]]&&this._.children[e[0]].getChild?this._.children[e[0]].getChild(e.slice(1,e.length)):null)}},!0),CKEDITOR.ui.dialog.vbox.prototype=new CKEDITOR.ui.dialog.hbox,t={build:function(e,t,n){for(var i,o=t.children,r=[],a=[],s=0;s<o.length&&(i=o[s]);s++){var l=[];r.push(l),a.push(CKEDITOR.dialog._.uiElementBuilders[i.type].build(e,i,l))}return new CKEDITOR.ui.dialog[t.type](e,a,r,n,t)}},CKEDITOR.dialog.addUIElement("hbox",t),CKEDITOR.dialog.addUIElement("vbox",t),CKEDITOR.dialogCommand=function(e,t){this.dialogName=e,CKEDITOR.tools.extend(this,t,!0)},CKEDITOR.dialogCommand.prototype={exec:function(e){e.openDialog(this.dialogName)},canUndo:!1,editorFocus:1},w=/^([a]|[^a])+$/,R=/^\d*$/,k=/^\d*(?:\.\d+)?$/,x=/^(((\d*(\.\d+))|(\d*))(px|\%)?)?$/,S=/^(((\d*(\.\d+))|(\d*))(px|em|ex|in|cm|mm|pt|pc|\%)?)?$/i,K=/^(\s*[\w-]+\s*:\s*[^:;]+(?:;|$))*$/,CKEDITOR.VALIDATE_OR=1,CKEDITOR.VALIDATE_AND=2,CKEDITOR.dialog.validate={functions:function(){var a=arguments;return function(){var e,t,n=this&&this.getValue?this.getValue():a[0],i=CKEDITOR.VALIDATE_AND,o=[];for(t=0;t<a.length&&"function"==typeof a[t];t++)o.push(a[t]);t<a.length&&"string"==typeof a[t]&&(e=a[t],t++),t<a.length&&"number"==typeof a[t]&&(i=a[t]);var r=i==CKEDITOR.VALIDATE_AND;for(t=0;t<o.length;t++)r=i==CKEDITOR.VALIDATE_AND?r&&o[t](n):r||o[t](n);return!!r||e}},regex:function(t,n){return function(e){return e=this&&this.getValue?this.getValue():e,!!t.test(e)||n}},notEmpty:function(e){return this.regex(w,e)},integer:function(e){return this.regex(R,e)},number:function(e){return this.regex(k,e)},cssLength:function(e){return this.functions(function(e){return S.test(CKEDITOR.tools.trim(e))},e)},htmlLength:function(e){return this.functions(function(e){return x.test(CKEDITOR.tools.trim(e))},e)},inlineStyle:function(e){return this.functions(function(e){return K.test(CKEDITOR.tools.trim(e))},e)},equals:function(t,e){return this.functions(function(e){return e==t},e)},notEqual:function(t,e){return this.functions(function(e){return e!=t},e)}},CKEDITOR.on("instanceDestroyed",function(e){if(CKEDITOR.tools.isEmpty(CKEDITOR.instances)){for(var t;t=CKEDITOR.dialog._.currentTop;)t.hide();for(var n in N)N[n].remove();N={}}for(var i in e=e.editor._.storedDialogs)e[i].destroy()}),CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{openDialog:function(e,t){var n=null,i=CKEDITOR.dialog._.dialogDefinitions[e];if(null===CKEDITOR.dialog._.currentTop&&d(this),"function"==typeof i)n=(n=this._.storedDialogs||(this._.storedDialogs={}))[e]||(n[e]=new CKEDITOR.dialog(this,e)),t&&t.call(n,n),n.show();else{if("failed"==i)throw o(this),Error('[CKEDITOR.dialog.openDialog] Dialog "'+e+'" failed when loading definition.');"string"==typeof i&&CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(i),function(){"function"!=typeof CKEDITOR.dialog._.dialogDefinitions[e]&&(CKEDITOR.dialog._.dialogDefinitions[e]="failed"),this.openDialog(e,t)},this,0,1)}return CKEDITOR.skin.loadPart("dialog"),n}})}(),CKEDITOR.plugins.add("dialog",{requires:"dialogui",init:function(t){t.on("doubleclick",function(e){e.data.dialog&&t.openDialog(e.data.dialog)},null,null,999)}}),CKEDITOR.plugins.add("about",{requires:"dialog",init:function(e){var t=e.addCommand("about",new CKEDITOR.dialogCommand("about"));t.modes={wysiwyg:1,source:1},t.canUndo=!1,t.readOnly=1,e.ui.addButton&&e.ui.addButton("About",{label:e.lang.about.title,command:"about",toolbar:"about"}),CKEDITOR.dialog.add("about",this.path+"dialogs/about.js")}}),CKEDITOR.plugins.add("a11yhelp",{requires:"dialog",availableLangs:{af:1,ar:1,az:1,bg:1,ca:1,cs:1,cy:1,da:1,de:1,"de-ch":1,el:1,en:1,"en-gb":1,eo:1,es:1,"es-mx":1,et:1,eu:1,fa:1,fi:1,fo:1,fr:1,"fr-ca":1,gl:1,gu:1,he:1,hi:1,hr:1,hu:1,id:1,it:1,ja:1,km:1,ko:1,ku:1,lt:1,lv:1,mk:1,mn:1,nb:1,nl:1,no:1,oc:1,pl:1,pt:1,"pt-br":1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,sr:1,"sr-latn":1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,zh:1,"zh-cn":1},init:function(t){var n=this;t.addCommand("a11yHelp",{exec:function(){var e=t.langCode;e=n.availableLangs[e]?e:n.availableLangs[e.replace(/-.*/,"")]?e.replace(/-.*/,""):"en",CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(n.path+"dialogs/lang/"+e+".js"),function(){t.lang.a11yhelp=n.langEntries[e],t.openDialog("a11yHelp")})},modes:{wysiwyg:1,source:1},readOnly:1,canUndo:!1}),t.setKeystroke(CKEDITOR.ALT+48,"a11yHelp"),CKEDITOR.dialog.add("a11yHelp",this.path+"dialogs/a11yhelp.js"),t.on("ariaEditorHelpLabel",function(e){e.data.label=t.lang.common.editorHelp})}}),function(){function a(e){var t=this.att;void 0!==(e=e&&e.hasAttribute(t)&&e.getAttribute(t)||"")&&this.setValue(e)}function s(){for(var e,t=0;t<arguments.length;t++)if(arguments[t]instanceof CKEDITOR.dom.element){e=arguments[t];break}if(e){t=this.att;var n=this.getValue();n?e.setAttribute(t,n):e.removeAttribute(t,n)}}var l={id:1,dir:1,classes:1,styles:1};CKEDITOR.plugins.add("dialogadvtab",{requires:"dialog",allowedContent:function(e){e||(e=l);var t=[];e.id&&t.push("id"),e.dir&&t.push("dir");var n="";return t.length&&(n+="["+t.join(",")+"]"),e.classes&&(n+="(*)"),e.styles&&(n+="{*}"),n},createAdvancedTab:function(o,e,t){e||(e=l);var n=o.lang.common,i={id:"advanced",label:n.advancedTab,title:n.advancedTab,elements:[{type:"vbox",padding:1,children:[]}]},r=[];return(e.id||e.dir)&&(e.id&&r.push({id:"advId",att:"id",type:"text",requiredContent:t?t+"[id]":null,label:n.id,setup:a,commit:s}),e.dir&&r.push({id:"advLangDir",att:"dir",type:"select",requiredContent:t?t+"[dir]":null,label:n.langDir,"default":"",style:"width:100%",items:[[n.notSet,""],[n.langDirLTR,"ltr"],[n.langDirRTL,"rtl"]],setup:a,commit:s}),i.elements[0].children.push({type:"hbox",widths:["50%","50%"],children:[].concat(r)})),(e.styles||e.classes)&&(r=[],e.styles&&r.push({id:"advStyles",att:"style",type:"text",requiredContent:t?t+"{cke-xyz}":null,label:n.styles,"default":"",validate:CKEDITOR.dialog.validate.inlineStyle(n.invalidInlineStyle),onChange:function(){},getStyle:function(e,t){var n=this.getValue().match(new RegExp("(?:^|;)\\s*"+e+"\\s*:\\s*([^;]*)","i"));return n?n[1]:t},updateStyle:function(e,t){var n=this.getValue(),i=o.document.createElement("span");i.setAttribute("style",n),i.setStyle(e,t),n=CKEDITOR.tools.normalizeCssText(i.getAttribute("style")),this.setValue(n,1)},setup:a,commit:s}),e.classes&&r.push({type:"hbox",widths:["45%","55%"],children:[{id:"advCSSClasses",att:"class",type:"text",requiredContent:t?t+"(cke-xyz)":null,label:n.cssClasses,"default":"",setup:a,commit:s}]}),i.elements[0].children.push({type:"hbox",widths:["50%","50%"],children:[].concat(r)})),i}})}(),CKEDITOR.plugins.add("basicstyles",{init:function(r){var a=0,e=function(e,t,n,i){if(i){i=new CKEDITOR.style(i);var o=s[n];o.unshift(i),r.attachStyleStateChange(i,function(e){!r.readOnly&&r.getCommand(n).setState(e)}),r.addCommand(n,new CKEDITOR.styleCommand(i,{contentForms:o})),r.ui.addButton&&r.ui.addButton(e,{label:t,command:n,toolbar:"basicstyles,"+(a+=10)})}},s={bold:["strong","b",["span",function(e){return"bold"==(e=e.styles["font-weight"])||700<=+e}]],italic:["em","i",["span",function(e){return"italic"==e.styles["font-style"]}]],underline:["u",["span",function(e){return"underline"==e.styles["text-decoration"]}]],strike:["s","strike",["span",function(e){return"line-through"==e.styles["text-decoration"]}]],subscript:["sub"],superscript:["sup"]},t=r.config,n=r.lang.basicstyles;e("Bold",n.bold,"bold",t.coreStyles_bold),e("Italic",n.italic,"italic",t.coreStyles_italic),e("Underline",n.underline,"underline",t.coreStyles_underline),e("Strike",n.strike,"strike",t.coreStyles_strike),e("Subscript",n.subscript,"subscript",t.coreStyles_subscript),e("Superscript",n.superscript,"superscript",t.coreStyles_superscript),r.setKeystroke([[CKEDITOR.CTRL+66,"bold"],[CKEDITOR.CTRL+73,"italic"],[CKEDITOR.CTRL+85,"underline"]])}}),CKEDITOR.config.coreStyles_bold={element:"strong",overrides:"b"},CKEDITOR.config.coreStyles_italic={element:"em",overrides:"i"},CKEDITOR.config.coreStyles_underline={element:"u"},CKEDITOR.config.coreStyles_strike={element:"s",overrides:"strike"},CKEDITOR.config.coreStyles_subscript={element:"sub"},CKEDITOR.config.coreStyles_superscript={element:"sup"},function(){function p(e,t,n,i){if(!e.isReadOnly()&&!e.equals(n.editable())){CKEDITOR.dom.element.setMarker(i,e,"bidi_processed",1),i=e;for(var o=n.editable();(i=i.getParent())&&!i.equals(o);)if(i.getCustomData("bidi_processed"))return e.removeStyle("direction"),void e.removeAttribute("dir");((i="useComputedState"in n.config?n.config.useComputedState:1)?e.getComputedStyle("direction"):e.getStyle("direction")||e.hasAttribute("dir"))!=t&&(e.removeStyle("direction"),i?(e.removeAttribute("dir"),t!=e.getComputedStyle("direction")&&e.setAttribute("dir",t)):e.setAttribute("dir",t),n.forceNextSelectionCheck())}}function f(e,t,n){var i=e.getCommonAncestor(!1,!0);if((e=e.clone()).enlarge(n==CKEDITOR.ENTER_BR?CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:CKEDITOR.ENLARGE_BLOCK_CONTENTS),e.checkBoundaryOfElement(i,CKEDITOR.START)&&e.checkBoundaryOfElement(i,CKEDITOR.END)){for(var o;i&&i.type==CKEDITOR.NODE_ELEMENT&&(o=i.getParent())&&1==o.getChildCount()&&!(i.getName()in t);)i=o;return i.type==CKEDITOR.NODE_ELEMENT&&i.getName()in t&&i}}function n(h){return{context:"p",allowedContent:{"h1 h2 h3 h4 h5 h6 table ul ol blockquote div tr p div li td":{propertiesOnly:!0,attributes:"dir"}},requiredContent:"p[dir]",refresh:function(e,t){var n,i;if(!(i=void 0===(i=e.config.useComputedState)||i)){n=t.lastElement;for(var o=e.editable();n&&!(n.getName()in a||n.equals(o));){var r=n.getParent();if(!r)break;n=r}}(n=n||t.block||t.blockLimit).equals(e.editable())&&(o=e.getSelection().getRanges()[0].getEnclosedNode())&&o.type==CKEDITOR.NODE_ELEMENT&&(n=o),n&&(i=i?n.getComputedStyle("direction"):n.getStyle("direction")||n.getAttribute("dir"),e.getCommand("bidirtl").setState("rtl"==i?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF),e.getCommand("bidiltr").setState("ltr"==i?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)),(i=(t.block||t.blockLimit||e.editable()).getDirection(1))!=(e._.selDir||e.lang.dir)&&(e._.selDir=i,e.fire("contentDirChanged",i))},exec:function(e){var t=e.getSelection(),i=e.config.enterMode;if((a=t.getRanges())&&a.length){for(var n,o={},r=t.createBookmarks(),a=a.createIterator(),s=0;n=a.getNextRange(1);){var l=n.getEnclosedNode();l&&(!l||l.type==CKEDITOR.NODE_ELEMENT&&l.getName()in g)||(l=f(n,m,i)),l&&p(l,h,e,o);var c=new CKEDITOR.dom.walker(n),d=r[s].startNode,u=r[s++].endNode;for(c.evaluator=function(e){var t,n=i==CKEDITOR.ENTER_P?"p":"div";return(t=!!e&&e.type==CKEDITOR.NODE_ELEMENT&&e.getName()in m)&&((n=e.is(n))&&(n=!!(n=e.getParent())&&n.type==CKEDITOR.NODE_ELEMENT),t=!(n&&e.getParent().is("blockquote"))),!!(t&&e.getPosition(d)&CKEDITOR.POSITION_FOLLOWING&&(e.getPosition(u)&CKEDITOR.POSITION_PRECEDING+CKEDITOR.POSITION_CONTAINS)==CKEDITOR.POSITION_PRECEDING)};l=c.next();)p(l,h,e,o);for((n=n.createIterator()).enlargeBr=i!=CKEDITOR.ENTER_BR;l=n.getNextParagraph(i==CKEDITOR.ENTER_P?"p":"div");)p(l,h,e,o)}CKEDITOR.dom.element.clearAllMarkers(o),e.forceNextSelectionCheck(),t.selectBookmarks(r),e.focus()}}}}function e(o){var r=o==t.setAttribute,a=o==t.removeAttribute,s=/\bdirection\s*:\s*(.*?)\s*(:?$|;)/;return function(e,t){if(!this.isReadOnly()){var n;if(n=e==(r||a?"dir":"direction")||"style"==e&&(a||s.test(t))){e:{for(var i=(n=this).getDocument().getBody().getParent();n;){if(n.equals(i)){n=!1;break e}n=n.getParent()}n=!0}n=!n}if(n&&(n=this.getDirection(1),i=o.apply(this,arguments),n!=this.getDirection(1)))return this.getDocument().fire("dirChanged",this),i}return o.apply(this,arguments)}}var m={table:1,ul:1,ol:1,blockquote:1,div:1},g={},a={};CKEDITOR.tools.extend(g,m,{tr:1,p:1,div:1,li:1}),CKEDITOR.tools.extend(a,g,{td:1}),CKEDITOR.plugins.add("bidi",{init:function(r){function e(e,t,n,i,o){r.addCommand(n,new CKEDITOR.command(r,i)),r.ui.addButton&&r.ui.addButton(e,{label:t,command:n,toolbar:"bidi,"+o})}if(!r.blockless){var t=r.lang.bidi;e("BidiLtr",t.ltr,"bidiltr",n("ltr"),10),e("BidiRtl",t.rtl,"bidirtl",n("rtl"),20),r.on("contentDom",function(){r.document.on("dirChanged",function(e){r.fire("dirChanged",{node:e.data,dir:e.data.getDirection(1)})})}),r.on("contentDirChanged",function(e){e=(r.lang.dir!=e.data?"add":"remove")+"Class";var t=r.ui.space(r.config.toolbarLocation);t&&t[e]("cke_mixed_dir_content")})}}});for(var t=CKEDITOR.dom.element.prototype,i=["setStyle","removeStyle","setAttribute","removeAttribute"],o=0;o<i.length;o++)t[i[o]]=CKEDITOR.tools.override(t[i[o]],e)}(),j={exec:function(e){var t=e.getCommand("blockquote").state,n=e.getSelection(),i=n&&n.getRanges()[0];if(i){var o=n.createBookmarks();if(CKEDITOR.env.ie){var r,a=o[0].startNode,s=o[0].endNode;if(a&&"blockquote"==a.getParent().getName())for(r=a;r=r.getNext();)if(r.type==CKEDITOR.NODE_ELEMENT&&r.isBlockBoundary()){a.move(r,!0);break}if(s&&"blockquote"==s.getParent().getName())for(r=s;r=r.getPrevious();)if(r.type==CKEDITOR.NODE_ELEMENT&&r.isBlockBoundary()){s.move(r);break}}if((l=i.createIterator()).enlargeBr=e.config.enterMode!=CKEDITOR.ENTER_BR,t==CKEDITOR.TRISTATE_OFF){for(a=[];t=l.getNextParagraph();)a.push(t);for(a.length<1&&(t=e.document.createElement(e.config.enterMode==CKEDITOR.ENTER_P?"p":"div"),s=o.shift(),i.insertNode(t),t.append(new CKEDITOR.dom.text("\ufeff",e.document)),i.moveToBookmark(s),i.selectNodeContents(t),i.collapse(!0),s=i.createBookmark(),a.push(t),o.unshift(s)),r=a[0].getParent(),i=[],s=0;s<a.length;s++)t=a[s],r=r.getCommonAncestor(t.getParent());for(t={table:1,tbody:1,tr:1,ol:1,ul:1};t[r.getName()];)r=r.getParent();for(s=null;0<a.length;){for(t=a.shift();!t.getParent().equals(r);)t=t.getParent();t.equals(s)||i.push(t),s=t}for(;0<i.length;)if("blockquote"==(t=i.shift()).getName()){for(s=new CKEDITOR.dom.documentFragment(e.document);t.getFirst();)s.append(t.getFirst().remove()),a.push(s.getLast());s.replace(t)}else a.push(t);for((i=e.document.createElement("blockquote")).insertBefore(a[0]);0<a.length;)t=a.shift(),i.append(t)}else if(t==CKEDITOR.TRISTATE_ON){for(s=[],r={};t=l.getNextParagraph();){for(a=i=null;t.getParent();){if("blockquote"==t.getParent().getName()){i=t.getParent(),a=t;break}t=t.getParent()}i&&a&&!a.getCustomData("blockquote_moveout")&&(s.push(a),CKEDITOR.dom.element.setMarker(r,a,"blockquote_moveout",!0))}for(CKEDITOR.dom.element.clearAllMarkers(r),t=[],a=[],r={};0<s.length;)i=(l=s.shift()).getParent(),l.getPrevious()?l.getNext()?(l.breakParent(l.getParent()),a.push(l.getNext())):l.remove().insertAfter(i):l.remove().insertBefore(i),i.getCustomData("blockquote_processed")||(a.push(i),CKEDITOR.dom.element.setMarker(r,i,"blockquote_processed",!0)),t.push(l);for(CKEDITOR.dom.element.clearAllMarkers(r),s=a.length-1;0<=s;s--){e:{for(var l=0,c=(r=i=a[s]).getChildCount(),d=void 0;l<c&&(d=r.getChild(l));l++)if(d.type==CKEDITOR.NODE_ELEMENT&&d.isBlockBoundary()){r=!1;break e}r=!0}r&&i.remove()}if(e.config.enterMode==CKEDITOR.ENTER_BR)for(i=!0;t.length;)if("div"==(l=t.shift()).getName()){for(s=new CKEDITOR.dom.documentFragment(e.document),!i||!l.getPrevious()||l.getPrevious().type==CKEDITOR.NODE_ELEMENT&&l.getPrevious().isBlockBoundary()||s.append(e.document.createElement("br")),i=l.getNext()&&!(l.getNext().type==CKEDITOR.NODE_ELEMENT&&l.getNext().isBlockBoundary());l.getFirst();)l.getFirst().remove().appendTo(s);i&&s.append(e.document.createElement("br")),s.replace(l),i=!1}}n.selectBookmarks(o),e.focus()}},refresh:function(e,t){this.setState(e.elementPath(t.block||t.blockLimit).contains("blockquote",1)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)},context:"blockquote",allowedContent:"blockquote",requiredContent:"blockquote"},CKEDITOR.plugins.add("blockquote",{init:function(e){e.blockless||(e.addCommand("blockquote",j),e.ui.addButton&&e.ui.addButton("Blockquote",{label:e.lang.blockquote.toolbar,command:"blockquote",toolbar:"blocks,10"}))}}),function(){var e='<a id="{id}" class="cke_button cke_button__{name} cke_button_{state} {cls}"'+(CKEDITOR.env.gecko&&!CKEDITOR.env.hc?"":" href=\"javascript:void('{titleJs}')\"")+' title="{title}" tabindex="-1" hidefocus="true" role="button" aria-labelledby="{id}_label" aria-describedby="{id}_description" aria-haspopup="{hasArrow}" aria-disabled="{ariaDisabled}"';CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(e+=' onkeypress="return false;"'),CKEDITOR.env.gecko&&(e+=' onblur="this.style.cssText = this.style.cssText;"');e=(e=e+' onkeydown="return CKEDITOR.tools.callFunction({keydownFn},event);" onfocus="return CKEDITOR.tools.callFunction({focusFn},event);" '+(CKEDITOR.env.ie?'onclick="return false;" onmouseup':"onclick")+'="CKEDITOR.tools.callFunction({clickFn},this);return false;"><span class="cke_button_icon cke_button__{iconName}_icon" style="{style}"')+'>&nbsp;</span><span id="{id}_label" class="cke_button_label cke_button__{name}_label" aria-hidden="false">{label}</span><span id="{id}_description" class="cke_button_label" aria-hidden="false">{ariaShortcut}</span>{arrowHtml}</a>';var g=CKEDITOR.addTemplate("buttonArrow",'<span class="cke_button_arrow">'+(CKEDITOR.env.hc?"&#9660;":"")+"</span>"),v=CKEDITOR.addTemplate("button",e);CKEDITOR.plugins.add("button",{beforeInit:function(e){e.ui.addHandler(CKEDITOR.UI_BUTTON,CKEDITOR.ui.button.handler)}}),CKEDITOR.UI_BUTTON="button",CKEDITOR.ui.button=function(t){CKEDITOR.tools.extend(this,t,{title:t.label,click:t.click||function(e){e.execCommand(t.command)}}),this._={}},CKEDITOR.ui.button.handler={create:function(e){return new CKEDITOR.ui.button(e)}},CKEDITOR.ui.button.prototype={render:function(i,e){function t(){var e=i.mode;e&&(e=this.modes[e]?void 0!==f[e]?f[e]:CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,e=i.readOnly&&!this.readOnly?CKEDITOR.TRISTATE_DISABLED:e,this.setState(e),this.refresh&&this.refresh())}var n,o,r,a=CKEDITOR.env,s=this._.id=CKEDITOR.tools.getNextId(),l="",c=this.command;this._.editor=i;var d={id:s,button:this,editor:i,focus:function(){CKEDITOR.document.getById(s).focus()},execute:function(){this.button.click(i)},attach:function(e){this.button.attach(e)}},u=CKEDITOR.tools.addFunction(function(e){if(d.onkey)return e=new CKEDITOR.dom.event(e),!1!==d.onkey(d,e.getKeystroke())}),h=CKEDITOR.tools.addFunction(function(e){var t;return d.onfocus&&(t=!1!==d.onfocus(d,new CKEDITOR.dom.event(e))),t}),p=0;if(d.clickFn=n=CKEDITOR.tools.addFunction(function(){p&&(i.unlockSelection(1),p=0),d.execute(),a.iOS&&i.focus()}),this.modes){var f={};i.on("beforeModeUnload",function(){i.mode&&this._.state!=CKEDITOR.TRISTATE_DISABLED&&(f[i.mode]=this._.state)},this),i.on("activeFilterChange",t,this),i.on("mode",t,this),!this.readOnly&&i.on("readOnly",t,this)}else c&&(c=i.getCommand(c))&&(c.on("state",function(){this.setState(c.state)},this),l+=c.state==CKEDITOR.TRISTATE_ON?"on":c.state==CKEDITOR.TRISTATE_DISABLED?"disabled":"off");this.directional&&i.on("contentDirChanged",function(e){var t=CKEDITOR.document.getById(this._.id),n=t.getFirst();(e=e.data)!=i.lang.dir?t.addClass("cke_"+e):t.removeClass("cke_ltr").removeClass("cke_rtl"),n.setAttribute("style",CKEDITOR.skin.getIconStyle(m,"rtl"==e,this.icon,this.iconOffset))},this),c?(o=i.getCommandKeystroke(c))&&(r=CKEDITOR.tools.keystrokeToString(i.lang.common.keyboard,o)):l+="off";var m=o=this.name||this.command;return this.icon&&!/\./.test(this.icon)&&(m=this.icon,this.icon=null),l={id:s,name:o,iconName:m,label:this.label,cls:this.className||"",state:l,ariaDisabled:"disabled"==l?"true":"false",title:this.title+(r?" ("+r.display+")":""),ariaShortcut:r?i.lang.common.keyboardShortcut+" "+r.aria:"",titleJs:a.gecko&&!a.hc?"":(this.title||"").replace("'",""),hasArrow:this.hasArrow?"true":"false",keydownFn:u,focusFn:h,clickFn:n,style:CKEDITOR.skin.getIconStyle(m,"rtl"==i.lang.dir,this.icon,this.iconOffset),arrowHtml:this.hasArrow?g.output():""},v.output(l,e),this.onRender&&this.onRender(),d},setState:function(e){if(this._.state==e)return!1;this._.state=e;var t=CKEDITOR.document.getById(this._.id);return!!t&&(t.setState(e,"cke_button"),e==CKEDITOR.TRISTATE_DISABLED?t.setAttribute("aria-disabled",!0):t.removeAttribute("aria-disabled"),this.hasArrow?(e=e==CKEDITOR.TRISTATE_ON?this._.editor.lang.button.selectedLabel.replace(/%1/g,this.label):this.label,CKEDITOR.document.getById(this._.id+"_label").setText(e)):e==CKEDITOR.TRISTATE_ON?t.setAttribute("aria-pressed",!0):t.removeAttribute("aria-pressed"),!0)},getState:function(){return this._.state},toFeature:function(e){if(this._.feature)return this._.feature;var t=this;return this.allowedContent||this.requiredContent||!this.command||(t=e.getCommand(this.command)||t),this._.feature=t}},CKEDITOR.ui.prototype.addButton=function(e,t){this.add(e,CKEDITOR.UI_BUTTON,t)}}(),function(){function _(s){function e(){for(var e=l(),t=CKEDITOR.tools.clone(s.config.toolbarGroups)||d(s),n=0;n<t.length;n++){var i=t[n];if("/"!=i){"string"==typeof i&&(i=t[n]={name:i});var o,r=i.groups;if(r)for(var a=0;a<r.length;a++)(o=e[o=r[a]])&&c(i,o);(o=e[i.name])&&c(i,o)}}return t}function l(){var e,t,n,i={};for(e in s.ui.items)t=(n=(n=(t=s.ui.items[e]).toolbar||"others").split(","))[0],n=parseInt(n[1]||-1,10),i[t]||(i[t]=[]),i[t].push({name:e,order:n});for(t in i)i[t]=i[t].sort(function(e,t){return e.order==t.order?0:t.order<0?-1:e.order<0?1:e.order<t.order?-1:1});return i}function c(e,t){if(t.length){e.items?e.items.push(s.ui.create("-")):e.items=[];for(var n;n=t.shift();)n="string"==typeof n?n:n.name,i&&-1!=CKEDITOR.tools.indexOf(i,n)||(n=s.ui.create(n))&&s.addFeature(n)&&e.items.push(n)}}function t(e){var t,n,i,o=[];for(t=0;t<e.length;++t)i={},"/"==(n=e[t])?o.push(n):CKEDITOR.tools.isArray(n)?(c(i,CKEDITOR.tools.clone(n)),o.push(i)):n.items&&(c(i,CKEDITOR.tools.clone(n.items)),i.name=n.name,o.push(i));return o}var i=(i=s.config.removeButtons)&&i.split(","),n=s.config.toolbar;return"string"==typeof n&&(n=s.config["toolbar_"+n]),s.toolbar=n?t(n):e()}function d(e){return e._.toolbarGroups||(e._.toolbarGroups=[{name:"document",groups:["mode","document","doctools"]},{name:"clipboard",groups:["clipboard","undo"]},{name:"editing",groups:["find","selection","spellchecker"]},{name:"forms"},"/",{name:"basicstyles",groups:["basicstyles","cleanup"]},{name:"paragraph",groups:["list","indent","blocks","align","bidi"]},{name:"links"},{name:"insert"},"/",{name:"styles"},{name:"colors"},{name:"tools"},{name:"others"},{name:"about"}])}var O=function(){this.toolbars=[],this.focusCommandExecuted=!1};O.prototype.focus=function(){for(var e,t=0;e=this.toolbars[t++];)for(var n,i=0;n=e.items[i++];)if(n.focus)return void n.focus()};var e={modes:{wysiwyg:1,source:1},readOnly:1,exec:function(e){e.toolbox&&(e.toolbox.focusCommandExecuted=!0,CKEDITOR.env.ie||CKEDITOR.env.air?setTimeout(function(){e.toolbox.focus()},100):e.toolbox.focus())}};CKEDITOR.plugins.add("toolbar",{requires:"button",init:function(b){var a,C=function(e,t){var n,i=(o="rtl"==b.lang.dir)?37:39,o=o?39:37,r=void 0===(r=b.config.toolbarGroupCycling)||r;switch(t){case 9:case CKEDITOR.SHIFT+9:for(;!n||!n.items.length;)if((n=9==t?(n?n.next:e.toolbar.next)||b.toolbox.toolbars[0]:(n?n.previous:e.toolbar.previous)||b.toolbox.toolbars[b.toolbox.toolbars.length-1]).items.length)for(e=n.items[a?n.items.length-1:0];e&&!e.focus;)(e=a?e.previous:e.next)||(n=0);return e&&e.focus(),!1;case i:for(n=e;!(n=n.next)&&r&&(n=e.toolbar.items[0]),n&&!n.focus;);return n?n.focus():C(e,9),!1;case 40:return e.button&&e.button.hasArrow?e.execute():C(e,40==t?i:o),!1;case o:case 38:for(n=e;!(n=n.previous)&&r&&(n=e.toolbar.items[e.toolbar.items.length-1]),n&&!n.focus;);return n?n.focus():(a=1,C(e,CKEDITOR.SHIFT+9),a=0),!1;case 27:return b.focus(),!1;case 13:case 32:return e.execute(),!1}return!0};b.on("uiSpace",function(e){if(e.data.space==b.config.toolbarLocation){e.removeListener(),b.toolbox=new O;var t,n,i=['<span id="',o=CKEDITOR.tools.getNextId(),'" class="cke_voice_label">',b.lang.toolbar.toolbars,"</span>",'<span id="'+b.ui.spaceId("toolbox")+'" class="cke_toolbox" role="group" aria-labelledby="',o,'" onmousedown="return false;">'],o=!1!==b.config.toolbarStartupExpanded;b.config.toolbarCanCollapse&&b.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE&&i.push('<span class="cke_toolbox_main"'+(o?">":' style="display:none">'));for(var r=b.toolbox.toolbars,a=_(b),s=a.length,l=0;l<s;l++){var c,d,u,h=0,p=a[l],f="/"!==p&&("/"===a[l+1]||l==s-1);if(p)if(t&&(i.push("</span>"),n=t=0),"/"===p)i.push(
'<span class="cke_toolbar_break"></span>');else{u=p.items||p;for(var m=0;m<u.length;m++){var g,v=u[m];if(v){var T=function(e){e=e.render(b,i),0<(y=h.items.push(e)-1)&&(e.previous=h.items[y-1],e.previous.next=e),e.toolbar=h,e.onkey=C,e.onfocus=function(){b.toolbox.focusCommandExecuted||b.focus()}};if(v.type==CKEDITOR.UI_SEPARATOR)n=t&&v;else{if(g=!1!==v.canGroup,!h){c=CKEDITOR.tools.getNextId(),h={id:c,items:[]},d=p.name&&(b.lang.toolbar.toolbarGroups[p.name]||p.name),i.push('<span id="',c,'" class="cke_toolbar'+(f?' cke_toolbar_last"':'"'),d?' aria-labelledby="'+c+'_label"':"",' role="toolbar">'),d&&i.push('<span id="',c,'_label" class="cke_voice_label">',d,"</span>"),i.push('<span class="cke_toolbar_start"></span>');var y=r.push(h)-1;0<y&&(h.previous=r[y-1],h.previous.next=h)}g?t||(i.push('<span class="cke_toolgroup" role="presentation">'),t=1):t&&(i.push("</span>"),t=0),n&&(T(n),n=0),T(v)}}}t&&(i.push("</span>"),n=t=0),h&&i.push('<span class="cke_toolbar_end"></span></span>')}}if(b.config.toolbarCanCollapse&&i.push("</span>"),b.config.toolbarCanCollapse&&b.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var E=CKEDITOR.tools.addFunction(function(){b.execCommand("toolbarCollapse")});b.on("destroy",function(){CKEDITOR.tools.removeFunction(E)}),b.addCommand("toolbarCollapse",{readOnly:1,exec:function(e){var t=e.ui.space("toolbar_collapser"),n=t.getPrevious(),i=e.ui.space("contents"),o=n.getParent(),r=parseInt(i.$.style.height,10),a=o.$.offsetHeight,s=t.hasClass("cke_toolbox_collapser_min");s?(n.show(),t.removeClass("cke_toolbox_collapser_min"),t.setAttribute("title",e.lang.toolbar.toolbarCollapse)):(n.hide(),t.addClass("cke_toolbox_collapser_min"),t.setAttribute("title",e.lang.toolbar.toolbarExpand)),t.getFirst().setText(s?"\u25b2":"\u25c0"),i.setStyle("height",r-(o.$.offsetHeight-a)+"px"),e.fire("resize",{outerHeight:e.container.$.offsetHeight,contentsHeight:i.$.offsetHeight,outerWidth:e.container.$.offsetWidth})},modes:{wysiwyg:1,source:1}}),b.setKeystroke(CKEDITOR.ALT+(CKEDITOR.env.ie||CKEDITOR.env.webkit?189:109),"toolbarCollapse"),i.push('<a title="'+(o?b.lang.toolbar.toolbarCollapse:b.lang.toolbar.toolbarExpand)+'" id="'+b.ui.spaceId("toolbar_collapser")+'" tabIndex="-1" class="cke_toolbox_collapser'),o||i.push(" cke_toolbox_collapser_min"),i.push('" onclick="CKEDITOR.tools.callFunction('+E+')">','<span class="cke_arrow">&#9650;</span>',"</a>")}i.push("</span>"),e.data.html+=i.join("")}}),b.on("destroy",function(){if(this.toolbox){var e,t,n,i,o=0;for(e=this.toolbox.toolbars;o<e.length;o++)for(n=e[o].items,t=0;t<n.length;t++)(i=n[t]).clickFn&&CKEDITOR.tools.removeFunction(i.clickFn),i.keyDownFn&&CKEDITOR.tools.removeFunction(i.keyDownFn)}}),b.on("uiReady",function(){var e=b.ui.space("toolbox");e&&b.focusManager.add(e,1)}),b.addCommand("toolbarFocus",e),b.setKeystroke(CKEDITOR.ALT+121,"toolbarFocus"),b.ui.add("-",CKEDITOR.UI_SEPARATOR,{}),b.ui.addHandler(CKEDITOR.UI_SEPARATOR,{create:function(){return{render:function(e,t){return t.push('<span class="cke_toolbar_separator" role="separator"></span>'),{}}}}})}}),CKEDITOR.ui.prototype.addToolbarGroup=function(e,t,n){var i=d(this.editor),o=0===t,r={name:e};if(n){if(n=CKEDITOR.tools.search(i,function(e){return e.name==n}))return!n.groups&&(n.groups=[]),t&&0<=(t=CKEDITOR.tools.indexOf(n.groups,t))?void n.groups.splice(t+1,0,e):void(o?n.groups.splice(0,0,e):n.groups.push(e));t=null}t&&(t=CKEDITOR.tools.indexOf(i,function(e){return e.name==t})),o?i.splice(0,0,e):"number"==typeof t?i.splice(t+1,0,r):i.push(e)}}(),CKEDITOR.UI_SEPARATOR="separator",CKEDITOR.config.toolbarLocation="top",CKEDITOR.plugins.add("notification",{requires:"toolbar",init:function(r){function n(e){var t=new CKEDITOR.dom.element("div");t.setStyles({position:"fixed","margin-left":"-9999px"}),t.setAttributes({"aria-live":"assertive","aria-atomic":"true"}),t.setText(e),CKEDITOR.document.getBody().append(t),setTimeout(function(){t.remove()},100)}r._.notificationArea=new t(r),r.showNotification=function(e,t,n){var i,o;return"progress"==t?i=n:o=n,(e=new CKEDITOR.plugins.notification(r,{message:e,type:t,progress:i,duration:o})).show(),e},r.on("key",function(e){if(27==e.data.keyCode){var t=r._.notificationArea.notifications;t.length&&(n(r.lang.notification.closed),t[t.length-1].hide(),e.cancel())}})}}),e.prototype={show:function(){!1!==this.editor.fire("notificationShow",{notification:this})&&(this.area.add(this),this._hideAfterTimeout())},update:function(e){var t=!0;!1===this.editor.fire("notificationUpdate",{notification:this,options:e})&&(t=!1);var n=this.element,i=n.findOne(".cke_notification_message"),o=n.findOne(".cke_notification_progress"),r=e.type;n.removeAttribute("role"),e.progress&&"progress"!=this.type&&(r="progress"),r&&(n.removeClass(this._getClass()),n.removeAttribute("aria-label"),this.type=r,n.addClass(this._getClass()),n.setAttribute("aria-label",this.type),"progress"!=this.type||o?"progress"!=this.type&&o&&o.remove():(o=this._createProgressElement()).insertBefore(i)),void 0!==e.message&&(this.message=e.message,i.setHtml(this.message)),void 0!==e.progress&&(this.progress=e.progress,o&&o.setStyle("width",this._getPercentageProgress())),t&&e.important&&(n.setAttribute("role","alert"),this.isVisible()||this.area.add(this)),this.duration=e.duration,this._hideAfterTimeout()},hide:function(){!1!==this.editor.fire("notificationHide",{notification:this})&&this.area.remove(this)},isVisible:function(){return 0<=CKEDITOR.tools.indexOf(this.area.notifications,this)},_createElement:function(){var e,t,n=this,i=this.editor.lang.common.close;return(e=new CKEDITOR.dom.element("div")).addClass("cke_notification"),e.addClass(this._getClass()),e.setAttributes({id:this.id,role:"alert","aria-label":this.type}),"progress"==this.type&&e.append(this._createProgressElement()),(t=new CKEDITOR.dom.element("p")).addClass("cke_notification_message"),t.setHtml(this.message),e.append(t),t=CKEDITOR.dom.element.createFromHtml('<a class="cke_notification_close" href="javascript:void(0)" title="'+i+'" role="button" tabindex="-1"><span class="cke_label">X</span></a>'),e.append(t),t.on("click",function(){n.editor.focus(),n.hide()}),e},_getClass:function(){return"progress"==this.type?"cke_notification_info":"cke_notification_"+this.type},_createProgressElement:function(){var e=new CKEDITOR.dom.element("span");return e.addClass("cke_notification_progress"),e.setStyle("width",this._getPercentageProgress()),e},_getPercentageProgress:function(){return Math.round(100*(this.progress||0))+"%"},_hideAfterTimeout:function(){var e,t=this;this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),"number"==typeof this.duration?e=this.duration:"info"!=this.type&&"success"!=this.type||(e="number"==typeof this.editor.config.notification_duration?this.editor.config.notification_duration:5e3),e&&(t._hideTimeoutId=setTimeout(function(){t.hide()},e))}},t.prototype={add:function(e){this.notifications.push(e),this.element.append(e.element),1==this.element.getChildCount()&&(CKEDITOR.document.getBody().append(this.element),this._attachListeners()),this._layout()},remove:function(e){var t=CKEDITOR.tools.indexOf(this.notifications,e);t<0||(this.notifications.splice(t,1),e.element.remove(),this.element.getChildCount()||(this._removeListeners(),this.element.remove()))},_createElement:function(){var e=this.editor,t=e.config,n=new CKEDITOR.dom.element("div");return n.addClass("cke_notifications_area"),n.setAttribute("id","cke_notifications_area_"+e.name),n.setStyle("z-index",t.baseFloatZIndex-2),n},_attachListeners:function(){var e=CKEDITOR.document.getWindow(),t=this.editor;e.on("scroll",this._uiBuffer.input),e.on("resize",this._uiBuffer.input),t.on("change",this._changeBuffer.input),t.on("floatingSpaceLayout",this._layout,this,null,20),t.on("blur",this._layout,this,null,20)},_removeListeners:function(){var e=CKEDITOR.document.getWindow(),t=this.editor;e.removeListener("scroll",this._uiBuffer.input),e.removeListener("resize",this._uiBuffer.input),t.removeListener("change",this._changeBuffer.input),t.removeListener("floatingSpaceLayout",this._layout),t.removeListener("blur",this._layout)},_layout:function(){function e(){i.setStyle("left",f(m+o.width-l-c))}var t,n,i=this.element,o=(t=this.editor).ui.contentsElement.getClientRect(),r=t.ui.contentsElement.getDocumentPosition(),a=(t=t.ui.space("top")).getClientRect(),s=i.getClientRect(),l=this._notificationWidth,c=this._notificationMargin,d=(n=CKEDITOR.document.getWindow()).getScrollPosition(),u=n.getViewPaneSize(),h=CKEDITOR.document.getBody(),p=h.getDocumentPosition(),f=CKEDITOR.tools.cssLength;l&&c||(n=this.element.getChild(0),l=this._notificationWidth=n.getClientRect().width,c=this._notificationMargin=parseInt(n.getComputedStyle("margin-left"),10)+parseInt(n.getComputedStyle("margin-right"),10)),t.isVisible()&&a.bottom>o.top&&a.bottom<o.bottom-s.height?i.setStyles({position:"fixed",top:f(a.bottom)}):0<o.top?i.setStyles({position:"absolute",top:f(r.y)}):r.y+o.height-s.height>d.y?i.setStyles({position:"fixed",top:0}):i.setStyles({position:"absolute",top:f(r.y+o.height-s.height)});var m="fixed"==i.getStyle("position")?o.left:"static"!=h.getComputedStyle("position")?r.x-p.x:r.x;o.width<l+c?r.x+l+c>d.x+u.width?e():i.setStyle("left",f(m)):r.x+l+c>d.x+u.width?i.setStyle("left",f(m)):r.x+o.width/2+l/2+c>d.x+u.width?i.setStyle("left",f(m-r.x+d.x+u.width-l-c)):o.left+o.width-l-c<0?e():o.left+o.width/2-l/2<0?i.setStyle("left",f(m-r.x+d.x)):i.setStyle("left",f(m+o.width/2-l/2-c/2))}},CKEDITOR.plugins.notification=e,function(){function T(e,t,n){return t.type||(t.type="auto"),!(n&&!1===e.fire("beforePaste",t)||!t.dataValue&&t.dataTransfer.isEmpty())&&(t.dataValue||(t.dataValue=""),CKEDITOR.env.gecko&&"drop"==t.method&&e.toolbox&&e.once("afterPaste",function(){e.toolbox.focus()}),e.fire("paste",t))}function t(h){function e(){var e,t=h.editable();if(CKEDITOR.plugins.clipboard.isCustomCopyCutSupported){var n=function(e){h.readOnly&&"cut"==e.name||f.initPasteDataTransfer(e,h),e.data.preventDefault()};t.on("copy",n),t.on("cut",n),t.on("cut",function(){h.readOnly||h.extractSelectedHtml()},null,null,999)}t.on(f.mainPasteEvent,function(e){"beforepaste"==f.mainPasteEvent&&m||d(e)}),"beforepaste"==f.mainPasteEvent&&(t.on("paste",function(e){g||(i(),e.data.preventDefault(),d(e),r("paste"))}),t.on("contextmenu",o,null,null,0),t.on("beforepaste",function(e){!e.data||e.data.$.ctrlKey||e.data.$.shiftKey||o()},null,null,0)),t.on("beforecut",function(){!m&&a(h)}),t.attachListener(CKEDITOR.env.ie?t:h.document.getDocumentElement(),"mouseup",function(){e=setTimeout(function(){u()},0)}),h.on("destroy",function(){clearTimeout(e)}),t.on("keyup",u)}function t(e){return{type:e,canUndo:"cut"==e,startDisabled:!0,fakeKeystroke:"cut"==e?CKEDITOR.CTRL+88:CKEDITOR.CTRL+67,exec:function(){var e;"cut"==this.type&&a();var t=this.type;if(CKEDITOR.env.ie)e=r(t);else try{e=h.document.$.execCommand(t,!1,null)}catch(n){e=!1}return e||h.showNotification(h.lang.clipboard[this.type+"Error"]),e}}}function n(){return{canUndo:!1,async:!0,fakeKeystroke:CKEDITOR.CTRL+86,exec:function(n,e){function t(e,t){t=void 0===t||t,e?(e.method="paste",e.dataTransfer||(e.dataTransfer=f.initPasteDataTransfer()),T(n,e,t)):o&&n.showNotification(s,"info",n.config.clipboard_notificationDuration),n.fire("afterCommandExec",{name:"paste",command:i,returnValue:!!e})}var i=this,o="undefined"==typeof(e=null!=e?e:{}).notification||e.notification,r=e.type,a=CKEDITOR.tools.keystrokeToString(n.lang.common.keyboard,n.getCommandKeystroke(this)),s="string"==typeof o?o:n.lang.clipboard.pasteNotification.replace(/%1/,'<kbd aria-label="'+a.aria+'">'+a.display+"</kbd>");a="string"==typeof e?e:e.dataValue;r?n._.nextPasteType=r:delete n._.nextPasteType,"string"==typeof a?t({dataValue:a}):n.getClipboardData(t)}}}function i(){g=1,setTimeout(function(){g=0},100)}function o(){m=1,setTimeout(function(){m=0},10)}function r(e){var t=h.document,n=t.getBody(),i=!1,o=function(){i=!0};return n.on(e,o),7<CKEDITOR.env.version?t.$.execCommand(e):t.$.selection.createRange().execCommand(e),n.removeListener(e,o),i}function a(){if(CKEDITOR.env.ie&&!CKEDITOR.env.quirks){var e,t,n,i=h.getSelection();i.getType()==CKEDITOR.SELECTION_ELEMENT&&(e=i.getSelectedElement())&&(t=i.getRanges()[0],(n=h.document.createText("")).insertBefore(e),t.setStartBefore(n),t.setEndAfter(e),i.selectRanges([t]),setTimeout(function(){e.getParent()&&(n.remove(),i.selectElement(e))},0))}}function s(e,t){var n,i=h.document,o=h.editable(),r=function(e){e.cancel()};if(!i.getById("cke_pastebin")){var a=h.getSelection(),s=a.createBookmarks();CKEDITOR.env.ie&&a.root.fire("selectionchange");var l=new CKEDITOR.dom.element(!CKEDITOR.env.webkit&&!o.is("body")||CKEDITOR.env.ie?"div":"body",i);l.setAttributes({id:"cke_pastebin","data-cke-temp":"1"});var c=0;i=i.getWindow();CKEDITOR.env.webkit?(o.append(l),l.addClass("cke_editable"),o.is("body")||(c=(c="static"!=o.getComputedStyle("position")?o:CKEDITOR.dom.element.get(o.$.offsetParent)).getDocumentPosition().y)):o.getAscendant(CKEDITOR.env.ie?"body":"html",1).append(l),l.setStyles({position:"absolute",top:i.getScrollPosition().y-c+10+"px",width:"1px",height:Math.max(1,i.getViewPaneSize().height-20)+"px",overflow:"hidden",margin:0,padding:0}),CKEDITOR.env.safari&&l.setStyles(CKEDITOR.tools.cssVendorPrefix("user-select","text")),(c=l.getParent().isReadOnly())?(l.setOpacity(0),l.setAttribute("contenteditable",!0)):l.setStyle("ltr"==h.config.contentsLangDirection?"left":"right","-10000px"),h.on("selectionChange",r,null,null,0),(CKEDITOR.env.webkit||CKEDITOR.env.gecko)&&(n=o.once("blur",r,null,null,-100)),c&&l.focus(),(c=new CKEDITOR.dom.range(l)).selectNodeContents(l);var d=c.select();CKEDITOR.env.ie&&(n=o.once("blur",function(){h.lockSelection(d)}));var u=CKEDITOR.document.getWindow().getScrollPosition().y;setTimeout(function(){var e;CKEDITOR.env.webkit&&(CKEDITOR.document.getBody().$.scrollTop=u),n&&n.removeListener(),CKEDITOR.env.ie&&o.focus(),a.selectBookmarks(s),l.remove(),CKEDITOR.env.webkit&&(e=l.getFirst())&&e.is&&e.hasClass("Apple-style-span")&&(l=e),h.removeListener("selectionChange",r),t(l.getHtml())},0)}}function l(){if("paste"==f.mainPasteEvent)return h.fire("beforePaste",{type:"auto",method:"paste"}),!1;h.focus(),i();var e=h.focusManager;return e.lock(),h.editable().fire(f.mainPasteEvent)&&!r("paste")?(e.unlock(),!1):(e.unlock(),!0)}function c(e){if("wysiwyg"==h.mode)switch(e.data.keyCode){case CKEDITOR.CTRL+86:case CKEDITOR.SHIFT+45:e=h.editable(),i(),"paste"==f.mainPasteEvent&&e.fire("beforepaste");break;case CKEDITOR.CTRL+88:case CKEDITOR.SHIFT+46:h.fire("saveSnapshot"),setTimeout(function(){h.fire("saveSnapshot")},50)}}function d(e){var t={type:"auto",method:"paste",dataTransfer:f.initPasteDataTransfer(e)};t.dataTransfer.cacheData();var n=!1!==h.fire("beforePaste",t);n&&f.canClipboardApiBeTrusted(t.dataTransfer,h)?(e.data.preventDefault(),setTimeout(function(){T(h,t)},0)):s(e,function(e){t.dataValue=e.replace(/<span[^>]+data-cke-bookmark[^<]*?<\/span>/gi,""),n&&T(h,t)})}function u(){if("wysiwyg"==h.mode){var e=p("paste");h.getCommand("cut").setState(p("cut")),h.getCommand("copy").setState(p("copy")),h.getCommand("paste").setState(e),h.fire("pasteState",e)}}function p(e){if(v&&e in{paste:1,cut:1})return CKEDITOR.TRISTATE_DISABLED;if("paste"==e)return CKEDITOR.TRISTATE_OFF;var t=(e=h.getSelection()).getRanges();return e.getType()==CKEDITOR.SELECTION_NONE||1==t.length&&t[0].collapsed?CKEDITOR.TRISTATE_DISABLED:CKEDITOR.TRISTATE_OFF}var f=CKEDITOR.plugins.clipboard,m=0,g=0,v=0;h.on("key",c),h.on("contentDom",e),h.on("selectionChange",function(e){v=e.data.selection.getRanges()[0].checkReadOnly(),u()}),h.contextMenu&&h.contextMenu.addListener(function(e,t){return v=t.getRanges()[0].checkReadOnly(),{cut:p("cut"),copy:p("copy"),paste:p("paste")}}),function(){function e(e,t,n,i,o){var r=h.lang.clipboard[t];h.addCommand(t,n),h.ui.addButton&&h.ui.addButton(e,{label:r,command:t,toolbar:"clipboard,"+i}),h.addMenuItems&&h.addMenuItem(t,{label:r,command:t,group:"clipboard",order:o})}e("Cut","cut",t("cut"),10,1),e("Copy","copy",t("copy"),20,4),e("Paste","paste",n(),30,8)}(),h.getClipboardData=function(e,t){function n(e){e.removeListener(),e.cancel(),t(e.data)}t||(t=e,e=null),h.on("paste",n,null,null,0),!1===l()&&(h.removeListener("paste",n),t(null))}}function l(e){if(CKEDITOR.env.webkit){if(!e.match(/^[^<]*$/g)&&!e.match(/^(<div><br( ?\/)?><\/div>|<div>[^<]*<\/div>)*$/gi))return"html"}else if(CKEDITOR.env.ie){if(!e.match(/^([^<]|<br( ?\/)?>)*$/gi)&&!e.match(/^(<p>([^<]|<br( ?\/)?>)*<\/p>|(\r\n))*$/gi))return"html"}else{if(!CKEDITOR.env.gecko)return"html";if(!e.match(/^([^<]|<br( ?\/)?>)*$/gi))return"html"}return"htmlifiedtext"}function c(e,t){function n(e){return CKEDITOR.tools.repeat("</p><p>",~~(e/2))+(1==e%2?"<br>":"")}return(t=(t=t.replace(/\s+/g," ").replace(/> +</g,"><").replace(/<br ?\/>/gi,"<br>")).replace(/<\/?[A-Z]+>/g,function(e){return e.toLowerCase()})).match(/^[^<]$/)?t:(CKEDITOR.env.webkit&&-1<t.indexOf("<div>")&&((t=t.replace(/^(<div>(<br>|)<\/div>)(?!$|(<div>(<br>|)<\/div>))/g,"<br>").replace(/^(<div>(<br>|)<\/div>){2}(?!$)/g,"<div></div>")).match(/<div>(<br>|)<\/div>/)&&(t="<p>"+t.replace(/(<div>(<br>|)<\/div>)+/g,function(e){return n(e.split("</div><div>").length+1)})+"</p>"),t=(t=t.replace(/<\/div><div>/g,"<br>")).replace(/<\/?div>/g,"")),CKEDITOR.env.gecko&&e.enterMode!=CKEDITOR.ENTER_BR&&(CKEDITOR.env.gecko&&(t=t.replace(/^<br><br>$/,"<br>")),-1<t.indexOf("<br><br>")&&(t="<p>"+t.replace(/(<br>){2,}/g,function(e){return n(e.length/4)})+"</p>")),i(e,t))}function n(){function t(){var e,t={};for(e in CKEDITOR.dtd)"$"!=e.charAt(0)&&"div"!=e&&"span"!=e&&(t[e]=1);return t}var n={};return{get:function(e){return"plain-text"==e?n.plainText||(n.plainText=new CKEDITOR.filter("br")):"semantic-content"==e?((e=n.semanticContent)||((e=new CKEDITOR.filter).allow({$1:{elements:t(),attributes:!0,styles:!1,classes:!1}}),e=n.semanticContent=e),e):e?new CKEDITOR.filter(e):null}}}function d(e,t,n){t=CKEDITOR.htmlParser.fragment.fromHtml(t);var i=new CKEDITOR.htmlParser.basicWriter;return n.applyTo(t,!0,!1,e.activeEnterMode),t.writeHtml(i),i.getHtml()}function i(e,t){return e.enterMode==CKEDITOR.ENTER_BR?t=t.replace(/(<\/p><p>)+/g,function(e){return CKEDITOR.tools.repeat("<br>",e.length/7*2)}).replace(/<\/?p>/g,""):e.enterMode==CKEDITOR.ENTER_DIV&&(t=t.replace(/<(\/)?p>/g,"<$1div>")),t}function o(e){e.data.preventDefault(),e.data.$.dataTransfer.dropEffect="none"}function u(l){var c=CKEDITOR.plugins.clipboard;l.on("contentDom",function(){function o(e,t,n){t.select(),T(l,{dataTransfer:n,method:"drop"},1),n.sourceEditor.fire("saveSnapshot"),n.sourceEditor.editable().extractHtmlFromRange(e),n.sourceEditor.getSelection().selectRanges([e]),n.sourceEditor.fire("saveSnapshot")}function r(e,t){e.select(),T(l,{dataTransfer:t,method:"drop"},1),c.resetDragDataTransfer()}function i(e,t,n){var i={$:e.data.$,target:e.data.getTarget()};t&&(i.dragRange=t),n&&(i.dropRange=n),!1===l.fire(e.name,i)&&e.data.preventDefault()}function t(e){return e.type!=CKEDITOR.NODE_ELEMENT&&(e=e.getParent()),e.getChildCount()}var e=l.editable(),n=CKEDITOR.plugins.clipboard.getDropTarget(l),a=l.ui.space("top"),s=l.ui.space("bottom");c.preventDefaultDropOnElement(a),c.preventDefaultDropOnElement(s),e.attachListener(n,"dragstart",i),e.attachListener(l,"dragstart",c.resetDragDataTransfer,c,null,1),e.attachListener(l,"dragstart",function(e){c.initDragDataTransfer(e,l)},null,null,2),e.attachListener(l,"dragstart",function(){var e=c.dragRange=l.getSelection().getRanges()[0];CKEDITOR.env.ie&&CKEDITOR.env.version<10&&(c.dragStartContainerChildCount=e?t(e.startContainer):null,c.dragEndContainerChildCount=e?t(e.endContainer):null)},null,null,100),e.attachListener(n,"dragend",i),e.attachListener(l,"dragend",c.initDragDataTransfer,c,null,1),e.attachListener(l,"dragend",c.resetDragDataTransfer,c,null,100),e.attachListener(n,"dragover",function(e){if(CKEDITOR.env.edge)e.data.preventDefault();else{var t=e.data.getTarget();t&&t.is&&t.is("html")?e.data.preventDefault():CKEDITOR.env.ie&&CKEDITOR.plugins.clipboard.isFileApiSupported&&e.data.$.dataTransfer.types.contains("Files")&&e.data.preventDefault()}}),e.attachListener(n,"drop",function(e){if(!e.data.$.defaultPrevented&&(e.data.preventDefault(),!(t=e.data.getTarget()).isReadOnly()||t.type==CKEDITOR.NODE_ELEMENT&&t.is("html"))){var t=c.getRangeAtDropPosition(e,l),n=c.dragRange;t&&i(e,n,t)}},null,null,9999),e.attachListener(l,"drop",c.initDragDataTransfer,c,null,1),e.attachListener(l,"drop",function(e){if(e=e.data){var t=e.dropRange,n=e.dragRange,i=e.dataTransfer;i.getTransferType(l)==CKEDITOR.DATA_TRANSFER_INTERNAL?setTimeout(function(){c.internalDrop(n,t,i,l)},0):i.getTransferType(l)==CKEDITOR.DATA_TRANSFER_CROSS_EDITORS?o(n,t,i):r(t,i)}},null,null,9999)})}CKEDITOR.plugins.add("clipboard",{requires:"notification",init:function(a){var e,s=n();if(a.config.forcePasteAsPlainText?e="plain-text":a.config.pasteFilter?e=a.config.pasteFilter:!CKEDITOR.env.webkit||"pasteFilter"in a.config||(e="semantic-content"),a.pasteFilter=s.get(e),t(a),u(a),CKEDITOR.env.gecko){var o,r=["image/png","image/jpeg","image/gif"];a.on("paste",function(e){var t=e.data,n=t.dataTransfer;if(!t.dataValue&&"paste"==t.method&&n&&1==n.getFilesCount()&&o!=n.id&&(n=n.getFile(0),-1!=CKEDITOR.tools.indexOf(r,n.type))){var i=new FileReader;i.addEventListener("load",function(){e.data.dataValue='<img src="'+i.result+'" />',a.fire("paste",e.data)},!1),i.addEventListener("abort",function(){a.fire("paste",e.data)},!1),i.addEventListener("error",function(){a.fire("paste",e.data)},!1),i.readAsDataURL(n),o=t.dataTransfer.id,e.stop()}},null,null,1)}a.on("paste",function(e){if(e.data.dataTransfer||(e.data.dataTransfer=new CKEDITOR.plugins.clipboard.dataTransfer),!e.data.dataValue){var t=e.data.dataTransfer,n=t.getData("text/html");n?(e.data.dataValue=n,e.data.type="html"):(n=t.getData("text/plain"))&&(e.data.dataValue=a.editable().transformPlainTextToHtml(n),e.data.type="text")}},null,null,1),a.on("paste",function(n){var e=n.data.dataValue,i=CKEDITOR.dtd.$block;if(-1<e.indexOf("Apple-")&&(e=e.replace(/<span class="Apple-converted-space">&nbsp;<\/span>/gi," "),"html"!=n.data.type&&(e=e.replace(/<span class="Apple-tab-span"[^>]*>([^<]*)<\/span>/gi,function(e,t){return t.replace(/\t/g,"&nbsp;&nbsp; &nbsp;")})),-1<e.indexOf('<br class="Apple-interchange-newline">')&&(n.data.startsWithEOL=1,n.data.preSniffing="html",e=e.replace(/<br class="Apple-interchange-newline">/,"")),e=e.replace(/(<[^>]+) class="Apple-[^"]*"/gi,"$1")),e.match(/^<[^<]+cke_(editable|contents)/i)){var t,o,r=new CKEDITOR.dom.element("div");for(r.setHtml(e);1==r.getChildCount()&&(t=r.getFirst())&&t.type==CKEDITOR.NODE_ELEMENT&&(t.hasClass("cke_editable")||t.hasClass("cke_contents"));)r=o=t;o&&(e=o.getHtml().replace(/<br>$/i,""))}CKEDITOR.env.ie?e=e.replace(/^&nbsp;(?: |\r\n)?<(\w+)/g,function(e,t){return t.toLowerCase()in i?(n.data.preSniffing="html","<"+t):e}):CKEDITOR.env.webkit?e=e.replace(/<\/(\w+)><div><br><\/div>$/,function(e,t){return t in i?(n.data.endsWithEOL=1,"</"+t+">"):e}):CKEDITOR.env.gecko&&(e=e.replace(/(\s)<br>$/,"$1")),n.data.dataValue=e},null,null,3),a.on("paste",function(e){e=e.data;var t,n=a._.nextPasteType||e.type,i=e.dataValue,o=a.config.clipboard_defaultContentType||"html",r=e.dataTransfer.getTransferType(a);t="html"==n||"html"==e.preSniffing?"html":l(i),delete a._.nextPasteType,"htmlifiedtext"==t&&(i=c(a.config,i)),"text"==n&&"html"==t?i=d(a,i,s.get("plain-text")):r==CKEDITOR.DATA_TRANSFER_EXTERNAL&&a.pasteFilter&&!e.dontFilter&&(i=d(a,i,a.pasteFilter)),e.startsWithEOL&&(i='<br data-cke-eol="1">'+i),e.endsWithEOL&&(i+='<br data-cke-eol="1">'),"auto"==n&&(n="html"==t||"html"==o?"html":"text"),e.type=n,e.dataValue=i,delete e.preSniffing,delete e.startsWithEOL,delete e.endsWithEOL},null,null,6),a.on("paste",function(e){(e=e.data).dataValue&&(a.insertHtml(e.dataValue,e.type,e.range),setTimeout(function(){a.fire("afterPaste")},0))},null,null,1e3)}}),CKEDITOR.plugins.clipboard={isCustomCopyCutSupported:!CKEDITOR.env.ie&&!CKEDITOR.env.iOS,isCustomDataTypesSupported:!CKEDITOR.env.ie,isFileApiSupported:!CKEDITOR.env.ie||9<CKEDITOR.env.version,mainPasteEvent:CKEDITOR.env.ie&&!CKEDITOR.env.edge?"beforepaste":"paste",canClipboardApiBeTrusted:function(e,t){return!!(e.getTransferType(t)!=CKEDITOR.DATA_TRANSFER_EXTERNAL||CKEDITOR.env.chrome&&!e.isEmpty()||CKEDITOR.env.gecko&&(e.getData("text/html")||e.getFilesCount())||CKEDITOR.env.safari&&603<=CKEDITOR.env.version&&!CKEDITOR.env.iOS)},getDropTarget:function(e){var t=e.editable();return CKEDITOR.env.ie&&CKEDITOR.env.version<9||t.isInline()?t:e.document},fixSplitNodesAfterDrop:function(e,o,t,n){function i(e,t,n){var i=e;if(i.type==CKEDITOR.NODE_TEXT&&(i=e.getParent()),i.equals(t)&&n!=t.getChildCount())return e=o.startContainer.getChild(o.startOffset-1),t=o.startContainer.getChild(o.startOffset),e&&e.type==CKEDITOR.NODE_TEXT&&t&&t.type==CKEDITOR.NODE_TEXT&&(n=e.getLength(),e.setText(e.getText()+t.getText()),t.remove(),o.setStart(e,n),o.collapse(!0)),!0}var r=o.startContainer;"number"==typeof n&&"number"==typeof t&&r.type==CKEDITOR.NODE_ELEMENT&&(i(e.startContainer,r,t)||i(e.endContainer,r,n))},isDropRangeAffectedByDragRange:function(e,t){var n=t.startContainer,i=t.endOffset;return!!(e.endContainer.equals(n)&&e.endOffset<=i||e.startContainer.getParent().equals(n)&&e.startContainer.getIndex()<i||e.endContainer.getParent().equals(n)&&e.endContainer.getIndex()<i)},internalDrop:function(e,t,n,i){var o,r,a=CKEDITOR.plugins.clipboard,s=i.editable();i.fire("saveSnapshot"),i.fire("lockSnapshot",{dontUpdate:1}),CKEDITOR.env.ie&&CKEDITOR.env.version<10&&this.fixSplitNodesAfterDrop(e,t,a.dragStartContainerChildCount,a.dragEndContainerChildCount),(r=this.isDropRangeAffectedByDragRange(e,t))||(o=e.createBookmark(!1)),a=t.clone().createBookmark(!1),r&&(o=e.createBookmark(!1)),e=o.startNode,t=o.endNode,r=a.startNode,t&&e.getPosition(r)&CKEDITOR.POSITION_PRECEDING&&t.getPosition(r)&CKEDITOR.POSITION_FOLLOWING&&r.insertBefore(e),(e=i.createRange()).moveToBookmark(o),s.extractHtmlFromRange(e,1),(t=i.createRange()).moveToBookmark(a),T(i,{dataTransfer:n,method:"drop",range:t},1),i.fire("unlockSnapshot")},getRangeAtDropPosition:function(e,t){var n=e.data.$,i=n.clientX,o=n.clientY,r=t.getSelection(!0).getRanges()[0],a=t.createRange();if(e.data.testRange)return e.data.testRange;if(document.caretRangeFromPoint&&t.document.$.caretRangeFromPoint(i,o))n=t.document.$.caretRangeFromPoint(i,o),a.setStart(CKEDITOR.dom.node(n.startContainer),n.startOffset),a.collapse(!0);else if(n.rangeParent)a.setStart(CKEDITOR.dom.node(n.rangeParent),n.rangeOffset),a.collapse(!0);else{if(CKEDITOR.env.ie&&8<CKEDITOR.env.version&&r&&t.editable().hasFocus)return r;if(!document.body.createTextRange)return null;t.focus(),n=t.document.getBody().$.createTextRange();try{for(var s=!1,l=0;l<20&&!s;l++){if(!s)try{n.moveToPoint(i,o-l),s=!0}catch(m){}if(!s)try{n.moveToPoint(i,o+l),s=!0}catch(p){}}if(s){var c="cke-temp-"+(new Date).getTime();n.pasteHTML('<span id="'+c+'">\u200b</span>');var d=t.document.getById(c);a.moveToPosition(d,CKEDITOR.POSITION_BEFORE_START),d.remove()}else{var u=t.document.$.elementFromPoint(i,o),h=new CKEDITOR.dom.element(u);if(h.equals(t.editable())||"html"==h.getName())return r&&r.startContainer&&!r.startContainer.equals(t.editable())?r:null;i<h.getClientRect().left?a.setStartAt(h,CKEDITOR.POSITION_AFTER_START):a.setStartAt(h,CKEDITOR.POSITION_BEFORE_END),a.collapse(!0)}}catch(f){return null}}return a},initDragDataTransfer:function(e,t){var n=e.data.$?e.data.$.dataTransfer:null,i=new this.dataTransfer(n,t);n?this.dragData&&i.id==this.dragData.id?i=this.dragData:this.dragData=i:this.dragData?i=this.dragData:this.dragData=i,e.data.dataTransfer=i},resetDragDataTransfer:function(){this.dragData=null},initPasteDataTransfer:function(e,t){if(this.isCustomCopyCutSupported){if(e&&e.data&&e.data.$){var n=new this.dataTransfer(e.data.$.clipboardData,t);return this.copyCutData&&n.id==this.copyCutData.id?(n=this.copyCutData).$=e.data.$.clipboardData:this.copyCutData=n,n}return new this.dataTransfer(null,t)}return new this.dataTransfer(CKEDITOR.env.edge&&e&&e.data.$&&e.data.$.clipboardData||null,t)},preventDefaultDropOnElement:function(e){e&&e.on("dragover",o)}};var m=CKEDITOR.plugins.clipboard.isCustomDataTypesSupported?"cke/id":"Text";CKEDITOR.plugins.clipboard.dataTransfer=function(e,t){if(e&&(this.$=e),this._={metaRegExp:/^<meta.*?>/i,bodyRegExp:/<body(?:[\s\S]*?)>([\s\S]*)<\/body>/i,fragmentRegExp:/\x3c!--(?:Start|End)Fragment--\x3e/g,data:{},files:[],normalizeType:function(e){return"text"==(e=e.toLowerCase())||"text/plain"==e?"Text":"url"==e?"URL":e}},this.id=this.getData(m),this.id||(this.id="Text"==m?"":"cke-"+CKEDITOR.tools.getUniqueId()),"Text"!=m)try{this.$.setData(m,this.id)}catch(n){}t&&(this.sourceEditor=t,this.setData("text/html",t.getSelectedHtml(1)),"Text"==m||this.getData("text/plain")||this.setData("text/plain",t.getSelection().getSelectedText()))},CKEDITOR.DATA_TRANSFER_INTERNAL=1,CKEDITOR.DATA_TRANSFER_CROSS_EDITORS=2,CKEDITOR.DATA_TRANSFER_EXTERNAL=3,CKEDITOR.plugins.clipboard.dataTransfer.prototype={getData:function(e,t){e=this._.normalizeType(e);var n,i=this._.data[e];if(null==i||""===i)try{i=this.$.getData(e)}catch(o){}return null!=i&&""!==i||(i=""),"text/html"!=e||t?"Text"==e&&CKEDITOR.env.gecko&&this.getFilesCount()&&"file://"==i.substring(0,7)&&(i=""):(i=i.replace(this._.metaRegExp,""),(n=this._.bodyRegExp.exec(i))&&n.length&&(i=(i=n[1]).replace(this._.fragmentRegExp,""))),"string"==typeof i&&(i=-1!==(n=i.indexOf("</html>"))?i.substring(0,n+7):i),i},setData:function(e,t){if(e=this._.normalizeType(e),this._.data[e]=t,CKEDITOR.plugins.clipboard.isCustomDataTypesSupported||"URL"==e||"Text"==e){"Text"==m&&"Text"==e&&(this.id=t);try{this.$.setData(e,t)}catch(n){}}},getTransferType:function(e){return this.sourceEditor?this.sourceEditor==e?CKEDITOR.DATA_TRANSFER_INTERNAL:CKEDITOR.DATA_TRANSFER_CROSS_EDITORS:CKEDITOR.DATA_TRANSFER_EXTERNAL},cacheData:function(){function e(e){e=i._.normalizeType(e);var t=i.getData(e,!0);t&&(i._.data[e]=t)}if(this.$){var t,n,i=this;if(CKEDITOR.plugins.clipboard.isCustomDataTypesSupported){if(this.$.types)for(t=0;t<this.$.types.length;t++)e(this.$.types[t])}else e("Text"),e("URL");if(n=this._getImageFromClipboard(),this.$&&this.$.files||n){if(this._.files=[],this.$.files&&this.$.files.length)for(t=0;t<this.$.files.length;t++)this._.files.push(this.$.files[t]);0===this._.files.length&&n&&this._.files.push(n)}}},getFilesCount:function(){return this._.files.length?this._.files.length:this.$&&this.$.files&&this.$.files.length?this.$.files.length:this._getImageFromClipboard()?1:0},getFile:function(e){return this._.files.length?this._.files[e]:this.$&&this.$.files&&this.$.files.length?this.$.files[e]:0===e?this._getImageFromClipboard():void 0},isEmpty:function(){var e,t={};if(this.getFilesCount())return!1;for(e in this._.data)t[e]=1;if(this.$)if(CKEDITOR.plugins.clipboard.isCustomDataTypesSupported){if(this.$.types)for(var n=0;n<this.$.types.length;n++)t[this.$.types[n]]=1}else t.Text=1,t.URL=1;for(e in"Text"!=m&&(t[m]=0),t)if(t[e]&&""!==this.getData(e))return!1;return!0},_getImageFromClipboard:function(){var e;if(this.$&&this.$.items&&this.$.items[0])try{if((e=this.$.items[0].getAsFile())&&e.type)return e}catch(t){}}}}(),CKEDITOR.config.clipboard_notificationDuration=1e4,CKEDITOR.plugins.add("panelbutton",{requires:"button",onLoad:function(){function n(e){var t=this._;t.state!=CKEDITOR.TRISTATE_DISABLED&&(this.createPanel(e),t.on?t.panel.hide():t.panel.showBlock(this._.id,this.document.getById(this._.id),4))}CKEDITOR.ui.panelButton=CKEDITOR.tools.createClass({base:CKEDITOR.ui.button,$:function(e){var t=e.panel||{};delete e.panel,this.base(e),this.document=t.parent&&t.parent.getDocument()||CKEDITOR.document,t.block={attributes:t.attributes},this.hasArrow=t.toolbarRelated=!0,this.click=n,this._={panelDefinition:t}},statics:{handler:{create:function(e){return new CKEDITOR.ui.panelButton(e)}}},proto:{createPanel:function(t){var n=this._;if(!n.panel){var e=this._.panelDefinition,i=this._.panelDefinition.block,o=e.parent||CKEDITOR.document.getBody(),r=this._.panel=new CKEDITOR.ui.floatPanel(t,o,e),a=(e=r.addBlock(n.id,i),this);r.onShow=function(){a.className&&this.element.addClass(a.className+"_panel"),a.setState(CKEDITOR.TRISTATE_ON),n.on=1,a.editorFocus&&t.focus(),a.onOpen&&a.onOpen()},r.onHide=function(e){a.className&&this.element.getFirst().removeClass(a.className+"_panel"),a.setState(a.modes&&a.modes[t.mode]?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED),n.on=0,!e&&a.onClose&&a.onClose()},r.onEscape=function(){r.hide(1),a.document.getById(n.id).focus()},this.onBlock&&this.onBlock(r,e),e.onHide=function(){n.on=0,a.setState(CKEDITOR.TRISTATE_OFF)}}}}})},beforeInit:function(e
){e.ui.addHandler(CKEDITOR.UI_PANELBUTTON,CKEDITOR.ui.panelButton.handler)}}),CKEDITOR.UI_PANELBUTTON="panelbutton",function(){CKEDITOR.plugins.add("panel",{beforeInit:function(e){e.ui.addHandler(CKEDITOR.UI_PANEL,CKEDITOR.ui.panel.handler)}}),CKEDITOR.UI_PANEL="panel",CKEDITOR.ui.panel=function(e,t){t&&CKEDITOR.tools.extend(this,t),CKEDITOR.tools.extend(this,{className:"",css:[]}),this.id=CKEDITOR.tools.getNextId(),this.document=e,this.isFramed=this.forceIFrame||this.css.length,this._={blocks:{}}},CKEDITOR.ui.panel.handler={create:function(e){return new CKEDITOR.ui.panel(e)}};var o=CKEDITOR.addTemplate("panel",'<div lang="{langCode}" id="{id}" dir={dir} class="cke cke_reset_all {editorId} cke_panel cke_panel {cls} cke_{dir}" style="z-index:{z-index}" role="presentation">{frame}</div>'),r=CKEDITOR.addTemplate("panel-frame",'<iframe id="{id}" class="cke_panel_frame" role="presentation" frameborder="0" src="{src}"></iframe>'),a=CKEDITOR.addTemplate("panel-frame-inner",'<!DOCTYPE html><html class="cke_panel_container {env}" dir="{dir}" lang="{langCode}"><head>{css}</head><body class="cke_{dir}" style="margin:0;padding:0" onload="{onload}"></body></html>');CKEDITOR.ui.panel.prototype={render:function(e,t){this.getHolderElement=function(){if(!(t=this._.holder)){if(this.isFramed){var e=(t=this.document.getById(this.id+"_frame")).getParent(),t=t.getFrameDocument();CKEDITOR.env.iOS&&e.setStyles({overflow:"scroll","-webkit-overflow-scrolling":"touch"}),e=CKEDITOR.tools.addFunction(CKEDITOR.tools.bind(function(){this.isLoaded=!0,this.onLoad&&this.onLoad()},this)),t.write(a.output(CKEDITOR.tools.extend({css:CKEDITOR.tools.buildStyleHtml(this.css),onload:"window.parent.CKEDITOR.tools.callFunction("+e+");"},n))),t.getWindow().$.CKEDITOR=CKEDITOR,t.on("keydown",function(e){var t=e.data.getKeystroke(),n=this.document.getById(this.id).getAttribute("dir");this._.onKeyDown&&!1===this._.onKeyDown(t)?e.data.preventDefault():(27==t||t==("rtl"==n?39:37))&&this.onEscape&&!1===this.onEscape(t)&&e.data.preventDefault()},this),(t=t.getBody()).unselectable(),CKEDITOR.env.air&&CKEDITOR.tools.callFunction(e)}else t=this.document.getById(this.id);this._.holder=t}return t};var n={editorId:e.id,id:this.id,langCode:e.langCode,dir:e.lang.dir,cls:this.className,frame:"",env:CKEDITOR.env.cssClass,"z-index":e.config.baseFloatZIndex+1};if(this.isFramed){var i=CKEDITOR.env.air?"javascript:void(0)":CKEDITOR.env.ie?"javascript:void(function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.close();")+"}())":"";n.frame=r.output({id:this.id+"_frame",src:i})}return i=o.output(n),t&&t.push(i),i},addBlock:function(e,t){return t=this._.blocks[e]=t instanceof CKEDITOR.ui.panel.block?t:new CKEDITOR.ui.panel.block(this.getHolderElement(),t),this._.currentBlock||this.showBlock(e),t},getBlock:function(e){return this._.blocks[e]},showBlock:function(e){e=this._.blocks[e];var t=this._.currentBlock,n=!this.forceIFrame||CKEDITOR.env.ie?this._.holder:this.document.getById(this.id+"_frame");return t&&t.hide(),this._.currentBlock=e,CKEDITOR.fire("ariaWidget",n),e._.focusIndex=-1,this._.onKeyDown=e.onKeyDown&&CKEDITOR.tools.bind(e.onKeyDown,e),e.show(),e},destroy:function(){this.element&&this.element.remove()}},CKEDITOR.ui.panel.block=CKEDITOR.tools.createClass({$:function(e,t){this.element=e.append(e.getDocument().createElement("div",{attributes:{tabindex:-1,"class":"cke_panel_block"},styles:{display:"none"}})),t&&CKEDITOR.tools.extend(this,t),this.element.setAttributes({role:this.attributes.role||"presentation","aria-label":this.attributes["aria-label"],title:this.attributes.title||this.attributes["aria-label"]}),this.keys={},this._.focusIndex=-1,this.element.disableContextMenu()},_:{markItem:function(e){-1!=e&&(e=this.element.getElementsByTag("a").getItem(this._.focusIndex=e),CKEDITOR.env.webkit&&e.getDocument().getWindow().focus(),e.focus(),this.onMark&&this.onMark(e))},markFirstDisplayed:function(e){for(var t,n,i=function(e){return e.type==CKEDITOR.NODE_ELEMENT&&"none"==e.getStyle("display")},o=this._.getItems(),r=o.count()-1;0<=r;r--)if((t=o.getItem(r)).getAscendant(i)||(n=t,this._.focusIndex=r),"true"==t.getAttribute("aria-selected")){n=t,this._.focusIndex=r;break}n&&(e&&e(),CKEDITOR.env.webkit&&n.getDocument().getWindow().focus(),n.focus(),this.onMark&&this.onMark(n))},getItems:function(){return this.element.getElementsByTag("a")}},proto:{show:function(){this.element.setStyle("display","")},hide:function(){this.onHide&&!0===this.onHide.call(this)||this.element.setStyle("display","none")},onKeyDown:function(e,t){switch(o=this.keys[e]){case"next":for(var n,i=this._.focusIndex,o=this.element.getElementsByTag("a");n=o.getItem(++i);)if(n.getAttribute("_cke_focus")&&n.$.offsetWidth){this._.focusIndex=i,n.focus();break}return!n&&!t&&(this._.focusIndex=-1,this.onKeyDown(e,1));case"prev":for(i=this._.focusIndex,o=this.element.getElementsByTag("a");0<i&&(n=o.getItem(--i));){if(n.getAttribute("_cke_focus")&&n.$.offsetWidth){this._.focusIndex=i,n.focus();break}n=null}return!n&&!t&&(this._.focusIndex=o.count(),this.onKeyDown(e,1));case"click":case"mouseup":return(n=0<=(i=this._.focusIndex)&&this.element.getElementsByTag("a").getItem(i))&&(n.$[o]?n.$[o]():n.$["on"+o]()),!1}return!0}}})}(),CKEDITOR.plugins.add("floatpanel",{requires:"panel"}),function(){function c(e,t,n,i,o){o=CKEDITOR.tools.genKey(t.getUniqueId(),n.getUniqueId(),e.lang.dir,e.uiColor||"",i.css||"",o||"");var r=a[o];return r||((r=a[o]=new CKEDITOR.ui.panel(t,i)).element=n.append(CKEDITOR.dom.element.createFromHtml(r.render(e),t)),r.element.setStyles({display:"none",position:"absolute"})),r}var a={};CKEDITOR.ui.floatPanel=CKEDITOR.tools.createClass({$:function(e,t,n,i){function o(){l.hide()}n.forceIFrame=1,n.toolbarRelated&&e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE&&(t=CKEDITOR.document.getById("cke_"+e.name));var r=t.getDocument(),a=(i=c(e,r,t,n,i||0)).element,s=a.getFirst(),l=this;a.disableContextMenu(),this.element=a,this._={editor:e,panel:i,parentElement:t,definition:n,document:r,iframe:s,children:[],dir:e.lang.dir,showBlockParams:null},e.on("mode",o),e.on("resize",o),r.getWindow().on("resize",function(){this.reposition()},this)},proto:{addBlock:function(e,t){return this._.panel.addBlock(e,t)},addListBlock:function(e,t){return this._.panel.addListBlock(e,t)},getBlock:function(e){return this._.panel.getBlock(e)},showBlock:function(e,t,n,i,o,s){var l=this._.panel,c=l.showBlock(e);this._.showBlockParams=[].slice.call(arguments),this.allowBlur(!1);var r=this._.editor.editable();this._.returnFocus=r.hasFocus?r:new CKEDITOR.dom.element(CKEDITOR.document.$.activeElement),this._.hideTimeout=0;var d=this.element,a=(r=this._.iframe,r=CKEDITOR.env.ie&&!CKEDITOR.env.edge?r:new CKEDITOR.dom.window(r.$.contentWindow),d.getDocument()),u=this._.parentElement.getPositionedAncestor(),h=t.getDocumentPosition(a),p=(a=u?u.getDocumentPosition(a):{x:0,y:0},"rtl"==this._.dir),f=h.x+(i||0)-a.x,m=h.y+(o||0)-a.y;!p||1!=n&&4!=n?p||2!=n&&3!=n||(f+=t.$.offsetWidth-1):f+=t.$.offsetWidth,3!=n&&4!=n||(m+=t.$.offsetHeight-1),this._.panel._.offsetParentId=t.getId(),d.setStyles({top:m+"px",left:0,display:""}),d.setOpacity(0),d.getFirst().removeStyle("width"),this._.editor.focusManager.add(r),this._.blurSet||(CKEDITOR.event.useCapture=!0,r.on("blur",function(e){function t(){delete this._.returnFocus,this.hide()}this.allowBlur()&&e.data.getPhase()==CKEDITOR.EVENT_PHASE_AT_TARGET&&this.visible&&!this._.activeChild&&(CKEDITOR.env.iOS?this._.hideTimeout||(this._.hideTimeout=CKEDITOR.tools.setTimeout(t,0,this)):t.call(this))},this),r.on("focus",function(){this._.focused=!0,this.hideChild(),this.allowBlur(!0)},this),CKEDITOR.env.iOS&&(r.on("touchstart",function(){clearTimeout(this._.hideTimeout)},this),r.on("touchend",function(){this._.hideTimeout=0,this.focus()},this)),CKEDITOR.event.useCapture=!1,this._.blurSet=1),l.onEscape=CKEDITOR.tools.bind(function(e){if(this.onEscape&&!1===this.onEscape(e))return!1},this),CKEDITOR.tools.setTimeout(function(){var e=CKEDITOR.tools.bind(function(){if((n=d).removeStyle("width"),c.autoSize){var e=c.element.getDocument();e=(CKEDITOR.env.webkit||CKEDITOR.env.edge?c.element:e.getBody()).$.scrollWidth;CKEDITOR.env.ie&&CKEDITOR.env.quirks&&0<e&&(e+=(n.$.offsetWidth||0)-(n.$.clientWidth||0)+3),n.setStyle("width",e+10+"px"),e=c.element.$.scrollHeight,CKEDITOR.env.ie&&CKEDITOR.env.quirks&&0<e&&(e+=(n.$.offsetHeight||0)-(n.$.clientHeight||0)+3),n.setStyle("height",e+"px"),l._.currentBlock.element.setStyle("display","none").removeStyle("display")}else n.removeStyle("height");p&&(f-=d.$.offsetWidth),d.setStyle("left",f+"px");e=l.element.getWindow();var t,n=d.$.getBoundingClientRect(),i=(e=e.getViewPaneSize(),n.width||n.right-n.left),o=n.height||n.bottom-n.top,r=p?n.right:e.width-n.left,a=p?e.width-n.right:n.left;p?r<i&&(f=i<a?f+i:e.width>i?f-n.left:f-n.right+e.width):r<i&&(f=i<a?f-i:e.width>i?f-n.right+e.width:f-n.left),i=n.top,e.height-n.top<o&&(m=o<i?m-o:e.height>o?m-n.bottom+e.height:m-n.top),CKEDITOR.env.ie&&("html"==(e=n=new CKEDITOR.dom.element(d.$.offsetParent)).getName()&&(e=e.getDocument().getBody()),"rtl"==e.getComputedStyle("direction")&&(f=CKEDITOR.env.ie8Compat?f-2*d.getDocument().getDocumentElement().$.scrollLeft:f-(n.$.scrollWidth-n.$.clientWidth))),(t=(n=d.getFirst()).getCustomData("activePanel"))&&t.onHide&&t.onHide.call(this,1),n.setCustomData("activePanel",this),d.setStyles({top:m+"px",left:f+"px"}),d.setOpacity(1),s&&s()},this);l.isLoaded?e():l.onLoad=e,CKEDITOR.tools.setTimeout(function(){var e=CKEDITOR.env.webkit&&CKEDITOR.document.getWindow().getScrollPosition().y;this.focus(),c.element.focus(),CKEDITOR.env.webkit&&(CKEDITOR.document.getBody().$.scrollTop=e),this.allowBlur(!0),CKEDITOR.env.ie?CKEDITOR.tools.setTimeout(function(){c.markFirstDisplayed?c.markFirstDisplayed():c._.markFirstDisplayed()},0):c.markFirstDisplayed?c.markFirstDisplayed():c._.markFirstDisplayed(),this._.editor.fire("panelShow",this)},0,this)},CKEDITOR.env.air?200:0,this),this.visible=1,this.onShow&&this.onShow.call(this)},reposition:function(){var e=this._.showBlockParams;this.visible&&this._.showBlockParams&&(this.hide(),this.showBlock.apply(this,e))},focus:function(){if(CKEDITOR.env.webkit){var e=CKEDITOR.document.getActive();e&&!e.equals(this._.iframe)&&e.$.blur()}(this._.lastFocused||this._.iframe.getFrameDocument().getWindow()).focus()},blur:function(){var e=this._.iframe.getFrameDocument().getActive();e&&e.is("a")&&(this._.lastFocused=e)},hide:function(e){!this.visible||this.onHide&&!0===this.onHide.call(this)||(this.hideChild(),CKEDITOR.env.gecko&&this._.iframe.getFrameDocument().$.activeElement.blur(),this.element.setStyle("display","none"),this.visible=0,this.element.getFirst().removeCustomData("activePanel"),(e=e&&this._.returnFocus)&&(CKEDITOR.env.webkit&&e.type&&e.getWindow().$.focus(),e.focus()),delete this._.lastFocused,this._.showBlockParams=null,this._.editor.fire("panelHide",this))},allowBlur:function(e){var t=this._.panel;return void 0!==e&&(t.allowBlur=e),t.allowBlur},showAsChild:function(e,t,n,i,o,r){this._.activeChild==e&&e._.panel._.offsetParentId==n.getId()||(this.hideChild(),e.onHide=CKEDITOR.tools.bind(function(){CKEDITOR.tools.setTimeout(function(){this._.focused||this.hide()},0,this)},this),this._.activeChild=e,this._.focused=!1,e.showBlock(t,n,i,o,r),this.blur(),(CKEDITOR.env.ie7Compat||CKEDITOR.env.ie6Compat)&&setTimeout(function(){e.element.getChild(0).$.style.cssText+=""},100))},hideChild:function(e){var t=this._.activeChild;t&&(delete t.onHide,delete this._.activeChild,t.hide(),e&&this.focus())}}}),CKEDITOR.on("instanceDestroyed",function(){var e,t=CKEDITOR.tools.isEmpty(CKEDITOR.instances);for(e in a){var n=a[e];t?n.destroy():n.element.hide()}t&&(a={})})}(),CKEDITOR.plugins.add("colorbutton",{requires:"panelbutton,floatpanel",init:function(p){function e(e,r,t,n,i){var a,o=new CKEDITOR.style(m["colorButton_"+r+"Style"]),s=CKEDITOR.tools.getNextId()+"_colorBox";i=i||{},p.ui.add(e,CKEDITOR.UI_PANELBUTTON,{label:t,title:t,modes:{wysiwyg:1},editorFocus:0,toolbar:"colors,"+n,allowedContent:o,requiredContent:o,contentTransformations:i.contentTransformations,panel:{css:CKEDITOR.skin.getPath("editor"),attributes:{role:"listbox","aria-label":g.panelTitle}},onBlock:function(e,t){(a=t).autoSize=!0,t.element.addClass("cke_colorblock"),t.element.setHtml(l(e,r,s)),t.element.getDocument().getBody().setStyle("overflow","hidden"),CKEDITOR.ui.fire("ready",this);var n=t.keys,i="rtl"==p.lang.dir;n[i?37:39]="next",n[40]="next",n[9]="next",n[i?39:37]="prev",n[38]="prev",n[CKEDITOR.SHIFT+9]="prev",n[32]="click"},refresh:function(){p.activeFilter.check(o)||this.setState(CKEDITOR.TRISTATE_DISABLED)},onOpen:function(){var e=(n=p.getSelection())&&n.getStartElement(),t=p.elementPath(e);if(t){for(e=t.block||t.blockLimit||p.document.getBody();t=e&&e.getComputedStyle("back"==r?"background-color":"color")||"transparent","back"==r&&"transparent"==t&&e&&(e=e.getParent()););if(t&&"transparent"!=t||(t="#ffffff"),!1!==m.colorButton_enableAutomatic&&this._.panel._.iframe.getFrameDocument().getById(s).setStyle("background-color",t),e=n&&n.getRanges()[0]){var n=new CKEDITOR.dom.walker(e),i=e.collapsed?e.startContainer:n.next();for(e="";i;){if(i.type===CKEDITOR.NODE_TEXT&&(i=i.getParent()),i=c(i.getComputedStyle("back"==r?"background-color":"color")),(e=e||i)!==i){e="";break}i=n.next()}for(n=e,e=a._.getItems(),i=0;i<e.count();i++){var o=e.getItem(i);o.removeAttribute("aria-selected"),n&&n==c(o.getAttribute("data-value"))&&o.setAttribute("aria-selected",!0)}}return t}}})}function l(o,e,t){var n=[],i=m.colorButton_colors.split(","),r=m.colorButton_colorsPerRow||6,a=p.plugins.colordialog&&!1!==m.colorButton_enableMore,s=i.length+(a?2:1),l=CKEDITOR.tools.addFunction(function h(e,t){function n(e){this.removeListener("ok",n),this.removeListener("cancel",n),"ok"==e.name&&h(this.getContentElement("picker","selectedColor").getValue(),t)}if("?"==e)p.openDialog("colordialog",function(){this.on("ok",n),this.on("cancel",n)});else{if(p.focus(),o.hide(),p.fire("saveSnapshot"),p.removeStyle(new CKEDITOR.style(m["colorButton_"+t+"Style"],{color:"inherit"})),e){var i=m["colorButton_"+t+"Style"];i.childRule="back"==t?function(e){return f(e)}:function(e){return!(e.is("a")||e.getElementsByTag("a").count())||f(e)},p.applyStyle(new CKEDITOR.style(i,{color:e}))}p.fire("saveSnapshot")}});for(!1!==m.colorButton_enableAutomatic&&n.push('<a class="cke_colorauto" _cke_focus=1 hidefocus=true title="',g.auto,'" onclick="CKEDITOR.tools.callFunction(',l,",null,'",e,"');return false;\" href=\"javascript:void('",g.auto,'\')" role="option" aria-posinset="1" aria-setsize="',s,'"><table role="presentation" cellspacing=0 cellpadding=0 width="100%"><tr><td colspan="'+r+'" align="center"><span class="cke_colorbox" id="',t,'"></span>',g.auto,"</td></tr></table></a>"),n.push('<table role="presentation" cellspacing=0 cellpadding=0 width="100%">'),t=0;t<i.length;t++){0==t%r&&n.push("</tr><tr>");var c=i[t].split("/"),d=c[0],u=c[1]||d;c[1]||(d="#"+d.replace(/^(.)(.)(.)$/,"$1$1$2$2$3$3")),c=p.lang.colorbutton.colors[u]||u,n.push('<td><a class="cke_colorbox" _cke_focus=1 hidefocus=true title="',c,'" onclick="CKEDITOR.tools.callFunction(',l,",'",d,"','",e,"'); return false;\" href=\"javascript:void('",c,'\')" data-value="'+u+'" role="option" aria-posinset="',t+2,'" aria-setsize="',s,'"><span class="cke_colorbox" style="background-color:#',u,'"></span></a></td>')}return a&&n.push('</tr><tr><td colspan="'+r+'" align="center"><a class="cke_colormore" _cke_focus=1 hidefocus=true title="',g.more,'" onclick="CKEDITOR.tools.callFunction(',l,",'?','",e,"');return false;\" href=\"javascript:void('",g.more,"')\"",' role="option" aria-posinset="',s,'" aria-setsize="',s,'">',g.more,"</a></td>"),n.push("</tr></table>"),n.join("")}function f(e){return"false"==e.getAttribute("contentEditable")||e.getAttribute("data-nostyle")}function c(e){return CKEDITOR.tools.convertRgbToHex(e||"").replace(/#/,"").toLowerCase()}var m=p.config,g=p.lang.colorbutton;if(!CKEDITOR.env.hc){e("TextColor","fore",g.textColorTitle,10,{contentTransformations:[[{element:"font",check:"span{color}",left:function(e){return!!e.attributes.color},right:function(e){e.name="span",e.attributes.color&&(e.styles.color=e.attributes.color),delete e.attributes.color}}]]});var t={},n=p.config.colorButton_normalizeBackground;(void 0===n||n)&&(t.contentTransformations=[[{element:"span",left:function(e){var t=CKEDITOR.tools;return!("span"!=e.name||!e.styles||!e.styles.background)&&((e=t.style.parse.background(e.styles.background)).color&&1===t.objectKeys(e).length)},right:function(e){var t=new CKEDITOR.style(p.config.colorButton_backStyle,{color:e.styles.background}).getDefinition();return e.name=t.element,e.styles=t.styles,e.attributes=t.attributes||{},e}}]]),e("BGColor","back",g.bgColorTitle,20,t)}}}),CKEDITOR.config.colorButton_colors="1ABC9C,2ECC71,3498DB,9B59B6,4E5F70,F1C40F,16A085,27AE60,2980B9,8E44AD,2C3E50,F39C12,E67E22,E74C3C,ECF0F1,95A5A6,DDD,FFF,D35400,C0392B,BDC3C7,7F8C8D,999,000",CKEDITOR.config.colorButton_foreStyle={element:"span",styles:{color:"#(color)"},overrides:[{element:"font",attributes:{color:null}}]},CKEDITOR.config.colorButton_backStyle={element:"span",styles:{"background-color":"#(color)"}},CKEDITOR.plugins.colordialog={requires:"dialog",init:function(e){var t=new CKEDITOR.dialogCommand("colordialog");t.editorFocus=!1,e.addCommand("colordialog",t),CKEDITOR.dialog.add("colordialog",this.path+"dialogs/colordialog.js"),e.getColorFromDialog=function(t,n){var i=function(e){this.removeListener("ok",i),this.removeListener("cancel",i),e="ok"==e.name?this.getValueOf("picker","selectedColor"):null,t.call(n,e)},o=function(e){e.on("ok",i),e.on("cancel",i)};e.execCommand("colordialog"),e._.storedDialogs&&e._.storedDialogs.colordialog?o(e._.storedDialogs.colordialog):CKEDITOR.on("dialogDefinition",function(e){if("colordialog"==e.data.name){var t=e.data.definition;e.removeListener(),t.onLoad=CKEDITOR.tools.override(t.onLoad,function(e){return function(){o(this),"function"==typeof(t.onLoad=e)&&e.call(this)}})}})}}},CKEDITOR.plugins.add("colordialog",CKEDITOR.plugins.colordialog),function(){CKEDITOR.plugins.add("templates",{requires:"dialog",init:function(e){CKEDITOR.dialog.add("templates",CKEDITOR.getUrl(this.path+"dialogs/templates.js")),e.addCommand("templates",new CKEDITOR.dialogCommand("templates")),e.ui.addButton&&e.ui.addButton("Templates",{label:e.lang.templates.button,command:"templates",toolbar:"doctools,10"})}});var n={},r={};CKEDITOR.addTemplates=function(e,t){n[e]=t},CKEDITOR.getTemplates=function(e){return n[e]},CKEDITOR.loadTemplates=function(e,t){for(var n=[],i=0,o=e.length;i<o;i++)r[e[i]]||(n.push(e[i]),r[e[i]]=1);n.length?CKEDITOR.scriptLoader.load(n,t):setTimeout(t,0)}}(),CKEDITOR.config.templates_files=[CKEDITOR.getUrl("plugins/templates/templates/default.js")],CKEDITOR.config.templates_replaceContent=!0,CKEDITOR.plugins.add("menu",{requires:"floatpanel",beforeInit:function(e){for(var t=e.config.menu_groups.split(","),n=e._.menuGroups={},i=e._.menuItems={},o=0;o<t.length;o++)n[t[o]]=o+1;e.addMenuGroup=function(e,t){n[e]=t||100},e.addMenuItem=function(e,t){n[t.group]&&(i[e]=new CKEDITOR.menuItem(this,e,t))},e.addMenuItems=function(e){for(var t in e)this.addMenuItem(t,e[t])},e.getMenuItem=function(e){return i[e]},e.removeMenuItem=function(e){delete i[e]}}}),function(){function p(e){e.sort(function(e,t){return e.group<t.group?-1:e.group>t.group?1:e.order<t.order?-1:e.order>t.order?1:0})}var e='<span class="cke_menuitem"><a id="{id}" class="cke_menubutton cke_menubutton__{name} cke_menubutton_{state} {cls}" href="{href}" title="{title}" tabindex="-1" _cke_focus=1 hidefocus="true" role="{role}" aria-label="{label}" aria-describedby="{id}_description" aria-haspopup="{hasPopup}" aria-disabled="{disabled}" {ariaChecked} draggable="false"';CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(e+=' onkeypress="return false;"'),CKEDITOR.env.gecko&&(e+=' onblur="this.style.cssText = this.style.cssText;" ondragstart="return false;"');e=e+' onmouseover="CKEDITOR.tools.callFunction({hoverFn},{index});" onmouseout="CKEDITOR.tools.callFunction({moveOutFn},{index});" '+(CKEDITOR.env.ie?'onclick="return false;" onmouseup':"onclick")+'="CKEDITOR.tools.callFunction({clickFn},{index}); return false;">';var f=CKEDITOR.addTemplate("menuItem",e+'<span class="cke_menubutton_inner"><span class="cke_menubutton_icon"><span class="cke_button_icon cke_button__{iconName}_icon" style="{iconStyle}"></span></span><span class="cke_menubutton_label">{label}</span>{shortcutHtml}{arrowHtml}</span></a><span id="{id}_description" class="cke_voice_label" aria-hidden="false">{ariaShortcut}</span></span>'),m=CKEDITOR.addTemplate("menuArrow",'<span class="cke_menuarrow"><span>{label}</span></span>'),g=CKEDITOR.addTemplate("menuShortcut",'<span class="cke_menubutton_label cke_menubutton_shortcut">{shortcut}</span>');CKEDITOR.menu=CKEDITOR.tools.createClass({$:function(e,t){t=this._.definition=t||{},this.id=CKEDITOR.tools.getNextId(),this.editor=e,this.items=[],this._.listeners=[],this._.level=t.level||1;var n=CKEDITOR.tools.extend({},t.panel,{css:[CKEDITOR.skin.getPath("editor")],level:this._.level-1,block:{}}),i=n.block.attributes=n.attributes||{};!i.role&&(i.role="menu"),this._.panelDefinition=n},_:{onShow:function(){var e=this.editor.getSelection(),t=e&&e.getStartElement(),n=this.editor.elementPath(),i=this._.listeners;this.removeAll();for(var o=0;o<i.length;o++){var r=i[o](t,e,n);if(r)for(var a in r){var s=this.editor.getMenuItem(a);!s||s.command&&!this.editor.getCommand(s.command).state||(s.state=r[a],this.add(s))}}},onClick:function(e){this.hide(),e.onClick?e.onClick():e.command&&this.editor.execCommand(e.command)},onEscape:function(e){var t=this.parent;return t?t._.panel.hideChild(1):27==e&&this.hide(1),!1},onHide:function(){this.onHide&&this.onHide()},showSubMenu:function(e){var t=this._.subMenu,n=this.items[e];if(n=n.getItems&&n.getItems()){for(var i in t?t.removeAll():((t=this._.subMenu=new CKEDITOR.menu(this.editor,CKEDITOR.tools.extend({},this._.definition,{level:this._.level+1},!0))).parent=this,t._.onClick=CKEDITOR.tools.bind(this._.onClick,this)),n){var o=this.editor.getMenuItem(i);o&&(o.state=n[i],t.add(o))}var r=this._.panel.getBlock(this.id).element.getDocument().getById(this.id+String(e));setTimeout(function(){t.show(r,2)},0)}else this._.panel.hideChild(1)}},proto:{add:function(e){e.order||(e.order=this.items.length),this.items.push(e)},removeAll:function(){this.items=[]},show:function(e,t,n,i){if(this.parent||(this._.onShow(),this.items.length)){t=t||("rtl"==this.editor.lang.dir?2:1);var o=this.items,r=this.editor,a=this._.panel,s=this._.element;if(!a)(a=this._.panel=new CKEDITOR.ui.floatPanel(this.editor,CKEDITOR.document.getBody(),this._.panelDefinition,this._.level)).onEscape=CKEDITOR.tools.bind(function(e){if(!1===this._.onEscape(e))return!1},this),a.onShow=function(){a._.panel.getHolderElement().getParent().addClass("cke").addClass("cke_reset_all")},a.onHide=CKEDITOR.tools.bind(function(){this._.onHide&&this._.onHide()},this),(s=a.addBlock(this.id,this._.panelDefinition.block)).autoSize=!0,(l=s.keys)[40]="next",l[9]="next",l[38]="prev",l[CKEDITOR.SHIFT+9]="prev",l["rtl"==r.lang.dir?37:39]=CKEDITOR.env.ie?"mouseup":"click",l[32]=CKEDITOR.env.ie?"mouseup":"click",CKEDITOR.env.ie&&(l[13]="mouseup"),(l=(s=this._.element=s.element).getDocument()).getBody().setStyle("overflow","hidden"),l.getElementsByTag("html").getItem(0).setStyle("overflow","hidden"),this._.itemOverFn=CKEDITOR.tools.addFunction(function(e){clearTimeout(this._.showSubTimeout),this._.showSubTimeout=CKEDITOR.tools.setTimeout(this._.showSubMenu,r.config.menu_subMenuDelay||400,this,[e])},this),this._.itemOutFn=CKEDITOR.tools.addFunction(function(){clearTimeout(this._.showSubTimeout)},this),this._.itemClickFn=CKEDITOR.tools.addFunction(function(e){var t=this.items[e];t.state==CKEDITOR.TRISTATE_DISABLED?this.hide(1):t.getItems?this._.showSubMenu(e):this._.onClick(t)},this);p(o);for(var l=['<div class="cke_menu'+((l=r.elementPath())&&l.direction()!=r.lang.dir?" cke_mixed_dir_content":"")+'" role="presentation">'],c=o.length,d=c&&o[0].group,u=0;u<c;u++){var h=o[u];d!=h.group&&(l.push('<div class="cke_menuseparator" role="separator"></div>'),d=h.group),h.render(this,u,l)}l.push("</div>"),s.setHtml(l.join("")),CKEDITOR.ui.fire("ready",this),this.parent?this.parent._.panel.showAsChild(a,this.id,e,t,n,i):a.showBlock(this.id,e,t,n,i),r.fire("menuShow",[a])}},addListener:function(e){this._.listeners.push(e)},hide:function(e){this._.onHide&&this._.onHide(),this._.panel&&this._.panel.hide(e)}}}),CKEDITOR.menuItem=CKEDITOR.tools.createClass({$:function(e,t,n){CKEDITOR.tools.extend(this,n,{order:0,className:"cke_menubutton__"+t}),this.group=e._.menuGroups[this.group],this.editor=e,this.name=t},proto:{render:function(e,t,n){var i,o,r=e.id+String(t),a="undefined"==typeof this.state?CKEDITOR.TRISTATE_OFF:this.state,s="",l=this.editor,c=a==CKEDITOR.TRISTATE_ON?"on":a==CKEDITOR.TRISTATE_DISABLED?"disabled":"off";this.role in{menuitemcheckbox:1,menuitemradio:1}&&(s=' aria-checked="'+(a==CKEDITOR.TRISTATE_ON?"true":"false")+'"');var d=this.getItems,u="&#"+("rtl"==this.editor.lang.dir?"9668":"9658")+";",h=this.name;this.icon&&!/\./.test(this.icon)&&(h=this.icon),this.command&&(i=l.getCommand(this.command),(i=l.getCommandKeystroke(i))&&(o=CKEDITOR.tools.keystrokeToString(l.lang.common.keyboard,i))),e={id:r,name:this.name,iconName:h,label:this.label,cls:this.className||"",state:c,hasPopup:d?"true":"false",disabled:a==CKEDITOR.TRISTATE_DISABLED,title:this.label+(o?" ("+o.display+")":""),ariaShortcut:o?l.lang.common.keyboardShortcut+" "+o.aria:"",href:"javascript:void('"+(this.label||"").replace("'")+"')",hoverFn:e._.itemOverFn,moveOutFn:e._.itemOutFn,clickFn:e._.itemClickFn,index:t,iconStyle:CKEDITOR.skin.getIconStyle(h,"rtl"==this.editor.lang.dir,h==this.icon?null:this.icon,this.iconOffset),shortcutHtml:o?g.output({shortcut:o.display}):"",arrowHtml:d?m.output({label:u}):"",role:this.role?this.role:"menuitem",ariaChecked:s},f.output(e,n)}}})}(),CKEDITOR.config.menu_groups="clipboard,form,tablecell,tablecellproperties,tablerow,tablecolumn,table,anchor,link,image,flash,checkbox,radio,textfield,hiddenfield,imagebutton,button,select,textarea,div",CKEDITOR.plugins.add("contextmenu",{requires:"menu",onLoad:function(){CKEDITOR.plugins.contextMenu=CKEDITOR.tools.createClass({base:CKEDITOR.menu,$:function(e){this.base.call(this,e,{panel:{className:"cke_menu_panel",attributes:{"aria-label":e.lang.contextmenu.options}}})},proto:{addTarget:function(e,a){if(e.on("contextmenu",function(e){e=e.data;var t=CKEDITOR.env.webkit?s:CKEDITOR.env.mac?e.$.metaKey:e.$.ctrlKey;if(!a||!t){if(e.preventDefault(),CKEDITOR.env.mac&&CKEDITOR.env.webkit){t=this.editor;(n=new CKEDITOR.dom.elementPath(e.getTarget(),t.editable()).contains(function(e){return e.hasAttribute("contenteditable")},!0))&&"false"==n.getAttribute("contenteditable")&&t.getSelection().fake(n)}var n=e.getTarget().getDocument(),i=e.getTarget().getDocument().getDocumentElement(),o=(t=!n.equals(CKEDITOR.document),n=n.getWindow().getScrollPosition(),t?e.$.clientX:e.$.pageX||n.x+e.$.clientX),r=t?e.$.clientY:e.$.pageY||n.y+e.$.clientY;CKEDITOR.tools.setTimeout(function(){this.open(i,null,o,r)},CKEDITOR.env.ie?200:0,this)}},this),CKEDITOR.env.webkit){var s,t=function(){s=0};e.on("keydown",function(e){s=CKEDITOR.env.mac?e.data.$.metaKey:e.data.$.ctrlKey}),e.on("keyup",t),e.on("contextmenu",t)}},open:function(e,t,n,i){!1!==this.editor.config.enableContextMenu&&(this.editor.focus(),e=e||CKEDITOR.document.getDocumentElement(),this.editor.selectionChange(1),this.show(e,t,n,i))}}})},beforeInit:function(e){var t=e.contextMenu=new CKEDITOR.plugins.contextMenu(e);e.on("contentDom",function(){t.addTarget(e.editable(),!1!==e.config.browserContextMenuOnCtrl)}),e.addCommand("contextMenu",{exec:function(){e.contextMenu.open(e.document.getBody())}}),e.setKeystroke(CKEDITOR.SHIFT+121,"contextMenu"),e.setKeystroke(CKEDITOR.CTRL+CKEDITOR.SHIFT+121,"contextMenu")}}),function(){function i(e){var t=(e=e.data)&&e.$;return!(!e||!t)&&(CKEDITOR.env.ie&&CKEDITOR.env.version<9?1===t.button:0===t.button)}function s(e,t,n,i){var o=new CKEDITOR.dom.walker(e);if(!(e=e.startContainer.getAscendant(t,!0)||e.endContainer.getAscendant(t,!0))||(n(e),!i))for(;(e=o.next())&&(!(e=e.getAscendant(t,!0))||(n(e),!i)););}function l(t,e){var n={ul:"ol",ol:"ul"};return-1!==h(e,function(e){return e.element===t||e.element===n[t]})}function e(e){this.styles=null,this.sticky=!1,this.editor=e,this.filter=new CKEDITOR.filter(e.config.copyFormatting_allowRules),!0===e.config.copyFormatting_allowRules&&(this.filter.disabled=!0),e.config.copyFormatting_disallowRules&&this.filter.disallow(e.config.copyFormatting_disallowRules)}var h=CKEDITOR.tools.indexOf,t=!1;CKEDITOR.plugins.add("copyformatting",{lang:"az,de,en,it,ja,nb,nl,oc,pl,pt-br,ru,sv,tr,zh,zh-cn",icons:"copyformatting",hidpi:!0,init:function(a){var s=CKEDITOR.plugins.copyformatting;s._addScreenReaderContainer(),t||(CKEDITOR.document.appendStyleSheet(this.path+"styles/copyformatting.css"),t=!0),a.addContentsCss&&a.addContentsCss(this.path+"styles/copyformatting.css"),a.copyFormatting=new s.state(a),a.addCommand("copyFormatting",s.commands.copyFormatting),a.addCommand("applyFormatting",s.commands.applyFormatting),a.ui.addButton("CopyFormatting",{label:a.lang.copyformatting.label,command:"copyFormatting",toolbar:"cleanup,0"}),a.on("contentDom",function(){var n=a.editable(),e=n.isInline()?n:a.document,t=a.ui.get("CopyFormatting");n.attachListener(e,"mouseup",function(e){i(e)&&a.execCommand("applyFormatting")}),n.attachListener(CKEDITOR.document,"mouseup",function(e){var t=a.getCommand("copyFormatting");i(e)&&t.state===CKEDITOR.TRISTATE_ON&&!n.contains(e.data.getTarget())&&a.execCommand("copyFormatting")}),t&&(e=CKEDITOR.document.getById(t._.id),n.attachListener(e,"dblclick",function(){a.execCommand("copyFormatting",{sticky:!0})}),n.attachListener(e,"mouseup",function(e){e.data.stopPropagation()}))}),a.config.copyFormatting_keystrokeCopy&&a.setKeystroke(a.config.copyFormatting_keystrokeCopy,"copyFormatting"),a.on("key",function(e){var t=a.getCommand("copyFormatting");(e=e.data.domEvent).getKeystroke&&27===e.getKeystroke()&&t.state===CKEDITOR.TRISTATE_ON&&a.execCommand("copyFormatting")}),a.copyFormatting.on("extractFormatting",function(e){var t=e.data.element;return t.contains(a.editable())||t.equals(a.editable())?e.cancel():(t=s._convertElementToStyleDef(t),a.copyFormatting.filter.check(new CKEDITOR.style(t),!0,!0)?void(e.data.styleDef=t):e.cancel())}),a.copyFormatting.on("applyFormatting",function(e){if(!e.data.preventFormatStripping){var t,n,i=e.data.range,o=s._extractStylesFromRange(a,i),r=s._determineContext(i);if(a.copyFormatting._isContextAllowed(r))for(n=0;n<o.length;n++)r=o[n],t=i.createBookmark(),-1===h(s.preservedElements,r.element)?CKEDITOR.env.webkit&&!CKEDITOR.env.chrome?o[n].removeFromRange(e.data.range,e.editor):o[n].remove(e.editor):l(r.element,e.data.styles)&&s._removeStylesFromElementInRange(i,r.element),i.moveToBookmark(t)}}),a.copyFormatting.on("applyFormatting",function(e){var t=CKEDITOR.plugins.copyformatting,n=t._determineContext(e.data.range);"list"===n&&a.copyFormatting._isContextAllowed("list")?t._applyStylesToListContext(e.editor,e.data.range,e.data.styles):"table"===n&&a.copyFormatting._isContextAllowed("table")?t._applyStylesToTableContext(e.editor,e.data.range,e.data.styles):a.copyFormatting._isContextAllowed("text")&&t._applyStylesToTextContext(e.editor,e.data.range,e.data.styles)},null,null,999)}}),e.prototype._isContextAllowed=function(e){var t=this.editor.config.copyFormatting_allowedContexts;return!0===t||-1!==h(t,e)},CKEDITOR.event.implementOn(e.prototype),CKEDITOR.plugins.copyformatting={state:e,inlineBoundary:"h1 h2 h3 h4 h5 h6 p div".split(" "),excludedAttributes:["id","style","href","data-cke-saved-href","dir"],elementsForInlineTransform:["li"],excludedElementsFromInlineTransform:["table","thead","tbody","ul","ol"],excludedAttributesFromInlineTransform:["value","type"],preservedElements:"ul ol li td th tr thead tbody table".split(" "),breakOnElements:["ul","ol","table"],_initialKeystrokePasteCommand:null,commands:{copyFormatting:{exec:function(e,t){var n=CKEDITOR.plugins.copyformatting,i=e.copyFormatting,o=!!t&&"keystrokeHandler"==t.from,r=!!t&&(t.sticky||o),a=n._getCursorContainer(e),s=CKEDITOR.document.getDocumentElement();if(this.state===CKEDITOR.TRISTATE_ON)return i.styles=null,i.sticky=!1,a.removeClass("cke_copyformatting_active"),s.removeClass("cke_copyformatting_disabled"),s.removeClass("cke_copyformatting_tableresize_cursor"),n._putScreenReaderMessage(e,"canceled"),n._detachPasteKeystrokeHandler(e),this.setState(
CKEDITOR.TRISTATE_OFF);i.styles=n._extractStylesFromElement(e,e.elementPath().lastElement),this.setState(CKEDITOR.TRISTATE_ON),o||(a.addClass("cke_copyformatting_active"),s.addClass("cke_copyformatting_tableresize_cursor"),e.config.copyFormatting_outerCursor&&s.addClass("cke_copyformatting_disabled")),i.sticky=r,n._putScreenReaderMessage(e,"copied"),n._attachPasteKeystrokeHandler(e)}},applyFormatting:{editorFocus:!1,exec:function(e,t){var n=e.getCommand("copyFormatting"),i=!!t&&"keystrokeHandler"==t.from,o=CKEDITOR.plugins.copyformatting,r=e.copyFormatting,a=o._getCursorContainer(e),s=CKEDITOR.document.getDocumentElement();if(i||n.state===CKEDITOR.TRISTATE_ON){if(i&&!r.styles)return o._putScreenReaderMessage(e,"failed"),o._detachPasteKeystrokeHandler(e),!1;i=o._applyFormat(e,r.styles),r.sticky||(r.styles=null,a.removeClass("cke_copyformatting_active"),s.removeClass("cke_copyformatting_disabled"),s.removeClass("cke_copyformatting_tableresize_cursor"),n.setState(CKEDITOR.TRISTATE_OFF),o._detachPasteKeystrokeHandler(e)),o._putScreenReaderMessage(e,i?"applied":"canceled")}}}},_getCursorContainer:function(e){return e.elementMode===CKEDITOR.ELEMENT_MODE_INLINE?e.editable():e.editable().getParent()},_convertElementToStyleDef:function(e){var t=CKEDITOR.tools,n=e.getAttributes(CKEDITOR.plugins.copyformatting.excludedAttributes);t=t.parseCssText(e.getAttribute("style"),!0,!0);return{element:e.getName(),type:CKEDITOR.STYLE_INLINE,attributes:n,styles:t}},_extractStylesFromElement:function(e,t){var n={},i=[];do{if(t.type===CKEDITOR.NODE_ELEMENT&&!t.hasAttribute("data-cke-bookmark")&&(n.element=t,e.copyFormatting.fire("extractFormatting",n,e)&&n.styleDef&&i.push(new CKEDITOR.style(n.styleDef)),t.getName&&-1!==h(CKEDITOR.plugins.copyformatting.breakOnElements,t.getName())))break}while((t=t.getParent())&&t.type===CKEDITOR.NODE_ELEMENT);return i},_extractStylesFromRange:function(e,t){for(var n,i=[],o=new CKEDITOR.dom.walker(t);n=o.next();)i=i.concat(CKEDITOR.plugins.copyformatting._extractStylesFromElement(e,n));return i},_removeStylesFromElementInRange:function(e,t){for(var n,i=-1!==h(["ol","ul","table"],t),o=new CKEDITOR.dom.walker(e);(n=o.next())&&(!(n=n.getAscendant(t,!0))||(n.removeAttributes(n.getAttributes()),!i)););},_getSelectedWordOffset:function(e){function c(e,t){return e[t?"getPrevious":"getNext"](function(e){return e.type!==CKEDITOR.NODE_COMMENT})}function d(e){return e.type==CKEDITOR.NODE_ELEMENT?(e=e.getHtml().replace(/<span.*?>&nbsp;<\/span>/g,"")).replace(/<.*?>/g,""):e.getText()}function u(e,t){var n,i,o=e,r=/\s/g,a="p br ol ul li td th div caption body".split(" "),s=!1,l=!1;do{for(n=c(o,t);!n&&o.getParent();){if(o=o.getParent(),-1!==h(a,o.getName())){l=s=!0;break}n=c(o,t)}if(n&&n.getName&&-1!==h(a,n.getName())){s=!0;break}o=n}while(o&&o.getStyle&&("none"==o.getStyle("display")||!o.getText()));for(o||(o=e);o.type!==CKEDITOR.NODE_TEXT;)o=!s||t||l?o.getChild(0):o.getChild(o.getChildCount()-1);for(a=d(o);null!=(l=r.exec(a))&&(i=l.index,t););if("number"!=typeof i&&!s)return u(o,t);if(s)i=t?0:(l=(r=/([\.\b]*$)/).exec(a))?l.index:a.length;else if(t&&(i+=1)>a.length)return u(o);return{node:o,offset:i}}var t,n,i,o,r,a=/\b\w+\b/gi;for(t=d(i=o=r=e.startContainer);null!=(n=a.exec(t));)if(n.index+n[0].length>=e.startOffset)return e=n.index,a=n.index+n[0].length,0===n.index&&(o=(n=u(i,!0)).node,e=n.offset),a>=t.length&&(r=(t=u(i)).node,a=t.offset),{startNode:o,startOffset:e,endNode:r,endOffset:a};return null},_filterStyles:function(e){var t,n,i=CKEDITOR.tools.isEmpty,o=[];for(n=0;n<e.length;n++)t=e[n]._.definition,-1!==CKEDITOR.tools.indexOf(CKEDITOR.plugins.copyformatting.inlineBoundary,t.element)&&(t.element=e[n].element="span"),"span"===t.element&&i(t.attributes)&&i(t.styles)||o.push(e[n]);return o},_determineContext:function(i){function e(e){var t,n=new CKEDITOR.dom.walker(i);if(i.startContainer.getAscendant(e,!0)||i.endContainer.getAscendant(e,!0))return!0;for(;t=n.next();)if(t.getAscendant(e,!0))return!0}return e({ul:1,ol:1})?"list":e("table")?"table":"text"},_applyStylesToTextContext:function(e,t,n){var i,o,r=CKEDITOR.plugins.copyformatting,a=r.excludedAttributesFromInlineTransform;for(CKEDITOR.env.webkit&&!CKEDITOR.env.chrome&&e.getSelection().selectRanges([t]),i=0;i<n.length;i++)if(t=n[i],-1===h(r.excludedElementsFromInlineTransform,t.element)){if(-1!==h(r.elementsForInlineTransform,t.element))for(t.element=t._.definition.element="span",o=0;o<a.length;o++)t._.definition.attributes[a[o]]&&delete t._.definition.attributes[a[o]];t.apply(e)}},_applyStylesToListContext:function(e,t,n){var i,o,r;for(r=0;r<n.length;r++)i=n[r],o=t.createBookmark(),"ol"===i.element||"ul"===i.element?s(t,{ul:1,ol:1},function(e){var t=i;e.getName()!==t.element&&e.renameNode(t.element),t.applyToObject(e)},!0):"li"===i.element?s(t,"li",function(e){i.applyToObject(e)}):CKEDITOR.plugins.copyformatting._applyStylesToTextContext(e,t,[i]),t.moveToBookmark(o)},_applyStylesToTableContext:function(e,t,n){function i(e,t){e.getName()!==t.element&&((t=t.getDefinition()).element=e.getName(),t=new CKEDITOR.style(t)),t.applyToObject(e)}var o,r,a;for(a=0;a<n.length;a++)o=n[a],r=t.createBookmark(),-1!==h(["table","tr"],o.element)?s(t,o.element,function(e){o.applyToObject(e)}):-1!==h(["td","th"],o.element)?s(t,{td:1,th:1},function(e){i(e,o)}):-1!==h(["thead","tbody"],o.element)?s(t,{thead:1,tbody:1},function(e){i(e,o)}):CKEDITOR.plugins.copyformatting._applyStylesToTextContext(e,t,[o]),t.moveToBookmark(r)},_applyFormat:function(e,t){var n,i,o=e.getSelection().getRanges()[0],r=CKEDITOR.plugins.copyformatting;if(!o)return!1;if(o.collapsed){if(i=e.getSelection().createBookmarks(),!(n=r._getSelectedWordOffset(o)))return;(o=e.createRange()).setStart(n.startNode,n.startOffset),o.setEnd(n.endNode,n.endOffset),o.select()}return t=r._filterStyles(t),!!e.copyFormatting.fire("applyFormatting",{styles:t,range:o,preventFormatStripping:!1},e)&&(i&&e.getSelection().selectBookmarks(i),!0)},_putScreenReaderMessage:function(e,t){var n=this._getScreenReaderContainer();n&&n.setText(e.lang.copyformatting.notification[t])},_addScreenReaderContainer:function(){return this._getScreenReaderContainer()?this._getScreenReaderContainer():CKEDITOR.env.ie6Compat||CKEDITOR.env.ie7Compat?void 0:CKEDITOR.document.getBody().append(CKEDITOR.dom.element.createFromHtml('<div class="cke_screen_reader_only cke_copyformatting_notification"><div aria-live="polite"></div></div>')).getChild(0)},_getScreenReaderContainer:function(){if(!CKEDITOR.env.ie6Compat&&!CKEDITOR.env.ie7Compat)return CKEDITOR.document.getBody().findOne(".cke_copyformatting_notification div[aria-live]")},_attachPasteKeystrokeHandler:function(e){var t=e.config.copyFormatting_keystrokePaste;t&&(this._initialKeystrokePasteCommand=e.keystrokeHandler.keystrokes[t],e.setKeystroke(t,"applyFormatting"))},_detachPasteKeystrokeHandler:function(e){var t=e.config.copyFormatting_keystrokePaste;t&&e.setKeystroke(t,this._initialKeystrokePasteCommand||!1)}},CKEDITOR.config.copyFormatting_outerCursor=!0,CKEDITOR.config.copyFormatting_allowRules="b s u i em strong span p div td th ol ul li(*)[*]{*}",CKEDITOR.config.copyFormatting_disallowRules="*[data-cke-widget*,data-widget*,data-cke-realelement](cke_widget*)",CKEDITOR.config.copyFormatting_allowedContexts=!0,CKEDITOR.config.copyFormatting_keystrokeCopy=CKEDITOR.CTRL+CKEDITOR.SHIFT+67,CKEDITOR.config.copyFormatting_keystrokePaste=CKEDITOR.CTRL+CKEDITOR.SHIFT+86}(),CKEDITOR.plugins.add("div",{requires:"dialog",init:function(t){if(!t.blockless){var e=t.lang.div,n="div(*)";CKEDITOR.dialog.isTabEnabled(t,"editdiv","advanced")&&(n+=";div[dir,id,lang,title]{*}"),t.addCommand("creatediv",new CKEDITOR.dialogCommand("creatediv",{allowedContent:n,requiredContent:"div",contextSensitive:!0,contentTransformations:[["div: alignmentToStyle"]],refresh:function(e,t){this.setState("div"in(e.config.div_wrapTable?t.root:t.blockLimit).getDtd()?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)}})),t.addCommand("editdiv",new CKEDITOR.dialogCommand("editdiv",{requiredContent:"div"})),t.addCommand("removediv",{requiredContent:"div",exec:function(t){function e(e){(e=CKEDITOR.plugins.div.getSurroundDiv(t,e))&&!e.data("cke-div-added")&&(a.push(e),e.data("cke-div-added"))}for(var n,i=t.getSelection(),o=i&&i.getRanges(),r=i.createBookmarks(),a=[],s=0;s<o.length;s++)(n=o[s]).collapsed?e(i.getStartElement()):((n=new CKEDITOR.dom.walker(n)).evaluator=e,n.lastForward());for(s=0;s<a.length;s++)a[s].remove(!0);i.selectBookmarks(r)}}),t.ui.addButton&&t.ui.addButton("CreateDiv",{label:e.toolbar,command:"creatediv",toolbar:"blocks,50"}),t.addMenuItems&&(t.addMenuItems({editdiv:{label:e.edit,command:"editdiv",group:"div",order:1},removediv:{label:e.remove,command:"removediv",group:"div",order:5}}),t.contextMenu&&t.contextMenu.addListener(function(e){return!e||e.isReadOnly()?null:CKEDITOR.plugins.div.getSurroundDiv(t)?{editdiv:CKEDITOR.TRISTATE_OFF,removediv:CKEDITOR.TRISTATE_OFF}:null})),CKEDITOR.dialog.add("creatediv",this.path+"dialogs/div.js"),CKEDITOR.dialog.add("editdiv",this.path+"dialogs/div.js")}}}),CKEDITOR.plugins.div={getSurroundDiv:function(e,t){var n=e.elementPath(t);return e.elementPath(n.blockLimit).contains(function(e){return e.is("div")&&!e.isReadOnly()},1)}},CKEDITOR.plugins.add("resize",{init:function(o){function t(e){var t=l.width,n=l.height,i=t+(e.data.$.screenX-s.x)*("rtl"==a?-1:1);e=n+(e.data.$.screenY-s.y),d&&(t=Math.max(r.resize_minWidth,Math.min(i,r.resize_maxWidth))),u&&(n=Math.max(r.resize_minHeight,Math.min(e,r.resize_maxHeight))),o.resize(d?t:null,n)}function n(){CKEDITOR.document.removeListener("mousemove",t),CKEDITOR.document.removeListener("mouseup",n),o.document&&(o.document.removeListener("mousemove",t),o.document.removeListener("mouseup",n))}var r=o.config,i=o.ui.spaceId("resizer"),a=o.element?o.element.getDirection(1):"ltr";if(!r.resize_dir&&(r.resize_dir="vertical"),void 0===r.resize_maxWidth&&(r.resize_maxWidth=3e3),void 0===r.resize_maxHeight&&(r.resize_maxHeight=3e3),void 0===r.resize_minWidth&&(r.resize_minWidth=750),void 0===r.resize_minHeight&&(r.resize_minHeight=250),!1!==r.resize_enabled){var s,l,c=null,d=("both"==r.resize_dir||"horizontal"==r.resize_dir)&&r.resize_minWidth!=r.resize_maxWidth,u=("both"==r.resize_dir||"vertical"==r.resize_dir)&&r.resize_minHeight!=r.resize_maxHeight,h=CKEDITOR.tools.addFunction(function(e){c||(c=o.getResizable()),l={width:c.$.offsetWidth||0,height:c.$.offsetHeight||0},s={x:e.screenX,y:e.screenY},r.resize_minWidth>l.width&&(r.resize_minWidth=l.width),r.resize_minHeight>l.height&&(r.resize_minHeight=l.height),CKEDITOR.document.on("mousemove",t),CKEDITOR.document.on("mouseup",n),o.document&&(o.document.on("mousemove",t),o.document.on("mouseup",n)),e.preventDefault&&e.preventDefault()});o.on("destroy",function(){CKEDITOR.tools.removeFunction(h)}),o.on("uiSpace",function(e){if("bottom"==e.data.space){var t="";d&&!u&&(t=" cke_resizer_horizontal"),!d&&u&&(t=" cke_resizer_vertical");var n='<span id="'+i+'" class="cke_resizer'+t+" cke_resizer_"+a+'" title="'+CKEDITOR.tools.htmlEncode(o.lang.common.resize)+'" onmousedown="CKEDITOR.tools.callFunction('+h+', event)">'+("ltr"==a?"\u25e2":"\u25e3")+"</span>";"ltr"==a&&"ltr"==t?e.data.html+=n:e.data.html=n+e.data.html}},o,null,100),o.on("maximize",function(e){o.ui.space("resizer")[e.data==CKEDITOR.TRISTATE_ON?"hide":"show"]()})}}}),function(){function n(h,e){function o(e){var t;(e=m.list[e]).equals(h.editable())||"true"==e.getAttribute("contenteditable")?((t=h.createRange()).selectNodeContents(e),t=t.select()):(t=h.getSelection()).selectElement(e),CKEDITOR.env.ie&&h.fire("selectionChange",{selection:t,path:new CKEDITOR.dom.elementPath(e)}),h.focus()}function t(){p&&p.setHtml('<span class="cke_path_empty">&nbsp;</span>'),delete m.list}var p,f=h.ui.spaceId("path"),m=h._.elementsPath,g=m.idBase;e.html+='<span id="'+f+'_label" class="cke_voice_label">'+h.lang.elementspath.eleLabel+'</span><span id="'+f+'" class="cke_path" role="group" aria-labelledby="'+f+'_label"><span class="cke_path_empty">&nbsp;</span></span>',h.on("uiReady",function(){var e=h.ui.space("path");e&&h.focusManager.add(e,1)}),m.onClick=o;var v=CKEDITOR.tools.addFunction(o),T=CKEDITOR.tools.addFunction(function(e,t){var n,i=m.idBase;switch(t=new CKEDITOR.dom.event(t),n="rtl"==h.lang.dir,t.getKeystroke()){case n?39:37:case 9:return(n=CKEDITOR.document.getById(i+(e+1)))||(n=CKEDITOR.document.getById(i+"0")),n.focus(),!1;case n?37:39:case CKEDITOR.SHIFT+9:return(n=CKEDITOR.document.getById(i+(e-1)))||(n=CKEDITOR.document.getById(i+(m.list.length-1))),n.focus(),!1;case 27:return h.focus(),!1;case 13:case 32:return o(e),!1}return!0});h.on("selectionChange",function(){for(var e,t=[],n=m.list=[],i=[],o=m.filters,r=!0,a=h.elementPath().elements,s=a.length;s--;){var l=a[s],c=0;e=l.data("cke-display-name")?l.data("cke-display-name"):l.data("cke-real-element-type")?l.data("cke-real-element-type"):l.getName(),(r=l.hasAttribute("contenteditable")?"true"==l.getAttribute("contenteditable"):r)||l.hasAttribute("contenteditable")||(c=1);for(var d=0;d<o.length;d++){var u=o[d](l,e);if(!1===u){c=1;break}e=u||e}c||(n.unshift(l),i.unshift(e))}for(n=n.length,o=0;o<n;o++)e=i[o],r=h.lang.elementspath.eleTitle.replace(/%1/,e),e=y.output({id:g+o,label:r,text:e,jsTitle:"javascript:void('"+e+"')",index:o,keyDownFn:T,clickFn:v}),t.unshift(e);p||(p=CKEDITOR.document.getById(f)),(i=p).setHtml(t.join("")+'<span class="cke_path_empty">&nbsp;</span>'),h.fire("elementsPathUpdate",{space:i})}),h.on("readOnly",t),h.on("contentDomUnload",t),h.addCommand("elementsPathFocus",i.toolbarFocus),h.setKeystroke(CKEDITOR.ALT+122,"elementsPathFocus")}var i={toolbarFocus:{editorFocus:!1,readOnly:1,exec:function(e){(e=CKEDITOR.document.getById(e._.elementsPath.idBase+"0"))&&e.focus(CKEDITOR.env.ie||CKEDITOR.env.air)}}},e="";CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(e+=' onkeypress="return false;"'),CKEDITOR.env.gecko&&(e+=' onblur="this.style.cssText = this.style.cssText;"');var y=CKEDITOR.addTemplate("pathItem",'<a id="{id}" href="{jsTitle}" tabindex="-1" class="cke_path_item" title="{label}"'+e+' hidefocus="true"  onkeydown="return CKEDITOR.tools.callFunction({keyDownFn},{index}, event );" onclick="CKEDITOR.tools.callFunction({clickFn},{index}); return false;" role="button" aria-label="{label}">{text}</a>');CKEDITOR.plugins.add("elementspath",{init:function(t){t._.elementsPath={idBase:"cke_elementspath_"+CKEDITOR.tools.getNextNumber()+"_",filters:[]},t.on("uiSpace",function(e){"bottom"==e.data.space&&n(t,e.data)})}})}(),function(){function t(e,t,n){if(n=e.config.forceEnterMode||n,"wysiwyg"==e.mode){t||(t=e.activeEnterMode);var i=e.elementPath();i&&!i.isContextFor("p")&&(t=CKEDITOR.ENTER_BR,n=1),e.fire("saveSnapshot"),t==CKEDITOR.ENTER_BR?y(e,t,null,n):c(e,t,null,n),e.fire("saveSnapshot")}}function m(e){for(var t=(e=e.getSelection().getRanges(!0)).length-1;0<t;t--)e[t].deleteContents();return e[0]}function g(e){var t=e.startContainer.getAscendant(function(e){return e.type==CKEDITOR.NODE_ELEMENT&&"true"==e.getAttribute("contenteditable")},!0);return e.root.equals(t)?e:((t=new CKEDITOR.dom.range(t)).moveToRange(e),t)}CKEDITOR.plugins.add("enterkey",{init:function(e){e.addCommand("enter",{modes:{wysiwyg:1},editorFocus:!1,exec:function(e){t(e)}}),e.addCommand("shiftEnter",{modes:{wysiwyg:1},editorFocus:!1,exec:function(e){t(e,e.activeShiftEnterMode,1)}}),e.setKeystroke([[13,"enter"],[CKEDITOR.SHIFT+13,"shiftEnter"]])}});var v=CKEDITOR.dom.walker.whitespaces(),T=CKEDITOR.dom.walker.bookmark();CKEDITOR.plugins.enterkey={enterBlock:function(e,t,n,i){if(n=n||m(e)){var o,r=(n=g(n)).document,a=n.checkStartOfBlock(),s=n.checkEndOfBlock(),l=e.elementPath(n.startContainer),c=l.block,d=t==CKEDITOR.ENTER_DIV?"div":"p";if(a&&s){if(c&&(c.is("li")||c.getParent().is("li"))){c.is("li")||(c=c.getParent()),o=(n=c.getParent()).getParent(),i=!c.hasPrevious();var u=!c.hasNext(),h=(d=e.getSelection()).createBookmarks(),p=(a=c.getDirection(1),s=c.getAttribute("class"),c.getAttribute("style")),f=o.getDirection(1)!=a;if(e=e.enterMode!=CKEDITOR.ENTER_BR||f||p||s,o.is("li"))i||u?(i&&u&&n.remove(),c[u?"insertAfter":"insertBefore"](o)):c.breakParent(o);else{if(e)l.block.is("li")?(o=r.createElement(t==CKEDITOR.ENTER_P?"p":"div"),f&&o.setAttribute("dir",a),p&&o.setAttribute("style",p),s&&o.setAttribute("class",s),c.moveChildren(o)):o=l.block,i||u?o[i?"insertBefore":"insertAfter"](n):(c.breakParent(n),o.insertAfter(n));else if(c.appendBogus(!0),i||u)for(;r=c[i?"getFirst":"getLast"]();)r[i?"insertBefore":"insertAfter"](n);else for(c.breakParent(n);r=c.getLast();)r.insertAfter(n);c.remove()}return void d.selectBookmarks(h)}if(c&&c.getParent().is("blockquote"))return c.breakParent(c.getParent()),c.getPrevious().getFirst(CKEDITOR.dom.walker.invisible(1))||c.getPrevious().remove(),c.getNext().getFirst(CKEDITOR.dom.walker.invisible(1))||c.getNext().remove(),n.moveToElementEditStart(c),void n.select()}else if(c&&c.is("pre")&&!s)return void y(e,t,n,i);if(a=n.splitBlock(d)){if(t=a.previousBlock,c=a.nextBlock,l=a.wasStartOfBlock,e=a.wasEndOfBlock,c?(h=c.getParent()).is("li")&&(c.breakParent(h),c.move(c.getNext(),1)):t&&(h=t.getParent())&&h.is("li")&&(t.breakParent(h),h=t.getNext(),n.moveToElementEditStart(h),t.move(t.getPrevious())),l||e){if(t?(t.is("li")||!E.test(t.getName())&&!t.is("pre"))&&(o=t.clone()):c&&(o=c.clone()),o?i&&!o.is("li")&&o.renameNode(d):h&&h.is("li")?o=h:(o=r.createElement(d),t&&(u=t.getDirection())&&o.setAttribute("dir",u)),r=a.elementPath)for(i=0,d=r.elements.length;i<d&&(!(h=r.elements[i]).equals(r.block)&&!h.equals(r.blockLimit));i++)CKEDITOR.dtd.$removeEmpty[h.getName()]&&(h=h.clone(),o.moveChildren(h),o.append(h));o.appendBogus(),o.getParent()||n.insertNode(o),o.is("li")&&o.removeAttribute("value"),!CKEDITOR.env.ie||!l||e&&t.getChildCount()||(n.moveToElementEditStart(e?t:o),n.select()),n.moveToElementEditStart(l&&!e?c:o)}else c.is("li")&&((o=n.clone()).selectNodeContents(c),(o=new CKEDITOR.dom.walker(o)).evaluator=function(e){return!(T(e)||v(e)||e.type==CKEDITOR.NODE_ELEMENT&&e.getName()in CKEDITOR.dtd.$inline&&!(e.getName()in CKEDITOR.dtd.$empty))},(h=o.next())&&h.type==CKEDITOR.NODE_ELEMENT&&h.is("ul","ol")&&(CKEDITOR.env.needsBrFiller?r.createElement("br"):r.createText("\xa0")).insertBefore(h)),c&&n.moveToElementEditStart(c);n.select(),n.scrollIntoView()}}},enterBr:function(e,t,n,i){if(n=n||m(e)){var o=n.document,r=n.checkEndOfBlock(),a=new CKEDITOR.dom.elementPath(e.getSelection().getStartElement()),s=a.block,l=s&&a.block.getName();i||"li"!=l?(!i&&r&&E.test(l)?(r=s.getDirection())?((o=o.createElement("div")).setAttribute("dir",r),o.insertAfter(s),n.setStart(o,0)):(o.createElement("br").insertAfter(s),CKEDITOR.env.gecko&&o.createText("").insertAfter(s),n.setStartAt(s.getNext(),CKEDITOR.env.ie?CKEDITOR.POSITION_BEFORE_START:CKEDITOR.POSITION_AFTER_START)):(e="pre"==l&&CKEDITOR.env.ie&&CKEDITOR.env.version<8?o.createText("\r"):o.createElement("br"),n.deleteContents(),n.insertNode(e),CKEDITOR.env.needsBrFiller?(o.createText("\ufeff").insertAfter(e),r&&(s||a.blockLimit).appendBogus(),e.getNext().$.nodeValue="",n.setStartAt(e.getNext(),CKEDITOR.POSITION_AFTER_START)):n.setStartAt(e,CKEDITOR.POSITION_AFTER_END)),n.collapse(!0),n.select(),n.scrollIntoView()):c(e,t,n,i)}}};var e=CKEDITOR.plugins.enterkey,y=e.enterBr,c=e.enterBlock,E=/^h[1-6]$/}(),function(){function c(e,i){var o={},r=[],a={nbsp:"\xa0",shy:"\xad",gt:">",lt:"<",amp:"&",apos:"'",quot:'"'};if(e=e.replace(/\b(nbsp|shy|gt|lt|amp|apos|quot)(?:,|$)/g,function(e,t){var n=i?"&"+t+";":a[t];return o[n]=i?a[t]:"&"+t+";",r.push(n),""}),!i&&e){e=e.split(",");var t,n=document.createElement("div");for(n.innerHTML="&"+e.join(";&")+";",t=n.innerHTML,n=null,n=0;n<t.length;n++){var s=t.charAt(n);o[s]="&"+e[n]+";",r.push(s)}}return o.regex=r.join(i?"|":""),o}CKEDITOR.plugins.add("entities",{afterInit:function(e){function t(e){return s[e]}function n(e){return"force"!=i.entities_processNumerical&&r[e]?r[e]:"&#"+e.charCodeAt(0)+";"}var i=e.config;if(e=(e=e.dataProcessor)&&e.htmlFilter){var o=[];!1!==i.basicEntities&&o.push("nbsp,gt,lt,amp"),i.entities&&(o.length&&o.push("quot,iexcl,cent,pound,curren,yen,brvbar,sect,uml,copy,ordf,laquo,not,shy,reg,macr,deg,plusmn,sup2,sup3,acute,micro,para,middot,cedil,sup1,ordm,raquo,frac14,frac12,frac34,iquest,times,divide,fnof,bull,hellip,prime,Prime,oline,frasl,weierp,image,real,trade,alefsym,larr,uarr,rarr,darr,harr,crarr,lArr,uArr,rArr,dArr,hArr,forall,part,exist,empty,nabla,isin,notin,ni,prod,sum,minus,lowast,radic,prop,infin,ang,and,or,cap,cup,int,there4,sim,cong,asymp,ne,equiv,le,ge,sub,sup,nsub,sube,supe,oplus,otimes,perp,sdot,lceil,rceil,lfloor,rfloor,lang,rang,loz,spades,clubs,hearts,diams,circ,tilde,ensp,emsp,thinsp,zwnj,zwj,lrm,rlm,ndash,mdash,lsquo,rsquo,sbquo,ldquo,rdquo,bdquo,dagger,Dagger,permil,lsaquo,rsaquo,euro"),i.entities_latin&&o.push("Agrave,Aacute,Acirc,Atilde,Auml,Aring,AElig,Ccedil,Egrave,Eacute,Ecirc,Euml,Igrave,Iacute,Icirc,Iuml,ETH,Ntilde,Ograve,Oacute,Ocirc,Otilde,Ouml,Oslash,Ugrave,Uacute,Ucirc,Uuml,Yacute,THORN,szlig,agrave,aacute,acirc,atilde,auml,aring,aelig,ccedil,egrave,eacute,ecirc,euml,igrave,iacute,icirc,iuml,eth,ntilde,ograve,oacute,ocirc,otilde,ouml,oslash,ugrave,uacute,ucirc,uuml,yacute,thorn,yuml,OElig,oelig,Scaron,scaron,Yuml"),i.entities_greek&&o.push("Alpha,Beta,Gamma,Delta,Epsilon,Zeta,Eta,Theta,Iota,Kappa,Lambda,Mu,Nu,Xi,Omicron,Pi,Rho,Sigma,Tau,Upsilon,Phi,Chi,Psi,Omega,alpha,beta,gamma,delta,epsilon,zeta,eta,theta,iota,kappa,lambda,mu,nu,xi,omicron,pi,rho,sigmaf,sigma,tau,upsilon,phi,chi,psi,omega,thetasym,upsih,piv"),i.entities_additional&&o.push(i.entities_additional));var r=c(o.join(",")),a=r.regex?"["+r.regex+"]":"a^";delete r.regex,i.entities&&i.entities_processNumerical&&(a="[^ -~]|"+a);a=new RegExp(a,"g");var s=c("nbsp,gt,lt,amp,shy",!0),l=new RegExp(s.regex,"g");e.addRules({text:function(e){return e.replace(l,t).replace(a,n)}},{applyToAll:!0,excludeNestedEditable:!0})}}})}(),CKEDITOR.config.basicEntities=!0,CKEDITOR.config.entities=!0,CKEDITOR.config.entities_latin=!0,CKEDITOR.config.entities_greek=!0,CKEDITOR.config.entities_additional="#39",CKEDITOR.plugins.add("popup"),CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{popup:function(e,t,n,i){n=n||"70%","string"==typeof(t=t||"80%")&&1<t.length&&"%"==t.substr(t.length-1,1)&&(t=parseInt(window.screen.width*parseInt(t,10)/100,10)),"string"==typeof n&&1<n.length&&"%"==n.substr(n.length-1,1)&&(n=parseInt(window.screen.height*parseInt(n,10)/100,10)),t<640&&(t=640),n<420&&(n=420);var o=parseInt((window.screen.height-n)/2,10),r=parseInt((window.screen.width-t)/2,10);i=(i||"location=no,menubar=no,toolbar=no,dependent=yes,minimizable=no,modal=yes,alwaysRaised=yes,resizable=yes,scrollbars=yes")+",width="+t+",height="+n+",top="+o+",left="+r;var a=window.open("",null,i,!0);if(!a)return!1;try{-1==navigator.userAgent.toLowerCase().indexOf(" chrome/")&&(a.moveTo(r,o),a.resizeTo(t,n)),a.focus(),a.location.href=e}catch(s){window.open(e,null,i,!0)}return!0}}),function(){function o(e,t){var n=[];if(!t)return e;for(var i in t)n.push(i+"="+encodeURIComponent(t[i]));return e+(-1!=e.indexOf("?")?"&":"?")+n.join("&")}function l(e){return(e+="").charAt(0).toUpperCase()+e.substr(1)}function c(){var e=(n=this.getDialog()).getParentEditor();e._.filebrowserSe=this;var t=e.config["filebrowser"+l(n.getName())+"WindowWidth"]||e.config.filebrowserWindowWidth||"80%",n=e.config["filebrowser"+l(n.getName())+"WindowHeight"]||e.config.filebrowserWindowHeight||"70%",i=this.filebrowser.params||{};i.CKEditor=e.name,i.CKEditorFuncNum=e._.filebrowserFn,i.langCode||(i.langCode=e.langCode),i=o(this.filebrowser.url,i),e.popup(i,t,n,e.config.filebrowserWindowFeatures||e.config.fileBrowserWindowFeatures)}function d(){var e=this.getDialog();return e.getParentEditor()._.filebrowserSe=this,!(!e.getContentElement(this["for"][0],this["for"][1]).getInputElement().$.value||!e.getContentElement(this["for"][0],this["for"][1]).getAction())}function u(e,t,n){var i=n.params||{};i.CKEditor=e.name,i.CKEditorFuncNum=e._.filebrowserFn,i.langCode||(i.langCode=e.langCode),t.action=o(n.url,i),t.filebrowser=n}function h(e,t,n,i){if(i&&i.length)for(var o,r=i.length;r--;)if("hbox"!=(o=i[r]).type&&"vbox"!=o.type&&"fieldset"!=o.type||h(e,t,n,o.children),o.filebrowser)if("string"==typeof o.filebrowser&&(o.filebrowser={action:"fileButton"==o.type?"QuickUpload":"Browse",target:o.filebrowser}),"Browse"==o.filebrowser.action){var a=o.filebrowser.url;void 0===a&&(void 0===(a=e.config["filebrowser"+l(t)+"BrowseUrl"])&&(a=e.config.filebrowserBrowseUrl)),a&&(o.onClick=c,o.filebrowser.url=a,o.hidden=!1)}else if("QuickUpload"==o.filebrowser.action&&o["for"]&&(void 0===(a=o.filebrowser.url)&&(void 0===(a=e.config["filebrowser"+l(t)+"UploadUrl"])&&(a=e.config.filebrowserUploadUrl)),a)){var s=o.onClick;o.onClick=function(e){var t=e.sender;return(!s||!1!==s.call(t,e))&&(!!d.call(t,e)&&(e=t.getDialog().getContentElement(this["for"][0],this["for"][1]).getInputElement(),(t=new CKEDITOR.dom.element(e.$.form))&&((e=t.$.elements.ckCsrfToken)?e=new CKEDITOR.dom.element(e):((e=new CKEDITOR.dom.element("input")).setAttributes({name:"ckCsrfToken",type:"hidden"}),t.append(e)),e.setAttribute("value",CKEDITOR.tools.getCsrfToken())),!0))},o.filebrowser.url=a,o.hidden=!1,u(e,n.getContents(o["for"][0]).get(o["for"][1]),o.filebrowser)}}function r(e,t,n){if(-1===n.indexOf(";"))return(e=e.getContents(t).get(n).filebrowser)&&e.url;n=n.split(";");for(var i=0;i<n.length;i++)if(r(e,t,n[i]))return!0;return!1}function t(e,t){var n=this._.filebrowserSe.getDialog(),i=this._.filebrowserSe["for"],o=this._.filebrowserSe.filebrowser.onSelect;i&&n.getContentElement(i[0],i[1]).reset(),"function"==typeof t&&!1===t.call(this._.filebrowserSe)||o&&!1===o.call(this._.filebrowserSe,e,t)||("string"==typeof t&&t&&alert(t),e&&(n=(i=this._.filebrowserSe).getDialog(),i=i.filebrowser.target||null)&&(i=i.split(":"),(o=n.getContentElement(i[0],i[1]))&&(o.setValue(e),n.selectPage(i[0]))))}CKEDITOR.plugins.add("filebrowser",{requires:"popup",init:function(e){e._.filebrowserFn=CKEDITOR.tools.addFunction(t,e),e.on("destroy",function(){CKEDITOR.tools.removeFunction(this._.filebrowserFn)})}}),CKEDITOR.on("dialogDefinition",function(e){if(e.editor.plugins.filebrowser)for(var t,n=e.data.definition,i=0;i<n.contents.length;++i)(t=n.contents[i])&&(h(e.editor,e.data.name,n,t.elements),t.hidden&&t.filebrowser&&(t.hidden=!r(n,t.id,t.filebrowser)))})}(),CKEDITOR.plugins.add("find",{requires:"dialog",init:function(e){var t=e.addCommand("find",new CKEDITOR.dialogCommand("find"));t.canUndo=!1,t.readOnly=1,e.addCommand("replace",new CKEDITOR.dialogCommand("replace")).canUndo=!1,e.ui.addButton&&(e.ui.addButton("Find",{label:e.lang.find.find,command:"find",toolbar:"find,10"}),e.ui.addButton("Replace",{label:e.lang.find.replace,command:"replace",toolbar:"find,20"})),CKEDITOR.dialog.add("find",this.path+"dialogs/find.js"),CKEDITOR.dialog.add("replace",this.path+"dialogs/find.js")}}),CKEDITOR.config.find_highlight={element:"span",styles:{"background-color":"#004",color:"#fff"}},function(){function o(e,t){var n=r.exec(e),i=r.exec(t);if(n){if(!n[2]&&"px"==i[2])return i[1];if("px"==n[2]&&!i[2])return i[1]+"px"}return t}var a=CKEDITOR.htmlParser.cssStyle,s=CKEDITOR.tools.cssLength,r=/^((?:\d*(?:\.\d+))|(?:\d+))(.*)?$/i,t={elements:{$:function(e){var t=e.attributes;if((t=(t=(t=t&&t["data-cke-realelement"])&&new CKEDITOR.htmlParser.fragment.fromHtml(decodeURIComponent(t)))&&t.children[0])&&e.attributes["data-cke-resizable"]){var n=new a(e).rules;e=t.attributes;var i=n.width;n=n.height;i&&(e.width=o(e.width,i)),n&&(e.height=o(e.height,n))}return t}}};CKEDITOR.plugins.add("fakeobjects",{init:function(e){e.filter.allow("img[!data-cke-realelement,src,alt,title](*){*}","fakeobjects")},afterInit:function(e){(e=(e=e.dataProcessor)&&e.htmlFilter)&&e.addRules(t,{applyToAll:!0})}}),CKEDITOR.editor.prototype.createFakeElement=function(e,t,n,i){var o=(o=this.lang.fakeobjects)[n]||o.unknown;return t={"class":t,"data-cke-realelement":encodeURIComponent(e.getOuterHtml()),"data-cke-real-node-type":e.type,alt:o,title:o,align:e.getAttribute("align")||""},CKEDITOR.env.hc||(t.src=CKEDITOR.tools.transparentImageData),n&&(t["data-cke-real-element-type"]=n),i&&(t["data-cke-resizable"]=i,n=new a,i=e.getAttribute("width"),e=e.getAttribute("height"),i&&(n.rules.width=s(i)),e&&(n.rules.height=s(e)),n.populate(t)),this.document.createElement("img",{attributes:t})},CKEDITOR.editor.prototype.createFakeParserElement=function(e,t,n,i){var o,r=(r=this.lang.fakeobjects)[n]||r.unknown;return o=new CKEDITOR.htmlParser.basicWriter,e.writeHtml(o),o=o.getHtml(),t={"class":t,"data-cke-realelement":encodeURIComponent(o),"data-cke-real-node-type":e.type,alt:r,title:r,align:e.attributes.align||""},CKEDITOR.env.hc||(t.src=CKEDITOR.tools.transparentImageData),n&&(t["data-cke-real-element-type"]=n),i&&(t["data-cke-resizable"]=i,i=e.attributes,e=new a,n=i.width,i=i.height,void 0!==n&&(e.rules.width=s(n)),void 0!==i&&(e.rules.height=s(i)),e.populate(t)),new CKEDITOR.htmlParser.element("img",t)},CKEDITOR.editor.prototype.restoreRealElement=function(e){if(e.data("cke-real-node-type")!=CKEDITOR.NODE_ELEMENT)return null;var t=CKEDITOR.dom.element.createFromHtml(decodeURIComponent(e.data("cke-realelement")),this.document);if(e.data("cke-resizable")){var n=e.getStyle("width");e=e.getStyle("height"),n&&t.setAttribute("width",o(t.getAttribute("width"),n)),e&&t.setAttribute("height",o(t.getAttribute("height"),e))}return t}}(),function(){function i(e){return"application/x-shockwave-flash"==(e=e.attributes).type||t.test(e.src||"")}function o(e,t){return e.createFakeParserElement(t,"cke_flash","flash",!0)}var t=/\.swf(?:$|\?)/i;CKEDITOR.plugins.add("flash",{requires:"dialog,fakeobjects",onLoad:function(){CKEDITOR.addCss("img.cke_flash{background-image: url("+CKEDITOR.getUrl(this.path+"images/placeholder.png")+");background-position: center center;background-repeat: no-repeat;border: 1px solid #a9a9a9;width: 80px;height: 80px;}")},init:function(e){var t="object[classid,codebase,height,hspace,vspace,width];param[name,value];embed[height,hspace,pluginspage,src,type,vspace,width]";CKEDITOR.dialog.isTabEnabled(e,"flash","properties")&&(t+=";object[align]; embed[allowscriptaccess,quality,scale,wmode]"),CKEDITOR.dialog.isTabEnabled(e,"flash","advanced")&&(t+=";object[id]{*}; embed[bgcolor]{*}(*)"),e.addCommand("flash",new CKEDITOR.dialogCommand("flash",{allowedContent:t,requiredContent:"embed"})),e.ui.addButton&&e.ui.addButton("Flash",{label:e.lang.common.flash,command:"flash",toolbar:"insert,20"}),CKEDITOR.dialog.add("flash",this.path+"dialogs/flash.js"),e.addMenuItems&&e.addMenuItems({flash:{label:e.lang.flash.properties,command:"flash",group:"flash"}}),e.on("doubleclick",function(e){var t=e.data.element;t.is("img")&&"flash"==t.data("cke-real-element-type")&&(e.data.dialog="flash")}),e.contextMenu&&e.contextMenu.addListener(function(e){if(e&&e.is("img")&&!e.isReadOnly()&&"flash"==e.data("cke-real-element-type"))return{flash:CKEDITOR.TRISTATE_OFF}})},afterInit:function(n){var e=n.dataProcessor;(e=e&&e.dataFilter)&&e.addRules({elements:{"cke:object":function(e){var t=e.attributes;if(t.classid&&String(t.classid).toLowerCase()||i(e))return o(n,e);for(t=0;t<e.children.length;t++)if("cke:embed"==e.children[t].name){if(!i(e.children[t]))break;return o(n,e)}return null},"cke:embed":function(e){return i(e)?o(n,e):null}}},5)}})}(),CKEDITOR.tools.extend(CKEDITOR.config,{flashEmbedTagOnly:!1,flashAddEmbedTag:!0,flashConvertOnEdit:!1}),function(){function t(m){var g=m.config,e=m.fire("uiSpace",{space:"top",html:""}).html,v=function(){function n(e,t,n){T.setStyle(t,E(n)),T.setStyle("position",e)}function i(e){var t=r.getDocumentPosition();switch(e){case"top":n("absolute","top",t.y-c-h);break;case"pin":n("fixed","top",f);break;case"bottom":n("absolute","top",t.y+(s.height||s.bottom-s.top)+h)}o=e}var o,r,a,s,l,c,d,u=g.floatSpaceDockedOffsetX||0,h=g.floatSpaceDockedOffsetY||0,p=g.floatSpacePinnedOffsetX||0,f=g.floatSpacePinnedOffsetY||0;return function(e){if(r=m.editable()){var t=e&&"focus"==e.name;t&&T.show(),m.fire("floatingSpaceLayout",{show:t}),T.removeStyle("left"),T.removeStyle("right"),a=T.getClientRect(),s=r.getClientRect(),l=y.getViewPaneSize(),c=a.height,d="pageXOffset"in y.$?y.$.pageXOffset:CKEDITOR.document.$.documentElement.scrollLeft,o?(c+h<=s.top?i("top"):c+h>l.height-s.bottom?i("pin"):i("bottom"),e=l.width/2,e=g.floatSpacePreferRight?"right":0<s.left&&s.right<l.width&&s.width>a.width?"rtl"==g.contentsLangDirection?"right":"left":e-s.left>s.right-e?"left":"right",a.width>l.width?(e="left",t=0):(t="left"==e?0<s.left?s.left:0:s.right<l.width?l.width-s.right:0)+a.width>l.width&&(e="left"==e?"right":"left",t=0),T.setStyle(e,E(("pin"==o?p:u)+t+("pin"==o?0:"left"==e?d:-d)))):(i(o="pin"),v(e))}}}();if(e){
var t=new CKEDITOR.template('<div id="cke_{name}" class="cke {id} cke_reset_all cke_chrome cke_editor_{name} cke_float cke_{langDir} '+CKEDITOR.env.cssClass+'" dir="{langDir}" title="'+(CKEDITOR.env.gecko?" ":"")+'" lang="{langCode}" role="application" style="{style}"'+(m.title?' aria-labelledby="cke_{name}_arialbl"':" ")+">"+(m.title?'<span id="cke_{name}_arialbl" class="cke_voice_label">{voiceLabel}</span>':" ")+'<div class="cke_inner"><div id="{topId}" class="cke_top" role="presentation">{content}</div></div></div>'),T=CKEDITOR.document.getBody().append(CKEDITOR.dom.element.createFromHtml(t.output({content:e,id:m.id,langDir:m.lang.dir,langCode:m.langCode,name:m.name,style:"display:none;z-index:"+(g.baseFloatZIndex-1),topId:m.ui.spaceId("top"),voiceLabel:m.title}))),n=CKEDITOR.tools.eventsBuffer(500,v),i=CKEDITOR.tools.eventsBuffer(100,v);T.unselectable(),T.on("mousedown",function(e){(e=e.data).getTarget().hasAscendant("a",1)||e.preventDefault()}),m.on("focus",function(e){v(e),m.on("change",n.input),y.on("scroll",i.input),y.on("resize",i.input)}),m.on("blur",function(){T.hide(),m.removeListener("change",n.input),y.removeListener("scroll",i.input),y.removeListener("resize",i.input)}),m.on("destroy",function(){y.removeListener("scroll",i.input),y.removeListener("resize",i.input),T.clearCustomData(),T.remove()}),m.focusManager.hasFocus&&T.show(),m.focusManager.add(T,1)}}var y=CKEDITOR.document.getWindow(),E=CKEDITOR.tools.cssLength;CKEDITOR.plugins.add("floatingspace",{init:function(e){e.on("loaded",function(){t(this)},null,null,20)}})}(),CKEDITOR.plugins.add("listblock",{requires:"panel",onLoad:function(){var t=CKEDITOR.addTemplate("panel-list",'<ul role="presentation" class="cke_panel_list">{items}</ul>'),o=CKEDITOR.addTemplate("panel-list-item",'<li id="{id}" class="cke_panel_listItem" role=presentation><a id="{id}_option" _cke_focus=1 hidefocus=true title="{title}" href="javascript:void(\'{val}\')"  {onclick}="CKEDITOR.tools.callFunction({clickFn},\'{val}\'); return false;" role="option">{text}</a></li>'),n=CKEDITOR.addTemplate("panel-list-group",'<h1 id="{id}" class="cke_panel_grouptitle" role="presentation" >{label}</h1>'),r=/\'/g;CKEDITOR.ui.panel.prototype.addListBlock=function(e,t){return this.addBlock(e,new CKEDITOR.ui.listBlock(this.getHolderElement(),t))},CKEDITOR.ui.listBlock=CKEDITOR.tools.createClass({base:CKEDITOR.ui.panel.block,$:function(e,t){var n=(t=t||{}).attributes||(t.attributes={});(this.multiSelect=!!t.multiSelect)&&(n["aria-multiselectable"]=!0),!n.role&&(n.role="listbox"),this.base.apply(this,arguments),this.element.setAttribute("role",n.role),(n=this.keys)[40]="next",n[9]="next",n[38]="prev",n[CKEDITOR.SHIFT+9]="prev",n[32]=CKEDITOR.env.ie?"mouseup":"click",CKEDITOR.env.ie&&(n[13]="mouseup"),this._.pendingHtml=[],this._.pendingList=[],this._.items={},this._.groups={}},_:{close:function(){if(this._.started){var e=t.output({items:this._.pendingList.join("")});this._.pendingList=[],this._.pendingHtml.push(e),delete this._.started}},getClick:function(){return this._.click||(this._.click=CKEDITOR.tools.addFunction(function(e){var t=this.toggle(e);this.onClick&&this.onClick(e,t)},this)),this._.click}},proto:{add:function(e,t,n){var i=CKEDITOR.tools.getNextId();this._.started||(this._.started=1,this._.size=this._.size||0),e={id:this._.items[e]=i,val:CKEDITOR.tools.htmlEncodeAttr(e).replace(r,"\\'"),onclick:CKEDITOR.env.ie?'onclick="return false;" onmouseup':"onclick",clickFn:this._.getClick(),title:CKEDITOR.tools.htmlEncodeAttr(n||e),text:t||e},this._.pendingList.push(o.output(e))},startGroup:function(e){this._.close();var t=CKEDITOR.tools.getNextId();this._.groups[e]=t,this._.pendingHtml.push(n.output({id:t,label:e}))},commit:function(){this._.close(),this.element.appendHtml(this._.pendingHtml.join("")),delete this._.size,this._.pendingHtml=[]},toggle:function(e){var t=this.isMarked(e);return t?this.unmark(e):this.mark(e),!t},hideGroup:function(e){var t=(e=this.element.getDocument().getById(this._.groups[e]))&&e.getNext();e&&(e.setStyle("display","none"),t&&"ul"==t.getName()&&t.setStyle("display","none"))},hideItem:function(e){this.element.getDocument().getById(this._.items[e]).setStyle("display","none")},showAll:function(){var e,t=this._.items,n=this._.groups,i=this.element.getDocument();for(e in t)i.getById(t[e]).setStyle("display","");for(var o in n)e=(t=i.getById(n[o])).getNext(),t.setStyle("display",""),e&&"ul"==e.getName()&&e.setStyle("display","")},mark:function(e){this.multiSelect||this.unmarkAll(),e=this._.items[e];var t=this.element.getDocument().getById(e);t.addClass("cke_selected"),this.element.getDocument().getById(e+"_option").setAttribute("aria-selected",!0),this.onMark&&this.onMark(t)},markFirstDisplayed:function(){var e=this;this._.markFirstDisplayed(function(){e.multiSelect||e.unmarkAll()})},unmark:function(e){var t=this.element.getDocument();e=this._.items[e];var n=t.getById(e);n.removeClass("cke_selected"),t.getById(e+"_option").removeAttribute("aria-selected"),this.onUnmark&&this.onUnmark(n)},unmarkAll:function(){var e,t=this._.items,n=this.element.getDocument();for(e in t){var i=t[e];n.getById(i).removeClass("cke_selected"),n.getById(i+"_option").removeAttribute("aria-selected")}this.onUnmark&&this.onUnmark()},isMarked:function(e){return this.element.getDocument().getById(this._.items[e]).hasClass("cke_selected")},focus:function(e){this._.focusIndex=-1;var t,n=this.element.getElementsByTag("a"),i=-1;if(e){for(t=this.element.getDocument().getById(this._.items[e]).getFirst();e=n.getItem(++i);)if(e.equals(t)){this._.focusIndex=i;break}}else this.element.focus();t&&setTimeout(function(){t.focus()},0)}}})}}),CKEDITOR.plugins.add("richcombo",{requires:"floatpanel,listblock,button",beforeInit:function(e){e.ui.addHandler(CKEDITOR.UI_RICHCOMBO,CKEDITOR.ui.richCombo.handler)}}),function(){var e='<span id="{id}" class="cke_combo cke_combo__{name} {cls}" role="presentation"><span id="{id}_label" class="cke_combo_label">{label}</span><a class="cke_combo_button" title="{title}" tabindex="-1"'+(CKEDITOR.env.gecko&&!CKEDITOR.env.hc?"":" href=\"javascript:void('{titleJs}')\"")+' hidefocus="true" role="button" aria-labelledby="{id}_label" aria-haspopup="true"';CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(e+=' onkeypress="return false;"'),CKEDITOR.env.gecko&&(e+=' onblur="this.style.cssText = this.style.cssText;"');e=e+' onkeydown="return CKEDITOR.tools.callFunction({keydownFn},event,this);" onfocus="return CKEDITOR.tools.callFunction({focusFn},event);" '+(CKEDITOR.env.ie?'onclick="return false;" onmouseup':"onclick")+'="CKEDITOR.tools.callFunction({clickFn},this);return false;"><span id="{id}_text" class="cke_combo_text cke_combo_inlinelabel">{label}</span><span class="cke_combo_open"><span class="cke_combo_arrow">'+(CKEDITOR.env.hc?"&#9660;":CKEDITOR.env.air?"&nbsp;":"")+"</span></span></a></span>";var u=CKEDITOR.addTemplate("combo",e);CKEDITOR.UI_RICHCOMBO="richcombo",CKEDITOR.ui.richCombo=CKEDITOR.tools.createClass({$:function(e){CKEDITOR.tools.extend(this,e,{canGroup:!1,title:e.label,modes:{wysiwyg:1},editorFocus:1}),e=this.panel||{},delete this.panel,this.id=CKEDITOR.tools.getNextNumber(),this.document=e.parent&&e.parent.getDocument()||CKEDITOR.document,e.className="cke_combopanel",e.block={multiSelect:e.multiSelect,attributes:e.attributes},e.toolbarRelated=!0,this._={panelDefinition:e,items:{}}},proto:{renderHtml:function(e){var t=[];return this.render(e,t),t.join("")},render:function(i,e){function t(){if(this.getState()!=CKEDITOR.TRISTATE_ON){var e=this.modes[i.mode]?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED;i.readOnly&&!this.readOnly&&(e=CKEDITOR.TRISTATE_DISABLED),this.setState(e),this.setValue(""),e!=CKEDITOR.TRISTATE_DISABLED&&this.refresh&&this.refresh()}}var n=CKEDITOR.env,o="cke_"+this.id,r=CKEDITOR.tools.addFunction(function(e){d&&(i.unlockSelection(1),d=0),s.execute(e)},this),a=this,s={id:o,combo:this,focus:function(){CKEDITOR.document.getById(o).getChild(1).focus()},execute:function(e){var t=a._;if(t.state!=CKEDITOR.TRISTATE_DISABLED)if(a.createPanel(i),t.on)t.panel.hide();else{a.commit();var n=a.getValue();n?t.list.mark(n):t.list.unmarkAll(),t.panel.showBlock(a.id,new CKEDITOR.dom.element(e),4)}},clickFn:r};i.on("activeFilterChange",t,this),i.on("mode",t,this),i.on("selectionChange",t,this),!this.readOnly&&i.on("readOnly",t,this);var l=CKEDITOR.tools.addFunction(function(e,t){var n=(e=new CKEDITOR.dom.event(e)).getKeystroke();switch(n){case 13:case 32:case 40:CKEDITOR.tools.callFunction(r,t);break;default:s.onkey(s,n)}e.preventDefault()}),c=CKEDITOR.tools.addFunction(function(){s.onfocus&&s.onfocus()}),d=0;return s.keyDownFn=l,n={id:o,name:this.name||this.command,label:this.label,title:this.title,cls:this.className||"",titleJs:n.gecko&&!n.hc?"":(this.title||"").replace("'",""),keydownFn:l,focusFn:c,clickFn:r},u.output(n,e),this.onRender&&this.onRender(),s},createPanel:function(t){if(!this._.panel){var e=this._.panelDefinition,n=this._.panelDefinition.block,i=e.parent||CKEDITOR.document.getBody(),o="cke_combopanel__"+this.name,r=new CKEDITOR.ui.floatPanel(t,i,e),a=(e=r.addListBlock(this.id,n),this);r.onShow=function(){this.element.addClass(o),a.setState(CKEDITOR.TRISTATE_ON),a._.on=1,a.editorFocus&&!t.focusManager.hasFocus&&t.focus(),a.onOpen&&a.onOpen()},r.onHide=function(e){this.element.removeClass(o),a.setState(a.modes&&a.modes[t.mode]?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED),a._.on=0,!e&&a.onClose&&a.onClose()},r.onEscape=function(){r.hide(1)},e.onClick=function(e,t){a.onClick&&a.onClick.call(a,e,t),r.hide()},this._.panel=r,this._.list=e,r.getBlock(this.id).onHide=function(){a._.on=0,a.setState(CKEDITOR.TRISTATE_OFF)},this.init&&this.init()}},setValue:function(e,t){this._.value=e;var n=this.document.getById("cke_"+this.id+"_text");n&&(e||t?n.removeClass("cke_combo_inlinelabel"):(t=this.label,n.addClass("cke_combo_inlinelabel")),n.setText(void 0!==t?t:e))},getValue:function(){return this._.value||""},unmarkAll:function(){this._.list.unmarkAll()},mark:function(e){this._.list.mark(e)},hideItem:function(e){this._.list.hideItem(e)},hideGroup:function(e){this._.list.hideGroup(e)},showAll:function(){this._.list.showAll()},add:function(e,t,n){this._.items[e]=n||e,this._.list.add(e,t,n)},startGroup:function(e){this._.list.startGroup(e)},commit:function(){this._.committed||(this._.list.commit(),this._.committed=1,CKEDITOR.ui.fire("ready",this)),this._.committed=1},setState:function(e){if(this._.state!=e){var t=this.document.getById("cke_"+this.id);t.setState(e,"cke_combo"),e==CKEDITOR.TRISTATE_DISABLED?t.setAttribute("aria-disabled",!0):t.removeAttribute("aria-disabled"),this._.state=e}},getState:function(){return this._.state},enable:function(){this._.state==CKEDITOR.TRISTATE_DISABLED&&this.setState(this._.lastState)},disable:function(){this._.state!=CKEDITOR.TRISTATE_DISABLED&&(this._.lastState=this._.state,this.setState(CKEDITOR.TRISTATE_DISABLED))}},statics:{handler:{create:function(e){return new CKEDITOR.ui.richCombo(e)}}}}),CKEDITOR.ui.prototype.addRichCombo=function(e,t){this.add(e,CKEDITOR.UI_RICHCOMBO,t)}}(),function(){function n(c,e,t,n,i,r,o,a){var s=c.config,l=new CKEDITOR.style(o),d=i.split(";");i=[];for(var u={},h=0;h<d.length;h++){if(p=d[h]){var p=p.split("/"),f={},m=d[h]=p[0];f[t]=i[h]=p[1]||m,u[m]=new CKEDITOR.style(o,f),u[m]._.definition.name=m}else d.splice(h--,1)}c.ui.addRichCombo(e,{label:n.label,title:n.panelTitle,toolbar:"styles,"+a,allowedContent:l,requiredContent:l,contentTransformations:[[{element:"font",check:"span",left:function(e){return!!e.attributes.size||!!e.attributes.align||!!e.attributes.face},right:function(e){var t=" x-small small medium large x-large xx-large 48px".split(" ");e.name="span",e.attributes.size&&(e.styles["font-size"]=t[e.attributes.size],delete e.attributes.size),e.attributes.align&&(e.styles["text-align"]=e.attributes.align,delete e.attributes.align),e.attributes.face&&(e.styles["font-family"]=e.attributes.face,delete e.attributes.face)}}]],panel:{css:[CKEDITOR.skin.getPath("editor")].concat(s.contentsCss),multiSelect:!1,attributes:{"aria-label":n.panelTitle}},init:function(){this.startGroup(n.panelTitle);for(var e=0;e<d.length;e++){var t=d[e];this.add(t,u[t].buildPreview(),t)}},onClick:function(e){c.focus(),c.fire("saveSnapshot");var t=this.getValue(),n=u[e];if(t&&e!=t){var i=u[t],o=c.getSelection().getRanges()[0];if(o.collapsed){var r=c.elementPath(),a=r.contains(function(e){return i.checkElementRemovable(e)});if(a){var s=o.checkBoundaryOfElement(a,CKEDITOR.START),l=o.checkBoundaryOfElement(a,CKEDITOR.END);if(s&&l){for(s=o.createBookmark();r=a.getFirst();)r.insertBefore(a);a.remove(),o.moveToBookmark(s)}else s||l?o.moveToPosition(a,s?CKEDITOR.POSITION_BEFORE_START:CKEDITOR.POSITION_AFTER_END):(o.splitElement(a),o.moveToPosition(a,CKEDITOR.POSITION_AFTER_END)),g(o,r.elements.slice(),a);c.getSelection().selectRanges([o])}}else c.removeStyle(i)}c[t==e?"removeStyle":"applyStyle"](n),c.fire("saveSnapshot")},onRender:function(){c.on("selectionChange",function(e){var t=this.getValue();e=e.data.path.elements;for(var n,i=0;i<e.length;i++)for(var o in n=e[i],u)if(u[o].checkElementMatch(n,!0,c))return void(o!=t&&this.setValue(o));this.setValue("",r)},this)},refresh:function(){c.activeFilter.check(l)||this.setState(CKEDITOR.TRISTATE_DISABLED)}})}function g(e,t,n){var i=t.pop();if(i){if(n)return g(e,t,i.equals(n)?null:n);n=i.clone(),e.insertNode(n),e.moveToPosition(n,CKEDITOR.POSITION_AFTER_START),g(e,t)}}CKEDITOR.plugins.add("font",{requires:"richcombo",init:function(e){var t=e.config;n(e,"Font","family",e.lang.font,t.font_names,t.font_defaultLabel,t.font_style,30),n(e,"FontSize","size",e.lang.font.fontSize,t.fontSize_sizes,t.fontSize_defaultLabel,t.fontSize_style,40)}})}(),CKEDITOR.config.font_names="Arial/Arial, Helvetica, sans-serif;Comic Sans MS/Comic Sans MS, cursive;Courier New/Courier New, Courier, monospace;Georgia/Georgia, serif;Lucida Sans Unicode/Lucida Sans Unicode, Lucida Grande, sans-serif;Tahoma/Tahoma, Geneva, sans-serif;Times New Roman/Times New Roman, Times, serif;Trebuchet MS/Trebuchet MS, Helvetica, sans-serif;Verdana/Verdana, Geneva, sans-serif",CKEDITOR.config.font_defaultLabel="",CKEDITOR.config.font_style={element:"span",styles:{"font-family":"#(family)"},overrides:[{element:"font",attributes:{face:null}}]},CKEDITOR.config.fontSize_sizes="8/8px;9/9px;10/10px;11/11px;12/12px;14/14px;16/16px;18/18px;20/20px;22/22px;24/24px;26/26px;28/28px;36/36px;48/48px;72/72px",CKEDITOR.config.fontSize_defaultLabel="",CKEDITOR.config.fontSize_style={element:"span",styles:{"font-size":"#(size)"},overrides:[{element:"font",attributes:{size:null}}]},CKEDITOR.plugins.add("forms",{requires:"dialog,fakeobjects",onLoad:function(){CKEDITOR.addCss(".cke_editable form{border: 1px dotted #FF0000;padding: 2px;}\n"),CKEDITOR.addCss("img.cke_hidden{background-image: url("+CKEDITOR.getUrl(this.path+"images/hiddenfield.gif")+");background-position: center center;background-repeat: no-repeat;border: 1px solid #a9a9a9;width: 16px !important;height: 16px !important;}")},init:function(o){var r=o.lang,a=0,i={email:1,password:1,search:1,tel:1,text:1,url:1},s={checkbox:"input[type,name,checked,required]",radio:"input[type,name,checked,required]",textfield:"input[type,name,value,size,maxlength,required]",textarea:"textarea[cols,rows,name,required]",select:"select[name,size,multiple,required]; option[value,selected]",button:"input[type,name,value]",form:"form[action,name,id,enctype,target,method]",hiddenfield:"input[type,name,value]",imagebutton:"input[type,alt,src]{width,height,border,border-width,border-style,margin,float}"},l={checkbox:"input",radio:"input",textfield:"input",textarea:"textarea",select:"select",button:"input",form:"form",hiddenfield:"input",imagebutton:"input"},e=function(e,t,n){var i={allowedContent:s[t],requiredContent:l[t]};"form"==t&&(i.context="form"),o.addCommand(t,new CKEDITOR.dialogCommand(t,i)),o.ui.addButton&&o.ui.addButton(e,{label:r.common[e.charAt(0).toLowerCase()+e.slice(1)],command:t,toolbar:"forms,"+(a+=10)}),CKEDITOR.dialog.add(t,n)},t=this.path+"dialogs/";!o.blockless&&e("Form","form",t+"form.js"),e("Checkbox","checkbox",t+"checkbox.js"),e("Radio","radio",t+"radio.js"),e("TextField","textfield",t+"textfield.js"),e("Textarea","textarea",t+"textarea.js"),e("Select","select",t+"select.js"),e("Button","button",t+"button.js");var c=o.plugins.image;c&&!o.plugins.image2&&e("ImageButton","imagebutton",CKEDITOR.plugins.getPath("image")+"dialogs/image.js"),e("HiddenField","hiddenfield",t+"hiddenfield.js"),o.addMenuItems&&(e={checkbox:{label:r.forms.checkboxAndRadio.checkboxTitle,command:"checkbox",group:"checkbox"},radio:{label:r.forms.checkboxAndRadio.radioTitle,command:"radio",group:"radio"},textfield:{label:r.forms.textfield.title,command:"textfield",group:"textfield"},hiddenfield:{label:r.forms.hidden.title,command:"hiddenfield",group:"hiddenfield"},button:{label:r.forms.button.title,command:"button",group:"button"},select:{label:r.forms.select.title,command:"select",group:"select"},textarea:{label:r.forms.textarea.title,command:"textarea",group:"textarea"}},c&&(e.imagebutton={label:r.image.titleButton,command:"imagebutton",group:"imagebutton"}),!o.blockless&&(e.form={label:r.forms.form.menu,command:"form",group:"form"}),o.addMenuItems(e)),o.contextMenu&&(!o.blockless&&o.contextMenu.addListener(function(e,t,n){if((e=n.contains("form",1))&&!e.isReadOnly())return{form:CKEDITOR.TRISTATE_OFF}}),o.contextMenu.addListener(function(e){if(e&&!e.isReadOnly()){var t=e.getName();if("select"==t)return{select:CKEDITOR.TRISTATE_OFF};if("textarea"==t)return{textarea:CKEDITOR.TRISTATE_OFF};if("input"==t){var n=e.getAttribute("type")||"text";switch(n){case"button":case"submit":case"reset":return{button:CKEDITOR.TRISTATE_OFF};case"checkbox":return{checkbox:CKEDITOR.TRISTATE_OFF};case"radio":return{radio:CKEDITOR.TRISTATE_OFF};case"image":return c?{imagebutton:CKEDITOR.TRISTATE_OFF}:null}if(i[n])return{textfield:CKEDITOR.TRISTATE_OFF}}if("img"==t&&"hiddenfield"==e.data("cke-real-element-type"))return{hiddenfield:CKEDITOR.TRISTATE_OFF}}})),o.on("doubleclick",function(e){var t=e.data.element;if(!o.blockless&&t.is("form"))e.data.dialog="form";else if(t.is("select"))e.data.dialog="select";else if(t.is("textarea"))e.data.dialog="textarea";else if(t.is("img")&&"hiddenfield"==t.data("cke-real-element-type"))e.data.dialog="hiddenfield";else if(t.is("input")){switch(t=t.getAttribute("type")||"text"){case"button":case"submit":case"reset":e.data.dialog="button";break;case"checkbox":e.data.dialog="checkbox";break;case"radio":e.data.dialog="radio";break;case"image":e.data.dialog="imagebutton"}i[t]&&(e.data.dialog="textfield")}})},afterInit:function(t){var e=(n=t.dataProcessor)&&n.htmlFilter,n=n&&n.dataFilter;CKEDITOR.env.ie&&e&&e.addRules({elements:{input:function(e){var t=(e=e.attributes).type;t||(e.type="text"),"checkbox"!=t&&"radio"!=t||"on"!=e.value||delete e.value}}},{applyToAll:!0}),n&&n.addRules({elements:{input:function(e){if("hidden"==e.attributes.type)return t.createFakeParserElement(e,"cke_hidden","hiddenfield")}}},{applyToAll:!0})}}),CKEDITOR.plugins.add("format",{requires:"richcombo",init:function(i){if(!i.blockless){for(var e=i.config,n=i.lang.format,t=e.format_tags.split(";"),o={},r=0,a=[],s=0;s<t.length;s++){var l=t[s],c=new CKEDITOR.style(e["format_"+l]);i.filter.customConfig&&!i.filter.check(c)||(r++,o[l]=c,o[l]._.enterMode=i.config.enterMode,a.push(c))}0!==r&&i.ui.addRichCombo("Format",{label:n.label,title:n.panelTitle,toolbar:"styles,20",allowedContent:a,panel:{css:[CKEDITOR.skin.getPath("editor")].concat(e.contentsCss),multiSelect:!1,attributes:{"aria-label":n.panelTitle}},init:function(){for(var e in this.startGroup(n.panelTitle),o){var t=n["tag_"+e];this.add(e,o[e].buildPreview(t),t)}},onClick:function(e){i.focus(),i.fire("saveSnapshot"),e=o[e];var t=i.elementPath();i[e.checkActive(t,i)?"removeStyle":"applyStyle"](e),setTimeout(function(){i.fire("saveSnapshot")},0)},onRender:function(){i.on("selectionChange",function(e){var t=this.getValue();for(var n in e=e.data.path,this.refresh(),o)if(o[n].checkActive(e,i))return void(n!=t&&this.setValue(n,i.lang.format["tag_"+n]));this.setValue("")},this)},onOpen:function(){for(var e in this.showAll(),o)i.activeFilter.check(o[e])||this.hideItem(e)},refresh:function(){var e=i.elementPath();if(e){if(e.isContextFor("p"))for(var t in o)if(i.activeFilter.check(o[t]))return;this.setState(CKEDITOR.TRISTATE_DISABLED)}}})}}}),CKEDITOR.config.format_tags="p;h1;h2;h3;h4;h5;h6;pre;address;div",CKEDITOR.config.format_p={element:"p"},CKEDITOR.config.format_div={element:"div"},CKEDITOR.config.format_pre={element:"pre"},CKEDITOR.config.format_address={element:"address"},CKEDITOR.config.format_h1={element:"h1"},CKEDITOR.config.format_h2={element:"h2"},CKEDITOR.config.format_h3={element:"h3"},CKEDITOR.config.format_h4={element:"h4"},CKEDITOR.config.format_h5={element:"h5"},CKEDITOR.config.format_h6={element:"h6"},W={canUndo:!1,exec:function(e){var t=e.document.createElement("hr");e.insertElement(t)},allowedContent:"hr",requiredContent:"hr"},CKEDITOR.plugins.add("horizontalrule",{init:function(e){e.blockless||(e.addCommand("horizontalrule",W),e.ui.addButton&&e.ui.addButton("HorizontalRule",{label:e.lang.horizontalrule.toolbar,command:"horizontalrule",toolbar:"insert,40"}))}}),CKEDITOR.plugins.add("htmlwriter",{init:function(e){var t=new CKEDITOR.htmlWriter;t.forceSimpleAmpersand=e.config.forceSimpleAmpersand,t.indentationChars=e.config.dataIndentationChars||"\t",e.dataProcessor.writer=t}}),CKEDITOR.htmlWriter=CKEDITOR.tools.createClass({base:CKEDITOR.htmlParser.basicWriter,$:function(){this.base(),this.indentationChars="\t",this.selfClosingEnd=" />",this.lineBreakChars="\n",this.sortAttributes=1,this._.indent=0,this._.indentation="",this._.inPre=0,this._.rules={};var e,t=CKEDITOR.dtd;for(e in CKEDITOR.tools.extend({},t.$nonBodyContent,t.$block,t.$listItem,t.$tableContent))this.setRules(e,{indent:!t[e]["#"],breakBeforeOpen:1,breakBeforeClose:!t[e]["#"],breakAfterClose:1,needsSpace:e in t.$block&&!(e in{li:1,dt:1,dd:1})});this.setRules("br",{breakAfterOpen:1}),this.setRules("title",{indent:0,breakAfterOpen:0}),this.setRules("style",{indent:0,breakBeforeClose:1}),this.setRules("pre",{breakAfterOpen:1,indent:0})},proto:{openTag:function(e){var t=this._.rules[e];this._.afterCloser&&t&&t.needsSpace&&this._.needsSpace&&this._.output.push("\n"),this._.indent?this.indentation():t&&t.breakBeforeOpen&&(this.lineBreak(),this.indentation()),this._.output.push("<",e),this._.afterCloser=0},openTagClose:function(e,t){var n=this._.rules[e];t?(this._.output.push(this.selfClosingEnd),n&&n.breakAfterClose&&(this._.needsSpace=n.needsSpace)):(this._.output.push(">"),n&&n.indent&&(this._.indentation+=this.indentationChars)),n&&n.breakAfterOpen&&this.lineBreak(),"pre"==e&&(this._.inPre=1)},attribute:function(e,t){"string"==typeof t&&(this.forceSimpleAmpersand&&(t=t.replace(/&amp;/g,"&")),t=CKEDITOR.tools.htmlEncodeAttr(t)),this._.output.push(" ",e,'="',t,'"')},closeTag:function(e){var t=this._.rules[e];t&&t.indent&&(this._.indentation=this._.indentation.substr(this.indentationChars.length)),this._.indent?this.indentation():t&&t.breakBeforeClose&&(this.lineBreak(),this.indentation()),this._.output.push("</",e,">"),"pre"==e&&(this._.inPre=0),t&&t.breakAfterClose&&(this.lineBreak(),this._.needsSpace=t.needsSpace),this._.afterCloser=1},text:function(e){this._.indent&&(this.indentation(),!this._.inPre&&(e=CKEDITOR.tools.ltrim(e))),this._.output.push(e)},comment:function(e){this._.indent&&this.indentation(),this._.output.push("<!--",e,"-->")},lineBreak:function(){!this._.inPre&&0<this._.output.length&&this._.output.push(this.lineBreakChars),this._.indent=1},indentation:function(){!this._.inPre&&this._.indentation&&this._.output.push(this._.indentation),this._.indent=0},reset:function(){this._.output=[],this._.indent=0,this._.indentation="",this._.afterCloser=0,this._.inPre=0,this._.needsSpace=0},setRules:function(e,t){var n=this._.rules[e];n?CKEDITOR.tools.extend(n,t,!0):this._.rules[e]=t}}}),CKEDITOR.plugins.add("iframe",{requires:"dialog,fakeobjects",onLoad:function(){CKEDITOR.addCss("img.cke_iframe{background-image: url("+CKEDITOR.getUrl(this.path+"images/placeholder.png")+");background-position: center center;background-repeat: no-repeat;border: 1px solid #a9a9a9;width: 80px;height: 80px;}")},init:function(e){var t=e.lang.iframe,n="iframe[align,longdesc,frameborder,height,name,scrolling,src,title,width]";e.plugins.dialogadvtab&&(n+=";iframe"+e.plugins.dialogadvtab.allowedContent({id:1,classes:1,styles:1})),CKEDITOR.dialog.add("iframe",this.path+"dialogs/iframe.js"),e.addCommand("iframe",new CKEDITOR.dialogCommand("iframe",{allowedContent:n,requiredContent:"iframe"})),e.ui.addButton&&e.ui.addButton("Iframe",{label:t.toolbar,command:"iframe",toolbar:"insert,80"}),e.on("doubleclick",function(e){var t=e.data.element;t.is("img")&&"iframe"==t.data("cke-real-element-type")&&(e.data.dialog="iframe")}),e.addMenuItems&&e.addMenuItems({iframe:{label:t.title,command:"iframe",group:"image"}}),e.contextMenu&&e.contextMenu.addListener(function(e){if(e&&e.is("img")&&"iframe"==e.data("cke-real-element-type"))return{iframe:CKEDITOR.TRISTATE_OFF}})},afterInit:function(t){var e=t.dataProcessor;(e=e&&e.dataFilter)&&e.addRules({elements:{iframe:function(e){return t.createFakeParserElement(e,"cke_iframe","iframe",!0)}}})}}),function(){function t(e){function t(n){var i=!1;a.attachListener(a,"keydown",function(){var e=o.getBody().getElementsByTag(n);if(!i){for(var t=0;t<e.count();t++)e.getItem(t).setCustomData("retain",!0);i=!0}},null,null,1),a.attachListener(a,"keyup",function(){var e=o.getElementsByTag(n);i&&(1!=e.count()||e.getItem(0).getCustomData("retain")||e.getItem(0).hasAttribute("data-cke-temp")||e.getItem(0).remove(1),i=!1)})}var i=this.editor,o=e.document,n=o.body,r=o.getElementById("cke_actscrpt");r&&r.parentNode.removeChild(r),(r=o.getElementById("cke_shimscrpt"))&&r.parentNode.removeChild(r),(r=o.getElementById("cke_basetagscrpt"))&&r.parentNode.removeChild(r),n.contentEditable=!0,CKEDITOR.env.ie&&(n.hideFocus=!0,n.disabled=!0,n.removeAttribute("disabled")),delete this._.isLoadingData,this.$=n,o=new CKEDITOR.dom.document(o),this.setup(),this.fixInitialSelection();var a=this;CKEDITOR.env.ie&&!CKEDITOR.env.edge&&o.getDocumentElement().addClass(o.$.compatMode),CKEDITOR.env.ie&&!CKEDITOR.env.edge&&i.enterMode!=CKEDITOR.ENTER_P?t("p"):CKEDITOR.env.edge&&i.enterMode!=CKEDITOR.ENTER_DIV&&t("div"),(CKEDITOR.env.webkit||CKEDITOR.env.ie&&10<CKEDITOR.env.version)&&o.getDocumentElement().on("mousedown",function(e){e.data.getTarget().is("html")&&setTimeout(function(){i.editable().focus()})}),l(i);try{i.document.$.execCommand("2D-position",!1,!0)}catch(s){}(CKEDITOR.env.gecko||CKEDITOR.env.ie&&"CSS1Compat"==i.document.$.compatMode)&&this.attachListener(this,"keydown",function(e){var t=e.data.getKeystroke();if(33==t||34==t)if(CKEDITOR.env.ie)setTimeout(function(){i.getSelection().scrollIntoView()},0);else if(i.window.$.innerHeight>this.$.offsetHeight){var n=i.createRange();n[33==t?"moveToElementEditStart":"moveToElementEditEnd"](this),n.select(),e.data.preventDefault()}}),CKEDITOR.env.ie&&this.attachListener(o,"blur",function(){try{o.$.selection.empty()}catch(e){}}),CKEDITOR.env.iOS&&this.attachListener(o,"touchend",function(){e.focus()}),(n=i.document.getElementsByTag("title").getItem(0)).data("cke-title",n.getText()),CKEDITOR.env.ie&&(i.document.$.title=this._.docTitle),CKEDITOR.tools.setTimeout(function(){"unloaded"==this.status&&(this.status="ready"),i.fire("contentDom"),this._.isPendingFocus&&(i.focus(),this._.isPendingFocus=!1),setTimeout(function(){i.fire("dataReady")},0)},0,this)}function l(n){function e(){var t;n.editable().attachListener(n,"selectionChange",function(){var e=n.getSelection().getSelectedElement();e&&(t&&(t.detachEvent("onresizestart",i),t=null),e.$.attachEvent("onresizestart",i),t=e.$)})}function i(e){e.returnValue=!1}if(CKEDITOR.env.gecko)try{var t=n.document.$;t.execCommand("enableObjectResizing",!1,!n.config.disableObjectResizing),t.execCommand("enableInlineTableEditing",!1,!n.config.disableNativeTableHandles)}catch(o){}else CKEDITOR.env.ie&&CKEDITOR.env.version<11&&n.config.disableObjectResizing&&e(n)}function c(){var e=[];if(8<=CKEDITOR.document.$.documentMode){e.push("html.CSS1Compat [contenteditable=false]{min-height:0 !important}");var t,n=[];for(t in CKEDITOR.dtd.$removeEmpty)n.push("html.CSS1Compat "+t+"[contenteditable=false]");e.push(n.join(",")+"{display:inline-block}")}else CKEDITOR.env.gecko&&(e.push("html{height:100% !important}"),e.push("img:-moz-broken{-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"));return e.push("html{cursor:text;*cursor:auto}"),e.push("img,input,textarea{cursor:default}"),e.join("\n")}var d;CKEDITOR.plugins.add("wysiwygarea",{init:function(l){l.config.fullPage&&l.addFeature({allowedContent:"html head title; style [media,type]; body (*)[id]; meta link [*]",requiredContent:"body"}),l.addMode("wysiwyg",function(t){function e(e){e&&e.removeListener(),l.editable(new d(l,i.$.contentWindow.document.body)),l.setData(l.getData(1),t)}var n="document.open();"+(CKEDITOR.env.ie?"("+CKEDITOR.tools.fixDomain+")();":"")+"document.close();",i=(n=CKEDITOR.env.air?"javascript:void(0)":CKEDITOR.env.ie&&!CKEDITOR.env.edge?"javascript:void(function(){"+encodeURIComponent(n)+"}())":"",CKEDITOR.dom.element.createFromHtml('<iframe src="'+n+'" frameBorder="0"></iframe>'));i.setStyles({width:"100%",height:"100%"}),i.addClass("cke_wysiwyg_frame").addClass("cke_reset"),(n=l.ui.space("contents")).append(i);var o=CKEDITOR.env.ie&&!CKEDITOR.env.edge||CKEDITOR.env.gecko;o&&i.on("load",e);var r=l.title,a=l.fire("ariaEditorHelpLabel",{}).label;if(r&&(CKEDITOR.env.ie&&a&&(r+=", "+a),i.setAttribute("title",r)),a){r=CKEDITOR.tools.getNextId();var s=CKEDITOR.dom.element.createFromHtml('<span id="'+r+'" class="cke_voice_label">'+a+"</span>");n.append(s,1),i.setAttribute("aria-describedby",r)}l.on("beforeModeUnload",function(e){e.removeListener(),s&&s.remove()}),i.setAttributes({tabIndex:l.tabIndex,allowTransparency:"true"}),!o&&e(),l.fire("ariaWidget",i)})}}),CKEDITOR.editor.prototype.addContentsCss=function(e){var t=this.config,n=t.contentsCss;CKEDITOR.tools.isArray(n)||(t.contentsCss=n?[n]:[]),t.contentsCss.push(e)},d=CKEDITOR.tools.createClass({$:function(){this.base.apply(this,arguments),this._.frameLoadedHandler=CKEDITOR.tools.addFunction(function(e){CKEDITOR.tools.setTimeout(t,0,this,e)},this),this._.docTitle=this.getWindow().getFrame().getAttribute("title")},base:CKEDITOR.editable,proto:{setData:function(e,t){var n=this.editor;if(t)this.setHtml(e),this.fixInitialSelection(),n.fire("dataReady");else{this._.isLoadingData=!0,n._.dataStore={id:1};var i=n.config,o=i.fullPage,r=i.docType,a=CKEDITOR.tools.buildStyleHtml(c()).replace(/<style>/,'<style data-cke-temp="1">');o||(a+=CKEDITOR.tools.buildStyleHtml(n.config.contentsCss));var s=i.baseHref?'<base href="'+i.baseHref+'" data-cke-temp="1" />':"";o&&(e=e.replace(/<!DOCTYPE[^>]*>/i,function(e){return n.docType=r=e,""}).replace(/<\?xml\s[^\?]*\?>/i,function(e){return n.xmlDeclaration=e,""})),e=n.dataProcessor.toHtml(e),e=o?(/<body[\s|>]/.test(e)||(e="<body>"+e),/<html[\s|>]/.test(e)||(e="<html>"+e+"</html>"),/<head[\s|>]/.test(e)?/<title[\s|>]/.test(e)||(e=e.replace(/<head[^>]*>/,"$&<title></title>")):e=e.replace(/<html[^>]*>/,"$&<head><title></title></head>"),s&&(e=e.replace(/<head[^>]*?>/,"$&"+s)),e=e.replace(/<\/head\s*>/,a+"$&"),r+e):i.docType+'<html dir="'+i.contentsLangDirection+'" lang="'+(i.contentsLanguage||n.langCode)+'"><head><title>'+this._.docTitle+"</title>"+s+a+"</head><body"+(i.bodyId?' id="'+i.bodyId+'"':"")+(i.bodyClass?' class="'+i.bodyClass+'"':"")+">"+e+"</body></html>",CKEDITOR.env.gecko&&(e=e.replace(/<body/,'<body contenteditable="true" '),CKEDITOR.env.version<2e4&&(e=e.replace(/<body[^>]*>/,"$&<!-- cke-content-start -->"))),i='<script id="cke_actscrpt" type="text/javascript"'+(CKEDITOR.env.ie?' defer="defer" ':"")+">var wasLoaded=0;function onload(){if(!wasLoaded)window.parent.CKEDITOR.tools.callFunction("+this._.frameLoadedHandler+",window);wasLoaded=1;}"+(CKEDITOR.env.ie?"onload();":'document.addEventListener("DOMContentLoaded", onload, false );')+"</script>",CKEDITOR.env.ie&&CKEDITOR.env.version<9&&(i+='<script id="cke_shimscrpt">window.parent.CKEDITOR.tools.enableHtml5Elements(document)</script>'),s&&CKEDITOR.env.ie&&CKEDITOR.env.version<10&&(i+='<script id="cke_basetagscrpt">var baseTag = document.querySelector( "base" );baseTag.href = baseTag.href;</script>'),e=e.replace(/(?=\s*<\/(:?head)>)/,i),this.clearCustomData(),this.clearListeners(),n.fire("contentDomUnload");var l=this.getDocument();try{l.write(e)}catch(d){setTimeout(function(){l.write(e)},0)}
}},getData:function(e){if(e)return this.getHtml();var t=(e=this.editor).config,n=(r=t.fullPage)&&e.docType,i=r&&e.xmlDeclaration,o=this.getDocument(),r=r?o.getDocumentElement().getOuterHtml():o.getBody().getHtml();return CKEDITOR.env.gecko&&t.enterMode!=CKEDITOR.ENTER_BR&&(r=r.replace(/<br>(?=\s*(:?$|<\/body>))/,"")),r=e.dataProcessor.toDataFormat(r),i&&(r=i+"\n"+r),n&&(r=n+"\n"+r),r},focus:function(){this._.isLoadingData?this._.isPendingFocus=!0:d.baseProto.focus.call(this)},detach:function(){var e,t=this.editor,n=t.document;try{e=t.window.getFrame()}catch(i){}d.baseProto.detach.call(this),this.clearCustomData(),n.getDocumentElement().clearCustomData(),CKEDITOR.tools.removeFunction(this._.frameLoadedHandler),e&&e.getParent()?(e.clearCustomData(),(t=e.removeCustomData("onResize"))&&t.removeListener(),e.remove()):CKEDITOR.warn("editor-destroy-iframe")}}})}(),CKEDITOR.config.disableObjectResizing=!1,CKEDITOR.config.disableNativeTableHandles=!0,CKEDITOR.config.disableNativeSpellChecker=!0,function(){function o(e,t){if(t||(t=e.getSelection().getSelectedElement()),t&&t.is("img")&&!t.data("cke-realelement")&&!t.isReadOnly())return t}function r(e){var t=e.getStyle("float");return"inherit"!=t&&"none"!=t||(t=0),t||(t=e.getAttribute("align")),t}CKEDITOR.plugins.add("image",{requires:"dialog",init:function(t){if(!t.plugins.image2){CKEDITOR.dialog.add("image",this.path+"dialogs/image.js");var e="img[alt,!src]{border-style,border-width,float,height,margin,margin-bottom,margin-left,margin-right,margin-top,width}";CKEDITOR.dialog.isTabEnabled(t,"image","advanced")&&(e="img[alt,dir,id,lang,longdesc,!src,title]{*}(*)"),t.addCommand("image",new CKEDITOR.dialogCommand("image",{allowedContent:e,requiredContent:"img[alt,src]",contentTransformations:[["img{width}: sizeToStyle","img[width]: sizeToAttribute"],["img{float}: alignmentToStyle","img[align]: alignmentToAttribute"]]})),t.ui.addButton&&t.ui.addButton("Image",{label:t.lang.common.image,command:"image",toolbar:"insert,10"}),t.on("doubleclick",function(e){var t=e.data.element;!t.is("img")||t.data("cke-realelement")||t.isReadOnly()||(e.data.dialog="image")}),t.addMenuItems&&t.addMenuItems({image:{label:t.lang.image.menu,command:"image",group:"image"}}),t.contextMenu&&t.contextMenu.addListener(function(e){if(o(t,e))return{image:CKEDITOR.TRISTATE_OFF}})}},afterInit:function(i){function e(n){var e=i.getCommand("justify"+n);e&&("left"!=n&&"right"!=n||e.on("exec",function(e){var t=o(i);t&&(r(t)==n?(t.removeStyle("float"),n==r(t)&&t.removeAttribute("align")):t.setStyle("float",n),e.cancel())}),e.on("refresh",function(e){var t=o(i);t&&(t=r(t),this.setState(t==n?CKEDITOR.TRISTATE_ON:"right"==n||"left"==n?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED),e.cancel())}))}i.plugins.image2||(e("left"),e("right"),e("center"),e("block"))}})}(),CKEDITOR.config.image_removeLinkByEmptyURL=!0,function(){function t(t,e){var n,i;e.on("refresh",function(e){var t,n=[o];for(t in e.data.states)n.push(e.data.states[t]);this.setState(CKEDITOR.tools.search(n,r)?r:o)},e,null,100),e.on("exec",function(e){n=t.getSelection(),i=n.createBookmarks(1),e.data||(e.data={}),e.data.done=!1},e,null,0),e.on("exec",function(){t.forceNextSelectionCheck(),n.selectBookmarks(i)},e,null,100)}var o=CKEDITOR.TRISTATE_DISABLED,r=CKEDITOR.TRISTATE_OFF;CKEDITOR.plugins.add("indent",{init:function(l){var e=CKEDITOR.plugins.indent.genericDefinition;t(l,l.addCommand("indent",new e(!0))),t(l,l.addCommand("outdent",new e)),l.ui.addButton&&(l.ui.addButton("Indent",{label:l.lang.indent.indent,command:"indent",directional:!0,toolbar:"indent,20"}),l.ui.addButton("Outdent",{label:l.lang.indent.outdent,command:"outdent",directional:!0,toolbar:"indent,10"})),l.on("dirChanged",function(e){var t=l.createRange(),n=e.data.node;t.setStartBefore(n),t.setEndAfter(n);for(var i,o=new CKEDITOR.dom.walker(t);i=o.next();)if(i.type==CKEDITOR.NODE_ELEMENT)if(!i.equals(n)&&i.getDirection())t.setStartAfter(i),o=new CKEDITOR.dom.walker(t);else{var r=l.config.indentClasses;if(r)for(var a="ltr"==e.data.dir?["_rtl",""]:["","_rtl"],s=0;s<r.length;s++)i.hasClass(r[s]+a[0])&&(i.removeClass(r[s]+a[0]),i.addClass(r[s]+a[1]));r=i.getStyle("margin-right"),a=i.getStyle("margin-left"),r?i.setStyle("margin-left",r):i.removeStyle("margin-left"),a?i.setStyle("margin-right",a):i.removeStyle("margin-right")}})}}),CKEDITOR.plugins.indent={genericDefinition:function(e){this.isIndent=!!e,this.startDisabled=!this.isIndent},specificDefinition:function(e,t,n){this.name=t,this.editor=e,this.jobs={},this.enterBr=e.config.enterMode==CKEDITOR.ENTER_BR,this.isIndent=!!n,this.relatedGlobal=n?"indent":"outdent",this.indentKey=n?9:CKEDITOR.SHIFT+9,this.database={}},registerCommands:function(e,t){e.on("pluginsLoaded",function(){for(var e in t)!function(t,n){var i,e=t.getCommand(n.relatedGlobal);for(i in n.jobs)e.on("exec",function(e){e.data.done||(t.fire("lockSnapshot"),n.execJob(t,i)&&(e.data.done=!0),t.fire("unlockSnapshot"),CKEDITOR.dom.element.clearAllMarkers(n.database))},this,null,i),e.on("refresh",function(e){e.data.states||(e.data.states={}),e.data.states[n.name+"@"+i]=n.refreshJob(t,i,e.data.path)},this,null,i);t.addFeature(n)}(this,t[e])})}},CKEDITOR.plugins.indent.genericDefinition.prototype={context:"p",exec:function(){}},CKEDITOR.plugins.indent.specificDefinition.prototype={execJob:function(e,t){var n=this.jobs[t];if(n.state!=o)return n.exec.call(this,e)},refreshJob:function(e,t,n){return t=this.jobs[t],e.activeFilter.checkFeature(this)?t.state=t.refresh.call(this,e,n):t.state=o,t.state},getContext:function(e){return e.contains(this.context)}}}(),function(){function i(e,t,n){if(!e.getCustomData("indent_processed")){var i=this.editor,o=this.isIndent;if(t){if(n=0,(i=e.$.className.match(this.classNameRegex))&&(i=i[1],n=CKEDITOR.tools.indexOf(t,i)+1),(n+=o?1:-1)<0)return;n=Math.min(n,t.length),n=Math.max(n,0),e.$.className=CKEDITOR.tools.ltrim(e.$.className.replace(this.classNameRegex,"")),0<n&&e.addClass(t[n-1])}else{t=a(e,n),n=parseInt(e.getStyle(t),10);var r=i.config.indentOffset||40;if(isNaN(n)&&(n=0),(n+=(o?1:-1)*r)<0)return;n=Math.max(n,0),n=Math.ceil(n/r)*r,e.setStyle(t,n?n+(i.config.indentUnit||"px"):""),""===e.getAttribute("style")&&e.removeAttribute("style")}CKEDITOR.dom.element.setMarker(this.database,e,"indent_processed",1)}}function a(e,t){return"ltr"==(t||e.getComputedStyle("direction"))?"margin-left":"margin-right"}var s=CKEDITOR.dtd.$listItem,o=CKEDITOR.dtd.$list,l=CKEDITOR.TRISTATE_DISABLED,c=CKEDITOR.TRISTATE_OFF;CKEDITOR.plugins.add("indentblock",{requires:"indent",init:function(e){function t(){n.specificDefinition.apply(this,arguments),this.allowedContent={"div h1 h2 h3 h4 h5 h6 ol p pre ul":{propertiesOnly:!0,styles:r?null:"margin-left,margin-right",classes:r||null}},this.contentTransformations=[["div: splitMarginShorthand"],["h1: splitMarginShorthand"],["h2: splitMarginShorthand"],["h3: splitMarginShorthand"],["h4: splitMarginShorthand"],["h5: splitMarginShorthand"],["h6: splitMarginShorthand"],["ol: splitMarginShorthand"],["p: splitMarginShorthand"],["pre: splitMarginShorthand"],["ul: splitMarginShorthand"]],this.enterBr&&(this.allowedContent.div=!0),this.requiredContent=(this.enterBr?"div":"p")+(r?"("+r.join(",")+")":"{margin-left}"),this.jobs={20:{refresh:function(e,t){if(!(n=t.block||t.blockLimit).is(s))var n=(i=n.getAscendant(s))&&t.contains(i)||n;if(n.is(s)&&(n=n.getParent()),this.enterBr||this.getContext(t)){if(r){var i=r,o=(n=n.$.className.match(this.classNameRegex),this.isIndent);return(i=n?!o||n[1]!=i.slice(-1):o)?c:l}return this.isIndent?c:n?CKEDITOR[(parseInt(n.getStyle(a(n)),10)||0)<=0?"TRISTATE_DISABLED":"TRISTATE_OFF"]:l}return l},exec:function(e){var t,n=(n=e.getSelection())&&n.getRanges()[0];if(t=e.elementPath().contains(o))i.call(this,t,r);else for(n=n.createIterator(),e=e.config.enterMode,n.enforceRealBlocks=!0,n.enlargeBr=e!=CKEDITOR.ENTER_BR;t=n.getNextParagraph(e==CKEDITOR.ENTER_P?"p":"div");)t.isReadOnly()||i.call(this,t,r);return!0}}}}var n=CKEDITOR.plugins.indent,r=e.config.indentClasses;n.registerCommands(e,{indentblock:new t(e,"indentblock",!0),outdentblock:new t(e,"outdentblock")}),CKEDITOR.tools.extend(t.prototype,n.specificDefinition.prototype,{context:{div:1,dl:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,ul:1,ol:1,p:1,pre:1,table:1},classNameRegex:r?new RegExp("(?:^|\\s+)("+r.join("|")+")(?=$|\\s)"):null})}})}(),function(){function o(d){function e(e){for(var t=u.startContainer,n=u.endContainer;t&&!t.getParent().equals(e);)t=t.getParent();for(;n&&!n.getParent().equals(e);)n=n.getParent();if(!t||!n)return!1;for(var i=t,o=(t=[],!1);!o;)i.equals(n)&&(o=!0),t.push(i),i=i.getNext();if(t.length<1)return!1;for(i=e.getParents(!0),n=0;n<i.length;n++)if(i[n].getName&&f[i[n].getName()]){e=i[n];break}i=h.isIndent?1:-1,n=t[0],t=t[t.length-1];var r=(o=CKEDITOR.plugins.list.listToArray(e,p))[t.getCustomData("listarray_index")].indent;for(n=n.getCustomData("listarray_index");n<=t.getCustomData("listarray_index");n++)if(o[n].indent+=i,0<i){var a=o[n].parent;o[n].parent=new CKEDITOR.dom.element(a.getName(),a.getDocument())}for(n=t.getCustomData("listarray_index")+1;n<o.length&&o[n].indent>r;n++)o[n].indent+=i;var s;if((t=CKEDITOR.plugins.list.arrayToList(o,p,null,d.config.enterMode,e.getDirection()),!h.isIndent)&&((s=e.getParent())&&s.is("li"))){var l,c=[];for(n=(i=t.listNode.getChildren()).count()-1;0<=n;n--)(l=i.getItem(n))&&l.is&&l.is("li")&&c.push(l)}if(t&&t.listNode.replace(e),c&&c.length)for(n=0;n<c.length;n++){for(l=e=c[n];(l=l.getNext())&&l.is&&l.getName()in f;)CKEDITOR.env.needsNbspFiller&&!e.getFirst(m)&&e.append(u.document.createText("\xa0")),e.append(l);e.insertAfter(s)}return t&&d.fire("contentDomInvalidated"),!0}for(var u,h=this,p=this.database,f=this.context,t=((t=d.getSelection())&&t.getRanges()).createIterator();u=t.getNextRange();){for(var n=u.getCommonAncestor();n&&(n.type!=CKEDITOR.NODE_ELEMENT||!f[n.getName()]);){if(d.editable().equals(n)){n=!1;break}n=n.getParent()}if(n||(n=u.startPath().contains(f))&&u.setEndAt(n,CKEDITOR.POSITION_BEFORE_END),!n){var i=u.getEnclosedNode();i&&i.type==CKEDITOR.NODE_ELEMENT&&i.getName()in f&&(u.setStartAt(i,CKEDITOR.POSITION_AFTER_START),u.setEndAt(i,CKEDITOR.POSITION_BEFORE_END),n=i)}if(n&&u.startContainer.type==CKEDITOR.NODE_ELEMENT&&u.startContainer.getName()in f&&((i=new CKEDITOR.dom.walker(u)).evaluator=r,u.startContainer=i.next()),n&&u.endContainer.type==CKEDITOR.NODE_ELEMENT&&u.endContainer.getName()in f&&((i=new CKEDITOR.dom.walker(u)).evaluator=r,u.endContainer=i.previous()),n)return e(n)}return 0}function r(e){return e.type==CKEDITOR.NODE_ELEMENT&&e.is("li")}function m(e){return t(e)&&n(e)}var t=CKEDITOR.dom.walker.whitespaces(!0),n=CKEDITOR.dom.walker.bookmark(!1,!0),a=CKEDITOR.TRISTATE_DISABLED,s=CKEDITOR.TRISTATE_OFF;CKEDITOR.plugins.add("indentlist",{requires:"indent",init:function(e){function t(i){n.specificDefinition.apply(this,arguments),this.requiredContent=["ul","ol"],i.on("key",function(e){var t=i.elementPath();if("wysiwyg"==i.mode&&e.data.keyCode==this.indentKey&&t){var n=this.getContext(t);!n||this.isIndent&&CKEDITOR.plugins.indentList.firstItemInPath(this.context,t,n)||(i.execCommand(this.relatedGlobal),e.cancel())}},this),this.jobs[this.isIndent?10:30]={refresh:this.isIndent?function(e,t){var n=this.getContext(t),i=CKEDITOR.plugins.indentList.firstItemInPath(this.context,t,n);return n&&this.isIndent&&!i?s:a}:function(e,t){return!this.getContext(t)||this.isIndent?a:s},exec:CKEDITOR.tools.bind(o,this)}}var n=CKEDITOR.plugins.indent;n.registerCommands(e,{indentlist:new t(e,"indentlist",!0),outdentlist:new t(e,"outdentlist")}),CKEDITOR.tools.extend(t.prototype,n.specificDefinition.prototype,{context:{ol:1,ul:1}})}}),CKEDITOR.plugins.indentList={},CKEDITOR.plugins.indentList.firstItemInPath=function(e,t,n){var i=t.contains(r);return n||(n=t.contains(e)),n&&i&&i.equals(n.getFirst(r))}}(),CKEDITOR.plugins.add("smiley",{requires:"dialog",init:function(e){e.config.smiley_path=e.config.smiley_path||this.path+"images/",e.addCommand("smiley",new CKEDITOR.dialogCommand("smiley",{allowedContent:"img[alt,height,!src,title,width]",requiredContent:"img"})),e.ui.addButton&&e.ui.addButton("Smiley",{label:e.lang.smiley.toolbar,command:"smiley",toolbar:"insert,50"}),CKEDITOR.dialog.add("smiley",this.path+"dialogs/smiley.js")}}),CKEDITOR.config.smiley_images="regular_smile.png sad_smile.png wink_smile.png teeth_smile.png confused_smile.png tongue_smile.png embarrassed_smile.png omg_smile.png whatchutalkingabout_smile.png angry_smile.png angel_smile.png shades_smile.png devil_smile.png cry_smile.png lightbulb.png thumbs_down.png thumbs_up.png heart.png broken_heart.png kiss.png envelope.png".split(" "),CKEDITOR.config.smiley_descriptions="smiley;sad;wink;laugh;frown;cheeky;blush;surprise;indecision;angry;angel;cool;devil;crying;enlightened;no;yes;heart;broken heart;kiss;mail".split(";"),function(){function h(e,t){var n;if(t=void 0===t||t)n=e.getComputedStyle("text-align");else{for(;(!e.hasAttribute||!e.hasAttribute("align")&&!e.getStyle("text-align"))&&(n=e.getParent());)e=n;n=e.getStyle("text-align")||e.getAttribute("align")||""}return n&&(n=n.replace(/(?:-(?:moz|webkit)-)?(?:start|auto)/i,"")),!n&&t&&(n="rtl"==e.getComputedStyle("direction")?"right":"left"),n}function r(e,t,n){this.editor=e,this.name=t,this.value=n,this.context="p",t=e.config.justifyClasses;var i=e.config.enterMode==CKEDITOR.ENTER_P?"p":"div";if(t){switch(n){case"left":this.cssClassName=t[0];break;case"center":this.cssClassName=t[1];break;case"right":this.cssClassName=t[2];break;case"justify":this.cssClassName=t[3]}this.cssClassRegex=new RegExp("(?:^|\\s+)(?:"+t.join("|")+")(?=$|\\s)"),this.requiredContent=i+"("+this.cssClassName+")"}else this.requiredContent=i+"{text-align}";this.allowedContent={"caption div h1 h2 h3 h4 h5 h6 p pre td th li":{propertiesOnly:!0,styles:this.cssClassName?null:"text-align",classes:this.cssClassName||null}},e.config.enterMode==CKEDITOR.ENTER_BR&&(this.allowedContent.div=!0)}function a(e){var t=e.editor,n=t.createRange();n.setStartBefore(e.data.node),n.setEndAfter(e.data.node);for(var i,o=new CKEDITOR.dom.walker(n);i=o.next();)if(i.type==CKEDITOR.NODE_ELEMENT)if(!i.equals(e.data.node)&&i.getDirection())n.setStartAfter(i),o=new CKEDITOR.dom.walker(n);else{var r=t.config.justifyClasses;r&&(i.hasClass(r[0])?(i.removeClass(r[0]),i.addClass(r[2])):i.hasClass(r[2])&&(i.removeClass(r[2]),i.addClass(r[0]))),"left"==(r=i.getStyle("text-align"))?i.setStyle("text-align","right"):"right"==r&&i.setStyle("text-align","left")}}r.prototype={exec:function(e){var t=e.getSelection(),n=e.config.enterMode;if(t){for(var i,o,r=t.createBookmarks(),a=t.getRanges(),s=this.cssClassName,l=void 0===(l=e.config.useComputedState)||l,c=a.length-1;0<=c;c--)for((i=a[c].createIterator()).enlargeBr=n!=CKEDITOR.ENTER_BR;o=i.getNextParagraph(n==CKEDITOR.ENTER_P?"p":"div");)if(!o.isReadOnly()){o.removeAttribute("align"),o.removeStyle("text-align");var d=s&&(o.$.className=CKEDITOR.tools.ltrim(o.$.className.replace(this.cssClassRegex,""))),u=this.state==CKEDITOR.TRISTATE_OFF&&(!l||h(o,!0)!=this.value);s?u?o.addClass(s):d||o.removeAttribute("class"):u&&o.setStyle("text-align",this.value)}e.focus(),e.forceNextSelectionCheck(),t.selectBookmarks(r)}},refresh:function(e,t){var n=t.block||t.blockLimit;this.setState("body"!=n.getName()&&h(n,this.editor.config.useComputedState)==this.value?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)}},CKEDITOR.plugins.add("justify",{init:function(e){if(!e.blockless){var t=new r(e,"justifyleft","left"),n=new r(e,"justifycenter","center"),i=new r(e,"justifyright","right"),o=new r(e,"justifyblock","justify");e.addCommand("justifyleft",t),e.addCommand("justifycenter",n),e.addCommand("justifyright",i),e.addCommand("justifyblock",o),e.ui.addButton&&(e.ui.addButton("JustifyLeft",{label:e.lang.justify.left,command:"justifyleft",toolbar:"align,10"}),e.ui.addButton("JustifyCenter",{label:e.lang.justify.center,command:"justifycenter",toolbar:"align,20"}),e.ui.addButton("JustifyRight",{label:e.lang.justify.right,command:"justifyright",toolbar:"align,30"}),e.ui.addButton("JustifyBlock",{label:e.lang.justify.block,command:"justifyblock",toolbar:"align,40"})),e.on("dirChanged",a)}}})}(),CKEDITOR.plugins.add("menubutton",{requires:"button,menu",onLoad:function(){var t=function(t){var n=this._,e=n.menu;n.state!==CKEDITOR.TRISTATE_DISABLED&&(n.on&&e?e.hide():(n.previousState=n.state,e||((e=n.menu=new CKEDITOR.menu(t,{panel:{className:"cke_menu_panel",attributes:{"aria-label":t.lang.common.options}}})).onHide=CKEDITOR.tools.bind(function(){var e=this.command?t.getCommand(this.command).modes:this.modes;this.setState(!e||e[t.mode]?n.previousState:CKEDITOR.TRISTATE_DISABLED),n.on=0},this),this.onMenu&&e.addListener(this.onMenu)),this.setState(CKEDITOR.TRISTATE_ON),n.on=1,setTimeout(function(){e.show(CKEDITOR.document.getById(n.id),4)},0)))};CKEDITOR.ui.menuButton=CKEDITOR.tools.createClass({base:CKEDITOR.ui.button,$:function(e){delete e.panel,this.base(e),this.hasArrow=!0,this.click=t},statics:{handler:{create:function(e){return new CKEDITOR.ui.menuButton(e)}}}})},beforeInit:function(e){e.ui.addHandler(CKEDITOR.UI_MENUBUTTON,CKEDITOR.ui.menuButton.handler)}}),CKEDITOR.UI_MENUBUTTON="menubutton",CKEDITOR.plugins.add("language",{requires:"menubutton",init:function(i){var e,t,n,o,r=i.config.language_list||["ar:Arabic:rtl","fr:French","es:Spanish"],a=this,s=i.lang.language,l={};for(i.addCommand("language",{allowedContent:"span[!lang,!dir]",requiredContent:"span[lang,dir]",contextSensitive:!0,exec:function(e,t){var n=l["language_"+t];n&&e[n.style.checkActive(e.elementPath(),e)?"removeStyle":"applyStyle"](n.style)},refresh:function(e){this.setState(a.getCurrentLangElement(e)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)}}),o=0;o<r.length;o++)t=(e=r[o].split(":"))[0],l[n="language_"+t]={label:e[1],langId:t,group:"language",order:o,ltr:"rtl"!=(""+e[2]).toLowerCase(),onClick:function(){i.execCommand("language",this.langId)},role:"menuitemcheckbox"},l[n].style=new CKEDITOR.style({element:"span",attributes:{lang:t,dir:l[n].ltr?"ltr":"rtl"}});l.language_remove={label:s.remove,group:"language_remove",state:CKEDITOR.TRISTATE_DISABLED,order:l.length,onClick:function(){var e=a.getCurrentLangElement(i);e&&i.execCommand("language",e.getAttribute("lang"))}},i.addMenuGroup("language",1),i.addMenuGroup("language_remove"),i.addMenuItems(l),i.ui.add("Language",CKEDITOR.UI_MENUBUTTON,{label:s.button,allowedContent:"span[!lang,!dir]",requiredContent:"span[lang,dir]",toolbar:"bidi,30",command:"language",onMenu:function(){var e,t={},n=a.getCurrentLangElement(i);for(e in l)t[e]=CKEDITOR.TRISTATE_OFF;return t.language_remove=n?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,n&&(t["language_"+n.getAttribute("lang")]=CKEDITOR.TRISTATE_ON),t}})},getCurrentLangElement:function(e){var t,n=e.elementPath();if(e=n&&n.elements,n)for(var i=0;i<e.length;i++)n=e[i],!t&&"span"==n.getName()&&n.hasAttribute("dir")&&n.hasAttribute("lang")&&(t=n);return t}}),function(){function u(e){return e.replace(/'/g,"\\$&")}function h(e){for(var t,n=e.length,i=[],o=0;o<n;o++)t=e.charCodeAt(o),i.push(t);return"String.fromCharCode("+i.join(",")+")"}function p(e,t){var n,i,o=e.plugins.link,r=o.compiledProtectionFunction.params;i=[o.compiledProtectionFunction.name,"("];for(var a=0;a<r.length;a++)n=t[o=r[a].toLowerCase()],0<a&&i.push(","),i.push("'",n?u(encodeURIComponent(t[o])):"","'");return i.push(")"),i.join("")}function t(e){var i;return(e=e.config.emailProtection||"")&&"encode"!=e&&(i={},e.replace(/^([^(]+)\(([^)]+)\)$/,function(e,t,n){i.name=t,i.params=[],n.replace(/[^,\s]+/g,function(e){i.params.push(e)})})),i}CKEDITOR.plugins.add("link",{requires:"dialog,fakeobjects",onLoad:function(){function e(e){return n.replace(/%1/g,"rtl"==e?"right":"left").replace(/%2/g,"cke_contents_"+e)}var t="background:url("+CKEDITOR.getUrl(this.path+"images"+(CKEDITOR.env.hidpi?"/hidpi":"")+"/anchor.png")+") no-repeat %1 center;border:1px dotted #00f;background-size:16px;",n=".%2 a.cke_anchor,.%2 a.cke_anchor_empty,.cke_editable.%2 a[name],.cke_editable.%2 a[data-cke-saved-name]{"+t+"padding-%1:18px;cursor:auto;}.%2 img.cke_anchor{"+t+"width:16px;min-height:15px;height:1.15em;vertical-align:text-bottom;}";CKEDITOR.addCss(e("ltr")+e("rtl"))},init:function(n){var e="a[!href]";CKEDITOR.dialog.isTabEnabled(n,"link","advanced")&&(e=e.replace("]",",accesskey,charset,dir,id,lang,name,rel,tabindex,title,type,download]{*}(*)")),CKEDITOR.dialog.isTabEnabled(n,"link","target")&&(e=e.replace("]",",target,onclick]")),n.addCommand("link",new CKEDITOR.dialogCommand("link",{allowedContent:e,requiredContent:"a[href]"})),n.addCommand("anchor",new CKEDITOR.dialogCommand("anchor",{allowedContent:"a[!name,id]",requiredContent:"a[name]"})),n.addCommand("unlink",new CKEDITOR.unlinkCommand),n.addCommand("removeAnchor",new CKEDITOR.removeAnchorCommand),n.setKeystroke(CKEDITOR.CTRL+76,"link"),n.ui.addButton&&(n.ui.addButton("Link",{label:n.lang.link.toolbar,command:"link",toolbar:"links,10"}),n.ui.addButton("Unlink",{label:n.lang.link.unlink,command:"unlink",toolbar:"links,20"}),n.ui.addButton("Anchor",{label:n.lang.link.anchor.toolbar,command:"anchor",toolbar:"links,30"})),CKEDITOR.dialog.add("link",this.path+"dialogs/link.js"),CKEDITOR.dialog.add("anchor",this.path+"dialogs/anchor.js"),n.on("doubleclick",function(e){var t=CKEDITOR.plugins.link.getSelectedLink(n)||e.data.element.getAscendant("a",1);t&&!t.isReadOnly()&&(t.is("a")?(e.data.dialog=!t.getAttribute("name")||t.getAttribute("href")&&t.getChildCount()?"link":"anchor",e.data.link=t):CKEDITOR.plugins.link.tryRestoreFakeAnchor(n,t)&&(e.data.dialog="anchor"))},null,null,0),n.on("doubleclick",function(e){e.data.dialog in{link:1,anchor:1}&&e.data.link&&n.getSelection().selectElement(e.data.link)},null,null,20),n.addMenuItems&&n.addMenuItems({anchor:{label:n.lang.link.anchor.menu,command:"anchor",group:"anchor",order:1},removeAnchor:{label:n.lang.link.anchor.remove,command:"removeAnchor",group:"anchor",order:5},link:{label:n.lang.link.menu,command:"link",group:"link",order:1},unlink:{label:n.lang.link.unlink,command:"unlink",group:"link",order:5}}),n.contextMenu&&n.contextMenu.addListener(function(e){if(!e||e.isReadOnly())return null;if(!(e=CKEDITOR.plugins.link.tryRestoreFakeAnchor(n,e))&&!(e=CKEDITOR.plugins.link.getSelectedLink(n)))return null;var t={};return e.getAttribute("href")&&e.getChildCount()&&(t={link:CKEDITOR.TRISTATE_OFF,unlink:CKEDITOR.TRISTATE_OFF}),e&&e.hasAttribute("name")&&(t.anchor=t.removeAnchor=CKEDITOR.TRISTATE_OFF),t}),this.compiledProtectionFunction=t(n)},afterInit:function(n){n.dataProcessor.dataFilter.addRules({elements:{a:function(e){return e.attributes.name?e.children.length?null:n.createFakeParserElement(e,"cke_anchor","anchor"):null}}});var e=n._.elementsPath&&n._.elementsPath.filters;e&&e.push(function(e,t){if("a"==t&&(CKEDITOR.plugins.link.tryRestoreFakeAnchor(n,e)||e.getAttribute("name")&&(!e.getAttribute("href")||!e.getChildCount())))return"anchor"})}});var c=/^javascript:/,d=/^mailto:([^?]+)(?:\?(.+))?$/,f=/subject=([^;?:@&=$,\/]*)/i,m=/body=([^;?:@&=$,\/]*)/i,g=/^#(.*)$/,v=/^((?:http|https|ftp|news):\/\/)?(.*)$/,T=/^(_(?:self|top|parent|blank))$/,y=/^javascript:void\(location\.href='mailto:'\+String\.fromCharCode\(([^)]+)\)(?:\+'(.*)')?\)$/,E=/^javascript:([^(]+)\(([^)]+)\)$/,b=/\s*window.open\(\s*this\.href\s*,\s*(?:'([^']*)'|null)\s*,\s*'([^']*)'\s*\)\s*;\s*return\s*false;*\s*/,C=/(?:^|,)([^=]+)=(\d+|yes|no)/gi,_={id:"advId",dir:"advLangDir",accessKey:"advAccessKey",name:"advName",lang:"advLangCode",tabindex:"advTabIndex",title:"advTitle",type:"advContentType","class":"advCSSClasses",charset:"advCharset",style:"advStyles",rel:"advRel"};CKEDITOR.plugins.link={getSelectedLink:function(e,t){var n,i=e.getSelection(),o=i.getSelectedElement(),r=i.getRanges(),a=[];if(!t&&o&&o.is("a"))return o;for(o=0;o<r.length;o++)if((n=i.getRanges()[o]).shrink(CKEDITOR.SHRINK_TEXT,!1,{skipBogus:!0}),(n=e.elementPath(n.getCommonAncestor()).contains("a",1))&&t)a.push(n);else if(n)return n;return t?a:null},getEditorAnchors:function(e){for(var t,n=(i=(n=e.editable()).isInline()&&!e.plugins.divarea?e.document:n).getElementsByTag("a"),i=i.getElementsByTag("img"),o=[],r=0;t=n.getItem(r++);)(t.data("cke-saved-name")||t.hasAttribute("name"))&&o.push({name:t.data("cke-saved-name")||t.getAttribute("name"),id:t.getAttribute("id")});for(r=0;t=i.getItem(r++);)(t=this.tryRestoreFakeAnchor(e,t))&&o.push({name:t.getAttribute("name"),id:t.getAttribute("id")});return o},fakeAnchor:!0,tryRestoreFakeAnchor:function(e,t){if(t&&t.data("cke-real-element-type")&&"anchor"==t.data("cke-real-element-type")){var n=e.restoreRealElement(t);if(n.data("cke-saved-name"))return n}},parseLinkAttributes:function(e,t){var n,i=t&&(t.data("cke-saved-href")||t.getAttribute("href"))||"",a=e.plugins.link.compiledProtectionFunction,o=e.config.emailProtection,s={};if(i.match(c)&&("encode"==o?i=i.replace(y,function(e,t,n){return n=n||"","mailto:"+String.fromCharCode.apply(String,t.split(","))+n.replace(/\\'/g,"'")}):o&&i.replace(E,function(e,t,n){if(t==a.name){s.type="email",e=s.email={},t=/(^')|('$)/g;for(var i,o=(n=n.match(/[^,\s]+/g)).length,r=0;r<o;r++)i=decodeURIComponent(i=n[r].replace(t,"").replace(/\\'/g,"'")),e[a.params[r].toLowerCase()]=i;e.address=[e.name,e.domain].join("@")}})),!s.type)if(o=i.match(g))s.type="anchor",s.anchor={},s.anchor.name=s.anchor.id=o[1];else if(o=i.match(d)){n=i.match(f),i=i.match(m),s.type="email";var r=s.email={};r.address=o[1],n&&(r.subject=decodeURIComponent(n[1])),i&&(r.body=decodeURIComponent(i[1]))}else i&&(n=i.match(v))&&(s.type="url",s.url={},s.url.protocol=n[1],s.url.url=n[2]);if(t){if(i=t.getAttribute("target"))s.target={type:i.match(T)?i:"frame",name:i};else if(i=(i=t.data("cke-pa-onclick")||t.getAttribute("onclick"))&&i.match(b))for(s.target={type:"popup",name:i[1]};o=C.exec(i[2]);)"yes"!=o[2]&&"1"!=o[2]||o[1]in{height:1,width:1,top:1,left:1}?isFinite(o[2])&&(s.target[o[1]]=o[2]):s.target[o[1]]=!0;null!==t.getAttribute("download")&&(s.download=!0);var l;i={};for(l in _)(o=t.getAttribute(l))&&(i[_[l]]=o);(l=t.data("cke-saved-name")||i.advName)&&(i.advName=l),CKEDITOR.tools.isEmpty(i)||(s.advanced=i)}return s},getLinkAttributes:function(e,t){var n=e.config.emailProtection||"",i={};switch(t.type){case"url":n=t.url&&void 0!==t.url.protocol?t.url.protocol:"http://";var o=t.url&&CKEDITOR.tools.trim(t.url.url)||"";i["data-cke-saved-href"]=0===o.indexOf("/")?o:n+o;break;case"anchor":n=t.anchor&&t.anchor.id,i["data-cke-saved-href"]="#"+(t.anchor&&t.anchor.name||n||"");break;case"email":o=(s=t.email).address;switch(n){case"":case"encode":var r=encodeURIComponent(s.subject||""),a=encodeURIComponent(s.body||""),s=[];r&&s.push("subject="+r),a&&s.push("body="+a),s=s.length?"?"+s.join("&"):"","encode"==n?(n=["javascript:void(location.href='mailto:'+",h(o)],s&&n.push("+'",u(s),"'"),n.push(")")):n=["mailto:",o,s];break;default:n=o.split("@",2),s.name=n[0],s.domain=n[1],n=["javascript:",p(e,s)]}i["data-cke-saved-href"]=n.join("")}if(t.target)if("popup"==t.target.type){n=["window.open(this.href, '",t.target.name||"","', '"];var l="resizable status location toolbar menubar fullscreen scrollbars dependent".split(" ");for(o=l.length,r=function(e){t.target[e]&&l.push(e+"="+t.target[e])},s=0;s<o;s++)l[s]+=t.target[l[s]]?"=yes":"=no";r("width"),r("left"),r("height"),r("top"),n.push(l.join(","),"'); return false;"),i["data-cke-pa-onclick"]=n.join("")}else"notSet"!=t.target.type&&t.target.name&&(i.target=t.target.name);if(t.download&&(i.download=""),t.advanced){for(var c in _)(n=t.advanced[_[c]])&&(i[c]=n);i.name&&(i["data-cke-saved-name"]=i.name)}for(var d in i["data-cke-saved-href"]&&(i.href=i["data-cke-saved-href"]),c={target:1,onclick:1,"data-cke-pa-onclick":1,"data-cke-saved-name":1,download:1},t.advanced&&CKEDITOR.tools.extend(c,_),i)delete c[d];return{set:i,removed:CKEDITOR.tools.objectKeys(c)}},showDisplayTextForElement:function(e,t){var n={img:1,table:1,tbody:1,thead:1,tfoot:1,input:1,select:1,textarea:1},i=t.getSelection();return!(t.widgets&&t.widgets.focused||i&&1<i.getRanges().length)&&(!e||!e.getName||!e.is(n))}},CKEDITOR.unlinkCommand=function(){},CKEDITOR.unlinkCommand.prototype={exec:function(e){if(CKEDITOR.env.ie){var t,n=e.getSelection().getRanges()[0],i=n.getPreviousEditableNode()&&n.getPreviousEditableNode().getAscendant("a",!0)||n.getNextEditableNode()&&n.getNextEditableNode().getAscendant("a",!0);n.collapsed&&i&&(t=n.createBookmark(),n.selectNodeContents(i),n.select())}i=new CKEDITOR.style({element:"a",type:CKEDITOR.STYLE_INLINE,alwaysRemoveElement:1}),e.removeStyle(i),t&&(n.moveToBookmark(t),n.select())},refresh:function(e,t){var n=t.lastElement&&t.lastElement.getAscendant("a",!0);n&&"a"==n.getName()&&n.getAttribute("href")&&n.getChildCount()?this.setState(CKEDITOR.TRISTATE_OFF):this.setState(CKEDITOR.TRISTATE_DISABLED)},contextSensitive:1,startDisabled:1,requiredContent:"a[href]",editorFocus:1},CKEDITOR.removeAnchorCommand=function(){},CKEDITOR.removeAnchorCommand.prototype={exec:function(e){var t,n=e.getSelection(),i=n.createBookmarks();n&&(t=n.getSelectedElement())&&(t.getChildCount()?t.is("a"):CKEDITOR.plugins.link.tryRestoreFakeAnchor(e,t))?t.remove(1):(t=CKEDITOR.plugins.link.getSelectedLink(e))&&(t.hasAttribute("href")?(t.removeAttributes({name:1,"data-cke-saved-name":1}),t.removeClass("cke_anchor")):t.remove(1)),n.selectBookmarks(i)},requiredContent:"a[name]"},CKEDITOR.tools.extend(CKEDITOR.config,{linkShowAdvancedTab:!0,linkShowTargetTab:!0})}(),function(){function v(t,n,e){function i(e){!(l=d[e?"getFirst":"getLast"]())||l.is&&l.isBlockBoundary()||!(c=n.root[e?"getPrevious":"getNext"](CKEDITOR.dom.walker.invisible(!0)))||c.is&&c.isBlockBoundary({br:1})||t.document.createElement("br")[e?"insertBefore":"insertAfter"](l)}for(var o=CKEDITOR.plugins.list.listToArray(n.root,e),r=[],a=0;a<n.contents.length;a++){var s=n.contents[a];(s=s.getAscendant("li",!0))&&!s.getCustomData("list_item_processed")&&(r.push(s),CKEDITOR.dom.element.setMarker(e,s,"list_item_processed",!0))}for(s=null,a=0;a<r.length;a++)o[s=r[a].getCustomData("listarray_index")].indent=-1;for(a=s+1;a<o.length;a++)if(o[a].indent>o[a-1].indent+1){for(r=o[a-1].indent+1-o[a].indent,s=o[a].indent;o[a]&&o[a].indent>=s;)o[a].indent+=r,a++;a--}var l,c,d=CKEDITOR.plugins.list.arrayToList(o,e,null,t.config.enterMode,n.root.getAttribute("dir")).listNode;i(!0),i(),d.replace(n.root),t.fire("contentDomInvalidated")}function e(e,t){this.name=e,this.context=this.type=t,this.allowedContent=t+" li",this.requiredContent=t}function c(e,t,n,i){for(var o,r;o=e[i?"getLast":"getFirst"](a);)(r=o.getDirection(1))!==t.getDirection(1)&&o.setAttribute("dir",r),o.remove(),n?o[i?"insertBefore":"insertAfter"](n):t.append(o,i)}function T(n){function e(e){var t=n[e?"getPrevious":"getNext"](D);t&&t.type==CKEDITOR.NODE_ELEMENT&&t.is(n.getName())&&(c(n,t,null,!e),n.remove(),n=t)}e(),e(1)}function u(e){return e.type==CKEDITOR.NODE_ELEMENT&&(e.getName()in CKEDITOR.dtd.$block||e.getName()in CKEDITOR.dtd.$listItem)&&CKEDITOR.dtd[e.getName()]["#"]}function h(e,t,n){e.fire("saveSnapshot"),n.enlarge(CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS);var i=n.extractContents();t.trim(!1,!0);var o=t.createBookmark(),r=(a=new CKEDITOR.dom.elementPath(t.startContainer)).block,a=a.lastElement.getAscendant("li",1)||r,s=(l=new CKEDITOR.dom.elementPath(n.startContainer)).contains(CKEDITOR.dtd.$listItem),l=l.contains(CKEDITOR.dtd.$list);for(r?(r=r.getBogus())&&r.remove():l&&(r=l.getPrevious(D))&&f(r)&&r.remove(),(r=i.getLast())&&r.type==CKEDITOR.NODE_ELEMENT&&r.is("br")&&r.remove(),(r=t.startContainer.getChild(t.startOffset))?i.insertBefore(r):t.startContainer.append(i),s&&(i=p(s))&&(a.contains(s)?(c(i,s.getParent(),s),i.remove()):a.append(i));n.checkStartOfBlock()&&n.checkEndOfBlock()&&(i=(l=n.startPath()).block);)i.is("li")&&(a=i.getParent(),i.equals(a.getLast(D))&&i.equals(a.getFirst(D))&&(i=a)),n.moveToPosition(i,CKEDITOR.POSITION_BEFORE_START),i.remove();n=n.clone(),i=e.editable(),n.setEndAt(i,CKEDITOR.POSITION_BEFORE_END),(n=new CKEDITOR.dom.walker(n)).evaluator=function(e){return D(e)&&!f(e)},(n=n.next())&&n.type==CKEDITOR.NODE_ELEMENT&&n.getName()in CKEDITOR.dtd.$list&&T(n),t.moveToBookmark(o),t.select(),e.fire("saveSnapshot")}function p(e){return(e=e.getLast(D))&&e.type==CKEDITOR.NODE_ELEMENT&&e.getName()in O?e:null}var O={ol:1,ul:1},t=CKEDITOR.dom.walker.whitespaces(),I=CKEDITOR.dom.walker.bookmark(),D=function(e){return!(t(e)||I(e))},f=CKEDITOR.dom.walker.bogus();CKEDITOR.plugins.list={listToArray:function(e,t,n,i,o){if(!O[e.getName()])return[];i||(i=0),n||(n=[]);for(var r=0,a=e.getChildCount();r<a;r++){var s=e.getChild(r);if(s.type==CKEDITOR.NODE_ELEMENT&&s.getName()in CKEDITOR.dtd.$list&&CKEDITOR.plugins.list.listToArray(s,t,n,i+1),"li"==s.$.nodeName.toLowerCase()){var l={parent:e,
indent:i,element:s,contents:[]};o?l.grandparent=o:(l.grandparent=e.getParent(),l.grandparent&&"li"==l.grandparent.$.nodeName.toLowerCase()&&(l.grandparent=l.grandparent.getParent())),t&&CKEDITOR.dom.element.setMarker(t,s,"listarray_index",n.length),n.push(l);for(var c,d=0,u=s.getChildCount();d<u;d++)(c=s.getChild(d)).type==CKEDITOR.NODE_ELEMENT&&O[c.getName()]?CKEDITOR.plugins.list.listToArray(c,t,n,i+1,l.grandparent):l.contents.push(c)}}return n},arrayToList:function(e,t,n,i,o){if(n||(n=0),!e||e.length<n+1)return null;for(var r,a,s,l=e[n].parent.getDocument(),c=new CKEDITOR.dom.documentFragment(l),d=null,u=n,h=Math.max(e[n].indent,0),p=null,f=i==CKEDITOR.ENTER_P?"p":"div";;){var m=e[u];if(r=m.grandparent,a=m.element.getDirection(1),m.indent==h){for(d&&e[u].parent.getName()==d.getName()||(d=e[u].parent.clone(!1,1),o&&d.setAttribute("dir",o),c.append(d)),p=d.append(m.element.clone(0,1)),a!=d.getDirection(1)&&p.setAttribute("dir",a),r=0;r<m.contents.length;r++)p.append(m.contents[r].clone(1,1));u++}else if(m.indent==Math.max(h,0)+1)m=e[u-1].element.getDirection(1),u=CKEDITOR.plugins.list.arrayToList(e,null,u,i,m!=a?a:null),!p.getChildCount()&&CKEDITOR.env.needsNbspFiller&&l.$.documentMode<=7&&p.append(l.createText("\xa0")),p.append(u.listNode),u=u.nextIndex;else{if(-1!=m.indent||n||!r)return null;O[r.getName()]?(p=m.element.clone(!1,!0),a!=r.getDirection(1)&&p.setAttribute("dir",a)):p=new CKEDITOR.dom.documentFragment(l);d=r.getDirection(1)!=a;var g,v,T=m.element,y=T.getAttribute("class"),E=T.getAttribute("style"),b=p.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT&&(i!=CKEDITOR.ENTER_BR||d||E||y),C=m.contents.length;for(r=0;r<C;r++)if(g=m.contents[r],I(g)&&1<C)b?v=g.clone(1,1):p.append(g.clone(1,1));else if(g.type==CKEDITOR.NODE_ELEMENT&&g.isBlockBoundary()){d&&!g.getDirection()&&g.setAttribute("dir",a),s=g;var _=T.getAttribute("style");_&&s.setAttribute("style",_.replace(/([^;])$/,"$1;")+(s.getAttribute("style")||"")),y&&g.addClass(y),s=null,v&&(p.append(v),v=null),p.append(g.clone(1,1))}else b?(s||(s=l.createElement(f),p.append(s),d&&s.setAttribute("dir",a)),E&&s.setAttribute("style",E),y&&s.setAttribute("class",y),v&&(s.append(v),v=null),s.append(g.clone(1,1))):p.append(g.clone(1,1));v&&((s||p).append(v),v=null),p.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT&&u!=e.length-1&&(CKEDITOR.env.needsBrFiller&&(a=p.getLast())&&a.type==CKEDITOR.NODE_ELEMENT&&a.is("br")&&a.remove(),(a=p.getLast(D))&&a.type==CKEDITOR.NODE_ELEMENT&&a.is(CKEDITOR.dtd.$block)||p.append(l.createElement("br"))),"div"!=(a=p.$.nodeName.toLowerCase())&&"p"!=a||p.appendBogus(),c.append(p),d=null,u++}if(s=null,e.length<=u||Math.max(e[u].indent,0)<h)break}if(t)for(e=c.getFirst();e;){if(e.type==CKEDITOR.NODE_ELEMENT&&(CKEDITOR.dom.element.clearMarkers(t,e),e.getName()in CKEDITOR.dtd.$listItem&&(l=o=i=void 0,i=(n=e).getDirection()))){for(o=n.getParent();o&&!(l=o.getDirection());)o=o.getParent();i==l&&n.removeAttribute("dir")}e=e.getNextSourceNode()}return{listNode:c,nextIndex:u}}};var y=/^h[1-6]$/,a=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_ELEMENT);e.prototype={exec:function(e){this.refresh(e,e.elementPath());var t=e.config,n=e.getSelection(),i=n&&n.getRanges();if(this.state==CKEDITOR.TRISTATE_OFF)if((r=e.editable()).getFirst(D)){var o=1==i.length&&i[0];(t=o&&o.getEnclosedNode())&&t.is&&this.type==t.getName()&&this.setState(CKEDITOR.TRISTATE_ON)}else t.enterMode==CKEDITOR.ENTER_BR?r.appendBogus():i[0].fixBlock(1,t.enterMode==CKEDITOR.ENTER_P?"p":"div"),n.selectRanges(i);t=n.createBookmarks(!0);for(var r=[],a={},s=(i=i.createIterator(),0);(o=i.getNextRange())&&++s;){var l=(m=o.getBoundaryNodes()).startNode,c=m.endNode;for(l.type==CKEDITOR.NODE_ELEMENT&&"td"==l.getName()&&o.setStartAt(m.startNode,CKEDITOR.POSITION_AFTER_START),c.type==CKEDITOR.NODE_ELEMENT&&"td"==c.getName()&&o.setEndAt(m.endNode,CKEDITOR.POSITION_BEFORE_END),(o=o.createIterator()).forceBrBreak=this.state==CKEDITOR.TRISTATE_OFF;m=o.getNextParagraph();)if(!m.getCustomData("list_block")){CKEDITOR.dom.element.setMarker(a,m,"list_block",1);l=(u=e.elementPath(m)).elements,c=0;for(var d,u=u.blockLimit,h=l.length-1;0<=h&&(d=l[h]);h--)if(O[d.getName()]&&u.contains(d)){u.removeCustomData("list_group_object_"+s),(l=d.getCustomData("list_group_object"))?l.contents.push(m):(l={root:d,contents:[m]},r.push(l),CKEDITOR.dom.element.setMarker(a,d,"list_group_object",l)),c=1;break}c||((c=u).getCustomData("list_group_object_"+s)?c.getCustomData("list_group_object_"+s).contents.push(m):(l={root:c,contents:[m]},CKEDITOR.dom.element.setMarker(a,c,"list_group_object_"+s,l),r.push(l)))}}for(d=[];0<r.length;)if(l=r.shift(),this.state==CKEDITOR.TRISTATE_OFF)if(O[l.root.getName()]){for(i=e,s=l,l=a,o=d,c=CKEDITOR.plugins.list.listToArray(s.root,l),u=[],m=0;m<s.contents.length;m++)(h=(h=s.contents[m]).getAscendant("li",!0))&&!h.getCustomData("list_item_processed")&&(u.push(h),CKEDITOR.dom.element.setMarker(l,h,"list_item_processed",!0));h=s.root.getDocument();for(var p=void 0,f=void 0,m=0;m<u.length;m++){var g=u[m].getCustomData("listarray_index");(p=c[g].parent).is(this.type)||(f=h.createElement(this.type),p.copyAttributes(f,{start:1,type:1}),f.removeStyle("list-style-type"),c[g].parent=f)}for(l=CKEDITOR.plugins.list.arrayToList(c,l,null,i.config.enterMode),c=void 0,u=l.listNode.getChildCount(),m=0;m<u&&(c=l.listNode.getChild(m));m++)c.getName()==this.type&&o.push(c);l.listNode.replace(s.root),i.fire("contentDomInvalidated")}else{for(c=e,m=d,u=(o=l).contents,i=o.root.getDocument(),s=[],1==u.length&&u[0].equals(o.root)&&(l=i.createElement("div"),u[0].moveChildren&&u[0].moveChildren(l),u[0].append(l),u[0]=l),o=o.contents[0].getParent(),h=0;h<u.length;h++)o=o.getCommonAncestor(u[h].getParent());for(p=c.config.useComputedState,c=l=void 0,p=void 0===p||p,h=0;h<u.length;h++)for(f=u[h];g=f.getParent();){if(g.equals(o)){s.push(f),!c&&f.getDirection()&&(c=1),f=f.getDirection(p),null!==l&&(l=l&&l!=f?null:f);break}f=g}if(!(s.length<1)){for(u=s[s.length-1].getNext(),h=i.createElement(this.type),m.push(h),p=m=void 0;s.length;)m=s.shift(),p=i.createElement("li"),(f=m).is("pre")||y.test(f.getName())||"false"==f.getAttribute("contenteditable")?m.appendTo(p):(m.copyAttributes(p),l&&m.getDirection()&&(p.removeStyle("direction"),p.removeAttribute("dir")),m.moveChildren(p),m.remove()),p.appendTo(h);l&&c&&h.setAttribute("dir",l),u?h.insertBefore(u):h.appendTo(o)}}else this.state==CKEDITOR.TRISTATE_ON&&O[l.root.getName()]&&v.call(this,e,l,a);for(h=0;h<d.length;h++)T(d[h]);CKEDITOR.dom.element.clearAllMarkers(a),n.selectBookmarks(t),e.focus()},refresh:function(e,t){var n=t.contains(O,1),i=t.blockLimit||t.root;n&&i.contains(n)?this.setState(n.is(this.type)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF):this.setState(CKEDITOR.TRISTATE_OFF)}},CKEDITOR.plugins.add("list",{requires:"indentlist",init:function(d){d.blockless||(d.addCommand("numberedlist",new e("numberedlist","ol")),d.addCommand("bulletedlist",new e("bulletedlist","ul")),d.ui.addButton&&(d.ui.addButton("NumberedList",{label:d.lang.list.numberedlist,command:"numberedlist",directional:!0,toolbar:"list,10"}),d.ui.addButton("BulletedList",{label:d.lang.list.bulletedlist,command:"bulletedlist",directional:!0,toolbar:"list,20"})),d.on("key",function(e){var t,n=e.data.domEvent.getKey();if("wysiwyg"==d.mode&&n in{8:1,46:1}){var i=d.getSelection().getRanges()[0],o=i&&i.startPath();if(i&&i.collapsed){var r,a=8==n,s=d.editable(),l=new CKEDITOR.dom.walker(i.clone());if(l.evaluator=function(e){return D(e)&&!f(e)},l.guard=function(e,t){return!(t&&e.type==CKEDITOR.NODE_ELEMENT&&e.is("table"))},n=i.clone(),a)if((r=o.contains(O))&&i.checkBoundaryOfElement(r,CKEDITOR.START)&&(r=r.getParent())&&r.is("li")&&(r=p(r))?(r=(t=r).getPrevious(D),n.moveToPosition(r&&f(r)?r:t,CKEDITOR.POSITION_BEFORE_START)):(l.range.setStartAt(s,CKEDITOR.POSITION_AFTER_START),l.range.setEnd(i.startContainer,i.startOffset),(r=l.previous())&&r.type==CKEDITOR.NODE_ELEMENT&&(r.getName()in O||r.is("li"))&&(r.is("li")||(l.range.selectNodeContents(r),l.reset(),l.evaluator=u,r=l.previous()),t=r,n.moveToElementEditEnd(t),n.moveToPosition(n.endPath().block,CKEDITOR.POSITION_BEFORE_END))),t)h(d,n,i),e.cancel();else{var c=o.contains(O);c&&i.checkBoundaryOfElement(c,CKEDITOR.START)&&(t=c.getFirst(D),i.checkBoundaryOfElement(t,CKEDITOR.START)&&(r=c.getPrevious(D),p(t)?r&&(i.moveToElementEditEnd(r),i.select()):d.execCommand("outdent"),e.cancel()))}else if(t=o.contains("li")){if(l.range.setEndAt(s,CKEDITOR.POSITION_BEFORE_END),a=(s=t.getLast(D))&&u(s)?s:t,o=0,(r=l.next())&&r.type==CKEDITOR.NODE_ELEMENT&&r.getName()in O&&r.equals(s)?(o=1,r=l.next()):i.checkBoundaryOfElement(a,CKEDITOR.END)&&(o=2),o&&r){if((i=i.clone()).moveToElementEditStart(r),1==o&&(n.optimize(),!n.startContainer.equals(t))){for(t=n.startContainer;t.is(CKEDITOR.dtd.$inline);)t=(c=t).getParent();c&&n.moveToPosition(c,CKEDITOR.POSITION_AFTER_END)}2==o&&(n.moveToPosition(n.endPath().block,CKEDITOR.POSITION_BEFORE_END),i.endPath().block&&i.moveToPosition(i.endPath().block,CKEDITOR.POSITION_AFTER_START)),h(d,n,i),e.cancel()}}else l.range.setEndAt(s,CKEDITOR.POSITION_BEFORE_END),(r=l.next())&&r.type==CKEDITOR.NODE_ELEMENT&&r.is(O)&&(r=r.getFirst(D),o.block&&i.checkStartOfBlock()&&i.checkEndOfBlock()?(o.block.remove(),i.moveToElementEditStart(r),i.select()):p(r)?(i.moveToElementEditStart(r),i.select()):((i=i.clone()).moveToElementEditStart(r),h(d,n,i)),e.cancel());setTimeout(function(){d.selectionChange(1)})}}}))}})}(),CKEDITOR.plugins.liststyle={requires:"dialog,contextmenu",init:function(e){var t;e.blockless||(t=new CKEDITOR.dialogCommand("numberedListStyle",{requiredContent:"ol",allowedContent:"ol{list-style-type}[start]; li{list-style-type}[value]",contentTransformations:[["ol: listTypeToStyle"]]}),t=e.addCommand("numberedListStyle",t),e.addFeature(t),CKEDITOR.dialog.add("numberedListStyle",this.path+"dialogs/liststyle.js"),t=new CKEDITOR.dialogCommand("bulletedListStyle",{requiredContent:"ul",allowedContent:"ul{list-style-type}",contentTransformations:[["ul: listTypeToStyle"]]}),t=e.addCommand("bulletedListStyle",t),e.addFeature(t),CKEDITOR.dialog.add("bulletedListStyle",this.path+"dialogs/liststyle.js"),e.addMenuGroup("list",108),e.addMenuItems({numberedlist:{label:e.lang.liststyle.numberedTitle,group:"list",command:"numberedListStyle"},bulletedlist:{label:e.lang.liststyle.bulletedTitle,group:"list",command:"bulletedListStyle"}}),e.contextMenu.addListener(function(e){if(!e||e.isReadOnly())return null;for(;e;){var t=e.getName();if("ol"==t)return{numberedlist:CKEDITOR.TRISTATE_OFF};if("ul"==t)return{bulletedlist:CKEDITOR.TRISTATE_OFF};e=e.getParent()}return null}))}},CKEDITOR.plugins.add("liststyle",CKEDITOR.plugins.liststyle),function(){function d(e,t,n){return y(t)&&y(n)&&n.equals(t.getNext(function(e){return!(Q(e)||Z(e)||E(e))}))}function u(e){this.upper=e[0],this.lower=e[1],this.set.apply(this,e.slice(2))}function c(e){var t=e.element;if(t&&y(t)&&(t=t.getAscendant(e.triggers,!0))&&e.editable.contains(t)){var n=a(t);if("true"==n.getAttribute("contenteditable"))return t;if(n.is(e.triggers))return n}return null}function h(e,t,n){return R(e,t),R(e,n),e=t.size.bottom,n=n.size.top,e&&n?0|(e+n)/2:e||n}function p(t,e,n){return e[n?"getPrevious":"getNext"](function(e){return e&&e.type==CKEDITOR.NODE_TEXT&&!Q(e)||y(e)&&!E(e)&&!T(t,e)})}function f(e,t,n){return t<e&&e<n}function a(e,t){if(e.data("cke-editable"))return null;for(t||(e=e.getParent());e&&!e.data("cke-editable");){if(e.hasAttribute("contenteditable"))return e;e=e.getParent()}return null}function m(c){var e=c.doc,t=i('<span contenteditable="false" style="'+V+"position:absolute;border-top:1px dashed "+c.boxColor+'"></span>',e),n=CKEDITOR.getUrl(this.path+"images/"+(N.hidpi?"hidpi/":"")+"icon"+(c.rtl?"-rtl":"")+".png");for(K(t,{attach:function(){return this.wrap.getParent()||this.wrap.appendTo(c.editable,!0),this},lineChildren:[K(i('<span title="'+c.editor.lang.magicline.title+'" contenteditable="false">&#8629;</span>',e),{base:V+"height:17px;width:17px;"+(c.rtl?"left":"right")+":17px;background:url("+n+") center no-repeat "+c.boxColor+";cursor:pointer;"+(N.hc?"font-size: 15px;line-height:14px;border:1px solid #fff;text-align:center;":"")+(N.hidpi?"background-size: 9px 10px;":""),looks:["top:-8px; border-radius: 2px;","top:-17px; border-radius: 2px 2px 0px 0px;","top:-1px; border-radius: 0px 0px 2px 2px;"]}),K(i(Y,e),{base:X+"left:0px;border-left-color:"+c.boxColor+";",looks:["border-width:8px 0 8px 8px;top:-8px","border-width:8px 0 0 8px;top:-8px","border-width:0 0 8px 8px;top:0px"]}),K(i(Y,e),{base:X+"right:0px;border-right-color:"+c.boxColor+";",looks:["border-width:8px 8px 8px 0;top:-8px","border-width:8px 8px 0 0;top:-8px","border-width:0 8px 8px 0;top:0px"]})],detach:function(){return this.wrap.getParent()&&this.wrap.remove(),this},mouseNear:function(){R(c,this);var e=c.holdDistance,t=this.size;return!!(t&&f(c.mouse.y,t.top-e,t.bottom+e)&&f(c.mouse.x,t.left-e,t.right+e))},place:function(){var e=c.view,t=c.editable,n=c.trigger,i=n.upper,o=n.lower,r=i||o,a=r.getParent(),s={};for(var l in this.trigger=n,i&&R(c,i,!0),o&&R(c,o,!0),R(c,a,!0),c.inInlineMode&&k(c,!0),a.equals(t)?(s.left=e.scroll.x,s.right=-e.scroll.x,s.width=""):(s.left=r.size.left-r.size.margin.left+e.scroll.x-(c.inInlineMode?e.editable.left+e.editable.border.left:0),s.width=r.size.outerWidth+r.size.margin.left+r.size.margin.right+e.scroll.x,s.right=""),i&&o?s.top=i.size.margin.bottom===o.size.margin.top?0|i.size.bottom+i.size.margin.bottom/2:i.size.margin.bottom<o.size.margin.top?i.size.bottom+i.size.margin.bottom:i.size.bottom+i.size.margin.bottom-o.size.margin.top:i?o||(s.top=i.size.bottom+i.size.margin.bottom):s.top=o.size.top-o.size.margin.top,n.is($)||f(s.top,e.scroll.y-15,e.scroll.y+5)?(s.top=c.inInlineMode?0:e.scroll.y,this.look($)):n.is(H)||f(s.top,e.pane.bottom-5,e.pane.bottom+15)?(s.top=c.inInlineMode?e.editable.height+e.editable.padding.top+e.editable.padding.bottom:e.pane.bottom-1,this.look(H)):(c.inInlineMode&&(s.top-=e.editable.top+e.editable.border.top),this.look(z)),c.inInlineMode&&(s.top--,s.top+=e.editable.scroll.top,s.left+=e.editable.scroll.left),s)s[l]=CKEDITOR.tools.cssLength(s[l]);this.setStyles(s)},look:function(e){if(this.oldLook!=e){for(var t,n=this.lineChildren.length;n--;)(t=this.lineChildren[n]).setAttribute("style",t.base+t.looks[0|e/2]);this.oldLook=e}},wrap:new s("span",c.doc)}),e=t.lineChildren.length;e--;)t.lineChildren[e].appendTo(t);t.look(z),t.appendTo(t.wrap),t.unselectable(),t.lineChildren[0].on("mouseup",function(e){t.detach(),g(c,function(e){var t=c.line.trigger;e[t.is(P)?"insertBefore":"insertAfter"](t.is(P)?t.lower:t.upper)},!0),c.editor.focus(),N.ie||c.enterMode==CKEDITOR.ENTER_BR||c.hotNode.scrollIntoView(),e.data.preventDefault(!0)}),t.on("mousedown",function(e){e.data.preventDefault(!0)}),c.line=t}function g(e,t,n){var i,o=new CKEDITOR.dom.range(e.doc),r=e.editor;N.ie&&e.enterMode==CKEDITOR.ENTER_BR?i=e.doc.createText(q):(i=(i=a(e.element,!0))&&i.data("cke-enter-mode")||e.enterMode,(i=new s(l[i],e.doc)).is("br")||e.doc.createText(q).appendTo(i)),n&&r.fire("saveSnapshot"),t(i),o.moveToPosition(i,CKEDITOR.POSITION_AFTER_START),r.getSelection().selectRanges([o]),e.hotNode=i,n&&r.fire("saveSnapshot")}function v(o,r){return{canUndo:!0,modes:{wysiwyg:1},exec:function(){function i(t){var e=N.ie&&N.version<9?" ":q,n=o.hotNode&&o.hotNode.getText()==e&&o.element.equals(o.hotNode)&&o.lastCmdDirection===!!r;g(o,function(e){n&&o.hotNode&&o.hotNode.remove(),e[r?"insertAfter":"insertBefore"](t),e.setAttributes({"data-cke-magicline-hot":1,"data-cke-magicline-dir":!!r}),o.lastCmdDirection=!!r}),N.ie||o.enterMode==CKEDITOR.ENTER_BR||o.hotNode.scrollIntoView(),o.line.detach()}return function(e){var t,n;(e=(e=e.getSelection().getStartElement()).getAscendant(U,1),_(o,e)||!e||e.equals(o.editable)||e.contains(o.editable))||((t=a(e))&&"false"==t.getAttribute("contenteditable")&&(e=t),o.element=e,y(t=p(o,e,!r))&&t.is(o.triggers)&&t.is(W)&&(!p(o,t,!r)||(n=p(o,t,!r))&&y(n)&&n.is(o.triggers))?i(t):y(n=c(o,e))&&(p(o,n,!r)?(e=p(o,n,!r))&&y(e)&&e.is(o.triggers)&&i(n):i(n)))}}()}}function T(e,t){if(!t||t.type!=CKEDITOR.NODE_ELEMENT||!t.$)return!1;var n=e.line;return n.wrap.equals(t)||n.wrap.contains(t)}function y(e){return e&&e.type==CKEDITOR.NODE_ELEMENT&&e.$}function E(e){return!!y(e)&&((t=b(e))||(t=!!y(e)&&!(!(t={left:1,right:1,center:1})[e.getComputedStyle("float")]&&!t[e.getAttribute("align")])),t);var t}function b(e){return!!{absolute:1,fixed:1}[e.getComputedStyle("position")]}function C(e,t){return y(t)?t.is(e.triggers):null}function _(e,t){if(!t)return!1;for(var n=t.getParents(1),i=n.length;i--;)for(var o=e.tabuList.length;o--;)if(n[i].hasAttribute(e.tabuList[o]))return!0;return!1}function O(t,e,n){return!!(e=e[n?"getLast":"getFirst"](function(e){return t.isRelevant(e)&&!e.is(o)}))&&(R(t,e),n?e.size.top>t.mouse.y:e.size.bottom<t.mouse.y)}function I(e){var t=e.editable,n=e.mouse,i=e.view,o=e.triggerOffset;k(e);var r=n.y>(e.inInlineMode?i.editable.top+i.editable.height/2:Math.min(i.editable.height,i.pane.height)/2);return(t=t[r?"getLast":"getFirst"](function(e){return!(Q(e)||Z(e))}))?(T(e,t)&&(t=e.line.wrap[r?"getPrevious":"getNext"](function(e){return!(Q(e)||Z(e))})),y(t)&&!E(t)&&C(e,t)?(R(e,t),!r&&0<=t.size.top&&f(n.y,0,t.size.top+o)?(e=e.inInlineMode||0===i.scroll.y?$:z,new u([null,t,P,B,e])):r&&t.size.bottom<=i.pane.height&&f(n.y,t.size.bottom-o,i.pane.height)?(e=e.inInlineMode||f(t.size.bottom,i.pane.height-o,i.pane.height)?H:z,new u([t,null,M,B,e])):null):null):null}function D(e){var t=e.mouse,n=e.view,i=e.triggerOffset,o=c(e);if(!o)return null;R(e,o);i=Math.min(i,0|o.size.outerHeight/2);var r,a,s=[];if(f(t.y,o.size.top-1,o.size.top+i))a=!1;else{if(!f(t.y,o.size.bottom-i,o.size.bottom+1))return null;a=!0}if(E(o)||O(e,o,a)||o.getParent().is(j))return null;var l=p(e,o,!a);if(l){if(l&&l.type==CKEDITOR.NODE_TEXT)return null;if(y(l)){if(E(l)||!C(e,l)||l.getParent().is(j))return null;s=[l,o][a?"reverse":"concat"]().concat([F,B])}}else o.equals(e.editable[a?"getLast":"getFirst"](e.isRelevant))?(k(e),a&&f(t.y,o.size.bottom-i,n.pane.height)&&f(o.size.bottom,n.pane.height-i,n.pane.height)?r=H:f(t.y,0,o.size.top+i)&&(r=$)):r=z,s=[null,o][a?"reverse":"concat"]().concat([a?M:P,B,r,o.equals(e.editable[a?"getLast":"getFirst"](e.isRelevant))?a?H:$:z]);return 0 in s?new u(s):null}function w(e,t,n,i){for(var o=t.getDocumentPosition(),r={},a={},s={},l={},c=ee.length;c--;)r[ee[c]]=parseInt(t.getComputedStyle.call(t,"border-"+ee[c]+"-width"),10)||0,s[ee[c]]=parseInt(t.getComputedStyle.call(t,"padding-"+ee[c]),10)||0,a[ee[c]]=parseInt(t.getComputedStyle.call(t,"margin-"+ee[c]),10)||0;return n&&!i||x(e,i),l.top=o.y-(n?0:e.view.scroll.y),l.left=o.x-(n?0:e.view.scroll.x),l.outerWidth=t.$.offsetWidth,l.outerHeight=t.$.offsetHeight,l.height=l.outerHeight-(s.top+s.bottom+r.top+r.bottom),l.width=l.outerWidth-(s.left+s.right+r.left+r.right),l.bottom=l.top+l.outerHeight,l.right=l.left+l.outerWidth,e.inInlineMode&&(l.scroll={top:t.$.scrollTop,left:t.$.scrollLeft}),K({border:r,padding:s,margin:a,ignoreScroll:n},l,!0)}function R(e,t,n){if(!y(t))return t.size=null;if(t.size){if(t.size.ignoreScroll==n&&t.size.date>new Date-r)return null}else t.size={};return K(t.size,w(e,t,n),{date:+new Date},!0)}function k(e,t){e.view.editable=w(e,e.editable,t,!0)}function x(e,t){e.view||(e.view={});var n=e.view;if(!(!t&&n&&n.date>new Date-r)){n=(i=e.win).getScrollPosition();var i=i.getViewPaneSize();K(e.view,{scroll:{x:n.x,y:n.y,width:e.doc.$.documentElement.scrollWidth-i.width,height:e.doc.$.documentElement.scrollHeight-i.height},pane:{width:i.width,height:i.height,bottom:i.height+n.y},date:+new Date},!0)}}function S(e,t,n,i){for(var o=i,r=i,a=0,s=!1,l=!1,c=e.view.pane.height,d=e.mouse;d.y+a<c&&0<d.y-a&&(s||(s=t(o,i)),l||(l=t(r,i)),!s&&0<d.y-a&&(o=n(e,{x:d.x,y:d.y-a})),!l&&d.y+a<c&&(r=n(e,{x:d.x,y:d.y+a})),!s||!l);)a+=2;return new u([o,r,null,null])}CKEDITOR.plugins.add("magicline",{init:function(o){var i,r,a,s=o.config,e=s.magicline_triggerOffset||30,l={editor:o,enterMode:s.enterMode,triggerOffset:e,holdDistance:0|e*(s.magicline_holdDistance||.5),boxColor:s.magicline_color||"#ff0000",rtl:"rtl"==s.contentsLangDirection,tabuList:["data-cke-hidden-sel"].concat(s.magicline_tabuList||[]),triggers:s.magicline_everywhere?U:{table:1,hr:1,div:1,ul:1,ol:1,dl:1,form:1,blockquote:1}};l.isRelevant=function(e){return y(e)&&!T(l,e)&&!E(e)},o.on("contentDom",function(){var e=o.editable(),t=o.document,n=o.window;K(l,{editable:e,inInlineMode:e.isInline(),doc:t,win:n,hotNode:null},!0),l.boundary=l.inInlineMode?l.editable:l.doc.getDocumentElement(),e.is(L.$inline)||(l.inInlineMode&&!b(e)&&e.setStyles({position:"relative",top:null,left:null}),m.call(this,l),x(l),e.attachListener(o,"beforeUndoImage",function(){l.line.detach()}),e.attachListener(o,"beforeGetData",function(){l.line.wrap.getParent()&&(l.line.detach(),o.once("getData",function(){l.line.attach()},null,null,1e3))},null,null,0),e.attachListener(l.inInlineMode?t:t.getWindow().getFrame(),"mouseout",function(e){if("wysiwyg"==o.mode)if(l.inInlineMode){var t=e.data.$.clientX;e=e.data.$.clientY,x(l),k(l,!0);var n=l.view.editable,i=l.view.scroll;t>n.left-i.x&&t<n.right-i.x&&e>n.top-i.y&&e<n.bottom-i.y||(clearTimeout(a),a=null,l.line.detach())}else clearTimeout(a),a=null,l.line.detach()}),e.attachListener(e,"keyup",function(){l.hiddenMode=0}),e.attachListener(e,"keydown",function(e){if("wysiwyg"==o.mode)switch(e.data.getKeystroke()){case 2228240:case 16:l.hiddenMode=1,l.line.detach()}}),e.attachListener(l.inInlineMode?e:t,"mousemove",function(e){if(r=!0,"wysiwyg"==o.mode&&!o.readOnly&&!a){var t={x:e.data.$.clientX,y:e.data.$.clientY};a=setTimeout(function(){l.mouse=t,a=l.trigger=null,x(l),r&&!l.hiddenMode&&o.focusManager.hasFocus&&!l.line.mouseNear()&&(l.element=G(l,!0))&&((l.trigger=I(l)||D(l)||J(l))&&!_(l,l.trigger.upper||l.trigger.lower)?l.line.attach().place():(l.trigger=null,l.line.detach()),r=!1)},30)}}),e.attachListener(n,"scroll",function(){"wysiwyg"==o.mode&&(l.line.detach(),N.webkit&&(l.hiddenMode=1,clearTimeout(i),i=setTimeout(function(){l.mouseDown||(l.hiddenMode=0)},50)))}),e.attachListener(A?t:n,"mousedown",function(){"wysiwyg"==o.mode&&(l.line.detach(),l.hiddenMode=1,l.mouseDown=1)}),e.attachListener(A?t:n,"mouseup",function(){l.hiddenMode=0,l.mouseDown=0}),o.addCommand("accessPreviousSpace",v(l)),o.addCommand("accessNextSpace",v(l,!0)),o.setKeystroke([[s.magicline_keystrokePrevious,"accessPreviousSpace"],[s.magicline_keystrokeNext,"accessNextSpace"]]),o.on("loadSnapshot",function(){var e,t,n,i;for(i in{p:1,br:1,div:1})for(n=(e=o.document.getElementsByTag(i)).count();n--;)if((t=e.getItem(n)).data("cke-magicline-hot"))return l.hotNode=t,void(l.lastCmdDirection="true"===t.data("cke-magicline-dir"))}),this.backdoor={accessFocusSpace:g,boxTrigger:u,isLine:T,getAscendantTrigger:c,getNonEmptyNeighbour:p,getSize:w,that:l,triggerEdge:D,triggerEditable:I,triggerExpand:J})},this)}});var K=CKEDITOR.tools.extend,s=CKEDITOR.dom.element,i=s.createFromHtml,N=CKEDITOR.env,A=CKEDITOR.env.ie&&CKEDITOR.env.version<9,L=CKEDITOR.dtd,l={},P=128,M=64,F=32,B=16,$=4,H=2,z=1,q="\xa0",j=L.$listItem,o=L.$tableContent,W=K({},L.$nonEditable,L.$empty),U=L.$block,r=100,V="width:0px;height:0px;padding:0px;margin:0px;display:block;z-index:9999;color:#fff;position:absolute;font-size: 0px;line-height:0px;",X=V+"border-color:transparent;display:block;border-style:solid;",Y="<span>"+q+"</span>";l[CKEDITOR.ENTER_BR]="br",l[CKEDITOR.ENTER_P]="p",l[CKEDITOR.ENTER_DIV]="div",u.prototype={set:function(e,t,n){return this.properties=e+t+(n||z),this},is:function(e){return(this.properties&e)==e}};var G=function(){function a(e,t){var n=e.$.elementFromPoint(t.x,t.y);return n&&n.nodeType?new CKEDITOR.dom.element(n):null}return function(e,t,n){if(!e.mouse)return null;var i=e.doc,o=e.line.wrap,r=a(i,n=n||e.mouse);return t&&T(e,r)&&(o.hide(),r=a(i,n),o.show()),!r||r.type!=CKEDITOR.NODE_ELEMENT||!r.$||N.ie&&N.version<9&&!e.boundary.equals(r)&&!e.boundary.contains(r)?null:r}}(),Q=CKEDITOR.dom.walker.whitespaces(),Z=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_COMMENT),J=function(){function o(t){var e,n,i;if(!y(l=t.element)||l.contains(t.editable)||l.isReadOnly())return null;if(e=(i=S(t,function(e,t){return!t.equals(e)},function(e,t){return G(e,!0,t)},l)).upper,n=i.lower,d(t,e,n))return i.set(F,8);if(e&&l.contains(e))for(;!e.getParent().equals(l);)e=e.getParent();else e=l.getFirst(function(e){return c(t,e)});if(n&&l.contains(n))for(;!n.getParent().equals(l);)n=n.getParent();else n=l.getLast(function(e){return c(t,e)});if(!e||!n)return null;if(R(t,e),R(t,n),!f(t.mouse.y,e.size.top,n.size.bottom))return null;for(var o,r,a,s,l=Number.MAX_VALUE;n&&!n.equals(e)&&(r=e.getNext(t.isRelevant));)(o=Math.abs(h(t,e,r)-t.mouse.y))<l&&(l=o,a=e,s=r),R(t,e=r);return a&&s&&f(t.mouse.y,a.size.top,s.size.bottom)?(i.upper=a,i.lower=s,i.set(F,8)):null}function c(e,t){return!(t&&t.type==CKEDITOR.NODE_TEXT||Z(t)||E(t)||T(e,t)||t.type==CKEDITOR.NODE_ELEMENT&&t.$&&t.is("br"))}return function(e){var t,n=o(e);if(t=n){t=n.upper;var i=n.lower;t=!(!t||!i||E(i)||E(t)||i.equals(t)||t.equals(i)||i.contains(t)||t.contains(i))&&!!(C(e,t)&&C(e,i)&&d(e,t,i))}return t?n:null}}(),ee=["top","left","right","bottom"]}(),CKEDITOR.config.magicline_keystrokePrevious=CKEDITOR.CTRL+CKEDITOR.SHIFT+51,CKEDITOR.config.magicline_keystrokeNext=CKEDITOR.CTRL+CKEDITOR.SHIFT+52,function(){function r(e){if(!e||e.type!=CKEDITOR.NODE_ELEMENT||"form"!=e.getName())return[];for(var t=[],n=["style","className"],i=0;i<n.length;i++){var o=e.$.elements.namedItem(n[i]);o&&(o=new CKEDITOR.dom.element(o),t.push([o,o.nextSibling]),o.remove())}return t}function a(e,t){if(e&&e.type==CKEDITOR.NODE_ELEMENT&&"form"==e.getName()&&0<t.length)for(var n=t.length-1;0<=n;n--){var i=t[n][0],o=t[n][1];o?i.insertBefore(o):i.appendTo(e)}}function f(e,t){var n=r(e),i={},o=e.$;return t||(i["class"]=o.className||"",o.className=""),i.inline=o.style.cssText||"",t||(o.style.cssText="position: static; overflow: visible"),a(n),i}function m(e,t){var n=r(e),i=e.$;"class"in t&&(i.className=t["class"]),"inline"in t&&(i.style.cssText=t.inline),a(n)}function g(e){if(!e.editable().isInline()){var t,n=CKEDITOR.instances;for(t in n){var i=n[t];"wysiwyg"!=i.mode||i.readOnly||((i=i.document.getBody()).setAttribute("contentEditable",!1),i.setAttribute("contentEditable",!0))}e.editable().hasFocus&&(e.toolbox.focus(),e.focus())}}CKEDITOR.plugins.add("maximize",{init:function(r){function a(){var e=h.getViewPaneSize();r.resize(e.width,e.height,null,!0)}if(r.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var s,l,c,d=r.lang,u=CKEDITOR.document,h=u.getWindow(),p=CKEDITOR.TRISTATE_OFF;r.addCommand("maximize",{modes:{wysiwyg:!CKEDITOR.env.iOS,source:!CKEDITOR.env.iOS},readOnly:1,editorFocus:!1,exec:function(){var e=r.container.getFirst(function(e){return e.type==CKEDITOR.NODE_ELEMENT&&e.hasClass("cke_inner")}),t=r.ui.space("contents");if("wysiwyg"==r.mode){var n=r.getSelection();s=n&&n.getRanges(),l=h.getScrollPosition()}else{var i=r.editable().$;s=!CKEDITOR.env.ie&&[i.selectionStart,i.selectionEnd],l=[i.scrollLeft,i.scrollTop]}if(this.state==CKEDITOR.TRISTATE_OFF){for(h.on("resize",a),c=h.getScrollPosition(),n=r.container;n=n.getParent();)n.setCustomData("maximize_saved_styles",f(n)),n.setStyle("z-index",r.config.baseFloatZIndex-5);t.setCustomData("maximize_saved_styles",f(t,!0)),e.setCustomData("maximize_saved_styles",f(e,!0)),t={overflow:CKEDITOR.env.webkit?"":"hidden",width:0,height:0},u.getDocumentElement().setStyles(t),!CKEDITOR.env.gecko&&u.getDocumentElement().setStyle("position","fixed"),CKEDITOR.env.gecko&&CKEDITOR.env.quirks||u.getBody().setStyles(t),CKEDITOR.env.ie?setTimeout(function(){h.$.scrollTo(0,0)},0):h.$.scrollTo(0,0),e.setStyle("position",CKEDITOR.env.gecko&&CKEDITOR.env.quirks?"fixed":"absolute"),e.$.offsetLeft,e.setStyles({"z-index":r.config.baseFloatZIndex-5,left:"0px",top:"0px"}),e.addClass("cke_maximized"),a(),t=e.getDocumentPosition(),e.setStyles({left:-1*t.x+"px",top:-1*t.y+"px"}),CKEDITOR.env.gecko&&g(r)}else if(this.state==CKEDITOR.TRISTATE_ON){h.removeListener("resize",a);n=[t,e];for(var o=0;o<n.length;o++)m(n[o],n[o].getCustomData("maximize_saved_styles")),n[o].removeCustomData("maximize_saved_styles");for(n=r.container;n=n.getParent();)m(n,n.getCustomData("maximize_saved_styles")),n.removeCustomData("maximize_saved_styles");CKEDITOR.env.ie?setTimeout(function(){h.$.scrollTo(c.x,c.y)},0):h.$.scrollTo(c.x,c.y),e.removeClass("cke_maximized"),CKEDITOR.env.webkit&&(e.setStyle("display","inline"),setTimeout(function(){e.setStyle("display","block")},0)),r.fire("resize",{outerHeight:r.container.$.offsetHeight,contentsHeight:t.$.offsetHeight,outerWidth:r.container.$.offsetWidth})}this.toggleState(),(n=this.uiItems[0])&&(t=this.state==CKEDITOR.TRISTATE_OFF?d.maximize.maximize:d.maximize.minimize,(n=CKEDITOR.document.getById(n._.id)).getChild(1).setHtml(t),n.setAttribute("title",t),n.setAttribute("href",'javascript:void("'+t+'");')),"wysiwyg"==r.mode?s?(CKEDITOR.env.gecko&&g(r),r.getSelection().selectRanges(s),(i=r.getSelection().getStartElement())&&i.scrollIntoView(!0)):h.$.scrollTo(l.x,l.y):(s&&(i.selectionStart=s[0],i.selectionEnd=s[1]),i.scrollLeft=l[0],i.scrollTop=l[1]),s=l=null,p=this.state,r.fire("maximize",this.state)},canUndo:!1}),r.ui.addButton&&r.ui.addButton("Maximize",{label:d.maximize.maximize,command:"maximize",toolbar:"tools,10"}),r.on("mode",function(){var e=r.getCommand("maximize");e.setState(e.state==CKEDITOR.TRISTATE_DISABLED?CKEDITOR.TRISTATE_DISABLED:p)},null,null,100)}}})}(),CKEDITOR.plugins.add("newpage",{init:function(e){e.addCommand("newpage",{modes:{wysiwyg:1,source:1},exec:function(e){var t=this;e.setData(e.config.newpage_html||"",function(){e.focus(),setTimeout(function(){e.fire("afterCommandExec",{name:"newpage",command:t}),e.selectionChange()},200)})},async:!0}),e.ui.addButton&&e.ui.addButton("NewPage",{label:e.lang.newpage.toolbar,command:"newpage",toolbar:"document,20"})}}),function(){function a(e){return{"aria-label":e,"class":"cke_pagebreak",contenteditable:"false","data-cke-display-name":"pagebreak","data-cke-pagebreak":1,style:"page-break-after: always",title:e}}CKEDITOR.plugins.add("pagebreak",{requires:"fakeobjects",onLoad:function(){var e=("background:url("+CKEDITOR.getUrl(this.path+"images/pagebreak.gif")+") no-repeat center center;clear:both;width:100%;border-top:#999 1px dotted;border-bottom:#999 1px dotted;padding:0;height:7px;cursor:default;").replace(/;/g," !important;");CKEDITOR.addCss("div.cke_pagebreak{"+e+"}")},init:function(t){t.blockless||(t.addCommand("pagebreak",CKEDITOR.plugins.pagebreakCmd),t.ui.addButton&&t.ui.addButton("PageBreak",{label:t.lang.pagebreak.toolbar,command:"pagebreak",toolbar:"insert,70"}),CKEDITOR.env.webkit&&t.on("contentDom",function(){t.document.on("click",function(e){(e=e.data.getTarget()).is("div")&&e.hasClass("cke_pagebreak")&&t.getSelection().selectElement(e)})}))},afterInit:function(t){function n(e){CKEDITOR.tools.extend(e.attributes,a(t.lang.pagebreak.alt),!0),e.children.length=0}var e=(i=t.dataProcessor)&&i.dataFilter,i=i&&i.htmlFilter,o=/page-break-after\s*:\s*always/i,r=/display\s*:\s*none/i;i&&i.addRules({attributes:{"class":function(e,t){var n=e.replace("cke_pagebreak","");if(n!=e){var i=CKEDITOR.htmlParser.fragment.fromHtml('<span style="display: none;">&nbsp;</span>').children[0];t.children.length=0,t.add(i),delete(i=t.attributes)["aria-label"],delete i.contenteditable,delete i.title}return n}}},{applyToAll:!0,priority:5}),e&&e.addRules({elements:{div:function(e){if(e.attributes["data-cke-pagebreak"])n(e);else if(o.test(e.attributes.style)){var t=e.children[0];t&&"span"==t.name&&r.test(t.attributes.style)&&n(e)}}}})}}),CKEDITOR.plugins.pagebreakCmd={exec:function(e){var t=e.document.createElement("div",{attributes:a(e.lang.pagebreak.alt)});e.insertElement(t)},context:"div",allowedContent:{div:{styles:"!page-break-after"},span:{match:function(e){return(e=e.parent)&&"div"==e.name&&e.styles&&e.styles["page-break-after"]},styles:"display"}},requiredContent:"div{page-break-after}"}}(),U={canUndo:!1,async:!0,exec:function(e,t){var n=e.lang,i=CKEDITOR.tools.keystrokeToString(n.common.keyboard,e.getCommandKeystroke(CKEDITOR.env.ie?e.commands.paste:this)),o=t&&"undefined"!=typeof t.notification?t.notification:!t||!t.from||"keystrokeHandler"===t.from&&CKEDITOR.env.ie;n=o&&"string"==typeof o?o:n.pastetext.pasteNotification.replace(/%1/,'<kbd aria-label="'+i.aria+'">'+i.display+"</kbd>");e.execCommand("paste",{type:"text",notification:!!o&&n})}},CKEDITOR.plugins.add("pastetext",{requires:"clipboard",init:function(t){var e=CKEDITOR.env.safari?CKEDITOR.CTRL+CKEDITOR.ALT+CKEDITOR.SHIFT+86:CKEDITOR.CTRL+CKEDITOR.SHIFT+86;t.addCommand("pastetext",U),t.setKeystroke(e,"pastetext"),t.ui.addButton&&t.ui.addButton("PasteText",{
label:t.lang.pastetext.button,command:"pastetext",toolbar:"clipboard,40"}),t.config.forcePasteAsPlainText&&t.on("beforePaste",function(e){"html"!=e.data.type&&(e.data.type="text")}),t.on("pasteState",function(e){t.getCommand("pastetext").setState(e.data)})}}),function(){function c(e,t,n){var i=CKEDITOR.cleanWord;return i?n():(e=CKEDITOR.getUrl(e.config.pasteFromWordCleanupFile||t+"filter/default.js"),CKEDITOR.scriptLoader.load(e,n,null,!0)),!i}CKEDITOR.plugins.add("pastefromword",{requires:"clipboard",init:function(a){var s=0,l=this.path;a.addCommand("pastefromword",{canUndo:!1,async:!0,exec:function(e,t){s=1,e.execCommand("paste",{type:"html",notification:!t||"undefined"==typeof t.notification||t.notification})}}),a.ui.addButton&&a.ui.addButton("PasteFromWord",{label:a.lang.pastefromword.toolbar,command:"pastefromword",toolbar:"clipboard,50"}),a.on("paste",function(e){var t=e.data,n=(CKEDITOR.plugins.clipboard.isCustomDataTypesSupported?t.dataTransfer.getData("text/html",!0):null)||t.dataValue,i={dataValue:n},o=/(class=\"?Mso|style=(?:\"|\')[^\"]*?\bmso\-|w:WordDocument|<o:\w+>|<\/font>)/;o=/<meta\s*name=(?:\"|\')?generator(?:\"|\')?\s*content=(?:\"|\')?microsoft/gi.test(n)||o.test(n);if(n&&(s||o)&&(!1!==a.fire("pasteFromWord",i)||s)){t.dontFilter=!0;var r=c(a,l,function(){r?a.fire("paste",t):(!a.config.pasteFromWordPromptCleanup||s||confirm(a.lang.pastefromword.confirmCleanup))&&(i.dataValue=CKEDITOR.cleanWord(i.dataValue,a),a.fire("afterPasteFromWord",i),t.dataValue=i.dataValue),s=0});r&&e.cancel()}},null,null,3)}})}(),X={modes:{wysiwyg:1,source:1},canUndo:!1,readOnly:1,exec:function(e){var t,n=(i=e.config).baseHref?'<base href="'+i.baseHref+'"/>':"";if(i.fullPage)t=e.getData().replace(/<head>/,"$&"+n).replace(/[^>]*(?=<\/title>)/,"$& &mdash; "+e.lang.preview.preview);else{var i="<body ";(r=e.document&&e.document.getBody())&&(r.getAttribute("id")&&(i+='id="'+r.getAttribute("id")+'" '),r.getAttribute("class")&&(i+='class="'+r.getAttribute("class")+'" ')),i+=">",t=e.config.docType+'<html dir="'+e.config.contentsLangDirection+'"><head>'+n+"<title>"+e.lang.preview.preview+"</title>"+CKEDITOR.tools.buildStyleHtml(e.config.contentsCss)+"</head>"+i+e.getData()+"</body></html>"}n=640,i=420,r=80;try{var o=window.screen,r=(n=Math.round(.8*o.width),i=Math.round(.7*o.height),Math.round(.1*o.width))}catch(X){}if(!1===e.fire("contentPreview",e={dataValue:t}))return!1;var a;o="";return CKEDITOR.env.ie&&(window._cke_htmlToLoad=e.dataValue,a="javascript:void( (function(){document.open();"+("("+CKEDITOR.tools.fixDomain+")();").replace(/\/\/.*?\n/g,"").replace(/parent\./g,"window.opener.")+"document.write( window.opener._cke_htmlToLoad );document.close();window.opener._cke_htmlToLoad = null;})() )",o=""),CKEDITOR.env.gecko&&(window._cke_htmlToLoad=e.dataValue,o=CKEDITOR.getUrl(V+"preview.html")),o=window.open(o,null,"toolbar=yes,location=no,status=yes,menubar=yes,scrollbars=yes,resizable=yes,width="+n+",height="+i+",left="+r),CKEDITOR.env.ie&&o&&(o.location=a),CKEDITOR.env.ie||CKEDITOR.env.gecko||((a=o.document).open(),a.write(e.dataValue),a.close()),!0}},CKEDITOR.plugins.add("preview",{init:function(e){e.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE&&(V=this.path,e.addCommand("preview",X),e.ui.addButton&&e.ui.addButton("Preview",{label:e.lang.preview.preview,command:"preview",toolbar:"document,40"}))}}),CKEDITOR.plugins.add("print",{init:function(e){e.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE&&(e.addCommand("print",CKEDITOR.plugins.print),e.ui.addButton&&e.ui.addButton("Print",{label:e.lang.print.toolbar,command:"print",toolbar:"document,50"}))}}),CKEDITOR.plugins.print={exec:function(e){CKEDITOR.env.gecko?e.window.$.print():e.document.$.execCommand("Print")},canUndo:!1,readOnly:1,modes:{wysiwyg:1}},CKEDITOR.plugins.add("removeformat",{init:function(e){e.addCommand("removeFormat",CKEDITOR.plugins.removeformat.commands.removeformat),e.ui.addButton&&e.ui.addButton("RemoveFormat",{label:e.lang.removeformat.toolbar,command:"removeFormat",toolbar:"cleanup,10"})}}),CKEDITOR.plugins.removeformat={commands:{removeformat:{exec:function(r){for(var e,a=r._.removeFormatRegex||(r._.removeFormatRegex=new RegExp("^(?:"+r.config.removeFormatTags.replace(/,/g,"|")+")$","i")),t=r._.removeAttributes||(r._.removeAttributes=r.config.removeFormatAttributes.split(",")),s=CKEDITOR.plugins.removeformat.filter,n=r.getSelection().getRanges(),i=n.createIterator(),o=function(e){return e.type==CKEDITOR.NODE_ELEMENT};e=i.getNextRange();){e.collapsed||e.enlarge(CKEDITOR.ENLARGE_ELEMENT);var l=e.createBookmark(),c=l.startNode,d=l.endNode,u=function(e){for(var t,n=r.elementPath(e),i=n.elements,o=1;(t=i[o])&&!t.equals(n.block)&&!t.equals(n.blockLimit);o++)a.test(t.getName())&&s(r,t)&&e.breakParent(t)};if(u(c),d)for(u(d),c=c.getNextSourceNode(!0,CKEDITOR.NODE_ELEMENT);c&&!c.equals(d);)if(c.isReadOnly()){if(c.getPosition(d)&CKEDITOR.POSITION_CONTAINS)break;c=c.getNext(o)}else u=c.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT),"img"==c.getName()&&c.data("cke-realelement")||!s(r,c)||(a.test(c.getName())?c.remove(1):(c.removeAttributes(t),r.fire("removeFormatCleanup",c))),c=u;e.moveToBookmark(l)}r.forceNextSelectionCheck(),r.getSelection().selectRanges(n)}}},filter:function(e,t){for(var n=e._.removeFormatFilters||[],i=0;i<n.length;i++)if(!1===n[i](t))return!1;return!0}},CKEDITOR.editor.prototype.addRemoveFormatFilter=function(e){this._.removeFormatFilters||(this._.removeFormatFilters=[]),this._.removeFormatFilters.push(e)},CKEDITOR.config.removeFormatTags="b,big,cite,code,del,dfn,em,font,i,ins,kbd,q,s,samp,small,span,strike,strong,sub,sup,tt,u,var",CKEDITOR.config.removeFormatAttributes="class,style,lang,width,height,align,hspace,valign",Y={readOnly:1,exec:function(e){if(e.fire("save")&&(e=e.element.$.form))try{e.submit()}catch(Y){e.submit.click&&e.submit.click()}}},CKEDITOR.plugins.add("save",{init:function(e){e.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE&&(e.addCommand("save",Y).modes={wysiwyg:!!e.element.$.form},e.ui.addButton&&e.ui.addButton("Save",{label:e.lang.save.toolbar,command:"save",toolbar:"document,10"}))}}),CKEDITOR.plugins.add("selectall",{init:function(e){e.addCommand("selectAll",{modes:{wysiwyg:1,source:1},exec:function(e){var t=e.editable();if(t.is("textarea"))e=t.$,CKEDITOR.env.ie?e.createTextRange().execCommand("SelectAll"):(e.selectionStart=0,e.selectionEnd=e.value.length),e.focus();else{if(t.is("body"))e.document.$.execCommand("SelectAll",!1,null);else{var n=e.createRange();n.selectNodeContents(t),n.select()}e.forceNextSelectionCheck(),e.selectionChange()}},canUndo:!1}),e.ui.addButton&&e.ui.addButton("SelectAll",{label:e.lang.selectall.toolbar,command:"selectAll",toolbar:"selection,10"})}}),G={readOnly:1,preserveState:!0,editorFocus:!1,exec:function(e){this.toggleState(),this.refresh(e)},refresh:function(e){if(e.document){var t=this.state!=CKEDITOR.TRISTATE_ON||e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE&&!e.focusManager.hasFocus?"removeClass":"attachClass";e.editable()[t]("cke_show_blocks")}}},CKEDITOR.plugins.add("showblocks",{onLoad:function(){var e,t,n,i,o,r,a="p div pre address blockquote h1 h2 h3 h4 h5 h6".split(" "),s=CKEDITOR.getUrl(this.path),l=!(CKEDITOR.env.ie&&CKEDITOR.env.version<9),c=l?":not([contenteditable=false]):not(.cke_show_blocks_off)":"";for(e=t=n=i="";o=a.pop();)e+=".cke_show_blocks "+o+c+(r=a.length?",":""),n+=".cke_show_blocks.cke_contents_ltr "+o+c+r,i+=".cke_show_blocks.cke_contents_rtl "+o+c+r,t+=".cke_show_blocks "+o+c+"{background-image:url("+CKEDITOR.getUrl(s+"images/block_"+o+".png")+")}";CKEDITOR.addCss((e+"{background-repeat:no-repeat;border:1px dotted gray;padding-top:8px}").concat(t,n+"{background-position:top left;padding-left:8px}",i+"{background-position:top right;padding-right:8px}")),l||CKEDITOR.addCss(".cke_show_blocks [contenteditable=false],.cke_show_blocks .cke_show_blocks_off{border:none;padding-top:0;background-image:none}.cke_show_blocks.cke_contents_rtl [contenteditable=false],.cke_show_blocks.cke_contents_rtl .cke_show_blocks_off{padding-right:0}.cke_show_blocks.cke_contents_ltr [contenteditable=false],.cke_show_blocks.cke_contents_ltr .cke_show_blocks_off{padding-left:0}")},init:function(e){function t(){n.refresh(e)}if(!e.blockless){var n=e.addCommand("showblocks",G);n.canUndo=!1,e.config.startupOutlineBlocks&&n.setState(CKEDITOR.TRISTATE_ON),e.ui.addButton&&e.ui.addButton("ShowBlocks",{label:e.lang.showblocks.toolbar,command:"showblocks",toolbar:"tools,20"}),e.on("mode",function(){n.state!=CKEDITOR.TRISTATE_DISABLED&&n.refresh(e)}),e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE&&(e.on("focus",t),e.on("blur",t)),e.on("contentDom",function(){n.state!=CKEDITOR.TRISTATE_DISABLED&&n.refresh(e)})}}}),Q={preserveState:!0,editorFocus:!1,readOnly:1,exec:function(e){this.toggleState(),this.refresh(e)},refresh:function(e){if(e.document){var t=this.state==CKEDITOR.TRISTATE_ON?"attachClass":"removeClass";e.editable()[t]("cke_show_borders")}}},CKEDITOR.plugins.add("showborders",{modes:{wysiwyg:1},onLoad:function(){var e;e=(CKEDITOR.env.ie6Compat?[".%1 table.%2,",".%1 table.%2 td, .%1 table.%2 th","{","border : #d3d3d3 1px dotted","}"]:".%1 table.%2,;.%1 table.%2 > tr > td, .%1 table.%2 > tr > th,;.%1 table.%2 > tbody > tr > td, .%1 table.%2 > tbody > tr > th,;.%1 table.%2 > thead > tr > td, .%1 table.%2 > thead > tr > th,;.%1 table.%2 > tfoot > tr > td, .%1 table.%2 > tfoot > tr > th;{;border : #d3d3d3 1px dotted;}".split(";")).join("").replace(/%2/g,"cke_show_border").replace(/%1/g,"cke_show_borders "),CKEDITOR.addCss(e)},init:function(t){var e=t.addCommand("showborders",Q);(e.canUndo=!1)!==t.config.startupShowBorders&&e.setState(CKEDITOR.TRISTATE_ON),t.on("mode",function(){e.state!=CKEDITOR.TRISTATE_DISABLED&&e.refresh(t)},null,null,100),t.on("contentDom",function(){e.state!=CKEDITOR.TRISTATE_DISABLED&&e.refresh(t)}),t.on("removeFormatCleanup",function(e){e=e.data,t.getCommand("showborders").state==CKEDITOR.TRISTATE_ON&&e.is("table")&&(!e.hasAttribute("border")||parseInt(e.getAttribute("border"),10)<=0)&&e.addClass("cke_show_border")})},afterInit:function(e){var t=e.dataProcessor;e=t&&t.dataFilter,t=t&&t.htmlFilter,e&&e.addRules({elements:{table:function(e){var t=(e=e.attributes)["class"],n=parseInt(e.border,10);n&&!(n<=0)||t&&-1!=t.indexOf("cke_show_border")||(e["class"]=(t||"")+" cke_show_border")}}}),t&&t.addRules({elements:{table:function(e){var t=(e=e.attributes)["class"];t&&(e["class"]=t.replace("cke_show_border","").replace(/\s{2}/," ").replace(/^\s+|\s+$/,""))}}})}}),CKEDITOR.on("dialogDefinition",function(e){var t=e.data.name;"table"!=t&&"tableProperties"!=t||((t=(e=e.data.definition).getContents("info").get("txtBorder")).commit=CKEDITOR.tools.override(t.commit,function(i){return function(e,t){i.apply(this,arguments);var n=parseInt(this.getValue(),10);t[!n||n<=0?"addClass":"removeClass"]("cke_show_border")}}),(e=(e=e.getContents("advanced"))&&e.get("advCSSClasses"))&&(e.setup=CKEDITOR.tools.override(e.setup,function(e){return function(){e.apply(this,arguments),this.setValue(this.getValue().replace(/cke_show_border/,""))}}),e.commit=CKEDITOR.tools.override(e.commit,function(n){return function(e,t){n.apply(this,arguments),parseInt(t.getAttribute("border"),10)||t.addClass("cke_show_border")}})))}),function(){CKEDITOR.plugins.add("sourcearea",{init:function(n){function i(){var e=t&&this.equals(CKEDITOR.document.getActive());this.hide(),this.setStyle("height",this.getParent().$.clientHeight+"px"),this.setStyle("width",this.getParent().$.clientWidth+"px"),this.show(),e&&this.focus()}if(n.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var e=CKEDITOR.plugins.sourcearea;n.addMode("source",function(e){var t=n.ui.space("contents").getDocument().createElement("textarea");t.setStyles(CKEDITOR.tools.extend({width:CKEDITOR.env.ie7Compat?"99%":"100%",height:"100%",resize:"none",outline:"none","text-align":"left"},CKEDITOR.tools.cssVendorPrefix("tab-size",n.config.sourceAreaTabSize||4))),t.setAttribute("dir","ltr"),t.addClass("cke_source").addClass("cke_reset").addClass("cke_enable_context_menu"),n.ui.space("contents").append(t),(t=n.editable(new o(n,t))).setData(n.getData(1)),CKEDITOR.env.ie&&(t.attachListener(n,"resize",i,t),t.attachListener(CKEDITOR.document.getWindow(),"resize",i,t),CKEDITOR.tools.setTimeout(i,0,t)),n.fire("ariaWidget",this),e()}),n.addCommand("source",e.commands.source),n.ui.addButton&&n.ui.addButton("Source",{label:n.lang.sourcearea.toolbar,command:"source",toolbar:"mode,10"}),n.on("mode",function(){n.getCommand("source").setState("source"==n.mode?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)});var t=CKEDITOR.env.ie&&9==CKEDITOR.env.version}}});var o=CKEDITOR.tools.createClass({base:CKEDITOR.editable,proto:{setData:function(e){this.setValue(e),this.status="ready",this.editor.fire("dataReady")},getData:function(){return this.getValue()},insertHtml:function(){},insertElement:function(){},insertText:function(){},setReadOnly:function(e){this[(e?"set":"remove")+"Attribute"]("readOnly","readonly")},detach:function(){o.baseProto.detach.call(this),this.clearCustomData(),this.remove()}}})}(),CKEDITOR.plugins.sourcearea={commands:{source:{modes:{wysiwyg:1,source:1},editorFocus:!1,readOnly:1,exec:function(e){"wysiwyg"==e.mode&&e.fire("saveSnapshot"),e.getCommand("source").setState(CKEDITOR.TRISTATE_DISABLED),e.setMode("source"==e.mode?"wysiwyg":"source")},canUndo:!1}}},CKEDITOR.plugins.add("specialchar",{availableLangs:{af:1,ar:1,az:1,bg:1,ca:1,cs:1,cy:1,da:1,de:1,"de-ch":1,el:1,en:1,"en-au":1,"en-ca":1,"en-gb":1,eo:1,es:1,"es-mx":1,et:1,eu:1,fa:1,fi:1,fr:1,"fr-ca":1,gl:1,he:1,hr:1,hu:1,id:1,it:1,ja:1,km:1,ko:1,ku:1,lt:1,lv:1,nb:1,nl:1,no:1,oc:1,pl:1,pt:1,"pt-br":1,ru:1,si:1,sk:1,sl:1,sq:1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,zh:1,"zh-cn":1},requires:"dialog",init:function(t){var n=this;CKEDITOR.dialog.add("specialchar",this.path+"dialogs/specialchar.js"),t.addCommand("specialchar",{exec:function(){var e=t.langCode;e=n.availableLangs[e]?e:n.availableLangs[e.replace(/-.*/,"")]?e.replace(/-.*/,""):"en";CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(n.path+"dialogs/lang/"+e+".js"),function(){CKEDITOR.tools.extend(t.lang.specialchar,n.langEntries[e]),t.openDialog("specialchar")})},modes:{wysiwyg:1},canUndo:!1}),t.ui.addButton&&t.ui.addButton("SpecialChar",{label:t.lang.specialchar.toolbar,command:"specialchar",toolbar:"insert,50"})}}),CKEDITOR.config.specialChars="! &quot; # $ % &amp; ' ( ) * + - . / 0 1 2 3 4 5 6 7 8 9 : ; &lt; = &gt; ? @ A B C D E F G H I J K L M N O P Q R S T U V W X Y Z [ ] ^ _ ` a b c d e f g h i j k l m n o p q r s t u v w x y z { | } ~ &euro; &lsquo; &rsquo; &ldquo; &rdquo; &ndash; &mdash; &iexcl; &cent; &pound; &curren; &yen; &brvbar; &sect; &uml; &copy; &ordf; &laquo; &not; &reg; &macr; &deg; &sup2; &sup3; &acute; &micro; &para; &middot; &cedil; &sup1; &ordm; &raquo; &frac14; &frac12; &frac34; &iquest; &Agrave; &Aacute; &Acirc; &Atilde; &Auml; &Aring; &AElig; &Ccedil; &Egrave; &Eacute; &Ecirc; &Euml; &Igrave; &Iacute; &Icirc; &Iuml; &ETH; &Ntilde; &Ograve; &Oacute; &Ocirc; &Otilde; &Ouml; &times; &Oslash; &Ugrave; &Uacute; &Ucirc; &Uuml; &Yacute; &THORN; &szlig; &agrave; &aacute; &acirc; &atilde; &auml; &aring; &aelig; &ccedil; &egrave; &eacute; &ecirc; &euml; &igrave; &iacute; &icirc; &iuml; &eth; &ntilde; &ograve; &oacute; &ocirc; &otilde; &ouml; &divide; &oslash; &ugrave; &uacute; &ucirc; &uuml; &yacute; &thorn; &yuml; &OElig; &oelig; &#372; &#374 &#373 &#375; &sbquo; &#8219; &bdquo; &hellip; &trade; &#9658; &bull; &rarr; &rArr; &hArr; &diams; &asymp;".split(" "),CKEDITOR.plugins.add("scayt",{requires:"menubutton,dialog",tabToOpen:null,dialogName:"scaytDialog",onLoad:function(e){CKEDITOR.plugins.scayt.onLoadTimestamp=(new Date).getTime(),"moono-lisa"==(CKEDITOR.skinName||e.config.skin)&&CKEDITOR.document.appendStyleSheet(this.path+"skins/"+CKEDITOR.skin.name+"/scayt.css"),CKEDITOR.document.appendStyleSheet(this.path+"dialogs/dialog.css")},init:function(i){var o=this,n=CKEDITOR.plugins.scayt;this.bindEvents(i),this.parseConfig(i),this.addRule(i),CKEDITOR.dialog.add(this.dialogName,CKEDITOR.getUrl(this.path+"dialogs/options.js")),this.addMenuItems(i);var e=i.lang.scayt,t=CKEDITOR.env;i.ui.add("Scayt",CKEDITOR.UI_MENUBUTTON,{label:e.text_title,title:i.plugins.wsc?i.lang.wsc.title:e.text_title,modes:{wysiwyg:!(t.ie&&(t.version<8||t.quirks))},toolbar:"spellchecker,20",refresh:function(){var e=i.ui.instances.Scayt.getState();i.scayt&&(e=n.state.scayt[i.name]?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF),i.fire("scaytButtonState",e)},onRender:function(){var t=this;i.on("scaytButtonState",function(e){void 0!==typeof e.data&&t.setState(e.data)})},onMenu:function(){var e=i.scayt;i.getMenuItem("scaytToggle").label=i.lang.scayt[e&&n.state.scayt[i.name]?"btn_disable":"btn_enable"];var t={scaytToggle:CKEDITOR.TRISTATE_OFF,scaytOptions:e?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,scaytLangs:e?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,scaytDict:e?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,scaytAbout:e?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,WSC:i.plugins.wsc?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED};return i.config.scayt_uiTabs[0]||delete t.scaytOptions,i.config.scayt_uiTabs[1]||delete t.scaytLangs,i.config.scayt_uiTabs[2]||delete t.scaytDict,e&&!CKEDITOR.plugins.scayt.isNewUdSupported(e)&&(delete t.scaytDict,i.config.scayt_uiTabs[2]=0,CKEDITOR.plugins.scayt.alarmCompatibilityMessage()),t}}),i.contextMenu&&i.addMenuItems&&(i.contextMenu.addListener(function(){var e,t,n=i.scayt;return n&&(t=n.getSelectionNode())&&(e=o.menuGenerator(i,t),n.showBanner("."+i.contextMenu._.definition.panel.className.split(" ").join(" ."))),e}),i.contextMenu._.onHide=CKEDITOR.tools.override(i.contextMenu._.onHide,function(t){return function(){var e=i.scayt;return e&&e.hideBanner(),t.apply(this)}}))},addMenuItems:function(i){var t=this,n=CKEDITOR.plugins.scayt;i.addMenuGroup("scaytButton");for(var e=i.config.scayt_contextMenuItemsOrder.split("|"),o=0;o<e.length;o++)e[o]="scayt_"+e[o];if((e=["grayt_description","grayt_suggest","grayt_control"].concat(e))&&e.length)for(o=0;o<e.length;o++)i.addMenuGroup(e[o],o-10);i.addCommand("scaytToggle",{exec:function(e){var t=e.scayt;n.state.scayt[e.name]=!n.state.scayt[e.name],!0===n.state.scayt[e.name]?t||n.createScayt(e):t&&n.destroy(e)}}),i.addCommand("scaytAbout",{exec:function(e){e.scayt.tabToOpen="about",e.lockSelection(),e.openDialog(t.dialogName)}}),i.addCommand("scaytOptions",{exec:function(e){e.scayt.tabToOpen="options",e.lockSelection(),e.openDialog(t.dialogName)}}),i.addCommand("scaytLangs",{exec:function(e){e.scayt.tabToOpen="langs",e.lockSelection(),e.openDialog(t.dialogName)}}),i.addCommand("scaytDict",{exec:function(e){e.scayt.tabToOpen="dictionaries",e.lockSelection(),e.openDialog(t.dialogName)}}),e={scaytToggle:{label:i.lang.scayt.btn_enable,group:"scaytButton",command:"scaytToggle"},scaytAbout:{label:i.lang.scayt.btn_about,group:"scaytButton",command:"scaytAbout"},scaytOptions:{label:i.lang.scayt.btn_options,group:"scaytButton",command:"scaytOptions"},scaytLangs:{label:i.lang.scayt.btn_langs,group:"scaytButton",command:"scaytLangs"},scaytDict:{label:i.lang.scayt.btn_dictionaries,group:"scaytButton",command:"scaytDict"}},i.plugins.wsc&&(e.WSC={label:i.lang.wsc.toolbar,group:"scaytButton",onClick:function(){var e=CKEDITOR.plugins.scayt,t=i.scayt,n=i.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?i.container.getText():i.document.getBody().getText();(n=n.replace(/\s/g,""))?(t&&e.state.scayt[i.name]&&t.setMarkupPaused&&t.setMarkupPaused(!0),i.lockSelection(),i.execCommand("checkspell")):alert("Nothing to check!")}}),i.addMenuItems(e)},bindEvents:function(r){var a=CKEDITOR.plugins.scayt,o=r.elementMode==CKEDITOR.ELEMENT_MODE_INLINE,t=function(){a.destroy(r)},s=function(){!a.state.scayt[r.name]||r.readOnly||r.scayt||a.createScayt(r)},n=function(){var e=r.editable();e.attachListener(e,"focus",function(e){var t,n;if(CKEDITOR.plugins.scayt&&!r.scayt&&setTimeout(s,0),e=CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[r.name]&&r.scayt,(o||e)&&r._.savedSelection){e=!(e=r._.savedSelection.getSelectedElement())&&r._.savedSelection.getRanges();for(var i=0;i<e.length;i++)"string"==typeof(n=e[i]).startContainer.$.nodeValue&&(((t=n.startContainer.getText().length)<n.startOffset||t<n.endOffset)&&r.unlockSelection(!1))}},this,null,-10)},e=function(){o?r.config.scayt_inlineModeImmediateMarkup?s():(r.on("blur",function(){setTimeout(t,0)}),r.on("focus",s),r.focusManager.hasFocus&&s()):s(),n();var e=r.editable();e.attachListener(e,"mousedown",function(e){e=e.data.getTarget();var t=r.widgets&&r.widgets.getByElement(e);t&&(t.wrapper=e.getAscendant(function(e){return e.hasAttribute("data-cke-widget-wrapper")},!0))},this,null,-10)};r.on("contentDom",e),r.on("beforeCommandExec",function(e){var t=r.scayt,n=!1,i=!1,o=!0;e.data.name in a.options.disablingCommandExec&&"wysiwyg"==r.mode?t&&(a.destroy(r),r.fire("scaytButtonState",CKEDITOR.TRISTATE_DISABLED)):"bold"!==e.data.name&&"italic"!==e.data.name&&"underline"!==e.data.name&&"strike"!==e.data.name&&"subscript"!==e.data.name&&"superscript"!==e.data.name&&"enter"!==e.data.name&&"cut"!==e.data.name&&"language"!==e.data.name||!t||("cut"===e.data.name&&(i=!(o=!1)),"language"===e.data.name&&(i=n=!0),r.fire("reloadMarkupScayt",{removeOptions:{removeInside:o,forceBookmark:i,language:n},timeout:0}))}),r.on("beforeSetMode",function(e){"source"==e.data&&((e=r.scayt)&&(a.destroy(r),r.fire("scaytButtonState",CKEDITOR.TRISTATE_DISABLED)),r.document&&r.document.getBody().removeAttribute("_jquid"))}),r.on("afterCommandExec",function(e){"wysiwyg"!=r.mode||"undo"!=e.data.name&&"redo"!=e.data.name||setTimeout(function(){a.reloadMarkup(r.scayt)},250)}),r.on("readOnly",function(e){var t;e&&(t=r.scayt,!0===e.editor.readOnly?t&&t.fire("removeMarkupInDocument",{}):t?a.reloadMarkup(t):"wysiwyg"==e.editor.mode&&!0===a.state.scayt[e.editor.name]&&(a.createScayt(r),e.editor.fire("scaytButtonState",CKEDITOR.TRISTATE_ON)))}),r.on("beforeDestroy",t),r.on("setData",function(){t(),(r.elementMode==CKEDITOR.ELEMENT_MODE_INLINE||r.plugins.divarea)&&e()},this,null,50),r.on("reloadMarkupScayt",function(e){var t=e.data&&e.data.removeOptions,n=e.data&&e.data.timeout,i=e.data&&e.data.language,o=r.scayt;o&&setTimeout(function(){i&&(t.selectionNode=r.plugins.language.getCurrentLangElement(r),t.selectionNode=t.selectionNode&&t.selectionNode.$||null),o.removeMarkupInSelectionNode(t),a.reloadMarkup(o)},n||0)}),r.on("insertElement",function(){r.fire("reloadMarkupScayt",{removeOptions:{forceBookmark:!0}})},this,null,50),r.on("insertHtml",function(){r.scayt&&r.scayt.setFocused&&r.scayt.setFocused(!0),r.fire("reloadMarkupScayt")},this,null,50),r.on("insertText",function(){r.scayt&&r.scayt.setFocused&&r.scayt.setFocused(!0),r.fire("reloadMarkupScayt")},this,null,50),r.on("scaytDialogShown",function(e){e.data.selectPage(r.scayt.tabToOpen)})},parseConfig:function(e){if((i=CKEDITOR.plugins.scayt).replaceOldOptionsNames(e.config),"boolean"!=typeof e.config.scayt_autoStartup&&(e.config.scayt_autoStartup=!1),i.state.scayt[e.name]=e.config.scayt_autoStartup,"boolean"!=typeof e.config.grayt_autoStartup&&(e.config.grayt_autoStartup=!1),"boolean"!=typeof e.config.scayt_inlineModeImmediateMarkup&&(e.config.scayt_inlineModeImmediateMarkup=!1),i.state.grayt[e.name]=e.config.grayt_autoStartup,e.config.scayt_contextCommands||(e.config.scayt_contextCommands="ignore|ignoreall|add"),e.config.scayt_contextMenuItemsOrder||(e.config.scayt_contextMenuItemsOrder="suggest|moresuggest|control"),e.config.scayt_sLang||(e.config.scayt_sLang="en_US"),(void 0===e.config.scayt_maxSuggestions||"number"!=typeof e.config.scayt_maxSuggestions||e.config.scayt_maxSuggestions<0)&&(e.config.scayt_maxSuggestions=5),(void 0===e.config.scayt_minWordLength||"number"!=typeof e.config.scayt_minWordLength||e.config.scayt_minWordLength<1)&&(e.config.scayt_minWordLength=4),void 0!==e.config.scayt_customDictionaryIds&&"string"==typeof e.config.scayt_customDictionaryIds||(e.config.scayt_customDictionaryIds=""),void 0!==e.config.scayt_userDictionaryName&&"string"==typeof e.config.scayt_userDictionaryName||(e.config.scayt_userDictionaryName=null),"string"==typeof e.config.scayt_uiTabs&&3===e.config.scayt_uiTabs.split(",").length){var t=[],n=[];e.config.scayt_uiTabs=e.config.scayt_uiTabs.split(","),CKEDITOR.tools.search(e.config.scayt_uiTabs,function(e){1===Number(e)||0===Number(e)?(n.push(!0),t.push(Number(e))):n.push(!1)}),null===CKEDITOR.tools.search(n,!1)?e.config.scayt_uiTabs=t:e.config.scayt_uiTabs=[1,1,1]}else e.config.scayt_uiTabs=[1,1,1];if("string"!=typeof e.config.scayt_serviceProtocol&&(e.config.scayt_serviceProtocol=null),"string"!=typeof e.config.scayt_serviceHost&&(e.config.scayt_serviceHost=null),"string"!=typeof e.config.scayt_servicePort&&(e.config.scayt_servicePort=null),"string"!=typeof e.config.scayt_servicePath&&(e.config.scayt_servicePath=null),e.config.scayt_moreSuggestions||(e.config.scayt_moreSuggestions="on"),"string"!=typeof e.config.scayt_customerId&&(e.config.scayt_customerId="1:WvF0D4-UtPqN1-43nkD4-NKvUm2-daQqk3-LmNiI-z7Ysb4-mwry24-T8YrS3-Q2tpq2"),"string"!=typeof e.config.scayt_customPunctuation&&(e.config.scayt_customPunctuation="-"),"string"!=typeof e.config.scayt_srcUrl&&(i=-1!=(i=document.location.protocol).search(/https?:/)?i:"http:",e.config.scayt_srcUrl=i+"//svc.webspellchecker.net/spellcheck31/lf/scayt3/ckscayt/ckscayt.js"),"boolean"!=typeof CKEDITOR.config.scayt_handleCheckDirty&&(CKEDITOR.config.scayt_handleCheckDirty=!0),"boolean"!=typeof CKEDITOR.config.scayt_handleUndoRedo&&(CKEDITOR.config.scayt_handleUndoRedo=!0),CKEDITOR.config.scayt_handleUndoRedo=!!CKEDITOR.plugins.undo&&CKEDITOR.config.scayt_handleUndoRedo,"boolean"!=typeof e.config.scayt_multiLanguageMode&&(e.config.scayt_multiLanguageMode=!1),"object"!=typeof e.config.scayt_multiLanguageStyles&&(e.config.scayt_multiLanguageStyles={}),e.config.scayt_ignoreAllCapsWords&&"boolean"!=typeof e.config.scayt_ignoreAllCapsWords&&(e.config.scayt_ignoreAllCapsWords=!1),e.config.scayt_ignoreDomainNames&&"boolean"!=typeof e.config.scayt_ignoreDomainNames&&(e.config.scayt_ignoreDomainNames=!1),e.config.scayt_ignoreWordsWithMixedCases&&"boolean"!=typeof e.config.scayt_ignoreWordsWithMixedCases&&(e.config.scayt_ignoreWordsWithMixedCases=!1),e.config.scayt_ignoreWordsWithNumbers&&"boolean"!=typeof e.config.scayt_ignoreWordsWithNumbers&&(e.config.scayt_ignoreWordsWithNumbers=!1),e.config.scayt_disableOptionsStorage){var i=CKEDITOR.tools.isArray(e.config.scayt_disableOptionsStorage)?e.config.scayt_disableOptionsStorage:"string"==typeof e.config.scayt_disableOptionsStorage?[e.config.scayt_disableOptionsStorage]:void 0,r="all options lang ignore-all-caps-words ignore-domain-names ignore-words-with-mixed-cases ignore-words-with-numbers".split(" "),a=["lang","ignore-all-caps-words","ignore-domain-names","ignore-words-with-mixed-cases","ignore-words-with-numbers"],s=CKEDITOR.tools.search,l=CKEDITOR.tools.indexOf;e.config.scayt_disableOptionsStorage=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n],o=!!s(e,"options");if(!s(r,i)||o&&s(a,function(e){if("lang"===e)return!1}))return;if(s(a,i)&&a.splice(l(a,i),1),"all"===i||o&&s(e,"lang"))return[];"options"===i&&(a=["lang"])}return t.concat(a)}(i)}},addRule:function(n){var i=CKEDITOR.plugins.scayt,e=(o=n.dataProcessor)&&o.htmlFilter,t=n._.elementsPath&&n._.elementsPath.filters,o=o&&o.dataFilter,r=n.addRemoveFormatFilter,a=function(e){if(n.scayt&&(e.hasAttribute(i.options.data_attribute_name)||e.hasAttribute(i.options.problem_grammar_data_attribute)))return!1},s=function(e){var t=!0;return n.scayt&&(e.hasAttribute(i.options.data_attribute_name)||e.hasAttribute(i.options.problem_grammar_data_attribute))&&(t=!1),t};t&&t.push(a),o&&o.addRules({elements:{span:function(e){var t=e.hasClass(i.options.misspelled_word_class)&&e.attributes[i.options.data_attribute_name],n=e.hasClass(i.options.problem_grammar_class)&&e.attributes[i.options.problem_grammar_data_attribute];return i&&(t||n)&&delete e.name,e}}}),e&&e.addRules({elements:{span:function(e){var t=e.hasClass(i.options.misspelled_word_class)&&e.attributes[i.options.data_attribute_name],n=e.hasClass(i.options.problem_grammar_class)&&e.attributes[i.options.problem_grammar_data_attribute];return i&&(t||n)&&delete e.name,e}}}),r&&r.call(n,s)},scaytMenuDefinition:function(e){var t=this;return{scayt:{scayt_ignore:{label:(e=e.scayt).getLocal("btn_ignore"),group:"scayt_control",order:1,exec:function(e){e.scayt.ignoreWord()}},scayt_ignoreall:{label:e.getLocal("btn_ignoreAll"),group:"scayt_control",order:2,exec:function(e){e.scayt.ignoreAllWords()}},scayt_add:{label:e.getLocal("btn_addWord"),group:"scayt_control",order:3,exec:function(e){var t=e.scayt;setTimeout(function(){t.addWordToUserDictionary()},10)}},scayt_option:{label:e.getLocal("btn_options"),group:"scayt_control",order:4,exec:function(e){e.scayt.tabToOpen="options",e.lockSelection(),e.openDialog(t.dialogName)},verification:function(e){return 1==e.config.scayt_uiTabs[0]}},scayt_language:{label:e.getLocal("btn_langs"),group:"scayt_control",order:5,exec:function(e){e.scayt.tabToOpen="langs",e.lockSelection(),e.openDialog(t.dialogName)},verification:function(e){return 1==e.config.scayt_uiTabs[1]}},scayt_dictionary:{label:e.getLocal("btn_dictionaries"),group:"scayt_control",order:6,exec:function(e){e.scayt.tabToOpen="dictionaries",e.lockSelection(),e.openDialog(t.dialogName)},verification:function(e){return 1==e.config.scayt_uiTabs[2]}},scayt_about:{label:e.getLocal("btn_about"),group:"scayt_control",order:7,exec:function(e){e.scayt.tabToOpen="about",e.lockSelection(),e.openDialog(t.dialogName)}}},grayt:{grayt_problemdescription:{label:"Grammar problem description",group:"grayt_description",order:1,state:CKEDITOR.TRISTATE_DISABLED,exec:function(){}},grayt_ignore:{label:e.getLocal("btn_ignore"),group:"grayt_control",order:2,exec:function(e){e.scayt.ignorePhrase()}}}}},buildSuggestionMenuItems:function(e,t,n){var i={},o={},r=n?"word":"phrase",a=n?"startGrammarCheck":"startSpellCheck",s=e.scayt;if(0<t.length&&"no_any_suggestions"!==t[0])if(n)for(n=0;n<t.length;n++){var l="scayt_suggest_"+CKEDITOR.plugins.scayt.suggestions[n].replace(" ","_");e.addCommand(l,this.createCommand(CKEDITOR.plugins.scayt.suggestions[n],r,a)),n<e.config.scayt_maxSuggestions?(e.addMenuItem(l,{label:t[n],command:l,group:"scayt_suggest",order:n+1}),i[l]=CKEDITOR.TRISTATE_OFF):(e.addMenuItem(l,{label:t[n],command:l,group:"scayt_moresuggest",order:n+1}),o[l]=CKEDITOR.TRISTATE_OFF,"on"===e.config.scayt_moreSuggestions&&(e.addMenuItem("scayt_moresuggest",{label:s.getLocal("btn_moreSuggestions"),group:"scayt_moresuggest",order:10,getItems:function(){return o}}),i.scayt_moresuggest=CKEDITOR.TRISTATE_OFF))}else for(n=0;n<t.length;n++)l="grayt_suggest_"+CKEDITOR.plugins.scayt.suggestions[n].replace(" ","_"),e.addCommand(l,this.createCommand(CKEDITOR.plugins.scayt.suggestions[n],r,a)),e.addMenuItem(l,{label:t[n],command:l,group:"grayt_suggest",order:n+1}),i[l]=CKEDITOR.TRISTATE_OFF;else i.no_scayt_suggest=CKEDITOR.TRISTATE_DISABLED,e.addCommand("no_scayt_suggest",{exec:function(){}}),e.addMenuItem("no_scayt_suggest",{label:s.getLocal("btn_noSuggestions")||"no_scayt_suggest",command:"no_scayt_suggest",group:"scayt_suggest",order:0});return i},menuGenerator:function(e,t){var n,i,o=e.scayt,r=this.scaytMenuDefinition(e),a={},s=e.config.scayt_contextCommands.split("|"),l=t.getAttribute(o.getLangAttribute())||o.getLang();if(n=o.isScaytNode(t),i=o.isGraytNode(t),n?(r=r.scayt,a=t.getAttribute(o.getScaytNodeAttributeName()),o.fire("getSuggestionsList",{lang:l,word:a}),a=this.buildSuggestionMenuItems(e,CKEDITOR.plugins.scayt.suggestions,n)):i&&(r=r.grayt,a=t.getAttribute(o.getGraytNodeAttributeName()),i=o.getProblemDescriptionText(a,l),r.grayt_problemdescription&&i&&(r.grayt_problemdescription.label=i),o.fire("getGrammarSuggestionsList",{lang:l,phrase:a}),a=this.buildSuggestionMenuItems(e,CKEDITOR.plugins.scayt.suggestions,n)),n&&"off"==e.config.scayt_contextCommands)return a;for(var c in r)n&&-1==CKEDITOR.tools.indexOf(s,c.replace("scayt_",""))&&"all"!=e.config.scayt_contextCommands||(a[c]="undefined"!=typeof r[c].state?r[c].state:CKEDITOR.TRISTATE_OFF,"function"!=typeof r[c].verification||r[c].verification(e)||delete a[c],e.addCommand(c,{exec:r[c].exec}),e.addMenuItem(c,{label:e.lang.scayt[r[c].label]||r[c].label,command:c,group:r[c].group,order:r[c].order}));return a},createCommand:function(n,i,o){return{exec:function(e){e=e.scayt;var t={};t[i]=n,e.replaceSelectionNode(t),"startGrammarCheck"===o&&e.removeMarkupInSelectionNode({grammarOnly:!0}),e.fire(o)}}}}),CKEDITOR.plugins.scayt={charsToObserve:[{charName:"cke-fillingChar",charCode:function(){var e;if(n=(n=CKEDITOR.version.match(/^\d(\.\d*)*/))&&n[0]){e="4.5.7";var t,n=n.replace(/\./g,"");e=e.replace(/\./g,""),t=0<=(
t=n.length-e.length)?t:0,e=parseInt(n)>=parseInt(e)*Math.pow(10,t)}return e?Array(7).join(String.fromCharCode(8203)):String.fromCharCode(8203)}()}],onLoadTimestamp:"",state:{scayt:{},grayt:{}},warningCounter:0,suggestions:[],options:{disablingCommandExec:{source:!0,newpage:!0,templates:!0},data_attribute_name:"data-scayt-word",misspelled_word_class:"scayt-misspell-word",problem_grammar_data_attribute:"data-grayt-phrase",problem_grammar_class:"gramm-problem"},backCompatibilityMap:{scayt_service_protocol:"scayt_serviceProtocol",scayt_service_host:"scayt_serviceHost",scayt_service_port:"scayt_servicePort",scayt_service_path:"scayt_servicePath",scayt_customerid:"scayt_customerId"},alarmCompatibilityMessage:function(){this.warningCounter<5&&(console.warn("You are using the latest version of SCAYT plugin for CKEditor with the old application version. In order to have access to the newest features, it is recommended to upgrade the application version to latest one as well. Contact us for more details at support@webspellchecker.net."),this.warningCounter+=1)},isNewUdSupported:function(e){return!!e.getUserDictionary},reloadMarkup:function(e){var t;e&&(t=e.getScaytLangList(),e.reloadMarkup?e.reloadMarkup():(this.alarmCompatibilityMessage(),t&&t.ltr&&t.rtl&&e.fire("startSpellCheck, startGrammarCheck")))},replaceOldOptionsNames:function(e){for(var t in e)t in this.backCompatibilityMap&&(e[this.backCompatibilityMap[t]]=e[t],delete e[t])},createScayt:function(e){var r=this,a=CKEDITOR.plugins.scayt;this.loadScaytLibrary(e,function(i){function e(e){return new SCAYT.CKSCAYT(e,function(){},function(){})}var t=i.window&&i.window.getFrame()||i.editable();if(t){var n;t={lang:i.config.scayt_sLang,container:t.$,customDictionary:i.config.scayt_customDictionaryIds,userDictionaryName:i.config.scayt_userDictionaryName,localization:i.langCode,customer_id:i.config.scayt_customerId,customPunctuation:i.config.scayt_customPunctuation,debug:i.config.scayt_debug,data_attribute_name:r.options.data_attribute_name,misspelled_word_class:r.options.misspelled_word_class,problem_grammar_data_attribute:r.options.problem_grammar_data_attribute,problem_grammar_class:r.options.problem_grammar_class,"options-to-restore":i.config.scayt_disableOptionsStorage,focused:i.editable().hasFocus,ignoreElementsRegex:i.config.scayt_elementsToIgnore,ignoreGraytElementsRegex:i.config.grayt_elementsToIgnore,minWordLength:i.config.scayt_minWordLength,multiLanguageMode:i.config.scayt_multiLanguageMode,multiLanguageStyles:i.config.scayt_multiLanguageStyles,graytAutoStartup:a.state.grayt[i.name],charsToObserve:a.charsToObserve},i.config.scayt_serviceProtocol&&(t.service_protocol=i.config.scayt_serviceProtocol),i.config.scayt_serviceHost&&(t.service_host=i.config.scayt_serviceHost),i.config.scayt_servicePort&&(t.service_port=i.config.scayt_servicePort),i.config.scayt_servicePath&&(t.service_path=i.config.scayt_servicePath),"boolean"==typeof i.config.scayt_ignoreAllCapsWords&&(t["ignore-all-caps-words"]=i.config.scayt_ignoreAllCapsWords),"boolean"==typeof i.config.scayt_ignoreDomainNames&&(t["ignore-domain-names"]=i.config.scayt_ignoreDomainNames),"boolean"==typeof i.config.scayt_ignoreWordsWithMixedCases&&(t["ignore-words-with-mixed-cases"]=i.config.scayt_ignoreWordsWithMixedCases),"boolean"==typeof i.config.scayt_ignoreWordsWithNumbers&&(t["ignore-words-with-numbers"]=i.config.scayt_ignoreWordsWithNumbers);try{n=e(t)}catch(o){r.alarmCompatibilityMessage(),delete t.charsToObserve,n=e(t)}n.subscribe("suggestionListSend",function(e){for(var t={},n=[],i=0;i<e.suggestionList.length;i++)t["word_"+e.suggestionList[i]]||(t["word_"+e.suggestionList[i]]=e.suggestionList[i],n.push(e.suggestionList[i]));CKEDITOR.plugins.scayt.suggestions=n}),n.subscribe("selectionIsChanged",function(){i.getSelection().isLocked&&i.lockSelection()}),n.subscribe("graytStateChanged",function(e){a.state.grayt[i.name]=e.state}),n.addMarkupHandler&&n.addMarkupHandler(function(e){var t=i.editable(),n=t.getCustomData(e.charName);n&&(n.$=e.node,t.setCustomData(e.charName,n))}),i.scayt=n,i.fire("scaytButtonState",i.readOnly?CKEDITOR.TRISTATE_DISABLED:CKEDITOR.TRISTATE_ON)}else a.state.scayt[i.name]=!1})},destroy:function(e){e.scayt&&e.scayt.destroy(),delete e.scayt,e.fire("scaytButtonState",CKEDITOR.TRISTATE_OFF)},loadScaytLibrary:function(e,t){var n,i=function(){CKEDITOR.fireOnce("scaytReady"),e.scayt||"function"==typeof t&&t(e)};"undefined"==typeof window.SCAYT||"function"!=typeof window.SCAYT.CKSCAYT?(n=e.config.scayt_srcUrl+"?"+this.onLoadTimestamp,CKEDITOR.scriptLoader.load(n,function(e){e&&i()})):window.SCAYT&&"function"==typeof window.SCAYT.CKSCAYT&&i()}},CKEDITOR.on("dialogDefinition",function(e){var t=e.data.name;e=e.data.definition.dialog,"scaytDialog"===t&&e.on("cancel",function(){return!1},this,null,-1),"checkspell"===t&&e.on("cancel",function(e){e=e.sender&&e.sender.getParentEditor();var t=CKEDITOR.plugins.scayt,n=e.scayt;n&&t.state.scayt[e.name]&&n.setMarkupPaused&&n.setMarkupPaused(!1),e.unlockSelection()},this,null,-2),"link"===t&&e.on("ok",function(e){var t=e.sender&&e.sender.getParentEditor();t&&setTimeout(function(){t.fire("reloadMarkupScayt",{removeOptions:{removeInside:!0,forceBookmark:!0},timeout:0})},0)})}),CKEDITOR.on("scaytReady",function(){!0===CKEDITOR.config.scayt_handleCheckDirty&&((e=CKEDITOR.editor.prototype).checkDirty=CKEDITOR.tools.override(e.checkDirty,function(i){return function(){var e=null,t=this.scayt;if(CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[this.name]&&this.scayt){if(e="ready"==this.status){var n=t.removeMarkupFromString(this.getSnapshot());t=t.removeMarkupFromString(this._.previousValue),e=e&&t!==n}}else e=i.call(this);return e}}),e.resetDirty=CKEDITOR.tools.override(e.resetDirty,function(t){return function(){var e=this.scayt;CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[this.name]&&this.scayt?this._.previousValue=e.removeMarkupFromString(this.getSnapshot()):t.call(this)}}));if(!0===CKEDITOR.config.scayt_handleUndoRedo){var e,t="function"==typeof(e=CKEDITOR.plugins.undo.Image.prototype).equalsContent?"equalsContent":"equals";e[t]=CKEDITOR.tools.override(e[t],function(r){return function(e){var t=e.editor.scayt,n=this.contents,i=e.contents,o=null;return CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[e.editor.name]&&e.editor.scayt&&(this.contents=t.removeMarkupFromString(n)||"",e.contents=t.removeMarkupFromString(i)||""),o=r.apply(this,arguments),this.contents=n,e.contents=i,o}})}}),CKEDITOR.plugins.add("stylescombo",{requires:"richcombo",init:function(a){var s=a.config,l=a.lang.stylescombo,c={},d=[],u=[];a.on("stylesSet",function(e){if(e=e.data.styles){for(var t,n,i,o=0,r=e.length;o<r;o++)t=e[o],a.blockless&&t.element in CKEDITOR.dtd.$block||"string"==typeof t.type&&!CKEDITOR.style.customHandlers[t.type]||(n=t.name,t=new CKEDITOR.style(t),a.filter.customConfig&&!a.filter.check(t))||(t._name=n,t._.enterMode=s.enterMode,t._.type=i=t.assignedTo||t.type,t._.weight=o+1e3*(i==CKEDITOR.STYLE_OBJECT?1:i==CKEDITOR.STYLE_BLOCK?2:3),c[n]=t,d.push(t),u.push(t));d.sort(function(e,t){return e._.weight-t._.weight})}}),a.ui.addRichCombo("Styles",{label:l.label,title:l.panelTitle,toolbar:"styles,10",allowedContent:u,panel:{css:[CKEDITOR.skin.getPath("editor")].concat(s.contentsCss),multiSelect:!0,attributes:{"aria-label":l.panelTitle}},init:function(){var e,t,n,i,o,r;for(o=0,r=d.length;o<r;o++)t=(e=d[o])._name,(i=e._.type)!=n&&(this.startGroup(l["panelTitle"+String(i)]),n=i),this.add(t,e.type==CKEDITOR.STYLE_OBJECT?t:e.buildPreview(),t);this.commit()},onClick:function(e){a.focus(),a.fire("saveSnapshot"),e=c[e];var t=a.elementPath();e.group&&e.removeStylesFromSameGroup(a)?a.applyStyle(e):a[e.checkActive(t,a)?"removeStyle":"applyStyle"](e),a.fire("saveSnapshot")},onRender:function(){a.on("selectionChange",function(e){for(var t,n=this.getValue(),i=0,o=(e=e.data.path.elements).length;i<o;i++)for(var r in t=e[i],c)if(c[r].checkElementRemovable(t,!0,a))return void(r!=n&&this.setValue(r));this.setValue("")},this)},onOpen:function(){var e=a.getSelection().getSelectedElement(),t=(e=a.elementPath(e),[0,0,0,0]);for(var n in this.showAll(),this.unmarkAll(),c){var i=c[n],o=i._.type;i.checkApplicable(e,a,a.activeFilter)?t[o]++:this.hideItem(n),i.checkActive(e,a)&&this.mark(n)}t[CKEDITOR.STYLE_BLOCK]||this.hideGroup(l["panelTitle"+String(CKEDITOR.STYLE_BLOCK)]),t[CKEDITOR.STYLE_INLINE]||this.hideGroup(l["panelTitle"+String(CKEDITOR.STYLE_INLINE)]),t[CKEDITOR.STYLE_OBJECT]||this.hideGroup(l["panelTitle"+String(CKEDITOR.STYLE_OBJECT)])},refresh:function(){var e=a.elementPath();if(e){for(var t in c)if(c[t].checkApplicable(e,a,a.activeFilter))return;this.setState(CKEDITOR.TRISTATE_DISABLED)}},reset:function(){c={},d=[]}})}}),function(){function o(s){return{editorFocus:!1,canUndo:!1,modes:{wysiwyg:1},exec:function(e){if(e.editable().hasFocus){var t,n=e.getSelection();if(t=new CKEDITOR.dom.elementPath(n.getCommonAncestor(),n.root).contains({td:1,th:1},1)){n=e.createRange();if((o=CKEDITOR.tools.tryThese(function(){var e=t.getParent().$.cells[t.$.cellIndex+(s?-1:1)];return e.parentNode.parentNode,e},function(){var e;return(e=(e=t.getParent()).getAscendant("table").$.rows[e.$.rowIndex+(s?-1:1)]).cells[s?e.cells.length-1:0]}))||s){if(!o)return!0;o=new CKEDITOR.dom.element(o),n.moveToElementEditStart(o),n.checkStartOfBlock()&&n.checkEndOfBlock()||n.selectNodeContents(o)}else{for(var i=t.getAscendant("table").$,o=t.getParent().$.cells,r=(i=new CKEDITOR.dom.element(i.insertRow(-1),e.document),0),a=o.length;r<a;r++)i.append(new CKEDITOR.dom.element(o[r],e.document).clone(!1,!1)).appendBogus();n.moveToElementEditStart(i)}return n.select(!0),!0}}return!1}}}var r={editorFocus:!1,modes:{wysiwyg:1,source:1}},a={exec:function(e){e.container.focusNext(!0,e.tabIndex)}},s={exec:function(e){e.container.focusPrevious(!0,e.tabIndex)}};CKEDITOR.plugins.add("tab",{init:function(t){for(var e=!1!==t.config.enableTabKeyTools,n=t.config.tabSpaces||0,i="";n--;)i+="\xa0";i&&t.on("key",function(e){9==e.data.keyCode&&(t.insertText(i),e.cancel())}),e&&t.on("key",function(e){(9==e.data.keyCode&&t.execCommand("selectNextCell")||e.data.keyCode==CKEDITOR.SHIFT+9&&t.execCommand("selectPreviousCell"))&&e.cancel()}),t.addCommand("blur",CKEDITOR.tools.extend(a,r)),t.addCommand("blurBack",CKEDITOR.tools.extend(s,r)),t.addCommand("selectNextCell",o()),t.addCommand("selectPreviousCell",o(!0))}})}(),CKEDITOR.dom.element.prototype.focusNext=function(e,t){var n,i,o,r,a,s,l=void 0===t?this.getTabIndex():t;if(l<=0)for(a=this.getNextSourceNode(e,CKEDITOR.NODE_ELEMENT);a;){if(a.isVisible()&&0===a.getTabIndex()){o=a;break}a=a.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT)}else for(a=this.getDocument().getBody().getFirst();a=a.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT);){if(!n)if(!i&&a.equals(this)){if(i=!0,e){if(!(a=a.getNextSourceNode(!0,CKEDITOR.NODE_ELEMENT)))break;n=1}}else i&&!this.contains(a)&&(n=1);if(a.isVisible()&&!((s=a.getTabIndex())<0)){if(n&&s==l){o=a;break}l<s&&(!o||!r||s<r)?(o=a,r=s):o||0!==s||(o=a,r=s)}}o&&o.focus()},CKEDITOR.dom.element.prototype.focusPrevious=function(e,t){for(var n,i,o,r,a=void 0===t?this.getTabIndex():t,s=0,l=this.getDocument().getBody().getLast();l=l.getPreviousSourceNode(!1,CKEDITOR.NODE_ELEMENT);){if(!n)if(!i&&l.equals(this)){if(i=!0,e){if(!(l=l.getPreviousSourceNode(!0,CKEDITOR.NODE_ELEMENT)))break;n=1}}else i&&!this.contains(l)&&(n=1);if(l.isVisible()&&!((r=l.getTabIndex())<0))if(a<=0){if(n&&0===r){o=l;break}s<r&&(o=l,s=r)}else{if(n&&r==a){o=l;break}r<a&&(!o||s<r)&&(o=l,s=r)}}o&&o.focus()},CKEDITOR.plugins.add("table",{requires:"dialog",init:function(e){function t(e){return CKEDITOR.tools.extend(e||{},{contextSensitive:1,refresh:function(e,t){this.setState(t.contains("table",1)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)}})}if(!e.blockless){var n=e.lang.table;e.addCommand("table",new CKEDITOR.dialogCommand("table",{context:"table",allowedContent:"table{width,height}[align,border,cellpadding,cellspacing,summary];caption tbody thead tfoot;th td tr[scope];"+(e.plugins.dialogadvtab?"table"+e.plugins.dialogadvtab.allowedContent():""),requiredContent:"table",contentTransformations:[["table{width}: sizeToStyle","table[width]: sizeToAttribute"],["td: splitBorderShorthand"],[{element:"table",right:function(e){e.styles&&(e.styles.border&&e.styles.border.match(/solid/)&&(e.attributes.border=1),"collapse"==e.styles["border-collapse"]&&(e.attributes.cellspacing=0))}}]]})),e.addCommand("tableProperties",new CKEDITOR.dialogCommand("tableProperties",t())),e.addCommand("tableDelete",t({exec:function(e){var t=e.elementPath().contains("table",1);if(t){var n=t.getParent(),i=e.editable();1!=n.getChildCount()||n.is("td","th")||n.equals(i)||(t=n),(e=e.createRange()).moveToPosition(t,CKEDITOR.POSITION_BEFORE_START),t.remove(),e.select()}}})),e.ui.addButton&&e.ui.addButton("Table",{label:n.toolbar,command:"table",toolbar:"insert,30"}),CKEDITOR.dialog.add("table",this.path+"dialogs/table.js"),CKEDITOR.dialog.add("tableProperties",this.path+"dialogs/table.js"),e.addMenuItems&&e.addMenuItems({table:{label:n.menu,command:"tableProperties",group:"table",order:5},tabledelete:{label:n.deleteTable,command:"tableDelete",group:"table",order:1}}),e.on("doubleclick",function(e){e.data.element.is("table")&&(e.data.dialog="tableProperties")}),e.contextMenu&&e.contextMenu.addListener(function(){return{tabledelete:CKEDITOR.TRISTATE_OFF,table:CKEDITOR.TRISTATE_OFF}})}}}),function(){function b(e,t){function n(e){return!t||t.contains(e)&&e.getAscendant("table",!0).equals(t)}function i(e){0<r.length||e.type!=CKEDITOR.NODE_ELEMENT||!m.test(e.getName())||e.getCustomData("selected_cell")||(CKEDITOR.dom.element.setMarker(a,e,"selected_cell",!0),r.push(e))}if(e){for(var o=e.getRanges(),r=[],a={},s=0;s<o.length;s++){var l,c;if((l=o[s]).collapsed)(l=l.getCommonAncestor().getAscendant({td:1,th:1},!0))&&n(l)&&r.push(l);else for((l=new CKEDITOR.dom.walker(l)).guard=i;c=l.next();)c.type==CKEDITOR.NODE_ELEMENT&&c.is(CKEDITOR.dtd.table)||(c=c.getAscendant({td:1,th:1},!0))&&!c.getCustomData("selected_cell")&&n(c)&&(CKEDITOR.dom.element.setMarker(a,c,"selected_cell",!0),r.push(c))}return CKEDITOR.dom.element.clearAllMarkers(a),r}}function r(e,t){var n=(i=(a=g(e)?e:b(e))[0]).getAscendant("table"),i=i.getDocument(),o=(s=a[0].getParent()).$.rowIndex,r=(a=a[a.length-1]).getParent().$.rowIndex+a.$.rowSpan-1,a=new CKEDITOR.dom.element(n.$.rows[r]),s=(o=t?o:r,t?s:a);for(n=(a=CKEDITOR.tools.buildTableMap(n))[o],o=t?a[o-1]:a[o+1],a=a[0].length,i=i.createElement("tr"),r=0;n[r]&&r<a;r++){var l;1<n[r].rowSpan&&o&&n[r]==o[r]?(l=n[r]).rowSpan+=1:((l=new CKEDITOR.dom.element(n[r]).clone()).removeAttribute("rowSpan"),l.appendBogus(),i.append(l),l=l.$),r+=l.colSpan-1}t?i.insertBefore(s):i.insertAfter(s)}function h(e){if(e instanceof CKEDITOR.dom.selection){var t=e.getRanges(),n=(a=b(e))[0].getAscendant("table"),i=CKEDITOR.tools.buildTableMap(n),o=a[0].getParent().$.rowIndex,r=(a=a[a.length-1]).getParent().$.rowIndex+a.$.rowSpan-1,a=[];for(e.reset(),e=o;e<=r;e++){for(var s=i[e],l=new CKEDITOR.dom.element(n.$.rows[e]),c=0;c<s.length;c++){var d=new CKEDITOR.dom.element(s[c]),u=d.getParent().$.rowIndex;1==d.$.rowSpan?d.remove():(--d.$.rowSpan,u==e&&((u=i[e+1])[c-1]?d.insertAfter(new CKEDITOR.dom.element(u[c-1])):new CKEDITOR.dom.element(n.$.rows[e+1]).append(d,1))),c+=d.$.colSpan-1}a.push(l)}for(i=n.$.rows,t[0].moveToPosition(n,CKEDITOR.POSITION_BEFORE_START),o=new CKEDITOR.dom.element(i[r+1]||(0<o?i[o-1]:null)||n.$.parentNode),e=a.length;0<=e;e--)h(a[e]);return n.$.parentNode?o:(t[0].select(),null)}return e instanceof CKEDITOR.dom.element&&(1==(n=e.getAscendant("table")).$.rows.length?n.remove():e.remove()),null}function a(e,t){for(var n=e.getParent().$.cells,i=0,o=0;o<n.length;o++){var r=n[o];i=i+(t?1:r.colSpan);if(r==e.$)break}return i-1}function l(e,t){for(var n=t?Infinity:0,i=0;i<e.length;i++){var o=a(e[i],t);(t?o<n:n<o)&&(n=o)}return n}function s(e,t){for(var n=(o=g(e)?e:b(e))[0].getAscendant("table"),i=l(o,1),o=l(o),r=t?i:o,a=CKEDITOR.tools.buildTableMap(n),s=(n=[],i=[],o=a.length,0);s<o;s++)n.push(a[s][r]),i.push(t?a[s][r-1]:a[s][r+1]);for(s=0;s<o;s++)n[s]&&(1<n[s].colSpan&&i[s]==n[s]?(a=n[s]).colSpan+=1:((a=(r=new CKEDITOR.dom.element(n[s])).clone()).removeAttribute("colSpan"),a.appendBogus(),a[t?"insertBefore":"insertAfter"].call(a,r),a=a.$),s+=a.rowSpan-1)}function c(e,t){var n=e.getStartElement().getAscendant({td:1,th:1},!0);if(n){var i=n.clone();i.appendBogus(),t?i.insertBefore(n):i.insertAfter(n)}}function d(e){if(e instanceof CKEDITOR.dom.selection){var t,n=e.getRanges(),i=b(e),o=i[0]&&i[0].getAscendant("table");e:{var r=0;t=i.length-1;for(var a,s,l={};a=i[r++];)CKEDITOR.dom.element.setMarker(l,a,"delete_cell",!0);for(r=0;a=i[r++];)if((s=a.getPrevious())&&!s.getCustomData("delete_cell")||(s=a.getNext())&&!s.getCustomData("delete_cell")){CKEDITOR.dom.element.clearAllMarkers(l),t=s;break e}CKEDITOR.dom.element.clearAllMarkers(l),t=(r=(r=i[0].getParent()).getPrevious())?r.getLast():(r=(r=i[t].getParent()).getNext())?r.getChild(0):null}for(e.reset(),e=i.length-1;0<=e;e--)d(i[e]);t?C(t,!0):o&&(n[0].moveToPosition(o,CKEDITOR.POSITION_BEFORE_START),n[0].select(),o.remove())}else e instanceof CKEDITOR.dom.element&&(1==(n=e.getParent()).getChildCount()?n.remove():e.remove())}function C(e,t){var n=e.getDocument(),i=CKEDITOR.document;CKEDITOR.env.ie&&10==CKEDITOR.env.version&&(i.focus(),n.focus()),(n=new CKEDITOR.dom.range(n))["moveToElementEdit"+(t?"End":"Start")](e)||(n.selectNodeContents(e),n.collapse(!t)),n.select(!0)}function _(e,t,n){if(e=e[t],void 0===n)return e;for(t=0;e&&t<e.length;t++){if(n.is&&e[t]==n.$)return t;if(t==n)return new CKEDITOR.dom.element(e[t])}return n.is?-1:null}function u(e,t,n){var i,o,r=b(e);if((t?1!=r.length:r.length<2)||(i=e.getCommonAncestor())&&i.type==CKEDITOR.NODE_ELEMENT&&i.is("table"))return!1;i=(e=r[0]).getAscendant("table");var a=CKEDITOR.tools.buildTableMap(i),s=a.length,l=a[0].length,c=e.getParent().$.rowIndex,d=_(a,c,e);if(t){var u;try{var h=parseInt(e.getAttribute("rowspan"),10)||1;o=parseInt(e.getAttribute("colspan"),10)||1,u=a["up"==t?c-h:"down"==t?c+h:c]["left"==t?d-o:"right"==t?d+o:d]}catch(C){return!1}if(!u||e.$==u)return!1;r["up"==t||"left"==t?"unshift":"push"](new CKEDITOR.dom.element(u))}t=e.getDocument();var p=c,f=(h=u=0,!n&&new CKEDITOR.dom.documentFragment(t)),m=0;for(t=0;t<r.length;t++){var g=(o=r[t]).getParent(),v=o.getFirst(),T=o.$.colSpan,y=o.$.rowSpan,E=_(a,g=g.$.rowIndex,o);m=m+T*y,h=Math.max(h,E-d+T);u=Math.max(u,g-c+y),n||((y=(T=o).getBogus())&&y.remove(),T.trim(),o.getChildren().count()&&(g==p||!v||v.isBlockBoundary&&v.isBlockBoundary({br:1})||(!(p=f.getLast(CKEDITOR.dom.walker.whitespaces(!0)))||p.is&&p.is("br")||f.append("br")),o.moveChildren(f)),t?o.remove():o.setHtml("")),p=g}if(n)return u*h==m;for(f.moveChildren(e),e.appendBogus(),l<=h?e.removeAttribute("rowSpan"):e.$.rowSpan=u,s<=u?e.removeAttribute("colSpan"):e.$.colSpan=h,t=(r=(n=new CKEDITOR.dom.nodeList(i.$.rows)).count())-1;0<=t;t--)(i=n.getItem(t)).$.cells.length||(i.remove(),r++);return e}function p(e,t){if(1<(n=b(e)).length)return!1;if(t)return!0;var n,i,o=(l=(n=n[0]).getParent()).getAscendant("table"),r=_(c=CKEDITOR.tools.buildTableMap(o),d=l.$.rowIndex,n);if(1<(s=n.$.rowSpan)){i=Math.ceil(s/2);for(var a,s=Math.floor(s/2),l=d+i,c=(o=new CKEDITOR.dom.element(o.$.rows[l]),_(c,l)),d=(l=n.clone(),0);d<c.length;d++){if((a=c[d]).parentNode==o.$&&r<d){l.insertBefore(new CKEDITOR.dom.element(a));break}a=null}a||o.append(l)}else for(s=i=1,(o=l.clone()).insertAfter(l),o.append(l=n.clone()),a=_(c,d),r=0;r<a.length;r++)a[r].rowSpan++;return l.appendBogus(),n.$.rowSpan=i,l.$.rowSpan=s,1==i&&n.removeAttribute("rowSpan"),1==s&&l.removeAttribute("rowSpan"),l}function f(e,t){if(1<(n=b(e)).length)return!1;if(t)return!0;var n,i=(n=n[0]).getParent(),o=i.getAscendant("table"),r=_(o=CKEDITOR.tools.buildTableMap(o),i.$.rowIndex,n);if(1<(a=n.$.colSpan))i=Math.ceil(a/2),a=Math.floor(a/2);else{for(var a=i=1,s=[],l=0;l<o.length;l++){var c=o[l];s.push(c[r]),1<c[r].rowSpan&&(l+=c[r].rowSpan-1)}for(o=0;o<s.length;o++)s[o].colSpan++}return(o=n.clone()).insertAfter(n),o.appendBogus(),n.$.colSpan=i,o.$.colSpan=a,1==i&&n.removeAttribute("colSpan"),1==a&&o.removeAttribute("colSpan"),o}var m=/^(?:td|th)$/,g=CKEDITOR.tools.isArray;CKEDITOR.plugins.tabletools={requires:"table,dialog,contextmenu",init:function(i){function e(e){return CKEDITOR.tools.extend(e||{},{contextSensitive:1,refresh:function(e,t){this.setState(t.contains({td:1,th:1},1)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)}})}function t(e,t){var n=i.addCommand(e,t);i.addFeature(n)}var n=i.lang.table,o=CKEDITOR.tools.style.parse;t("cellProperties",new CKEDITOR.dialogCommand("cellProperties",e({allowedContent:"td th{width,height,border-color,background-color,white-space,vertical-align,text-align}[colspan,rowspan]",requiredContent:"table",contentTransformations:[[{element:"td",left:function(e){return e.styles.background&&o.background(e.styles.background).color},right:function(e){e.styles["background-color"]=o.background(e.styles.background).color}},{element:"td",check:"td{vertical-align}",left:function(e){return e.attributes&&e.attributes.valign},right:function(e){e.styles["vertical-align"]=e.attributes.valign,delete e.attributes.valign}}],[{element:"tr",check:"td{height}",left:function(e){return e.styles&&e.styles.height},right:function(t){CKEDITOR.tools.array.forEach(t.children,function(e){e.name in{td:1,th:1}&&(e.attributes["cke-row-height"]=t.styles.height)}),delete t.styles.height}}],[{element:"td",check:"td{height}",left:function(e){return(e=e.attributes)&&e["cke-row-height"]},right:function(e){e.styles.height=e.attributes["cke-row-height"],delete e.attributes["cke-row-height"]}}]]}))),CKEDITOR.dialog.add("cellProperties",this.path+"dialogs/tableCell.js"),t("rowDelete",e({requiredContent:"table",exec:function(e){(e=h(e=e.getSelection()))&&C(e)}})),t("rowInsertBefore",e({requiredContent:"table",exec:function(e){r(e=b(e=e.getSelection()),!0)}})),t("rowInsertAfter",e({requiredContent:"table",exec:function(e){r(e=b(e=e.getSelection()))}})),t("columnDelete",e({requiredContent:"table",exec:function(e){e=(c=e.getSelection()).getRanges();var t,n,i=(r=b(c))[0],o=r[r.length-1],r=i.getAscendant("table"),a=CKEDITOR.tools.buildTableMap(r),s=[];c.reset();for(var l=0,c=a.length;l<c;l++)for(var d=0,u=a[l].length;d<u;d++)a[l][d]==i.$&&(t=d),a[l][d]==o.$&&(n=d);for(l=t;l<=n;l++)for(d=0;d<a.length;d++)o=a[d],i=new CKEDITOR.dom.element(r.$.rows[d]),(o=new CKEDITOR.dom.element(o[l])).$&&(1==o.$.colSpan?o.remove():--o.$.colSpan,d+=o.$.rowSpan-1,i.$.cells.length||s.push(i));n=r.$.rows[0]&&r.$.rows[0].cells,t=new CKEDITOR.dom.element(n[t]||(t?n[t-1]:r.$.parentNode)),s.length==c&&(e[0].moveToPosition(r,CKEDITOR.POSITION_AFTER_END),e[0].select(),r.remove()),t&&C(t,!0)}})),t("columnInsertBefore",e({requiredContent:"table",exec:function(e){s(e=b(e=e.getSelection()),!0)}})),t("columnInsertAfter",e({requiredContent:"table",exec:function(e){s(e=b(e=e.getSelection()))}})),t("cellDelete",e({requiredContent:"table",exec:function(e){d(e=e.getSelection())}})),t("cellMerge",e({allowedContent:"td[colspan,rowspan]",requiredContent:"td[colspan,rowspan]",exec:function(e,t){t.cell=u(e.getSelection()),C(t.cell,!0)}})),t("cellMergeRight",e({allowedContent:"td[colspan]",requiredContent:"td[colspan]",exec:function(e,t){t.cell=u(e.getSelection(),"right"),C(t.cell,!0)}})),t("cellMergeDown",e({allowedContent:"td[rowspan]",requiredContent:"td[rowspan]",exec:function(e,t){t.cell=u(e.getSelection(),"down"),C(t.cell,!0)}})),t("cellVerticalSplit",e({allowedContent:"td[rowspan]",requiredContent:"td[rowspan]",exec:function(e){C(f(e.getSelection()))}})),t("cellHorizontalSplit",e({allowedContent:"td[colspan]",requiredContent:"td[colspan]",exec:function(e){C(p(e.getSelection()))}})),t("cellInsertBefore",e({requiredContent:"table",exec:function(e){c(e=e.getSelection(),!0)}})),t("cellInsertAfter",e({requiredContent:"table",exec:function(e){c(e=e.getSelection())}})),i.addMenuItems&&i.addMenuItems({tablecell:{label:n.cell.menu,group:"tablecell",order:1,getItems:function(){var e=i.getSelection(),t=b(e);return{tablecell_insertBefore:CKEDITOR.TRISTATE_OFF,tablecell_insertAfter:CKEDITOR.TRISTATE_OFF,tablecell_delete:CKEDITOR.TRISTATE_OFF,tablecell_merge:u(e,null,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_merge_right:u(e,"right",!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_merge_down:u(e,"down",!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_split_vertical:f(e,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_split_horizontal:p(e,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_properties:0<t.length?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED}}},tablecell_insertBefore:{label:n.cell.insertBefore,group:"tablecell",command:"cellInsertBefore",order:5},tablecell_insertAfter:{label:n.cell.insertAfter,group:"tablecell",command:"cellInsertAfter",order:10},tablecell_delete:{label:n.cell.deleteCell,group:"tablecell",command:"cellDelete",order:15},tablecell_merge:{label:n.cell.merge,group:"tablecell",command:"cellMerge",order:16},tablecell_merge_right:{label:n.cell.mergeRight,group:"tablecell",command:"cellMergeRight",order:17},tablecell_merge_down:{label:n.cell.mergeDown,group:"tablecell",command:"cellMergeDown",order:18},tablecell_split_horizontal:{label:n.cell.splitHorizontal,group:"tablecell",command:"cellHorizontalSplit",order:19},tablecell_split_vertical:{label:n.cell.splitVertical,group:"tablecell",command:"cellVerticalSplit",order:20},tablecell_properties:{label:n.cell.title,group:"tablecellproperties",command:"cellProperties",order:21},tablerow:{label:n.row.menu,group:"tablerow",order:1,getItems:function(){return{tablerow_insertBefore:CKEDITOR.TRISTATE_OFF,tablerow_insertAfter:CKEDITOR.TRISTATE_OFF,tablerow_delete:CKEDITOR.TRISTATE_OFF}}},tablerow_insertBefore:{label:n.row.insertBefore,group:"tablerow",command:"rowInsertBefore",order:5},tablerow_insertAfter:{label:n.row.insertAfter,group:"tablerow",command:"rowInsertAfter",order:10},tablerow_delete:{label:n.row.deleteRow,group:"tablerow",command:"rowDelete",order:15},tablecolumn:{label:n.column.menu,group:"tablecolumn",order:1,getItems:function(){return{tablecolumn_insertBefore:CKEDITOR.TRISTATE_OFF,tablecolumn_insertAfter:CKEDITOR.TRISTATE_OFF,tablecolumn_delete:CKEDITOR.TRISTATE_OFF}}},tablecolumn_insertBefore:{label:n.column.insertBefore,group:"tablecolumn",command:"columnInsertBefore",order:5},tablecolumn_insertAfter:{label:n.column.insertAfter,group:"tablecolumn",command:"columnInsertAfter",order:10},tablecolumn_delete:{label:n.column.deleteColumn,group:"tablecolumn",command:"columnDelete",order:15}}),i.contextMenu&&i.contextMenu.addListener(function(e,t,n){return(e=n.contains({td:1,th:1},1))&&!e.isReadOnly()?{tablecell:CKEDITOR.TRISTATE_OFF,tablerow:CKEDITOR.TRISTATE_OFF,tablecolumn:CKEDITOR.TRISTATE_OFF}:null})},getCellColIndex:a,insertRow:r,insertColumn:s,getSelectedCells:b},CKEDITOR.plugins.add("tabletools",CKEDITOR.plugins.tabletools)}(),CKEDITOR.tools.buildTableMap=function(e,t,n,i,o){e=e.$.rows,n=n||0,i="number"==typeof i?i:e.length-1,o="number"==typeof o?o:-1;var r=-1,a=[];for(t=t||0;t<=i;t++){!a[++r]&&(a[r]=[]);for(var s=-1,l=n;l<=(-1===o?e[t].cells.length-1:o);l++){if(!(d=e[t].cells[l]))break;for(s++;a[r][s];)s++;for(var c=isNaN(d.colSpan)?1:d.colSpan,d=isNaN(d.rowSpan)?1:d.rowSpan,u=0;u<d&&!(i<t+u);u++){a[r+u]||(a[r+u]=[]);for(var h=0;h<c;h++)a[r+u][s+h]=e[t].cells[l]}if(s+=c-1,-1!==o&&o<=s)break}}return a},function(){function y(e,t){var n,i,o=e.getAscendant("table"),r=t.getAscendant("table"),a=CKEDITOR.tools.buildTableMap(o),s=e.getAscendant("tr",!0).$.rowIndex,l=t.getAscendant("tr",!0).$.rowIndex,c=[],d={};for(o.contains(r)&&(l=(t=t.getAscendant({td:1,th:1})).getAscendant("tr",!0).$.rowIndex),l<s&&(o=s,s=l,l=o,o=e,e=t,t=o),o=0;o<a[s].length;o++)if(e.$===a[s][o]){n=o;break}for(o=0;o<a[l].length;o++)if(t.$===a[l][o]){i=o;break}for(i<n&&(o=n,n=i,i=o),o=s;o<=l;o++)for(s=n;s<=i;s++)(r=new CKEDITOR.dom.element(a[o][s])).$&&!r.getCustomData("selected_cell")&&(c.push(r),CKEDITOR.dom.element.setMarker(d,r,"selected_cell",!0));return CKEDITOR.dom.element.clearAllMarkers(d),c}function d(e){return e=e.data.$,CKEDITOR.env.ie&&CKEDITOR.env.version<9?1===e.button:0===e.button}function u(e){return(e=e.editable().findOne(".cke_table-faked-selection"))&&e.getAscendant("table")}function h(e,t){var n,i=e.editable().find(".cke_table-faked-selection");for(e.fire("lockSnapshot"),e.editable().removeClass("cke_table-faked-selection-editor"),n=0;n<i.count();n++)i.getItem(n).removeClass("cke_table-faked-selection");0<i.count()&&i.getItem(0).getAscendant("table").removeClass("cke_table-faked-selection-table"),e.fire("unlockSnapshot"),t&&(g={active:!1},e.getSelection().isInTable()&&e.getSelection().reset())}function E(e,t){var n,i,o=[];for(i=0;i<t.length;i++)(n=e.createRange()).setStartBefore(t[i]),n.setEndAfter(t[i]),o.push(n);e.getSelection().selectRanges(o)}function p(e){var t=e.editable().find(".cke_table-faked-selection");t.count()<1||E(e,t=y(t.getItem(0),t.getItem(t.count()-1)))}function f(e,t,n){var i,o=b(e.getSelection(!0));if(t=t.is("table")?null:t,(i=g.active&&!g.first)&&!(i=t)&&(i=e.getSelection().getRanges(),i=!!(1<o.length||i[0]&&!i[0].collapsed)),i)g.first=t||o[0],g.dirty=!t&&1!==o.length;else if(g.active&&t&&g.first.getAscendant("table").equals(t.getAscendant("table"))){if(o=y(g.first,t),!g.dirty&&1===o.length)return h(e,"mouseup"===n.name);g.dirty=!0,g.last=t,E(e,o)}}function o(e){var t,n=(e=e.editor||e.sender.editor)&&e.getSelection(),i=n&&n.getRanges()||[];if(n&&(h(e),n.isInTable()&&n.isFake)){for(1===i.length&&i[0]._getTableElement()&&i[0]._getTableElement().is("table")&&(t=i[0]._getTableElement()),t=b(n,t),e.fire("lockSnapshot"),n=0;n<t.length;n++)t[n].addClass("cke_table-faked-selection");0<t.length&&(e.editable().addClass("cke_table-faked-selection-editor"),t[0].getAscendant("table").addClass("cke_table-faked-selection-table")),e.fire("unlockSnapshot")}}function m(e){function o(e,t){return!(!e||!t)&&(e.equals(t)||e.contains(t)||t.contains(e)||e.getCommonAncestor(t).is(c))}function r(e){return!e.getAscendant("table",!0)&&e.getDocument().equals(n.document)}function t(e,t,n,i){return!(("mousedown"!==e.name||!d(e)&&i)&&("mouseup"!==e.name||r(e.data.getTarget())||o(n,i)))}if(e.data.getTarget().getName){var n=e.editor||e.listenerData.editor,i=n.getSelection(1),a=u(n),s=(l=e.data.getTarget())&&l.getAscendant({td:1,th:1},!0),l=l&&l.getAscendant("table",!0),c={table:1,thead:1,tbody:1,tfoot:1,tr:1,td:1,th:1};t(e,i,a,l)&&h(n,!0),!g.active&&"mousedown"===e.name&&d(e)&&l&&(g={active:!0},CKEDITOR.document.on("mouseup",m,null,{editor:n})),(s||l)&&f(n,s||l,e),"mouseup"===e.name&&(d(e)&&(r(e.data.getTarget())||o(a,l))&&p(n),g={active:!1},CKEDITOR.document.removeListener("mouseup",m))}}function r(e){var t=e.data.getTarget().getAscendant({td:1,th:1},!0);t&&!t.hasClass("cke_table-faked-selection")&&(e.cancel(),e.data.preventDefault())}function n(e,t){function n(e){e.cancel()}var i,o,r,a,s=e.getSelection(),l=s.createBookmarks(),c=e.document,d=e.createRange(),u=c.getDocumentElement().$,h=CKEDITOR.env.ie&&CKEDITOR.env.version<9,p=e.blockless||CKEDITOR.env.ie?"span":"div";c.getById("cke_table_copybin")||(i=c.createElement(p),(o=c.createElement(p)).setAttributes({id:"cke_table_copybin","data-cke-temp":"1"}),i.setStyles({position:"absolute",width:"1px",height:"1px",overflow:"hidden"}),i.setStyle("ltr"==e.config.contentsLangDirection?"left":"right","-5000px"),i.setHtml(e.getSelectedHtml(!0)),e.fire("lockSnapshot"),o.append(i),e.editable().append(o),a=e.on("selectionChange",n,null,null,0),h&&(r=u.scrollTop),d.selectNodeContents(i),d.select(),h&&(u.scrollTop=r),setTimeout(function(){o.remove(),s.selectBookmarks(l),a.removeListener(),e.fire("unlockSnapshot"),t&&(e.extractSelectedHtml(),e.fire("saveSnapshot"))},100))}function a(e){var t=e.editor||e.sender.editor;t.getSelection().isInTable()&&n(t,"cut"===e.name)}function e(e){function t(e){var t=(e=e.getRanges()[0]).endContainer.getAscendant("tr",!0);if(t&&e.collapsed){if(e.checkBoundaryOfElement(t,CKEDITOR.START))return 1;if(e.checkBoundaryOfElement(t,CKEDITOR.END))return 2}return 0}function n(e){var t,n=0;for(t=0;t<e.length;t++)e[t].length>n&&(n=e[t].length);return n}function i(e){var t,n=e.getAscendant("table"),i=e.getParent().$.rowIndex;n=CKEDITOR.tools.buildTableMap(n);for(t=0;t<n[i].length;t++)if(new CKEDITOR.dom.element(n[i][t]).equals(e))return t}var o,r,a,s,l,c,d=e.editor,u=d.dataProcessor,h=d.getSelection(),p=new CKEDITOR.dom.element("body"),f=0,m=0,g=0,v=0,T={};if(u||(u=new CKEDITOR.htmlDataProcessor(d)),p.setHtml(u.toHtml(e.data.dataValue),{fixForBody:!1}),v=p.findOne("table"),h.getRanges().length&&(
h.isInTable()||(o=t(h)))&&(r=b(h)).length){if(e.stop(),e=r[0].getAscendant("table"),g=(a=(r=b(h,e))[0]).getParent(),l=(s=r[r.length-1]).getParent(),!o)for(u=0;u<r.length;u++)r[u].setHtml("");if(1<p.getChildCount()||!v)r[0].setHtml(p.getHtml()),d.fire("saveSnapshot");else{if(o){for(r=g.getChildCount(),(g=l=new CKEDITOR.dom.element("tr"))["insert"+(1===o?"Before":"After")](a.getParent()),u=0;u<r;u++)(a=new CKEDITOR.dom.element("td")).appendTo(g);a=g.getFirst(),s=g.getLast(),h.selectElement(g),r=b(h)}if(o=CKEDITOR.tools.buildTableMap(e,g.$.rowIndex,C(a,!0),l.$.rowIndex,i(s)),g=n(h=CKEDITOR.tools.buildTableMap(v)),v=n(o),h.length>o.length)for(f=h.length-o.length,u=0;u<f;u++)_(r);if(v<g)for(m=g-v,u=0;u<m;u++)O(r);for(g=(a=r[0]).getParent(),s=r[r.length-1],s=(l=new CKEDITOR.dom.element(e.$.rows[s.getParent().$.rowIndex+f])).getChild(s.$.cellIndex+m),f=C(r[0],!0),r=i(s),o=CKEDITOR.tools.buildTableMap(e,g.$.rowIndex,f,l.$.rowIndex,r),u=0;u<h.length;u++)for(m=new CKEDITOR.dom.element(e.$.rows[g.$.rowIndex+u]),r=0;r<h[u].length;r++)c=new CKEDITOR.dom.element(h[u][r]),p=o[u]&&o[u][r]?new CKEDITOR.dom.element(o[u][r]):null,c&&!c.getCustomData("processed")?(p&&p.getParent()?c.replace(p):(0===r||h[u][r-1])&&((p=0!==r?new CKEDITOR.dom.element(h[u][r-1]):null)&&m.equals(p.getParent())?c.insertAfter(p):0<f?c.insertAfter(new CKEDITOR.dom.element(m.$.cells[f])):m.append(c,!0)),CKEDITOR.dom.element.setMarker(T,c,"processed",!0)):c.getCustomData("processed")&&p&&p.remove();CKEDITOR.dom.element.clearAllMarkers(T),E(d,y(new CKEDITOR.dom.element(h[0][0]),c)),d.fire("saveSnapshot"),setTimeout(function(){d.fire("afterPaste")},0)}}}function t(t,n,i){t.on("beforeCommandExec",function(e){-1!==CKEDITOR.tools.array.indexOf(n,e.data.name)&&(e.data.selectedCells=b(t.getSelection()))}),t.on("afterCommandExec",function(e){-1!==CKEDITOR.tools.array.indexOf(n,e.data.name)&&i(t,e.data)})}var i,b,C,_,O,g={active:!1};CKEDITOR.plugins.tableselection={getCellsBetween:y,keyboardIntegration:function(o){function c(e){e.getEnclosedNode()?e.getEnclosedNode().setText(""):e.deleteContents(),CKEDITOR.tools.array.forEach(e._find("td"),function(e){e.appendBogus()})}var e=o.editable();e.attachListener(e,"keydown",function(d){function s(e,t){if(!t.length)return null;var n=d.createRange(),i=CKEDITOR.dom.range.mergeRanges(t);CKEDITOR.tools.array.forEach(i,function(e){e.enlarge(CKEDITOR.ENLARGE_ELEMENT)});var o=(r=i[0].getBoundaryNodes()).startNode,r=r.endNode;if(o&&o.is&&o.is(u)){for(var a=o.getAscendant("table",!0),s=o.getPreviousSourceNode(!1,CKEDITOR.NODE_ELEMENT,a),l=!1,c=function(e){return!o.contains(e)&&e.is&&e.is("td","th")};s&&!c(s);)s=s.getPreviousSourceNode(!1,CKEDITOR.NODE_ELEMENT,a);return!s&&r&&r.is&&!r.is("table")&&r.getNext()&&(s=r.getNext().findOne("td, th"),l=!0),s?n["moveToElementEdit"+(l?"Start":"End")](s):(n.setStartBefore(o.getAscendant("table",!0)),n.collapse(!0)),i[0].deleteContents(),[n]}return o?(n.moveToElementEditablePosition(o),[n]):void 0}var l={37:1,38:1,39:1,40:1,8:1,46:1},u=CKEDITOR.tools.extend({table:1},CKEDITOR.dtd.$tableContent);return delete u.td,delete u.th,function(e){var t,n,i,o,r=e.data.getKey(),a=37===r||38==r;if(l[r]&&(t=d.getSelection())&&t.isInTable()&&t.isFake)if(i=(n=t.getRanges())[0]._getTableElement(),o=n[n.length-1]._getTableElement(),e.data.preventDefault(),e.cancel(),8<r&&r<46)n[0].moveToElementEditablePosition(a?i:o,!a),t.selectRanges([n[0]]);else{for(e=0;e<n.length;e++)c(n[e]);(e=s(i,n))?n=e:n[0].moveToElementEditablePosition(i),t.selectRanges(n),d.fire("saveSnapshot")}}}(o),null,null,-1),e.attachListener(e,"keypress",function(e){var t,n=o.getSelection(),i=e.data.$.charCode||13===e.data.getKey();if(n&&n.isInTable()&&n.isFake&&i&&!(e.data.getKeystroke()&CKEDITOR.CTRL)){for(i=(e=n.getRanges())[0].getEnclosedNode().getAscendant({td:1,th:1},!0),t=0;t<e.length;t++)c(e[t]);e[0].moveToElementEditablePosition(i),n.selectRanges([e[0]])}},null,null,-1)},isSupportedEnvironment:!(CKEDITOR.env.ie&&CKEDITOR.env.version<11)},CKEDITOR.plugins.add("tableselection",{requires:"clipboard,tabletools",onLoad:function(){i=CKEDITOR.plugins.tabletools,b=i.getSelectedCells,C=i.getCellColIndex,_=i.insertRow,O=i.insertColumn,CKEDITOR.document.appendStyleSheet(this.path+"/styles/tableselection.css")},init:function(i){CKEDITOR.plugins.tableselection.isSupportedEnvironment&&(i.addContentsCss&&i.addContentsCss(this.path+"/styles/tableselection.css"),i.on("contentDom",function(){var e=i.editable(),t=e.isInline()?e:i.document,n={editor:i};e.attachListener(t,"mousedown",m,null,n),e.attachListener(t,"mousemove",m,null,n),e.attachListener(t,"mouseup",m,null,n),e.attachListener(e,"dragstart",r),e.attachListener(i,"selectionCheck",o),CKEDITOR.plugins.tableselection.keyboardIntegration(i),CKEDITOR.plugins.clipboard&&!CKEDITOR.plugins.clipboard.isCustomCopyCutSupported&&(e.attachListener(e,"cut",a),e.attachListener(e,"copy",a))}),i.on("paste",e),t(i,"rowInsertBefore rowInsertAfter columnInsertBefore columnInsertAfter cellInsertBefore cellInsertAfter".split(" "),function(e,t){E(e,t.selectedCells)}),t(i,["cellMerge","cellMergeRight","cellMergeDown"],function(e,t){E(e,[t.commandData.cell])}),t(i,["cellDelete"],function(e){h(e,!0)}))}})}(),function(){var s=[CKEDITOR.CTRL+90,CKEDITOR.CTRL+89,CKEDITOR.CTRL+CKEDITOR.SHIFT+90],n={8:1,46:1};CKEDITOR.plugins.add("undo",{init:function(e){function t(e){i.enabled&&!1!==e.data.command.canUndo&&i.save()}function n(){i.enabled=!e.readOnly&&"wysiwyg"==e.mode,i.onChange()}var i=e.undoManager=new l(e),o=i.editingHandler=new c(i),r=e.addCommand("undo",{exec:function(){i.undo()&&(e.selectionChange(),this.fire("afterUndo"))},startDisabled:!0,canUndo:!1}),a=e.addCommand("redo",{exec:function(){i.redo()&&(e.selectionChange(),this.fire("afterRedo"))},startDisabled:!0,canUndo:!1});e.setKeystroke([[s[0],"undo"],[s[1],"redo"],[s[2],"redo"]]),i.onChange=function(){r.setState(i.undoable()?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED),a.setState(i.redoable()?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)},e.on("beforeCommandExec",t),e.on("afterCommandExec",t),e.on("saveSnapshot",function(e){i.save(e.data&&e.data.contentOnly)}),e.on("contentDom",o.attachListeners,o),e.on("instanceReady",function(){e.fire("saveSnapshot")}),e.on("beforeModeUnload",function(){"wysiwyg"==e.mode&&i.save(!0)}),e.on("mode",n),e.on("readOnly",n),e.ui.addButton&&(e.ui.addButton("Undo",{label:e.lang.undo.undo,command:"undo",toolbar:"undo,10"}),e.ui.addButton("Redo",{label:e.lang.undo.redo,command:"redo",toolbar:"undo,20"})),e.resetUndo=function(){i.reset(),e.fire("saveSnapshot")},e.on("updateSnapshot",function(){i.currentImage&&i.update()}),e.on("lockSnapshot",function(e){e=e.data,i.lock(e&&e.dontUpdate,e&&e.forceUpdate)}),e.on("unlockSnapshot",i.unlock,i)}}),CKEDITOR.plugins.undo={};var l=CKEDITOR.plugins.undo.UndoManager=function(e){this.strokesRecorded=[0,0],this.locked=null,this.previousKeyGroup=-1,this.limit=e.config.undoStackSize||20,this.strokesLimit=25,this.editor=e,this.reset()};l.prototype={type:function(e,t){var n=l.getKeyGroup(e),i=this.strokesRecorded[n]+1;t=t||i>=this.strokesLimit,this.typing||(this.hasUndo=this.typing=!0,this.hasRedo=!1,this.onChange()),t?(i=0,this.editor.fire("saveSnapshot")):this.editor.fire("change"),this.strokesRecorded[n]=i,this.previousKeyGroup=n},keyGroupChanged:function(e){return l.getKeyGroup(e)!=this.previousKeyGroup},reset:function(){this.snapshots=[],this.index=-1,this.currentImage=null,this.hasRedo=this.hasUndo=!1,this.locked=null,this.resetType()},resetType:function(){this.strokesRecorded=[0,0],this.typing=!1,this.previousKeyGroup=-1},refreshState:function(){this.hasUndo=!!this.getNextImage(!0),this.hasRedo=!!this.getNextImage(!1),this.resetType(),this.onChange()},save:function(e,t,n){var i=this.editor;if(this.locked||"ready"!=i.status||"wysiwyg"!=i.mode)return!1;var o=i.editable();if(!o||"ready"!=o.status)return!1;if(o=this.snapshots,t||(t=new r(i)),!1===t.contents)return!1;if(this.currentImage)if(t.equalsContent(this.currentImage)){if(e||t.equalsSelection(this.currentImage))return!1}else!1!==n&&i.fire("change");return o.splice(this.index+1,o.length-this.index-1),o.length==this.limit&&o.shift(),this.index=o.push(t)-1,this.currentImage=t,!1!==n&&this.refreshState(),!0},restoreImage:function(e){var t,n=this.editor;e.bookmarks&&(n.focus(),t=n.getSelection()),this.locked={level:999},this.editor.loadSnapshot(e.contents),e.bookmarks?t.selectBookmarks(e.bookmarks):CKEDITOR.env.ie&&((t=this.editor.document.getBody().$.createTextRange()).collapse(!0),t.select()),this.locked=null,this.index=e.index,this.currentImage=this.snapshots[this.index],this.update(),this.refreshState(),n.fire("change")},getNextImage:function(e){var t,n=this.snapshots,i=this.currentImage;if(i)if(e){for(t=this.index-1;0<=t;t--)if(e=n[t],!i.equalsContent(e))return e.index=t,e}else for(t=this.index+1;t<n.length;t++)if(e=n[t],!i.equalsContent(e))return e.index=t,e;return null},redoable:function(){return this.enabled&&this.hasRedo},undoable:function(){return this.enabled&&this.hasUndo},undo:function(){if(this.undoable()){this.save(!0);var e=this.getNextImage(!0);if(e)return this.restoreImage(e),!0}return!1},redo:function(){if(this.redoable()&&(this.save(!0),this.redoable())){var e=this.getNextImage(!1);if(e)return this.restoreImage(e),!0}return!1},update:function(e){if(!this.locked){e||(e=new r(this.editor));for(var t=this.index,n=this.snapshots;0<t&&this.currentImage.equalsContent(n[t-1]);)--t;n.splice(t,this.index-t+1,e),this.index=t,this.currentImage=e}},updateSelection:function(e){if(!this.snapshots.length)return!1;var t=this.snapshots,n=t[t.length-1];return!(!n.equalsContent(e)||n.equalsSelection(e))&&(this.currentImage=t[t.length-1]=e,!0)},lock:function(e,t){if(this.locked)this.locked.level++;else if(e)this.locked={level:1};else{var n=null;if(t)n=!0;else{var i=new r(this.editor,!0);this.currentImage&&this.currentImage.equalsContent(i)&&(n=i)}this.locked={update:n,level:1}}},unlock:function(){if(this.locked&&!--this.locked.level){var e=this.locked.update;if(!(this.locked=null)===e)this.update();else if(e){var t=new r(this.editor,!0);e.equalsContent(t)||this.update()}}}},l.navigationKeyCodes={37:1,38:1,39:1,40:1,36:1,35:1,33:1,34:1},l.keyGroups={PRINTABLE:0,FUNCTIONAL:1},l.isNavigationKey=function(e){return!!l.navigationKeyCodes[e]},l.getKeyGroup=function(e){var t=l.keyGroups;return n[e]?t.FUNCTIONAL:t.PRINTABLE},l.getOppositeKeyGroup=function(e){var t=l.keyGroups;return e==t.FUNCTIONAL?t.PRINTABLE:t.FUNCTIONAL},l.ieFunctionalKeysBug=function(e){return CKEDITOR.env.ie&&l.getKeyGroup(e)==l.keyGroups.FUNCTIONAL};var r=CKEDITOR.plugins.undo.Image=function(e,t){(this.editor=e).fire("beforeUndoImage");var n=e.getSnapshot();CKEDITOR.env.ie&&n&&(n=n.replace(/\s+data-cke-expando=".*?"/g,"")),this.contents=n,t||(this.bookmarks=(n=n&&e.getSelection())&&n.createBookmarks2(!0)),e.fire("afterUndoImage")},i=/\b(?:href|src|name)="[^"]*?"/gi;r.prototype={equalsContent:function(e){var t=this.contents;return e=e.contents,CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)&&(t=t.replace(i,""),e=e.replace(i,"")),t==e},equalsSelection:function(e){var t=this.bookmarks;if(e=e.bookmarks,t||e){if(!t||!e||t.length!=e.length)return!1;for(var n=0;n<t.length;n++){var i=t[n],o=e[n];if(i.startOffset!=o.startOffset||i.endOffset!=o.endOffset||!CKEDITOR.tools.arrayCompare(i.start,o.start)||!CKEDITOR.tools.arrayCompare(i.end,o.end))return!1}}return!0}};var c=CKEDITOR.plugins.undo.NativeEditingHandler=function(e){this.undoManager=e,this.ignoreInputEvent=!1,this.keyEventsStack=new t,this.lastKeydownImage=null};c.prototype={onKeydown:function(e){var t=e.data.getKey();229!==t&&(-1<CKEDITOR.tools.indexOf(s,e.data.getKeystroke())?e.data.preventDefault():(this.keyEventsStack.cleanUp(e),e=this.undoManager,this.keyEventsStack.getLast(t)||this.keyEventsStack.push(t),this.lastKeydownImage=new r(e.editor),(l.isNavigationKey(t)||this.undoManager.keyGroupChanged(t))&&(e.strokesRecorded[0]||e.strokesRecorded[1])&&(e.save(!1,this.lastKeydownImage,!1),e.resetType())))},onInput:function(){if(this.ignoreInputEvent)this.ignoreInputEvent=!1;else{var e=this.keyEventsStack.getLast();e||(e=this.keyEventsStack.push(0)),this.keyEventsStack.increment(e.keyCode),this.keyEventsStack.getTotalInputs()>=this.undoManager.strokesLimit&&(this.undoManager.type(e.keyCode,!0),this.keyEventsStack.resetInputs())}},onKeyup:function(e){var t=this.undoManager;e=e.data.getKey();var n=this.keyEventsStack.getTotalInputs();this.keyEventsStack.remove(e),l.ieFunctionalKeysBug(e)&&this.lastKeydownImage&&this.lastKeydownImage.equalsContent(new r(t.editor,!0))||(0<n?t.type(e):l.isNavigationKey(e)&&this.onNavigationKey(!0))},onNavigationKey:function(e){var t=this.undoManager;!e&&t.save(!0,null,!1)||t.updateSelection(new r(t.editor)),t.resetType()},ignoreInputEventListener:function(){this.ignoreInputEvent=!0},attachListeners:function(){var e=this.undoManager.editor,t=e.editable(),n=this;t.attachListener(t,"keydown",function(e){n.onKeydown(e),l.ieFunctionalKeysBug(e.data.getKey())&&n.onInput()},null,null,999),t.attachListener(t,CKEDITOR.env.ie?"keypress":"input",n.onInput,n,null,999),t.attachListener(t,"keyup",n.onKeyup,n,null,999),t.attachListener(t,"paste",n.ignoreInputEventListener,n,null,999),t.attachListener(t,"drop",n.ignoreInputEventListener,n,null,999),t.attachListener(t.isInline()?t:e.document.getDocumentElement(),"click",function(){n.onNavigationKey()},null,null,999),t.attachListener(this.undoManager.editor,"blur",function(){n.keyEventsStack.remove(9)},null,null,999)}};var t=CKEDITOR.plugins.undo.KeyEventsStack=function(){this.stack=[]};t.prototype={push:function(e){return e=this.stack.push({keyCode:e,inputs:0}),this.stack[e-1]},getLastIndex:function(e){if("number"!=typeof e)return this.stack.length-1;for(var t=this.stack.length;t--;)if(this.stack[t].keyCode==e)return t;return-1},getLast:function(e){return-1!=(e=this.getLastIndex(e))?this.stack[e]:null},increment:function(e){this.getLast(e).inputs++},remove:function(e){-1!=(e=this.getLastIndex(e))&&this.stack.splice(e,1)},resetInputs:function(e){if("number"==typeof e)this.getLast(e).inputs=0;else for(e=this.stack.length;e--;)this.stack[e].inputs=0},getTotalInputs:function(){for(var e=this.stack.length,t=0;e--;)t+=this.stack[e].inputs;return t},cleanUp:function(e){(e=e.data.$).ctrlKey||e.metaKey||this.remove(17),e.shiftKey||this.remove(16),e.altKey||this.remove(18)}}}(),CKEDITOR.plugins.add("wsc",{requires:"dialog",parseApi:function(e){e.config.wsc_onFinish="function"==typeof e.config.wsc_onFinish?e.config.wsc_onFinish:function(){},e.config.wsc_onClose="function"==typeof e.config.wsc_onClose?e.config.wsc_onClose:function(){}},parseConfig:function(e){e.config.wsc_customerId=e.config.wsc_customerId||CKEDITOR.config.wsc_customerId||"1:ua3xw1-2XyGJ3-GWruD3-6OFNT1-oXcuB1-nR6Bp4-hgQHc-EcYng3-sdRXG3-NOfFk",e.config.wsc_customDictionaryIds=e.config.wsc_customDictionaryIds||CKEDITOR.config.wsc_customDictionaryIds||"",e.config.wsc_userDictionaryName=e.config.wsc_userDictionaryName||CKEDITOR.config.wsc_userDictionaryName||"",e.config.wsc_customLoaderScript=e.config.wsc_customLoaderScript||CKEDITOR.config.wsc_customLoaderScript,e.config.wsc_interfaceLang=e.config.wsc_interfaceLang,CKEDITOR.config.wsc_cmd=e.config.wsc_cmd||CKEDITOR.config.wsc_cmd||"spell",CKEDITOR.config.wsc_version="v4.3.0-master-d769233",CKEDITOR.config.wsc_removeGlobalVariable=!0},onLoad:function(e){"moono-lisa"==(CKEDITOR.skinName||e.config.skin)&&CKEDITOR.document.appendStyleSheet(this.path+"skins/"+CKEDITOR.skin.name+"/wsc.css")},init:function(e){var t=CKEDITOR.env;this.parseConfig(e),this.parseApi(e),e.addCommand("checkspell",new CKEDITOR.dialogCommand("checkspell")).modes={wysiwyg:!(CKEDITOR.env.opera||CKEDITOR.env.air||document.domain!=window.location.hostname||t.ie&&(t.version<8||t.quirks))},"undefined"==typeof e.plugins.scayt&&e.ui.addButton&&e.ui.addButton("SpellChecker",{label:e.lang.wsc.toolbar,click:function(e){var t=e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?e.container.getText():e.document.getBody().getText();(t=t.replace(/\s/g,""))?e.execCommand("checkspell"):alert("Nothing to check!")},toolbar:"spellchecker,10"}),CKEDITOR.dialog.add("checkspell",this.path+(CKEDITOR.env.ie&&CKEDITOR.env.version<=7?"dialogs/wsc_ie.js":window.postMessage?"dialogs/wsc.js":"dialogs/wsc_ie.js"))}}),CKEDITOR.config.plugins="dialogui,dialog,about,a11yhelp,dialogadvtab,basicstyles,bidi,blockquote,button,toolbar,notification,clipboard,panelbutton,panel,floatpanel,colorbutton,colordialog,templates,menu,contextmenu,copyformatting,div,resize,elementspath,enterkey,entities,popup,filebrowser,find,fakeobjects,flash,floatingspace,listblock,richcombo,font,forms,format,horizontalrule,htmlwriter,iframe,wysiwygarea,image,indent,indentblock,indentlist,smiley,justify,menubutton,language,link,list,liststyle,magicline,maximize,newpage,pagebreak,pastetext,pastefromword,preview,print,removeformat,save,selectall,showblocks,showborders,sourcearea,specialchar,scayt,stylescombo,tab,table,tabletools,tableselection,undo,wsc",CKEDITOR.config.skin="moono-lisa",Z=function(e,t){var n=CKEDITOR.getUrl("plugins/"+t);e=e.split(",");for(var i=0;i<e.length;i++)CKEDITOR.skin.icons[e[i]]={path:n,offset:-e[++i],bgsize:e[++i]}},CKEDITOR.env.hidpi?Z("about,0,,bold,24,,italic,48,,strike,72,,subscript,96,,superscript,120,,underline,144,,bidiltr,168,,bidirtl,192,,blockquote,216,,copy-rtl,240,,copy,264,,cut-rtl,288,,cut,312,,paste-rtl,336,,paste,360,,bgcolor,384,,textcolor,408,,templates-rtl,432,,templates,456,,copyformatting,480,,creatediv,504,,find-rtl,528,,find,552,,replace,576,,flash,600,,button,624,,checkbox,648,,form,672,,hiddenfield,696,,imagebutton,720,,radio,744,,select-rtl,768,,select,792,,textarea-rtl,816,,textarea,840,,textfield-rtl,864,,textfield,888,,horizontalrule,912,,iframe,936,,image,960,,indent-rtl,984,,indent,1008,,outdent-rtl,1032,,outdent,1056,,smiley,1080,,justifyblock,1104,,justifycenter,1128,,justifyleft,1152,,justifyright,1176,,language,1200,,anchor-rtl,1224,,anchor,1248,,link,1272,,unlink,1296,,bulletedlist-rtl,1320,,bulletedlist,1344,,numberedlist-rtl,1368,,numberedlist,1392,,maximize,1416,,newpage-rtl,1440,,newpage,1464,,pagebreak-rtl,1488,,pagebreak,1512,,pastetext-rtl,1536,,pastetext,1560,,pastefromword-rtl,1584,,pastefromword,1608,,preview-rtl,1632,,preview,1656,,print,1680,,removeformat,1704,,save,1728,,selectall,1752,,showblocks-rtl,1776,,showblocks,1800,,source-rtl,1824,,source,1848,,specialchar,1872,,scayt,1896,,table,1920,,redo-rtl,1944,,redo,1968,,undo-rtl,1992,,undo,2016,,spellchecker,2040,","icons_hidpi.png"):Z("about,0,auto,bold,24,auto,italic,48,auto,strike,72,auto,subscript,96,auto,superscript,120,auto,underline,144,auto,bidiltr,168,auto,bidirtl,192,auto,blockquote,216,auto,copy-rtl,240,auto,copy,264,auto,cut-rtl,288,auto,cut,312,auto,paste-rtl,336,auto,paste,360,auto,bgcolor,384,auto,textcolor,408,auto,templates-rtl,432,auto,templates,456,auto,copyformatting,480,auto,creatediv,504,auto,find-rtl,528,auto,find,552,auto,replace,576,auto,flash,600,auto,button,624,auto,checkbox,648,auto,form,672,auto,hiddenfield,696,auto,imagebutton,720,auto,radio,744,auto,select-rtl,768,auto,select,792,auto,textarea-rtl,816,auto,textarea,840,auto,textfield-rtl,864,auto,textfield,888,auto,horizontalrule,912,auto,iframe,936,auto,image,960,auto,indent-rtl,984,auto,indent,1008,auto,outdent-rtl,1032,auto,outdent,1056,auto,smiley,1080,auto,justifyblock,1104,auto,justifycenter,1128,auto,justifyleft,1152,auto,justifyright,1176,auto,language,1200,auto,anchor-rtl,1224,auto,anchor,1248,auto,link,1272,auto,unlink,1296,auto,bulletedlist-rtl,1320,auto,bulletedlist,1344,auto,numberedlist-rtl,1368,auto,numberedlist,1392,auto,maximize,1416,auto,newpage-rtl,1440,auto,newpage,1464,auto,pagebreak-rtl,1488,auto,pagebreak,1512,auto,pastetext-rtl,1536,auto,pastetext,1560,auto,pastefromword-rtl,1584,auto,pastefromword,1608,auto,preview-rtl,1632,auto,preview,1656,auto,print,1680,auto,removeformat,1704,auto,save,1728,auto,selectall,1752,auto,showblocks-rtl,1776,auto,showblocks,1800,auto,source-rtl,1824,auto,source,1848,auto,specialchar,1872,auto,scayt,1896,auto,table,1920,auto,redo-rtl,1944,auto,redo,1968,auto,undo-rtl,1992,auto,undo,2016,auto,spellchecker,2040,auto","icons.png"),CKEDITOR.lang.languages={af:1,sq:1,ar:1,az:1,eu:1,bn:1,bs:1,bg:1,ca:1,"zh-cn":1,zh:1,hr:1,cs:1,da:1,nl:1,en:1,"en-au":1,"en-ca":1,"en-gb":1,eo:1,et:1,fo:1,fi:1,fr:1,"fr-ca":1,gl:1,ka:1,de:1,"de-ch":1,el:1,gu:1,he:1,hi:1,hu:1,is:1,id:1,it:1,ja:1,km:1,ko:1,ku:1,lv:1,lt:1,mk:1,ms:1,mn:1,no:1,nb:1,oc:1,fa:1,pl:1,"pt-br":1,pt:1,ro:1,ru:1,sr:1,"sr-latn":1,si:1,sk:1,sl:1,es:1,"es-mx":1,sv:1,tt:1,th:1,tr:1,ug:1,uk:1,vi:1,cy:1})}(),function(){var e=this;(function(){(function(){this.Rails={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:{selector:"button[data-remote]:not([form]), button[data-confirm]:not([form])",exclude:"form button"},inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",formDisableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",formEnableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]"}}).call(this)}).call(e);var T=e.Rails;(function(){(function(){var i,n;n=Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector,T.matches=function(e,t){return null!=t.exclude?n.call(e,t.selector)&&!n.call(e,t.exclude):n.call(e,t)},i="_ujsData",T.getData=function(e,t){var n;return null!=(n=e[i])?n[t]:void 0},T.setData=function(e,t,n){return null==e[i]&&(e[i]={}),e[i][t]=n},T.$=function(e){return Array.prototype.slice.call(document.querySelectorAll(e))}}).call(this),function(){var n,i,o;n=T.$,o=T.csrfToken=function(){var e;return(e=document.querySelector("meta[name=csrf-token]"))&&e.content},i=T.csrfParam=function(){var e;return(e=document.querySelector("meta[name=csrf-param]"))&&e.content},T.CSRFProtection=function(e){var t;if(null!=(t=o()))return e.setRequestHeader("X-CSRF-Token",t)},T.refreshCSRFTokens=function(){var e,t;if(t=o(),e=i(),null!=t&&null!=e)return n('form input[name="'+e+'"]').forEach(function(e){return e.value=t})}}.call(this),function(){var o,t,r;r=T.matches,"function"!=typeof(o=window.CustomEvent)&&((o=function(e,t){var n;return(n=document.createEvent("CustomEvent")).initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}).prototype=window.Event.prototype),t=T.fire=function(e,t,n){var i;return i=new o(t,{bubbles:!0,cancelable:!0,detail:n}),e.dispatchEvent(i),!i.defaultPrevented},T.stopEverything=function(e){return t(e.target,"ujs:everythingStopped"),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()},T.delegate=function(e,n,t,i){return e.addEventListener(t,function(e){var t;for(t=e.target;t instanceof Element&&!r(t,n);)t=t.parentNode;if(t instanceof Element&&!1===i.call(t,e))return e.preventDefault(),e.stopPropagation()})}}.call(this),function(){var t,i,e,o,r;i=T.CSRFProtection,T.fire,t={"*":"*/*",text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript",script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},T.ajax=function(t){var n;return t=o(t),n=e(t,function(){var e;return e=r(n.response,n.getResponseHeader("Content-Type")),2===Math.floor(n.status/100)?"function"==typeof t.success&&t.success(e,n.statusText,n):"function"==typeof t.error&&t.error(e,n.statusText,n),"function"==typeof t.complete?t.complete(n,n.statusText):void 0}),!("function"!=typeof t.beforeSend||!t.beforeSend(n,t))&&(n.readyState===XMLHttpRequest.OPENED?n.send(t.data):void 0)},o=function(e){return e.url=e.url||location.href,e.type=e.type.toUpperCase(),"GET"===e.type&&e.data&&(e.url.indexOf("?")<0?e.url+="?"+e.data:e.url+="&"+e.data),null==t[e.dataType]&&(e.dataType="*"),e.accept=t[e.dataType],"*"!==e.dataType&&(e.accept+=", */*; q=0.01"),e},e=function(e,t){var n;return(n=new XMLHttpRequest).open(e.type,e.url,!0),n.setRequestHeader("Accept",e.accept),"string"==typeof e.data&&n.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),e.crossDomain||n.setRequestHeader("X-Requested-With","XMLHttpRequest"),i(n),n.withCredentials=!!e.withCredentials,n.onreadystatechange=function(){if(n.readyState===XMLHttpRequest.DONE)return t(n)},n},r=function(e,t){var n,i;if("string"==typeof e&&"string"==typeof t)if(t.match(/\bjson\b/))try{e=JSON.parse(e)}catch(o){}else if(t.match(/\b(?:java|ecma)script\b/))(i=document.createElement("script")).text=e,document.head.appendChild(i).parentNode.removeChild(i);else if(t.match(/\b(xml|html|svg)\b/)){n=new DOMParser,t=t.replace(/;.+/,"");try{e=n.parseFromString(e,t)}catch(o){}}return e},T.href=function(e){return e.href},T.isCrossDomain=function(e){var t,n;(t=document.createElement("a")).href=location.href,n=document.createElement("a");try{return n.href=e,!((!n.protocol||":"===n.protocol)&&!n.host||t.protocol+"//"+t.host==n.protocol+"//"+n.host)}catch(i){return i,!0}}}.call(this),function(){var o,r;o=T.matches,r=function(e){return Array.prototype.slice.call(e)},T.serializeElement=function(e,t){var n,i;return n=[e],o(e,"form")&&(n=r(e.elements)),i=[],n.forEach(function(t){if(t.name&&!t.disabled)return o(t,"select")?r(t.options).forEach(function(e){if(e.selected)return i.push({name:t.name,value:e.value})}):t.checked||-1===["radio","checkbox","submit"].indexOf(t.type)?i.push({name:t.name,value:t.value}):void 0}),t&&i.push(t),i.map(function(e){return null!=e.name?encodeURIComponent(e.name)+"="+encodeURIComponent(e.value):e}).join("&")},T.formElements=function(e,t){return o(e,"form")?r(e.elements).filter(function(e){return o(e,t)}):r(e.querySelectorAll(t))}}.call(this),function(){var t,r,n;r=T.fire,n=T.stopEverything,T.handleConfirm=function(e){if(!t(this))return n(e)},t=function(e){var t,n,i;if(!(i=e.getAttribute("data-confirm")))return!0;if(t=!1,r(e,"confirm")){try{t=confirm(i)}catch(o){}n=r(e,"confirm:complete",[t])}return t&&n}}.call(this),function(){var n,i,o,r,a,s,t,l,c,d,u;c=T.matches,l=T.getData,d=T.setData,u=T.stopEverything,t=T.formElements,T.handleDisabledElement=function(e){if(this.disabled)return u(e)},T.enableElement=function(e){var t;return t=e instanceof Event?e.target:e,c(t,T.linkDisableSelector)?s(t):c(t,T.buttonDisableSelector)||c(t,T.formEnableSelector)?r(t):c(t,T.formSubmitSelector)?a(t):void 0},T.disableElement=function(e){var t;return t=e instanceof Event?e.target:e,c(t,T.linkDisableSelector)?o(t):c(t,T.buttonDisableSelector)||c(t,T.formDisableSelector)?n(t):c(t,T.formSubmitSelector)?i(t):void 0},o=function(e){var t;return null!=(t=e.getAttribute("data-disable-with"))&&(d(e,"ujs:enable-with",e.innerHTML),e.innerHTML=t),e.addEventListener("click",u),d(e,"ujs:disabled",!0)},s=function(e){var t;return null!=(t=l(e,"ujs:enable-with"))&&(e.innerHTML=t,d(e,"ujs:enable-with",null)),e.removeEventListener("click",u),d(e,"ujs:disabled",null)},i=function(e){return t(e,T.formDisableSelector).forEach(n)},n=function(e){var t;return null!=(t=e.getAttribute("data-disable-with"))&&(c(e,"button")?(d(e,"ujs:enable-with",e.innerHTML),e.innerHTML=t):(d(e,"ujs:enable-with",e.value),e.value=t)),e.disabled=!0,d(e,"ujs:disabled",!0)},a=function(e){return t(e,T.formEnableSelector).forEach(r)},r=function(e){var t;return null!=(t=l(e,"ujs:enable-with"))&&(c(e,"button")?e.innerHTML=t:e.value=t,d(e,"ujs:enable-with",null)),e.disabled=!1,d(e,"ujs:disabled",null)}}.call(this),function(){var l;l=T.stopEverything,T.handleMethod=function(e){var t,n,i,o,r,a,s;if(s=(a=this).getAttribute("data-method"))return r=T.href(a),n=T.csrfToken(),t=T.csrfParam(),i=document.createElement("form"),o="<input name='_method' value='"+s+"' type='hidden' />",null==t||null==n||T.isCrossDomain(r)||(o+="<input name='"+t+"' value='"+n+"' type='hidden' />"),o+='<input type="submit" />',i.method="post",i.action=r,i.target=a.target,i.innerHTML=o,i.style.display="none",document.body.appendChild(i),i.querySelector('[type="submit"]').click(),l(e)}}.call(this),function(){var l,c,d,u,h,p,f,m,g,v=[].slice;p=T.matches,d=T.getData,m=T.setData,c=T.fire,g=T.stopEverything,l=T.ajax,u=T.isCrossDomain,f=T.serializeElement,h=function(e){var t;return null!=(t=e.getAttribute("data-remote"))&&"false"!==t},T.handleRemote=function(e){var t,n,i,o,r,a,s;return!h(o=this)||(c(o,"ajax:before")?(s=o.getAttribute("data-with-credentials"),i=o.getAttribute("data-type")||"script",p(o,T.formSubmitSelector)?(t=d(o,"ujs:submit-button"),r=d(o,"ujs:submit-button-formmethod")||o.method,a=d(o,"ujs:submit-button-formaction")||o.getAttribute("action")||location.href,"GET"===r.toUpperCase()&&(a=a.replace(/\?.*$/,"")),"multipart/form-data"===o.enctype?(n=new FormData(o),null!=t&&n.append(t.name,t.value)):n=f(o,t),m(o,"ujs:submit-button",null),m(o,"ujs:submit-button-formmethod",null),m(o,"ujs:submit-button-formaction",null)):n=p(o,T.buttonClickSelector)||p(o,T.inputChangeSelector)?(r=o.getAttribute("data-method"),a=o.getAttribute("data-url"),f(o,o.getAttribute("data-params"))):(r=o.getAttribute("data-method"),a=T.href(o),o.getAttribute("data-params")),l({type:r||"GET",url:a,data:n,dataType:i,beforeSend:function(e,t){return c(o,"ajax:beforeSend",[e,t])?c(o,"ajax:send",[e]):(c(o,"ajax:stopped"),!1)},success:function(){var e;return e=1<=arguments.length?v.call(arguments,0):[],c(o,"ajax:success",e)},error:function(){var e;return e=1<=arguments.length?v.call(arguments,0):[],c(o,"ajax:error",e)},complete:function(){var e;return e=1<=arguments.length?v.call(arguments,0):[],c(o,"ajax:complete",e)},crossDomain:u(a),withCredentials:null!=s&&"false"!==s}),g(e)):(c(o,"ajax:stopped"),!1))},T.formSubmitButtonClick=function(){var e,t;if(t=(e=this).form)return e.name&&m(t,"ujs:submit-button",{name:e.name,value:e.value}),m(t,"ujs:formnovalidate-button",e.formNoValidate),m(t,"ujs:submit-button-formaction",e.getAttribute("formaction")),m(t,"ujs:submit-button-formmethod",e.getAttribute("formmethod"))},T.handleMetaClick=function(e){var t,n,i;if(i=((n=this).getAttribute("data-method")||"GET").toUpperCase(),t=n.getAttribute("data-params"),(e.metaKey||e.ctrlKey)&&"GET"===i&&!t)return e.stopImmediatePropagation()}}.call(this),function(){var e,i,t,n,o,r,a,s,l,c,d,u,h,p;r=T.fire,t=T.delegate,s=T.getData,e=T.$,p=T.refreshCSRFTokens,i=T.CSRFProtection,o=T.enableElement,n=T.disableElement,c=T.handleDisabledElement,l=T.handleConfirm,h=T.handleRemote,a=T.formSubmitButtonClick,d=T.handleMetaClick,u=T.handleMethod,"undefined"==typeof jQuery||null===jQuery||null==jQuery.ajax||jQuery.rails||(jQuery.rails=T,jQuery.ajaxPrefilter(function(e,t,n){if(!e.crossDomain)return i(n)})),T.start=function(){if(window._rails_loaded)throw new Error("rails-ujs has already been loaded!");return window.addEventListener("pageshow",function(){return e(T.formEnableSelector).forEach(function(e){if(s(e,"ujs:disabled"))return o(e)}),e(T.linkDisableSelector).forEach(function(e){if(s(e,"ujs:disabled"))return o(e)})}),t(document,T.linkDisableSelector,"ajax:complete",o),t(document,T.linkDisableSelector,"ajax:stopped",o),t(document,T.buttonDisableSelector,"ajax:complete",o),t(document,T.buttonDisableSelector,"ajax:stopped",o),t(document,T.linkClickSelector,"click",c),t(document,T.linkClickSelector,"click",l),t(document,T.linkClickSelector,"click",d),t(document,T.linkClickSelector,"click",n),t(document,T.linkClickSelector,"click",h),t(document,T.linkClickSelector,"click",u),t(document,T.buttonClickSelector,"click",c),t(document,T.buttonClickSelector,"click",l),t(document,T.buttonClickSelector,"click",n),t(document,T.buttonClickSelector,"click",h),t(document,T.inputChangeSelector,"change",c),t(document,T.inputChangeSelector,"change",l),t(document,T.inputChangeSelector,"change",h),t(document,T.formSubmitSelector,"submit",c),t(document,T.formSubmitSelector,"submit",l),t(document,T.formSubmitSelector,"submit",h),t(document,T.formSubmitSelector,"submit",function(e){
return setTimeout(function(){return n(e)},13)}),t(document,T.formSubmitSelector,"ajax:send",n),t(document,T.formSubmitSelector,"ajax:complete",o),t(document,T.formInputClickSelector,"click",c),t(document,T.formInputClickSelector,"click",l),t(document,T.formInputClickSelector,"click",a),document.addEventListener("DOMContentLoaded",p),window._rails_loaded=!0},window.Rails===T&&r(document,"rails:attachBindings")&&T.start()}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=T:"function"==typeof define&&define.amd&&define(T)}.call(this),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Popper=t()}(this,function(){"use strict";function e(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}function t(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},ce))}}function s(e){return e&&"[object Function]"==={}.toString.call(e)}function E(e,t){if(1!==e.nodeType)return[];var n=getComputedStyle(e,null);return t?n[t]:n}function p(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function m(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=E(e),n=t.overflow,i=t.overflowX,o=t.overflowY;return/(auto|scroll|overlay)/.test(n+o+i)?e:m(p(e))}function g(e){return 11===e?he:10===e?pe:he||pe}function T(e){if(!e)return document.documentElement;for(var t=g(10)?document.body:null,n=e.offsetParent;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var i=n&&n.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TD","TABLE"].indexOf(n.nodeName)&&"static"===E(n,"position")?T(n):n:e?e.ownerDocument.documentElement:document.documentElement}function l(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||T(e.firstElementChild)===e)}function c(e){return null!==e.parentNode?c(e.parentNode):e}function f(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?e:t,o=n?t:e,r=document.createRange();r.setStart(i,0),r.setEnd(o,0);var a=r.commonAncestorContainer;if(e!==a&&t!==a||i.contains(o))return l(a)?a:T(a);var s=c(e);return s.host?f(s.host,t):f(e,c(t).host)}function h(e,t){var n="top"===(1<arguments.length&&t!==undefined?arguments[1]:"top")?"scrollTop":"scrollLeft",i=e.nodeName;if("BODY"!==i&&"HTML"!==i)return e[n];var o=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||o)[n]}function v(e,t,n){var i=2<arguments.length&&n!==undefined&&arguments[2],o=h(t,"top"),r=h(t,"left"),a=i?-1:1;return e.top+=o*a,e.bottom+=o*a,e.left+=r*a,e.right+=r*a,e}function y(e,t){var n="x"===t?"Left":"Top",i="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"],10)+parseFloat(e["border"+i+"Width"],10)}function i(e,t,n,i){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],g(10)?n["offset"+e]+i["margin"+("Height"===e?"Top":"Left")]+i["margin"+("Height"===e?"Bottom":"Right")]:0)}function b(){var e=document.body,t=document.documentElement,n=g(10)&&getComputedStyle(t);return{height:i("Height",e,t,n),width:i("Width",e,t,n)}}function C(e){return ve({},e,{right:e.left+e.width,bottom:e.top+e.height})}function _(e){var t={};try{if(g(10)){t=e.getBoundingClientRect();var n=h(e,"top"),i=h(e,"left");t.top+=n,t.left+=i,t.bottom+=n,t.right+=i}else t=e.getBoundingClientRect()}catch(u){}var o={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},r="HTML"===e.nodeName?b():{},a=r.width||e.clientWidth||o.right-o.left,s=r.height||e.clientHeight||o.bottom-o.top,l=e.offsetWidth-a,c=e.offsetHeight-s;if(l||c){var d=E(e);l-=y(d,"x"),c-=y(d,"y"),o.width-=l,o.height-=c}return C(o)}function O(e,t,n){var i=2<arguments.length&&n!==undefined&&arguments[2],o=g(10),r="HTML"===t.nodeName,a=_(e),s=_(t),l=m(e),c=E(t),d=parseFloat(c.borderTopWidth,10),u=parseFloat(c.borderLeftWidth,10);i&&"HTML"===t.nodeName&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var h=C({top:a.top-s.top-d,left:a.left-s.left-u,width:a.width,height:a.height});if(h.marginTop=0,h.marginLeft=0,!o&&r){var p=parseFloat(c.marginTop,10),f=parseFloat(c.marginLeft,10);h.top-=d-p,h.bottom-=d-p,h.left-=u-f,h.right-=u-f,h.marginTop=p,h.marginLeft=f}return(o&&!i?t.contains(l):t===l&&"BODY"!==l.nodeName)&&(h=v(h,t)),h}function I(e,t){var n=1<arguments.length&&t!==undefined&&arguments[1],i=e.ownerDocument.documentElement,o=O(e,i),r=Math.max(i.clientWidth,window.innerWidth||0),a=Math.max(i.clientHeight,window.innerHeight||0),s=n?0:h(i),l=n?0:h(i,"left");return C({top:s-o.top+o.marginTop,left:l-o.left+o.marginLeft,width:r,height:a})}function D(e){var t=e.nodeName;return"BODY"!==t&&"HTML"!==t&&("fixed"===E(e,"position")||D(p(e)))}function w(e){if(!e||!e.parentElement||g())return document.documentElement;for(var t=e.parentElement;t&&"none"===E(t,"transform");)t=t.parentElement;return t||document.documentElement}function R(e,t,n,i,o){var r=4<arguments.length&&o!==undefined&&arguments[4],a={top:0,left:0},s=r?w(e):f(e,t);if("viewport"===i)a=I(s,r);else{var l=void 0;"scrollParent"===i?"BODY"===(l=m(p(t))).nodeName&&(l=e.ownerDocument.documentElement):l="window"===i?e.ownerDocument.documentElement:i;var c=O(l,s,r);if("HTML"!==l.nodeName||D(s))a=c;else{var d=b(),u=d.height,h=d.width;a.top+=c.top-c.marginTop,a.bottom=u+c.top,a.left+=c.left-c.marginLeft,a.right=h+c.left}}return a.left+=n,a.top+=n,a.right-=n,a.bottom-=n,a}function k(e){return e.width*e.height}function d(e,t,i,n,o,r){var a=5<arguments.length&&r!==undefined?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var s=R(i,n,a,o),l={top:{width:s.width,height:t.top-s.top},right:{width:s.right-t.right,height:s.height},bottom:{width:s.width,height:s.bottom-t.bottom},left:{width:t.left-s.left,height:s.height}},c=Object.keys(l).map(function(e){return ve({key:e},l[e],{area:k(l[e])})}).sort(function(e,t){return t.area-e.area}),d=c.filter(function(e){var t=e.width,n=e.height;return t>=i.clientWidth&&n>=i.clientHeight}),u=0<d.length?d[0].key:c[0].key,h=e.split("-")[1];return u+(h?"-"+h:"")}function u(e,t,n,i){var o=3<arguments.length&&i!==undefined?arguments[3]:null;return O(n,o?w(t):f(t,n),o)}function x(e){var t=getComputedStyle(e),n=parseFloat(t.marginTop)+parseFloat(t.marginBottom),i=parseFloat(t.marginLeft)+parseFloat(t.marginRight);return{width:e.offsetWidth+i,height:e.offsetHeight+n}}function S(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function K(e,t,n){n=n.split("-")[0];var i=x(e),o={width:i.width,height:i.height},r=-1!==["right","left"].indexOf(n),a=r?"top":"left",s=r?"left":"top",l=r?"height":"width",c=r?"width":"height";return o[a]=t[a]+t[l]/2-i[l]/2,o[s]=n===s?t[s]-i[c]:t[S(s)],o}function N(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function o(e,t,n){if(Array.prototype.findIndex)return e.findIndex(function(e){return e[t]===n});var i=N(e,function(e){return e[t]===n});return e.indexOf(i)}function A(e,n,t){return(t===undefined?e:e.slice(0,o(e,"name",t))).forEach(function(e){e["function"]&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var t=e["function"]||e.fn;e.enabled&&s(t)&&(n.offsets.popper=C(n.offsets.popper),n.offsets.reference=C(n.offsets.reference),n=t(n,e))}),n}function r(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=u(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=d(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=K(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=A(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function n(e,n){return e.some(function(e){var t=e.name;return e.enabled&&t===n})}function L(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),i=0;i<t.length;i++){var o=t[i],r=o?""+o+n:e;if("undefined"!=typeof document.body.style[r])return r}return null}function P(){return this.state.isDestroyed=!0,n(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[L("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function a(e){var t=e.ownerDocument;return t?t.defaultView:window}function M(e,t,n,i){var o="BODY"===e.nodeName,r=o?e.ownerDocument.defaultView:e;r.addEventListener(t,n,{passive:!0}),o||M(m(r.parentNode),t,n,i),i.push(r)}function F(e,t,n,i){n.updateBound=i,a(e).addEventListener("resize",n.updateBound,{passive:!0});var o=m(e);return M(o,"scroll",n.updateBound,n.scrollParents),n.scrollElement=o,n.eventsEnabled=!0,n}function B(){this.state.eventsEnabled||(this.state=F(this.reference,this.options,this.state,this.scheduleUpdate))}function $(e,t){return a(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t}function H(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=$(this.reference,this.state))}function z(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function q(n,i){Object.keys(i).forEach(function(e){var t="";-1!==["width","height","top","right","bottom","left"].indexOf(e)&&z(i[e])&&(t="px"),n.style[e]=i[e]+t})}function j(t,n){Object.keys(n).forEach(function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})}function W(e){return q(e.instance.popper,e.styles),j(e.instance.popper,e.attributes),e.arrowElement&&Object.keys(e.arrowStyles).length&&q(e.arrowElement,e.arrowStyles),e}function U(e,t,n,i,o){var r=u(o,t,e,n.positionFixed),a=d(n.placement,r,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",a),q(t,{position:n.positionFixed?"fixed":"absolute"}),n}function V(e,t){var n=t.x,i=t.y,o=e.offsets.popper,r=N(e.instance.modifiers,function(e){return"applyStyle"===e.name}).gpuAcceleration;r!==undefined&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=r!==undefined?r:t.gpuAcceleration,s=_(T(e.instance.popper)),l={position:o.position},c={left:Math.floor(o.left),top:Math.round(o.top),bottom:Math.round(o.bottom),right:Math.floor(o.right)},d="bottom"===n?"top":"bottom",u="right"===i?"left":"right",h=L("transform"),p=void 0,f=void 0;if(f="bottom"===d?-s.height+c.bottom:c.top,p="right"===u?-s.width+c.right:c.left,a&&h)l[h]="translate3d("+p+"px, "+f+"px, 0)",l[d]=0,l[u]=0,l.willChange="transform";else{var m="bottom"===d?-1:1,g="right"===u?-1:1;l[d]=f*m,l[u]=p*g,l.willChange=d+", "+u}var v={"x-placement":e.placement};return e.attributes=ve({},v,e.attributes),e.styles=ve({},l,e.styles),e.arrowStyles=ve({},e.offsets.arrow,e.arrowStyles),e}function X(e,t,n){var i=N(e,function(e){return e.name===t}),o=!!i&&e.some(function(e){return e.name===n&&e.enabled&&e.order<i.order});if(!o){var r="`"+t+"`",a="`"+n+"`";console.warn(a+" modifier is required by "+r+" modifier in order to work, be sure to include it before "+r+"!")}return o}function Y(e,t){var n;if(!X(e.instance.modifiers,"arrow","keepTogether"))return e;var i=t.element;if("string"==typeof i){if(!(i=e.instance.popper.querySelector(i)))return e}else if(!e.instance.popper.contains(i))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var o=e.placement.split("-")[0],r=e.offsets,a=r.popper,s=r.reference,l=-1!==["left","right"].indexOf(o),c=l?"height":"width",d=l?"Top":"Left",u=d.toLowerCase(),h=l?"left":"top",p=l?"bottom":"right",f=x(i)[c];s[p]-f<a[u]&&(e.offsets.popper[u]-=a[u]-(s[p]-f)),s[u]+f>a[p]&&(e.offsets.popper[u]+=s[u]+f-a[p]),e.offsets.popper=C(e.offsets.popper);var m=s[u]+s[c]/2-f/2,g=E(e.instance.popper),v=parseFloat(g["margin"+d],10),T=parseFloat(g["border"+d+"Width"],10),y=m-e.offsets.popper[u]-v-T;return y=Math.max(Math.min(a[c]-f,y),0),e.arrowElement=i,e.offsets.arrow=(ge(n={},u,Math.round(y)),ge(n,h,""),n),e}function G(e){return"end"===e?"start":"start"===e?"end":e}function Q(e,t){var n=1<arguments.length&&t!==undefined&&arguments[1],i=ye.indexOf(e),o=ye.slice(i+1).concat(ye.slice(0,i));return n?o.reverse():o}function Z(p,f){if(n(p.instance.modifiers,"inner"))return p;if(p.flipped&&p.placement===p.originalPlacement)return p;var m=R(p.instance.popper,p.instance.reference,f.padding,f.boundariesElement,p.positionFixed),g=p.placement.split("-")[0],v=S(g),T=p.placement.split("-")[1]||"",y=[];switch(f.behavior){case Ee.FLIP:y=[g,v];break;case Ee.CLOCKWISE:y=Q(g);break;case Ee.COUNTERCLOCKWISE:y=Q(g,!0);break;default:y=f.behavior}return y.forEach(function(e,t){if(g!==e||y.length===t+1)return p;g=p.placement.split("-")[0],v=S(g);var n=p.offsets.popper,i=p.offsets.reference,o=Math.floor,r="left"===g&&o(n.right)>o(i.left)||"right"===g&&o(n.left)<o(i.right)||"top"===g&&o(n.bottom)>o(i.top)||"bottom"===g&&o(n.top)<o(i.bottom),a=o(n.left)<o(m.left),s=o(n.right)>o(m.right),l=o(n.top)<o(m.top),c=o(n.bottom)>o(m.bottom),d="left"===g&&a||"right"===g&&s||"top"===g&&l||"bottom"===g&&c,u=-1!==["top","bottom"].indexOf(g),h=!!f.flipVariations&&(u&&"start"===T&&a||u&&"end"===T&&s||!u&&"start"===T&&l||!u&&"end"===T&&c);(r||d||h)&&(p.flipped=!0,(r||d)&&(g=y[t+1]),h&&(T=G(T)),p.placement=g+(T?"-"+T:""),p.offsets.popper=ve({},p.offsets.popper,K(p.instance.popper,p.offsets.reference,p.placement)),p=A(p.instance.modifiers,p,"flip"))}),p}function J(e){var t=e.offsets,n=t.popper,i=t.reference,o=e.placement.split("-")[0],r=Math.floor,a=-1!==["top","bottom"].indexOf(o),s=a?"right":"bottom",l=a?"left":"top",c=a?"width":"height";return n[s]<r(i[l])&&(e.offsets.popper[l]=r(i[l])-n[c]),n[l]>r(i[s])&&(e.offsets.popper[l]=r(i[s])),e}function ee(e,t,n,i){var o=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),r=+o[1],a=o[2];if(!r)return e;if(0===a.indexOf("%")){var s=void 0;switch(a){case"%p":s=n;break;case"%":case"%r":default:s=i}return C(s)[t]/100*r}if("vh"!==a&&"vw"!==a)return r;return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*r}function te(e,o,r,t){var a=[0,0],s=-1!==["right","left"].indexOf(t),n=e.split(/(\+|\-)/).map(function(e){return e.trim()}),i=n.indexOf(N(n,function(e){return-1!==e.search(/,|\s/)}));n[i]&&-1===n[i].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,c=-1!==i?[n.slice(0,i).concat([n[i].split(l)[0]]),[n[i].split(l)[1]].concat(n.slice(i+1))]:[n];return(c=c.map(function(e,t){var n=(1===t?!s:s)?"height":"width",i=!1;return e.reduce(function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,i=!0,e):i?(e[e.length-1]+=t,i=!1,e):e.concat(t)},[]).map(function(e){return ee(e,n,o,r)})})).forEach(function(n,i){n.forEach(function(e,t){z(e)&&(a[i]+=e*("-"===n[t-1]?-1:1))})}),a}function ne(e,t){var n=t.offset,i=e.placement,o=e.offsets,r=o.popper,a=o.reference,s=i.split("-")[0],l=void 0;return l=z(+n)?[+n,0]:te(n,r,a,s),"left"===s?(r.top+=l[0],r.left-=l[1]):"right"===s?(r.top+=l[0],r.left+=l[1]):"top"===s?(r.left+=l[0],r.top-=l[1]):"bottom"===s&&(r.left+=l[0],r.top+=l[1]),e.popper=r,e}function ie(e,i){var t=i.boundariesElement||T(e.instance.popper);e.instance.reference===t&&(t=T(t));var n=L("transform"),o=e.instance.popper.style,r=o.top,a=o.left,s=o[n];o.top="",o.left="",o[n]="";var l=R(e.instance.popper,e.instance.reference,i.padding,t,e.positionFixed);o.top=r,o.left=a,o[n]=s,i.boundaries=l;var c=i.priority,d=e.offsets.popper,u={primary:function h(e){var t=d[e];return d[e]<l[e]&&!i.escapeWithReference&&(t=Math.max(d[e],l[e])),ge({},e,t)},secondary:function p(e){var t="right"===e?"left":"top",n=d[t];return d[e]>l[e]&&!i.escapeWithReference&&(n=Math.min(d[t],l[e]-("right"===e?d.width:d.height))),ge({},t,n)}};return c.forEach(function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";d=ve({},d,u[t](e))}),e.offsets.popper=d,e}function oe(e){var t=e.placement,n=t.split("-")[0],i=t.split("-")[1];if(i){var o=e.offsets,r=o.reference,a=o.popper,s=-1!==["bottom","top"].indexOf(n),l=s?"left":"top",c=s?"width":"height",d={start:ge({},l,r[l]),end:ge({},l,r[l]+r[c]-a[c])};e.offsets.popper=ve({},a,d[i])}return e}function re(e){if(!X(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=N(e.instance.modifiers,function(e){return"preventOverflow"===e.name}).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}function ae(e){var t=e.placement,n=t.split("-")[0],i=e.offsets,o=i.popper,r=i.reference,a=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return o[a?"left":"top"]=r[n]-(s?o[a?"width":"height"]:0),e.placement=S(t),e.offsets.popper=C(o),e}for(var se="undefined"!=typeof window&&"undefined"!=typeof document,le=["Edge","Trident","Firefox"],ce=0,de=0;de<le.length;de+=1)if(se&&0<=navigator.userAgent.indexOf(le[de])){ce=1;break}var ue=se&&window.Promise?e:t,he=se&&!(!window.MSInputMethodContext||!document.documentMode),pe=se&&/MSIE 10/.test(navigator.userAgent),fe=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},me=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),ge=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Te=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],ye=Te.slice(3),Ee={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"},be={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function _e(){},onUpdate:function Oe(){},modifiers:{shift:{order:100,enabled:!0,fn:oe},offset:{order:200,enabled:!0,fn:ne,offset:0},preventOverflow:{order:300,enabled:!0,fn:ie,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:J},arrow:{order:500,enabled:!0,fn:Y,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:Z,behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:ae},hide:{order:800,enabled:!0,fn:re},computeStyle:{order:850,enabled:!0,fn:V,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:W,onLoad:U,gpuAcceleration:undefined}}},Ce=function(){function a(e,t,n){var i=this,o=2<arguments.length&&n!==undefined?arguments[2]:{};fe(this,a),this.scheduleUpdate=function(){return requestAnimationFrame(i.update)},this.update=ue(this.update.bind(this)),this.options=ve({},a.Defaults,o),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=t&&t.jquery?t[0]:t,this.options.modifiers={},Object.keys(ve({},a.Defaults.modifiers,o.modifiers)).forEach(function(e){i.options.modifiers[e]=ve({},a.Defaults.modifiers[e]||{},o.modifiers?o.modifiers[e]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(e){return ve({name:e},i.options.modifiers[e])}).sort(function(e,t){return e.order-t.order}),this.modifiers.forEach(function(e){e.enabled&&s(e.onLoad)&&e.onLoad(i.reference,i.popper,i.options,e,i.state)}),this.update();var r=this.options.eventsEnabled;r&&this.enableEventListeners(),this.state.eventsEnabled=r}return me(a,[{key:"update",value:function e(){return r.call(this)}},{key:"destroy",value:function t(){return P.call(this)}},{key:"enableEventListeners",value:function n(){return B.call(this)}},{key:"disableEventListeners",value:function i(){return H.call(this)}}]),a}();return Ce.Utils=("undefined"!=typeof window?window:global).PopperUtils,Ce.placements=Te,Ce.Defaults=be,Ce}),function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(f,e){function s(e){var t=e.length,n=J.type(e);return"function"!==n&&!J.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e))}function t(e,n,i){if(J.isFunction(n))return J.grep(e,function(e,t){return!!n.call(e,t,e)!==i});if(n.nodeType)return J.grep(e,function(e){return e===n!==i});if("string"==typeof n){if(se.test(n))return J.filter(n,e,i);n=J.filter(n,e)}return J.grep(e,function(e){return 0<=U.call(n,e)!==i})}function n(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function h(e){var n=fe[e]={};return J.each(e.match(pe)||[],function(e,t){n[t]=!0}),n}function i(){Q.removeEventListener("DOMContentLoaded",i,!1),f.removeEventListener("load",i,!1),J.ready()}function o(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=J.expando+o.uid++}function l(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(ye,"-$1").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Te.test(n)?J.parseJSON(n):n)}catch(j){}ve.set(e,t,n)}else n=void 0;return n}function r(){return!0}function c(){return!1}function a(){try{return Q.activeElement}catch(f){}}function d(e,t){return J.nodeName(e,"table")&&J.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function m(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function g(e){var t=Me.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function v(e,t){for(var n=0,i=e.length;n<i;n++)ge.set(e[n],"globalEval",!t||ge.get(t[n],"globalEval"))}function u(e,t){var n,i,o,r,a,s,l,c;if(1===t.nodeType){if(ge.hasData(e)&&(r=ge.access(e),a=ge.set(t,r),c=r.events))for(o in delete a.handle,a.events={},c)for(n=0,i=c[o].length;n<i;n++)J.event.add(t,o,c[o][n]);ve.hasData(e)&&(s=ve.access(e),l=J.extend({},s),ve.set(t,l))}}function T(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&J.nodeName(e,t)?J.merge([e],n):n}function p(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Ie.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function y(e,t){var n,i=J(t.createElement(e)).appendTo(t.body),o=f.getDefaultComputedStyle&&(n=f.getDefaultComputedStyle(i[0]))?n.display:J.css(i[0],"display");return i.detach(),o}function E(e){var t=Q,n=He[e];return n||("none"!==(n=y(e,t))&&n||((t=($e=($e||J("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentDocument).write(),t.close(),n=y(e,t),$e.detach()),He[e]=n),n}function b(e,t,n){var i,o,r,a,s=e.style;return(n=n||je(e))&&(a=n.getPropertyValue(t)||n[t]),n&&(""!==a||J.contains(e.ownerDocument,e)||(a=J.style(e,t)),qe.test(a)&&ze.test(t)&&(i=s.width,o=s.minWidth,r=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=o,s.maxWidth=r)),void 0!==a?a+"":a}function C(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function _(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),i=t,o=Ge.length;o--;)if((t=Ge[o]+n)in e)return t;return i}function O(e,t,n){var i=Ue.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function I(e,t,n,i,o){for(var r=n===(i?"border":"content")?4:"width"===t?1:0,a=0;r<4;r+=2)"margin"===n&&(a+=J.css(e,n+_e[r],!0,o)),i?("content"===n&&(a-=J.css(e,"padding"+_e[r],!0,o)),"margin"!==n&&(a-=J.css(e,"border"+_e[r]+"Width",!0,o))):(a+=J.css(e,"padding"+_e[r],!0,o),"padding"!==n&&(a+=J.css(e,"border"+_e[r]+"Width",!0,o)));return a}function D(e,t,n){var i=!0,o="width"===t?e.offsetWidth:e.offsetHeight,r=je(e),a="border-box"===J.css(e,"boxSizing",!1,r);if(o<=0||null==o){if(((o=b(e,t,r))<0||null==o)&&(o=e.style[t]),qe.test(o))return o;i=a&&(G.boxSizingReliable()||o===e.style[t]),o=parseFloat(o)||0}return o+I(e,t,n||(a?"border":"content"),i,r)+"px"}function w(e,t){for(var n,i,o,r=[],a=0,s=e.length;a<s;a++)(i=e[a]).style&&(r[a]=ge.get(i,"olddisplay"),n=i.style.display,t?(r[a]||"none"!==n||(i.style.display=""),""===i.style.display&&Oe(i)&&(r[a]=ge.access(i,"olddisplay",E(i.nodeName)))):(o=Oe(i),"none"===n&&o||ge.set(i,"olddisplay",o?n:J.css(i,"display"))));for(a=0;a<s;a++)(i=e[a]).style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?r[a]||"":"none"));return e}function R(e,t,n,i,o){return new R.prototype.init(e,t,n,i,o)}function k(){return setTimeout(function(){Qe=void 0}),Qe=J.now()}function x(e,t){var n,i=0,o={height:e};for(t=t?1:0;i<4;i+=2-t)o["margin"+(n=_e[i])]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function S(e,t,n){for(var i,o=(at[t]||[]).concat(at["*"]),r=0,a=o.length;r<a;r++)if(i=o[r].call(n,t,e))return i}function K(t,e,n){var i,o,r,a,s,l,c,d=this,u={},h=t.style,p=t.nodeType&&Oe(t),f=ge.get(t,"fxshow");for(i in n.queue||(null==(s=J._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,J.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],"inline"===("none"===(c=J.css(t,"display"))?ge.get(t,"olddisplay")||E(t.nodeName):c)&&"none"===J.css(t,"float")&&(h.display="inline-block")),n.overflow&&(h.overflow="hidden",d.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),e)if(o=e[i],nt.exec(o)){if(delete e[i],r=r||"toggle"===o,o===(p?"hide":"show")){if("show"!==o||!f||void 0===f[i])continue;p=!0}u[i]=f&&f[i]||J.style(t,i)}else c=void 0;if(J.isEmptyObject(u))"inline"===("none"===c?E(t.nodeName):c)&&(h.display=c);else for(i in f?"hidden"in f&&(p=f.hidden):f=ge.access(t,"fxshow",{}),r&&(f.hidden=!p),p?J(t).show():d.done(function(){J(t).hide()}),d.done(function(){var e;for(e in ge.remove(t,"fxshow"),u)J.style(t,e,u[e])}),u)a=S(p?f[i]:0,i,d),i in f||(f[i]=a.start,p&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}function N(e,t){var n,i,o,r,a;for(n in e)if(o=t[i=J.camelCase(n)],r=e[n],J.isArray(r)&&(o=r[1],r=e[n]=r[0]),n!==i&&(e[i]=r,delete e[n]),(a=J.cssHooks[i])&&"expand"in a)for(n in r=a.expand(r),delete e[i],r)n in e||(e[n]=r[n],t[n]=o);else t[i]=o}function A(r,e,t){var n,a,i=0,o=rt.length,s=J.Deferred().always(function(){delete l.elem}),l=function(){if(a)return!1;for(var e=Qe||k(),t=Math.max(0,c.startTime+c.duration-e),n=1-(t/c.duration||0),i=0,o=c.tweens.length;i<o;i++)c.tweens[i].run(n);return s.notifyWith(r,[c,n,t]),n<1&&o?t:(s.resolveWith(r,[c]),!1)},c=s.promise({elem:r,props:J.extend({},e),opts:J.extend(!0,{specialEasing:{}},t),originalProperties:e,originalOptions:t,startTime:Qe||k(),duration:t.duration,tweens:[],createTween:function(e,t){var n=J.Tween(r,c.opts,e,t,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(n),n},stop:function(e){var t=0,n=e?c.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)c.tweens[t].run(1);return e?s.resolveWith(r,[c,e]):s.rejectWith(r,[c,e]),this}}),d=c.props;for(N(d,c.opts.specialEasing);i<o;i++)if(n=rt[i].call(c,r,d,c.opts))return n;return J.map(d,S,c),J.isFunction(c.opts.start)&&c.opts.start.call(r,c),J.fx.timer(J.extend(l,{elem:r,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function L(r){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,i=0,o=e.toLowerCase().match(pe)||[];if(J.isFunction(t))for(;n=o[i++];)"+"===n[0]?(n=n.slice(1)||"*",(r[n]=r[n]||[]).unshift(t)):(r[n]=r[n]||[]).push(t)}}function P(t,o,r,a){function s(e){var i;return l[e]=!0,J.each(t[e]||[],function(e,t){var n=t(o,r,a);return"string"!=typeof n||c||l[n]?c?!(i=n):void 0:(o.dataTypes.unshift(n),s(n),!1)}),i}var l={},c=t===_t;return s(o.dataTypes[0])||!l["*"]&&s("*")}function M(e,t){var n,i,o=J.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:i||(i={}))[n]=t[n]);return i&&J.extend(!0,e,i),e}function F(e,t,n){for(var i,o,r,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(o in s)if(s[o]&&s[o].test(i)){l.unshift(o);break}if(l[0]in n)r=l[0];else{for(o in n){if(!l[0]||e.converters[o+" "+l[0]]){r=o;break}a||(a=o)}r=r||a}return r?(r!==l[0]&&l.unshift(r),n[r]):void 0}function B(e,t,n,i){var o,r,a,s,l,c={},d=e.dataTypes.slice();if(d[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(r=d.shift();r;)if(e.responseFields[r]&&(n[e.responseFields[r]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=d.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(a=c[l+" "+r]||c["* "+r]))for(o in c)if((s=o.split(" "))[1]===r&&(a=c[l+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[o]:!0!==c[o]&&(r=s[0],d.unshift(s[1]));break}if(!0!==a)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(Q){return{state:"parsererror",error:a?Q:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}function $(n,e,i,o){var t;if(J.isArray(e))J.each(e,function(e,t){i||Rt.test(n)?o(n,t):$(n+"["+("object"==typeof t?e:"")+"]",t,i,o)});else if(i||"object"!==J.type(e))o(n,e);else for(t in e)$(n+"["+t+"]",e[t],i,o)}function H(e){return J.isWindow(e)?e:9===e.nodeType&&e.defaultView}var z=[],q=z.slice,j=z.concat,W=z.push,U=z.indexOf,V={},X=V.toString,Y=V.hasOwnProperty,G={},Q=f.document,Z="2.1.3",J=function(e,t){return new J.fn.init(e,t)},ee=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,te=/^-ms-/,ne=/-([\da-z])/gi,ie=function(e,t){return t.toUpperCase()};J.fn=J.prototype={jquery:Z,constructor:J,selector:"",length:0,toArray:function(){return q.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:q.call(this)},pushStack:function(e){var t=J.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return J.each(this,e,t)},map:function(n){return this.pushStack(J.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(q.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:W,sort:z.sort,splice:z.splice},J.extend=J.fn.extend=function(e){var t,n,i,o,r,a,s=e||{},l=1,c=arguments.length,d=!1;for("boolean"==typeof s&&(d=s,s=arguments[l]||{},l++),"object"==typeof s||J.isFunction(s)||(s={}),l===c&&(s=this,l--);l<c;l++)if(null!=(t=arguments[l]))for(n in t)i=s[n],s!==(o=t[n])&&(d&&o&&(J.isPlainObject(o)||(r=J.isArray(o)))?(a=r?(r=!1,i&&J.isArray(i)?i:[]):i&&J.isPlainObject(i)?i:{},s[n]=J.extend(d,a,o)):void 0!==o&&(s[n]=o));return s},J.extend({expando:"jQuery"+(Z+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===J.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!J.isArray(e)&&0<=e-parseFloat(e)+1},isPlainObject:function(e){return"object"===J.type(e)&&!e.nodeType&&!J.isWindow(e)&&!(e.constructor&&!Y.call(e.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?V[X.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;(e=J.trim(e))&&(1===e.indexOf("use strict")?((t=Q.createElement("script")).text=e,Q.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(te,"ms-").replace(ne,ie)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var i=0,o=e.length,r=s(e);if(n){if(r)for(
;i<o&&!1!==t.apply(e[i],n);i++);else for(i in e)if(!1===t.apply(e[i],n))break}else if(r)for(;i<o&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(ee,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(s(Object(e))?J.merge(n,"string"==typeof e?[e]:e):W.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:U.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,o=e.length;i<n;i++)e[o++]=t[i];return e.length=o,e},grep:function(e,t,n){for(var i=[],o=0,r=e.length,a=!n;o<r;o++)!t(e[o],o)!==a&&i.push(e[o]);return i},map:function(e,t,n){var i,o=0,r=e.length,a=[];if(s(e))for(;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return j.apply([],a)},guid:1,proxy:function(e,t){var n,i,o;return"string"==typeof t&&(n=e[t],t=e,e=n),J.isFunction(e)?(i=q.call(arguments,2),(o=function(){return e.apply(t||this,i.concat(q.call(arguments)))}).guid=e.guid=e.guid||J.guid++,o):void 0},now:Date.now,support:G}),J.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){V["[object "+t+"]"]=t.toLowerCase()});var oe=function(n){function E(e,t,n,i){var o,r,a,s,l,c,d,u,h,p;if((t?t.ownerDocument||t:$)!==K&&S(t),n=n||[],s=(t=t||K).nodeType,"string"!=typeof e||!e||1!==s&&9!==s&&11!==s)return n;if(!i&&A){if(11!==s&&(o=Te.exec(e)))if(a=o[1]){if(9===s){if(!(r=t.getElementById(a))||!r.parentNode)return n;if(r.id===a)return n.push(r),n}else if(t.ownerDocument&&(r=t.ownerDocument.getElementById(a))&&F(t,r)&&r.id===a)return n.push(r),n}else{if(o[2])return Z.apply(n,t.getElementsByTagName(e)),n;if((a=o[3])&&v.getElementsByClassName)return Z.apply(n,t.getElementsByClassName(a)),n}if(v.qsa&&(!L||!L.test(e))){if(u=d=B,h=t,p=1!==s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(c=I(e),(d=t.getAttribute("id"))?u=d.replace(Ee,"\\$&"):t.setAttribute("id",u),u="[id='"+u+"'] ",l=c.length;l--;)c[l]=u+m(c[l]);h=ye.test(e)&&f(t.parentNode)||t,p=c.join(",")}if(p)try{return Z.apply(n,h.querySelectorAll(p)),n}catch(q){}finally{d||t.removeAttribute("id")}}}return w(e.replace(le,"$1"),t,n,i)}function e(){function n(e,t){return i.push(e+" ")>C.cacheLength&&delete n[i.shift()],n[e+" "]=t}var i=[];return n}function l(e){return e[B]=!0,e}function i(e){var t=K.createElement("div");try{return!!e(t)}catch(v){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function t(e,t){for(var n=e.split("|"),i=e.length;i--;)C.attrHandle[n[i]]=t}function c(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||V)-(~e.sourceIndex||V);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function o(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function r(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function a(a){return l(function(r){return r=+r,l(function(e,t){for(var n,i=a([],e.length,r),o=i.length;o--;)e[n=i[o]]&&(e[n]=!(t[n]=e[n]))})})}function f(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function s(){}function m(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function u(a,e,t){var s=e.dir,l=t&&"parentNode"===s,c=z++;return e.first?function(e,t,n){for(;e=e[s];)if(1===e.nodeType||l)return a(e,t,n)}:function(e,t,n){var i,o,r=[H,c];if(n){for(;e=e[s];)if((1===e.nodeType||l)&&a(e,t,n))return!0}else for(;e=e[s];)if(1===e.nodeType||l){if((i=(o=e[B]||(e[B]={}))[s])&&i[0]===H&&i[1]===c)return r[2]=i[2];if((o[s]=r)[2]=a(e,t,n))return!0}}}function h(o){return 1<o.length?function(e,t,n){for(var i=o.length;i--;)if(!o[i](e,t,n))return!1;return!0}:o[0]}function T(e,t,n){for(var i=0,o=t.length;i<o;i++)E(e,t[i],n);return n}function b(e,t,n,i,o){for(var r,a=[],s=0,l=e.length,c=null!=t;s<l;s++)(r=e[s])&&(!n||n(r,i,o))&&(a.push(r),c&&t.push(s));return a}function y(p,f,m,g,v,e){return g&&!g[B]&&(g=y(g)),v&&!v[B]&&(v=y(v,e)),l(function(e,t,n,i){var o,r,a,s=[],l=[],c=t.length,d=e||T(f||"*",n.nodeType?[n]:n,[]),u=!p||!e&&f?d:b(d,s,p,n,i),h=m?v||(e?p:c||g)?[]:t:u;if(m&&m(u,h,n,i),g)for(o=b(h,l),g(o,[],n,i),r=o.length;r--;)(a=o[r])&&(h[l[r]]=!(u[l[r]]=a));if(e){if(v||p){if(v){for(o=[],r=h.length;r--;)(a=h[r])&&o.push(u[r]=a);v(null,h=[],o,i)}for(r=h.length;r--;)(a=h[r])&&-1<(o=v?ee(e,a):s[r])&&(e[o]=!(t[o]=a))}}else h=b(h===t?h.splice(c,h.length):h),v?v(null,t,h,i):Z.apply(t,h)})}function p(e){for(var o,t,n,i=e.length,r=C.relative[e[0].type],a=r||C.relative[" "],s=r?1:0,l=u(function(e){return e===o},a,!0),c=u(function(e){return-1<ee(o,e)},a,!0),d=[function(e,t,n){var i=!r&&(n||t!==R)||((o=t).nodeType?l(e,t,n):c(e,t,n));return o=null,i}];s<i;s++)if(t=C.relative[e[s].type])d=[u(h(d),t)];else{if((t=C.filter[e[s].type].apply(null,e[s].matches))[B]){for(n=++s;n<i&&!C.relative[e[n].type];n++);return y(1<s&&h(d),1<s&&m(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(le,"$1"),t,s<n&&p(e.slice(s,n)),n<i&&p(e=e.slice(n)),n<i&&m(e))}d.push(t)}return h(d)}function d(g,v){var T=0<v.length,y=0<g.length,e=function(e,t,n,i,o){var r,a,s,l=0,c="0",d=e&&[],u=[],h=R,p=e||y&&C.find.TAG("*",o),f=H+=null==h?1:Math.random()||.1,m=p.length;for(o&&(R=t!==K&&t);c!==m&&null!=(r=p[c]);c++){if(y&&r){for(a=0;s=g[a++];)if(s(r,t,n)){i.push(r);break}o&&(H=f)}T&&((r=!s&&r)&&l--,e&&d.push(r))}if(l+=c,T&&c!==l){for(a=0;s=v[a++];)s(d,u,t,n);if(e){if(0<l)for(;c--;)d[c]||u[c]||(u[c]=G.call(i));u=b(u)}Z.apply(i,u),o&&!e&&0<u.length&&1<l+v.length&&E.uniqueSort(i)}return o&&(H=f,R=h),d};return T?l(e):e}var g,v,C,_,O,I,D,w,R,k,x,S,K,N,A,L,P,M,F,B="sizzle"+1*new Date,$=n.document,H=0,z=0,q=e(),j=e(),W=e(),U=function(e,t){return e===t&&(x=!0),0},V=1<<31,X={}.hasOwnProperty,Y=[],G=Y.pop,Q=Y.push,Z=Y.push,J=Y.slice,ee=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",oe=ie.replace("w","w#"),re="\\["+ne+"*("+ie+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+oe+"))|)"+ne+"*\\]",ae=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+re+")*)|.*)\\)|)",se=new RegExp(ne+"+","g"),le=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),ce=new RegExp("^"+ne+"*,"+ne+"*"),de=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),ue=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),he=new RegExp(ae),pe=new RegExp("^"+oe+"$"),fe={ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie.replace("w","w*")+")"),ATTR:new RegExp("^"+re),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},me=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,Te=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,Ee=/'|\\/g,be=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),Ce=function(e,t,n){var i="0x"+t-65536;return i!=i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},_e=function(){S()};try{Z.apply(Y=J.call($.childNodes),$.childNodes),Y[$.childNodes.length].nodeType}catch(Pe){Z={apply:Y.length?function(e,t){Q.apply(e,J.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}for(g in v=E.support={},O=E.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},S=E.setDocument=function(e){var t,n,l=e?e.ownerDocument||e:$;return l!==K&&9===l.nodeType&&l.documentElement?(N=(K=l).documentElement,(n=l.defaultView)&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",_e,!1):n.attachEvent&&n.attachEvent("onunload",_e)),A=!O(l),v.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),v.getElementsByTagName=i(function(e){return e.appendChild(l.createComment("")),!e.getElementsByTagName("*").length}),v.getElementsByClassName=ve.test(l.getElementsByClassName),v.getById=i(function(e){return N.appendChild(e).id=B,!l.getElementsByName||!l.getElementsByName(B).length}),v.getById?(C.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&A){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},C.filter.ID=function(e){var t=e.replace(be,Ce);return function(e){return e.getAttribute("id")===t}}):(delete C.find.ID,C.filter.ID=function(e){var n=e.replace(be,Ce);return function(e){var t="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}}),C.find.TAG=v.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):v.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],o=0,r=t.getElementsByTagName(e);if("*"!==e)return r;for(;n=r[o++];)1===n.nodeType&&i.push(n);return i},C.find.CLASS=v.getElementsByClassName&&function(e,t){return A?t.getElementsByClassName(e):void 0},P=[],L=[],(v.qsa=ve.test(l.querySelectorAll))&&(i(function(e){N.appendChild(e).innerHTML="<a id='"+B+"'></a><select id='"+B+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&L.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||L.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+B+"-]").length||L.push("~="),e.querySelectorAll(":checked").length||L.push(":checked"),e.querySelectorAll("a#"+B+"+*").length||L.push(".#.+[+~]")}),i(function(e){var t=l.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&L.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||L.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),L.push(",.*:")})),(v.matchesSelector=ve.test(M=N.matches||N.webkitMatchesSelector||N.mozMatchesSelector||N.oMatchesSelector||N.msMatchesSelector))&&i(function(e){v.disconnectedMatch=M.call(e,"div"),M.call(e,"[s!='']:x"),P.push("!=",ae)}),L=L.length&&new RegExp(L.join("|")),P=P.length&&new RegExp(P.join("|")),t=ve.test(N.compareDocumentPosition),F=t||ve.test(N.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},U=t?function(e,t){if(e===t)return x=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!v.sortDetached&&t.compareDocumentPosition(e)===n?e===l||e.ownerDocument===$&&F($,e)?-1:t===l||t.ownerDocument===$&&F($,t)?1:k?ee(k,e)-ee(k,t):0:4&n?-1:1)}:function(e,t){if(e===t)return x=!0,0;var n,i=0,o=e.parentNode,r=t.parentNode,a=[e],s=[t];if(!o||!r)return e===l?-1:t===l?1:o?-1:r?1:k?ee(k,e)-ee(k,t):0;if(o===r)return c(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[i]===s[i];)i++;return i?c(a[i],s[i]):a[i]===$?-1:s[i]===$?1:0},l):K},E.matches=function(e,t){return E(e,null,null,t)},E.matchesSelector=function(e,t){if((e.ownerDocument||e)!==K&&S(e),t=t.replace(ue,"='$1']"),!(!v.matchesSelector||!A||P&&P.test(t)||L&&L.test(t)))try{var n=M.call(e,t);if(n||v.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(_){}return 0<E(t,K,null,[e]).length},E.contains=function(e,t){return(e.ownerDocument||e)!==K&&S(e),F(e,t)},E.attr=function(e,t){(e.ownerDocument||e)!==K&&S(e);var n=C.attrHandle[t.toLowerCase()],i=n&&X.call(C.attrHandle,t.toLowerCase())?n(e,t,!A):void 0;return void 0!==i?i:v.attributes||!A?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},E.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},E.uniqueSort=function(e){var t,n=[],i=0,o=0;if(x=!v.detectDuplicates,k=!v.sortStable&&e.slice(0),e.sort(U),x){for(;t=e[o++];)t===e[o]&&(i=n.push(o));for(;i--;)e.splice(n[i],1)}return k=null,e},_=E.getText=function(e){var t,n="",i=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=_(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[i++];)n+=_(t);return n},(C=E.selectors={cacheLength:50,createPseudo:l,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(be,Ce),e[3]=(e[3]||e[4]||e[5]||"").replace(be,Ce),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||E.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&E.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return fe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&he.test(n)&&(t=I(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(be,Ce).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=q[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&q(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,i,o){return function(e){var t=E.attr(e,n);return null==t?"!="===i:!i||(t+="","="===i?t===o:"!="===i?t!==o:"^="===i?o&&0===t.indexOf(o):"*="===i?o&&-1<t.indexOf(o):"$="===i?o&&t.slice(-o.length)===o:"~="===i?-1<(" "+t.replace(se," ")+" ").indexOf(o):"|="===i&&(t===o||t.slice(0,o.length+1)===o+"-"))}},CHILD:function(p,e,t,f,m){var g="nth"!==p.slice(0,3),v="last"!==p.slice(-4),T="of-type"===e;return 1===f&&0===m?function(e){return!!e.parentNode}:function(e,t,n){var i,o,r,a,s,l,c=g!==v?"nextSibling":"previousSibling",d=e.parentNode,u=T&&e.nodeName.toLowerCase(),h=!n&&!T;if(d){if(g){for(;c;){for(r=e;r=r[c];)if(T?r.nodeName.toLowerCase()===u:1===r.nodeType)return!1;l=c="only"===p&&!l&&"nextSibling"}return!0}if(l=[v?d.firstChild:d.lastChild],v&&h){for(s=(i=(o=d[B]||(d[B]={}))[p]||[])[0]===H&&i[1],a=i[0]===H&&i[2],r=s&&d.childNodes[s];r=++s&&r&&r[c]||(a=s=0)||l.pop();)if(1===r.nodeType&&++a&&r===e){o[p]=[H,s,a];break}}else if(h&&(i=(e[B]||(e[B]={}))[p])&&i[0]===H)a=i[1];else for(;(r=++s&&r&&r[c]||(a=s=0)||l.pop())&&((T?r.nodeName.toLowerCase()!==u:1!==r.nodeType)||!++a||(h&&((r[B]||(r[B]={}))[p]=[H,a]),r!==e)););return(a-=m)===f||a%f==0&&0<=a/f}}},PSEUDO:function(e,r){var t,a=C.pseudos[e]||C.setFilters[e.toLowerCase()]||E.error("unsupported pseudo: "+e);return a[B]?a(r):1<a.length?(t=[e,e,"",r],C.setFilters.hasOwnProperty(e.toLowerCase())?l(function(e,t){for(var n,i=a(e,r),o=i.length;o--;)e[n=ee(e,i[o])]=!(t[n]=i[o])}):function(e){return a(e,0,t)}):a}},pseudos:{not:l(function(e){var i=[],o=[],s=D(e.replace(le,"$1"));return s[B]?l(function(e,t,n,i){for(var o,r=s(e,null,i,[]),a=e.length;a--;)(o=r[a])&&(e[a]=!(t[a]=o))}):function(e,t,n){return i[0]=e,s(i,null,n,o),i[0]=null,!o.pop()}}),has:l(function(t){return function(e){return 0<E(t,e).length}}),contains:l(function(t){return t=t.replace(be,Ce),function(e){return-1<(e.textContent||e.innerText||_(e)).indexOf(t)}}),lang:l(function(n){return pe.test(n||"")||E.error("unsupported lang: "+n),n=n.replace(be,Ce).toLowerCase(),function(e){var t;do{if(t=A?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===N},focus:function(e){return e===K.activeElement&&(!K.hasFocus||K.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!C.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return me.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:a(function(){return[0]}),last:a(function(e,t){return[t-1]}),eq:a(function(e,t,n){return[n<0?n+t:n]}),even:a(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:a(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:a(function(e,t,n){for(var i=n<0?n+t:n;0<=--i;)e.push(i);return e}),gt:a(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=C.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[g]=o(g);for(g in{submit:!0,reset:!0})C.pseudos[g]=r(g);return s.prototype=C.filters=C.pseudos,C.setFilters=new s,I=E.tokenize=function(e,t){var n,i,o,r,a,s,l,c=j[e+" "];if(c)return t?0:c.slice(0);for(a=e,s=[],l=C.preFilter;a;){for(r in(!n||(i=ce.exec(a)))&&(i&&(a=a.slice(i[0].length)||a),s.push(o=[])),n=!1,(i=de.exec(a))&&(n=i.shift(),o.push({value:n,type:i[0].replace(le," ")}),a=a.slice(n.length)),C.filter)!(i=fe[r].exec(a))||l[r]&&!(i=l[r](i))||(n=i.shift(),o.push({value:n,type:r,matches:i}),a=a.slice(n.length));if(!n)break}return t?a.length:a?E.error(e):j(e,s).slice(0)},D=E.compile=function(e,t){var n,i=[],o=[],r=W[e+" "];if(!r){for(t||(t=I(e)),n=t.length;n--;)(r=p(t[n]))[B]?i.push(r):o.push(r);(r=W(e,d(o,i))).selector=e}return r},w=E.select=function(e,t,n,i){var o,r,a,s,l,c="function"==typeof e&&e,d=!i&&I(e=c.selector||e);if(n=n||[],1===d.length){if(2<(r=d[0]=d[0].slice(0)).length&&"ID"===(a=r[0]).type&&v.getById&&9===t.nodeType&&A&&C.relative[r[1].type]){if(!(t=(C.find.ID(a.matches[0].replace(be,Ce),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(r.shift().value.length)}for(o=fe.needsContext.test(e)?0:r.length;o--&&(a=r[o],!C.relative[s=a.type]);)if((l=C.find[s])&&(i=l(a.matches[0].replace(be,Ce),ye.test(r[0].type)&&f(t.parentNode)||t))){if(r.splice(o,1),!(e=i.length&&m(r)))return Z.apply(n,i),n;break}}return(c||D(e,d))(i,t,!A,n,ye.test(e)&&f(t.parentNode)||t),n},v.sortStable=B.split("").sort(U).join("")===B,v.detectDuplicates=!!x,S(),v.sortDetached=i(function(e){return 1&e.compareDocumentPosition(K.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||t("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),v.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||t("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||t(te,function(e,t,n){var i;return n?void 0:!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),E}(f);J.find=oe,J.expr=oe.selectors,J.expr[":"]=J.expr.pseudos,J.unique=oe.uniqueSort,J.text=oe.getText,J.isXMLDoc=oe.isXML,J.contains=oe.contains;var re=J.expr.match.needsContext,ae=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,se=/^.[^:#\[\.,]*$/;J.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?J.find.matchesSelector(i,e)?[i]:[]:J.find.matches(e,J.grep(t,function(e){return 1===e.nodeType}))},J.fn.extend({find:function(e){var t,n=this.length,i=[],o=this;if("string"!=typeof e)return this.pushStack(J(e).filter(function(){for(t=0;t<n;t++)if(J.contains(o[t],this))return!0}));for(t=0;t<n;t++)J.find(e,o[t],i);return(i=this.pushStack(1<n?J.unique(i):i)).selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(t(this,e||[],!1))},not:function(e){return this.pushStack(t(this,e||[],!0))},is:function(e){return!!t(this,"string"==typeof e&&re.test(e)?J(e):e||[],!1).length}});var le,ce=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(J.fn.init=function(e,t){var n,i;if(!e)return this;if("string"!=typeof e)return e.nodeType?(this.context=this[0]=e,this.length=1,this):J.isFunction(e)?"undefined"!=typeof le.ready?le.ready(e):e(J):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),J.makeArray(e,this));if(!(n="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:ce.exec(e))||!n[1]&&t)return!t||t.jquery?(t||le).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof J?t[0]:t,J.merge(this,J.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:Q,!0)),ae.test(n[1])&&J.isPlainObject(t))for(n in t)J.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return(i=Q.getElementById(n[2]))&&i.parentNode&&(this.length=1,this[0]=i),this.context=Q,this.selector=e,this}).prototype=J.fn,le=J(Q);var de=/^(?:parents|prev(?:Until|All))/,ue={children:!0,contents:!0,next:!0,prev:!0};J.extend({dir:function(e,t,n){for(var i=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&J(e).is(n))break;i.push(e)}return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),J.fn.extend({has:function(e){var t=J(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(J.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,i=0,o=this.length,r=[],a=re.test(e)||"string"!=typeof e?J(e,t||this.context):0;i<o;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&J.find.matchesSelector(n,e))){r.push(n);break}return this.pushStack(1<r.length?J.unique(r):r)},index:function(e){return e?"string"==typeof e?U.call(J(e),this[0]):U.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(J.unique(J.merge(this.get(),J(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),J.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return J.dir(e,"parentNode")},parentsUntil:function(e,t,n){return J.dir(e,"parentNode",n)},next:function(e){return n(e,"nextSibling")},prev:function(e){return n(e,"previousSibling")},nextAll:function(e){return J.dir(e,"nextSibling")},prevAll:function(e){return J.dir(e,"previousSibling")},nextUntil:function(e,t,n){return J.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return J.dir(e,"previousSibling",n)},siblings:function(e){return J.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return J.sibling(e.firstChild)},contents:function(e){return e.contentDocument||J.merge([],e.childNodes)}},function(i,o){J.fn[i]=function(e,t){var n=J.map(this,o,e);return"Until"!==i.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=J.filter(t,n)),1<this.length&&(ue[i]||J.unique(n),de.test(i)&&n.reverse()),this.pushStack(n)}});var he,pe=/\S+/g,fe={};J.Callbacks=function(o){o="string"==typeof o?fe[o]||h(o):J.extend({},o);var t,n,r,a,s,i,l=[],c=!o.once&&[],d=function(e){for(t=o.memory&&e,n=!0,i=a||0,a=0,s=l.length,r=!0;l&&i<s;i++)if(!1===l[i].apply(e[0],e[1])&&o.stopOnFalse){t=!1;break}r=!1,l&&(c?c.length&&d(c.shift()):t?l=[]:u.disable())},u={add:function(){if(l){var e=l.length;!function i(e){J.each(e,function(e,t){var n=J.type(t);"function"===n?o.unique&&u.has(t)||l.push(t):t&&t.length&&"string"!==n&&i(t)})}(arguments),r?s=l.length:t&&(a=e,d(t))}return this},remove:function(){return l&&J.each(arguments,function(e,t){for(var n;-1<(n=J.inArray(t,l,n));)l.splice(n,1),r&&(n<=s&&s--,n<=i&&i--)}),this},has:function(e){return e?-1<J.inArray(e,l):!(!l||!l.length)},empty:function(){return l=[],s=0,this},disable:function(){return l=c=t=void 0,this},disabled:function(){return!l},lock:function(){return c=void 0,t||u.disable(),this},locked:function(){return!c},fireWith:function(e,t){return!l||n&&!c||(t=[e,(t=t||[]).slice?t.slice():t],r?c.push(t):d(t)),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!n}};return u},J.extend({Deferred:function(e){var r=[["resolve","done",J.Callbacks("once memory"),"resolved"],["reject","fail",J.Callbacks("once memory"),"rejected"],["notify","progress",J.Callbacks("memory")]],o="pending",a={state:function(){return o},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var o=arguments;return J.Deferred(function(i){J.each(r,function(e,t){var n=J.isFunction(o[e])&&o[e];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&J.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[t[0]+"With"](this===a?i.promise():this,n?[e]:arguments)})}),o=null}).promise()},promise:function(e){return null!=e?J.extend(e,a):a}},s={};return a.pipe=a.then,J.each(r,function(e,t){var n=t[2],i=t[3];a[t[1]]=n.add,i&&n.add(function(){o=i},r[1^e][2].disable,r[2][2].lock),s[t[0]]=function(){return s[t[0]+"With"](this===s?a:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){var o,t,n,i=0,r=q.call(arguments),a=r.length,s=1!==a||e&&J.isFunction(e.promise)?a:0,l=1===s?e:J.Deferred(),c=function(t,n,i){return function(e){n[t]=this,i[t]=1<arguments.length?q.call(arguments):e,i===o?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(1<a)for(o=new Array(a),t=new Array(a),n=new Array(a);i<a;i++)r[i]&&J.isFunction(r[i].promise)?r[i].promise().done(c(i,n,r)).fail(l.reject).progress(c(i,t,o)):--s;return s||l.resolveWith(n,r),l.promise()}}),J.fn.ready=function(e){return J.ready.promise().done(e),this},J.extend({isReady:!1,readyWait:1,holdReady:function(e){e?J.readyWait++:J.ready(!0)},ready:function(e){(!0===e?--J.readyWait:J.isReady)||((J.isReady=!0)!==e&&0<--J.readyWait||(he.resolveWith(Q,[J]),J.fn.triggerHandler&&(J(Q).triggerHandler("ready"),J(Q).off("ready"))))}}),J.ready.promise=function(e){return he||(he=J.Deferred(),"complete"===Q.readyState?setTimeout(J.ready):(Q.addEventListener("DOMContentLoaded",i,!1),f.addEventListener("load",i,!1))),he.promise(e)},J.ready.promise();var me=J.access=function(e,t,n,i,o,r,a){var s=0,l=e.length,c=null==n;if("object"===J.type(n))for(s in o=!0,n)J.access(e,t,s,n[s],!0,r,a);else if(void 0!==i&&(o=!0,J.isFunction(i)||(a=!0),c&&(t=a?(t.call(e,i),null):(c=t,function(e,t,n){return c.call(J(e),n)})),t))for(;s<l;s++)t(e[s],n,a?i:i.call(e[s],s,t(e[s],n)));return o?e:c?t.call(e):l?t(e[0],n):r};J.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},o.uid=1,o.accepts=J.acceptData,o.prototype={key:function(e){if(!o.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=o.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(q){t[this.expando]=n,J.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var i,o=this.key(e),r=this.cache[o];if("string"==typeof t)r[t]=n;else if(J.isEmptyObject(r))J.extend(this.cache[o],t);else for(i in t)r[i]=t[i];return r},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,n){var i;return void 0===t||t&&"string"==typeof t&&void 0===n?void 0!==(i=this.get(e,t))?i:this.get(e,J.camelCase(t)):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i,o,r=this.key(e),a=this.cache[r];if(void 0===t)this.cache[r]={};else{n=(i=J.isArray(t)?t.concat(t.map(J.camelCase)):(o=J.camelCase(t),t in a?[t,o]:(i=o)in a?[i]:i.match(pe)||[])).length;for(;n--;)delete a[i[n]]}},hasData:function(e){return!J.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var ge=new o,ve=new o,Te=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ye=/([A-Z])/g;J.extend({hasData:function(e){return ve.hasData(e)||ge.hasData(e)},data:function(e,t,n){return ve.access(e,t,n)},removeData:function(e,t){ve.remove(e,t)},_data:function(e,t,n){return ge.access(e,t,n)},_removeData:function(e,t){ge.remove(e,t)}}),J.fn.extend({data:function(i,e){var t,n,o,r=this[0],a=r&&r.attributes;if(void 0!==i)return"object"==typeof i?this.each(function(){ve.set(this,i)}):me(this,function(t){var e,n=J.camelCase(i);if(r&&void 0===t){if(void 0!==(e=ve.get(r,i)))return e;if(void 0!==(e=ve.get(r,n)))return e;if(void 0!==(e=l(r,n,void 0)))return e}else this.each(function(){var e=ve.get(this,n);ve.set(this,n,t),-1!==i.indexOf("-")&&void 0!==e&&ve.set(this,i,t)})},null,e,1<arguments.length,null,!0);if(this.length&&(o=ve.get(r),1===r.nodeType&&!ge.get(r,"hasDataAttrs"))){for(t=a.length;t--;)a[t]&&(0===(n=a[t].name).indexOf("data-")&&(n=J.camelCase(n.slice(5)),l(r,n,o[n])));ge.set(r,"hasDataAttrs",!0)}return o},removeData:function(e){return this.each(function(){ve.remove(this,e)})}}),J.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=ge.get(e,t),n&&(!i||J.isArray(n)?i=ge.access(e,t,J.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=J.queue(e,t),i=n.length,o=n.shift(),r=J._queueHooks(e,t),a=function(){J.dequeue(e,t)};"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===t&&n.unshift("inprogress"),delete r.stop,o.call(e,a,r)),!i&&r&&r.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ge.get(e,n)||ge.access(e,n,{empty:J.Callbacks("once memory").add(function(){ge.remove(e,[t+"queue",n])})})}}),J.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?J.queue(this[0],t):void 0===n?this:this.each(function(){var e=J.queue(this,t,n);J._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&J.dequeue(this,t)})},dequeue:function(e){return this.each(function(){J.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,o=J.Deferred(),r=this,a=this.length,s=function(){--i||o.resolveWith(r,[r])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=ge.get(r[a],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),o.promise(t)}});var Ee,be,Ce=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,_e=["Top","Right","Bottom","Left"],Oe=function(e,t){return e=t||e,"none"===J.css(e,"display")||!J.contains(e.ownerDocument,e)},Ie=/^(?:checkbox|radio)$/i;Ee=Q.createDocumentFragment().appendChild(Q.createElement("div")),(be=Q.createElement("input")).setAttribute("type","radio"),be.setAttribute("checked","checked"),be.setAttribute("name","t"),Ee.appendChild(be),G.checkClone=Ee.cloneNode(!0).cloneNode(!0).lastChild.checked,Ee.innerHTML="<textarea>x</textarea>",G.noCloneChecked=!!Ee.cloneNode(!0).lastChild.defaultValue;var De="undefined";G.focusinBubbles="onfocusin"in f;var we=/^key/,Re=/^(?:mouse|pointer|contextmenu)|click/,ke=/^(?:focusinfocus|focusoutblur)$/,xe=/^([^.]*)(?:\.(.+)|)$/;J.event={global:{},add:function(t,e,n,i,o){var r,a,s,l,c,d,u,h,p,f,m,g=ge.get(t);if(g)for(n.handler&&(n=(r=n).handler,o=r.selector),n.guid||(n.guid=J.guid++),(l=g.events)||(l=g.events={}),(a=g.handle)||(a=g.handle=function(e){return typeof J!==De&&J.event.triggered!==e.type?J.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(pe)||[""]).length;c--;)p=m=(s=xe.exec(e[c])||[])[1],f=(s[2]||"").split(".").sort(),p&&(u=J.event.special[p]||{},p=(o?u.delegateType:u.bindType)||p,u=J.event.special[p]||{},d=J.extend({type:p,origType:m,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&J.expr.match.needsContext.test(o),namespace:f.join(".")},r),(h=l[p])||((h=l[p]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(t,i,f,a)||t.addEventListener&&t.addEventListener(p,a,!1)),u.add&&(u.add.call(t,d),d.handler.guid||(d.handler.guid=n.guid)),o?h.splice(h.delegateCount++,0,d):h.push(d),J.event.global[p]=!0)},remove:function(e,t,n,i,o){var r,a,s,l,c,d,u,h,p,f,m,g=ge.hasData(e)&&ge.get(e);if(g&&(l=g.events)){for(c=(t=(t||"").match(pe)||[""]).length;c--;)if(p=m=(s=xe.exec(t[c])||[])[1],f=(s[2]||"").split(".").sort(),p){for(u=J.event.special[p]||{},h=l[p=(i?u.delegateType:u.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=r=h.length;r--;)d=h[r],!o&&m!==d.origType||n&&n.guid!==d.guid||s&&!s.test(d.namespace)||i&&i!==d.selector&&("**"!==i||!d.selector)||(h.splice(r,1),d.selector&&h.delegateCount--,u.remove&&u.remove.call(e,d));a&&!h.length&&(u.teardown&&!1!==u.teardown.call(e,f,g.handle)||J.removeEvent(e,p,g.handle),delete l[p])}else for(p in l)J.event.remove(e,p+t[c],n,i,!0);J.isEmptyObject(l)&&(delete g.handle,ge.remove(e,"events"))}},trigger:function(e,t,n,i){var o,r,a,s,l,c,d,u=[n||Q],h=Y.call(e,"type")?e.type:e,p=Y.call(e,"namespace")?e.namespace.split("."):[];if(
r=a=n=n||Q,3!==n.nodeType&&8!==n.nodeType&&!ke.test(h+J.event.triggered)&&(0<=h.indexOf(".")&&(h=(p=h.split(".")).shift(),p.sort()),l=h.indexOf(":")<0&&"on"+h,(e=e[J.expando]?e:new J.Event(h,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=p.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:J.makeArray(t,[e]),d=J.event.special[h]||{},i||!d.trigger||!1!==d.trigger.apply(n,t))){if(!i&&!d.noBubble&&!J.isWindow(n)){for(s=d.delegateType||h,ke.test(s+h)||(r=r.parentNode);r;r=r.parentNode)u.push(r),a=r;a===(n.ownerDocument||Q)&&u.push(a.defaultView||a.parentWindow||f)}for(o=0;(r=u[o++])&&!e.isPropagationStopped();)e.type=1<o?s:d.bindType||h,(c=(ge.get(r,"events")||{})[e.type]&&ge.get(r,"handle"))&&c.apply(r,t),(c=l&&r[l])&&c.apply&&J.acceptData(r)&&(e.result=c.apply(r,t),!1===e.result&&e.preventDefault());return e.type=h,i||e.isDefaultPrevented()||d._default&&!1!==d._default.apply(u.pop(),t)||!J.acceptData(n)||l&&J.isFunction(n[h])&&!J.isWindow(n)&&((a=n[l])&&(n[l]=null),n[J.event.triggered=h](),J.event.triggered=void 0,a&&(n[l]=a)),e.result}},dispatch:function(e){e=J.event.fix(e);var t,n,i,o,r,a=[],s=q.call(arguments),l=(ge.get(this,"events")||{})[e.type]||[],c=J.event.special[e.type]||{};if((s[0]=e).delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,e)){for(a=J.event.handlers.call(this,e,l),t=0;(o=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,n=0;(r=o.handlers[n++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(r.namespace))&&(e.handleObj=r,e.data=r.data,void 0!==(i=((J.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,s))&&!1===(e.result=i)&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,o,r,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!==this;l=l.parentNode||this)if(!0!==l.disabled||"click"!==e.type){for(i=[],n=0;n<s;n++)void 0===i[o=(r=t[n]).selector+" "]&&(i[o]=r.needsContext?0<=J(o,this).index(l):J.find(o,this,null,[l]).length),i[o]&&i.push(r);i.length&&a.push({elem:l,handlers:i})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,o,r=t.button;return null==e.pageX&&null!=t.clientX&&(i=(n=e.target.ownerDocument||Q).documentElement,o=n.body,e.pageX=t.clientX+(i&&i.scrollLeft||o&&o.scrollLeft||0)-(i&&i.clientLeft||o&&o.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||o&&o.scrollTop||0)-(i&&i.clientTop||o&&o.clientTop||0)),e.which||void 0===r||(e.which=1&r?1:2&r?3:4&r?2:0),e}},fix:function(e){if(e[J.expando])return e;var t,n,i,o=e.type,r=e,a=this.fixHooks[o];for(a||(this.fixHooks[o]=a=Re.test(o)?this.mouseHooks:we.test(o)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,e=new J.Event(r),t=i.length;t--;)e[n=i[t]]=r[n];return e.target||(e.target=Q),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,r):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==a()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===a()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&J.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return J.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var o=J.extend(new J.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?J.event.trigger(o,null,t):J.event.dispatch.call(t,o),o.isDefaultPrevented()&&n.preventDefault()}},J.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},J.Event=function(e,t){return this instanceof J.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?r:c):this.type=e,t&&J.extend(this,t),this.timeStamp=e&&e.timeStamp||J.now(),void(this[J.expando]=!0)):new J.Event(e,t)},J.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=r,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=r,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=r,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},J.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,r){J.event.special[e]={delegateType:r,bindType:r,handle:function(e){var t,n=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==n&&!J.contains(n,i))&&(e.type=o.origType,t=o.handler.apply(this,arguments),e.type=r),t}}}),G.focusinBubbles||J.each({focus:"focusin",blur:"focusout"},function(n,i){var o=function(e){J.event.simulate(i,e.target,J.event.fix(e),!0)};J.event.special[i]={setup:function(){var e=this.ownerDocument||this,t=ge.access(e,i);t||e.addEventListener(n,o,!0),ge.access(e,i,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this,t=ge.access(e,i)-1;t?ge.access(e,i,t):(e.removeEventListener(n,o,!0),ge.remove(e,i))}}}),J.fn.extend({on:function(e,t,n,i,o){var r,a;if("object"==typeof e){for(a in"string"!=typeof t&&(n=n||t,t=void 0),e)this.on(a,t,n,e[a],o);return this}if(null==n&&null==i?(i=t,n=t=void 0):null==i&&("string"==typeof t?(i=n,n=void 0):(i=n,n=t,t=void 0)),!1===i)i=c;else if(!i)return this;return 1===o&&(r=i,(i=function(e){return J().off(e),r.apply(this,arguments)}).guid=r.guid||(r.guid=J.guid++)),this.each(function(){J.event.add(this,e,i,n,t)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,t,n){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,J(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"!=typeof e)return(!1===t||"function"==typeof t)&&(n=t,t=void 0),!1===n&&(n=c),this.each(function(){J.event.remove(this,e,n,t)});for(o in e)this.off(o,t,e[o]);return this},trigger:function(e,t){return this.each(function(){J.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?J.event.trigger(e,t,n,!0):void 0}});var Se=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ke=/<([\w:]+)/,Ne=/<|&#?\w+;/,Ae=/<(?:script|style|link)/i,Le=/checked\s*(?:[^=]|=\s*.checked.)/i,Pe=/^$|\/(?:java|ecma)script/i,Me=/^true\/(.*)/,Fe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Be={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Be.optgroup=Be.option,Be.tbody=Be.tfoot=Be.colgroup=Be.caption=Be.thead,Be.th=Be.td,J.extend({clone:function(e,t,n){var i,o,r,a,s=e.cloneNode(!0),l=J.contains(e.ownerDocument,e);if(!(G.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||J.isXMLDoc(e)))for(a=T(s),i=0,o=(r=T(e)).length;i<o;i++)p(r[i],a[i]);if(t)if(n)for(r=r||T(e),a=a||T(s),i=0,o=r.length;i<o;i++)u(r[i],a[i]);else u(e,s);return 0<(a=T(s,"script")).length&&v(a,!l&&T(e,"script")),s},buildFragment:function(e,t,n,i){for(var o,r,a,s,l,c,d=t.createDocumentFragment(),u=[],h=0,p=e.length;h<p;h++)if((o=e[h])||0===o)if("object"===J.type(o))J.merge(u,o.nodeType?[o]:o);else if(Ne.test(o)){for(r=r||d.appendChild(t.createElement("div")),a=(Ke.exec(o)||["",""])[1].toLowerCase(),s=Be[a]||Be._default,r.innerHTML=s[1]+o.replace(Se,"<$1></$2>")+s[2],c=s[0];c--;)r=r.lastChild;J.merge(u,r.childNodes),(r=d.firstChild).textContent=""}else u.push(t.createTextNode(o));for(d.textContent="",h=0;o=u[h++];)if((!i||-1===J.inArray(o,i))&&(l=J.contains(o.ownerDocument,o),r=T(d.appendChild(o),"script"),l&&v(r),n))for(c=0;o=r[c++];)Pe.test(o.type||"")&&n.push(o);return d},cleanData:function(e){for(var t,n,i,o,r=J.event.special,a=0;void 0!==(n=e[a]);a++){if(J.acceptData(n)&&((o=n[ge.expando])&&(t=ge.cache[o]))){if(t.events)for(i in t.events)r[i]?J.event.remove(n,i):J.removeEvent(n,i,t.handle);ge.cache[o]&&delete ge.cache[o]}delete ve.cache[n[ve.expando]]}}}),J.fn.extend({text:function(e){return me(this,function(e){return void 0===e?J.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||d(this,e).appendChild(e)})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=d(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?J.filter(e,this):this,o=0;null!=(n=i[o]);o++)t||1!==n.nodeType||J.cleanData(T(n)),n.parentNode&&(t&&J.contains(n.ownerDocument,n)&&v(T(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(J.cleanData(T(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return J.clone(this,e,t)})},html:function(e){return me(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ae.test(e)&&!Be[(Ke.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Se,"<$1></$2>");try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(J.cleanData(T(t,!1)),t.innerHTML=e);t=0}catch(j){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){var t=e;return this.domManip(arguments,function(e){t=this.parentNode,J.cleanData(T(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(n,i){n=j.apply([],n);var e,t,o,r,a,s,l=0,c=this.length,d=this,u=c-1,h=n[0],p=J.isFunction(h);if(p||1<c&&"string"==typeof h&&!G.checkClone&&Le.test(h))return this.each(function(e){var t=d.eq(e);p&&(n[0]=h.call(this,e,t.html())),t.domManip(n,i)});if(c&&(t=(e=J.buildFragment(n,this[0].ownerDocument,!1,this)).firstChild,1===e.childNodes.length&&(e=t),t)){for(r=(o=J.map(T(e,"script"),m)).length;l<c;l++)a=e,l!==u&&(a=J.clone(a,!0,!0),r&&J.merge(o,T(a,"script"))),i.call(this[l],a,l);if(r)for(s=o[o.length-1].ownerDocument,J.map(o,g),l=0;l<r;l++)a=o[l],Pe.test(a.type||"")&&!ge.access(a,"globalEval")&&J.contains(s,a)&&(a.src?J._evalUrl&&J._evalUrl(a.src):J.globalEval(a.textContent.replace(Fe,"")))}return this}}),J.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){J.fn[e]=function(e){for(var t,n=[],i=J(e),o=i.length-1,r=0;r<=o;r++)t=r===o?this:this.clone(!0),J(i[r])[a](t),W.apply(n,t.get());return this.pushStack(n)}});var $e,He={},ze=/^margin/,qe=new RegExp("^("+Ce+")(?!px)[a-z%]+$","i"),je=function(e){return e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):f.getComputedStyle(e,null)};!function(){function e(){r.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",r.innerHTML="",i.appendChild(o);var e=f.getComputedStyle(r,null);t="1%"!==e.top,n="4px"===e.width,i.removeChild(o)}var t,n,i=Q.documentElement,o=Q.createElement("div"),r=Q.createElement("div");r.style&&(r.style.backgroundClip="content-box",r.cloneNode(!0).style.backgroundClip="",G.clearCloneStyle="content-box"===r.style.backgroundClip,o.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",o.appendChild(r),f.getComputedStyle&&J.extend(G,{pixelPosition:function(){return e(),t},boxSizingReliable:function(){return null==n&&e(),n},reliableMarginRight:function(){var e,t=r.appendChild(Q.createElement("div"));return t.style.cssText=r.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",r.style.width="1px",i.appendChild(o),e=!parseFloat(f.getComputedStyle(t,null).marginRight),i.removeChild(o),r.removeChild(t),e}}))}(),J.swap=function(e,t,n,i){var o,r,a={};for(r in t)a[r]=e.style[r],e.style[r]=t[r];for(r in o=n.apply(e,i||[]),t)e.style[r]=a[r];return o};var We=/^(none|table(?!-c[ea]).+)/,Ue=new RegExp("^("+Ce+")(.*)$","i"),Ve=new RegExp("^([+-])=("+Ce+")","i"),Xe={position:"absolute",visibility:"hidden",display:"block"},Ye={letterSpacing:"0",fontWeight:"400"},Ge=["Webkit","O","Moz","ms"];J.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=b(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,r,a,s=J.camelCase(t),l=e.style;return t=J.cssProps[s]||(J.cssProps[s]=_(l,s)),a=J.cssHooks[t]||J.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(o=a.get(e,!1,i))?o:l[t]:("string"===(r=typeof n)&&(o=Ve.exec(n))&&(n=(o[1]+1)*o[2]+parseFloat(J.css(e,t)),r="number"),void(null!=n&&n==n&&("number"!==r||J.cssNumber[s]||(n+="px"),G.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,i))||(l[t]=n))))}},css:function(e,t,n,i){var o,r,a,s=J.camelCase(t);return t=J.cssProps[s]||(J.cssProps[s]=_(e.style,s)),(a=J.cssHooks[t]||J.cssHooks[s])&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=b(e,t,i)),"normal"===o&&t in Ye&&(o=Ye[t]),""===n||n?(r=parseFloat(o),!0===n||J.isNumeric(r)?r||0:o):o}}),J.each(["height","width"],function(e,o){J.cssHooks[o]={get:function(e,t,n){return t?We.test(J.css(e,"display"))&&0===e.offsetWidth?J.swap(e,Xe,function(){return D(e,o,n)}):D(e,o,n):void 0},set:function(e,t,n){var i=n&&je(e);return O(e,t,n?I(e,o,n,"border-box"===J.css(e,"boxSizing",!1,i),i):0)}}}),J.cssHooks.marginRight=C(G.reliableMarginRight,function(e,t){return t?J.swap(e,{display:"inline-block"},b,[e,"marginRight"]):void 0}),J.each({margin:"",padding:"",border:"Width"},function(o,r){J.cssHooks[o+r]={expand:function(e){for(var t=0,n={},i="string"==typeof e?e.split(" "):[e];t<4;t++)n[o+_e[t]+r]=i[t]||i[t-2]||i[0];return n}},ze.test(o)||(J.cssHooks[o+r].set=O)}),J.fn.extend({css:function(e,t){return me(this,function(e,t,n){var i,o,r={},a=0;if(J.isArray(t)){for(i=je(e),o=t.length;a<o;a++)r[t[a]]=J.css(e,t[a],!1,i);return r}return void 0!==n?J.style(e,t,n):J.css(e,t)},e,t,1<arguments.length)},show:function(){return w(this,!0)},hide:function(){return w(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Oe(this)?J(this).show():J(this).hide()})}}),(J.Tween=R).prototype={constructor:R,init:function(e,t,n,i,o,r){this.elem=e,this.prop=n,this.easing=o||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=r||(J.cssNumber[n]?"":"px")},cur:function(){var e=R.propHooks[this.prop];return e&&e.get?e.get(this):R.propHooks._default.get(this)},run:function(e){var t,n=R.propHooks[this.prop];return this.pos=t=this.options.duration?J.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):R.propHooks._default.set(this),this}},R.prototype.init.prototype=R.prototype,R.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=J.css(e.elem,e.prop,""))&&"auto"!==t?t:0:e.elem[e.prop]},set:function(e){J.fx.step[e.prop]?J.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[J.cssProps[e.prop]]||J.cssHooks[e.prop])?J.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},R.propHooks.scrollTop=R.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},J.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},J.fx=R.prototype.init,J.fx.step={};var Qe,Ze,Je,et,tt,nt=/^(?:toggle|show|hide)$/,it=new RegExp("^(?:([+-])=|)("+Ce+")([a-z%]*)$","i"),ot=/queueHooks$/,rt=[K],at={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),o=it.exec(t),r=o&&o[3]||(J.cssNumber[e]?"":"px"),a=(J.cssNumber[e]||"px"!==r&&+i)&&it.exec(J.css(n.elem,e)),s=1,l=20;if(a&&a[3]!==r)for(r=r||a[3],o=o||[],a=+i||1;a/=s=s||".5",J.style(n.elem,e,a+r),s!==(s=n.cur()/i)&&1!==s&&--l;);return o&&(a=n.start=+a||+i||0,n.unit=r,n.end=o[1]?a+(o[1]+1)*o[2]:+o[2]),n}]};J.Animation=J.extend(A,{tweener:function(e,t){for(var n,i=0,o=(e=J.isFunction(e)?(t=e,["*"]):e.split(" ")).length;i<o;i++)n=e[i],at[n]=at[n]||[],at[n].unshift(t)},prefilter:function(e,t){t?rt.unshift(e):rt.push(e)}}),J.speed=function(e,t,n){var i=e&&"object"==typeof e?J.extend({},e):{complete:n||!n&&t||J.isFunction(e)&&e,duration:e,easing:n&&t||t&&!J.isFunction(t)&&t};return i.duration=J.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in J.fx.speeds?J.fx.speeds[i.duration]:J.fx.speeds._default,(null==i.queue||!0===i.queue)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){J.isFunction(i.old)&&i.old.call(this),i.queue&&J.dequeue(this,i.queue)},i},J.fn.extend({fadeTo:function(e,t,n,i){return this.filter(Oe).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(t,e,n,i){var o=J.isEmptyObject(t),r=J.speed(e,n,i),a=function(){var e=A(this,J.extend({},t),r);(o||ge.get(this,"finish"))&&e.stop(!0)};return a.finish=a,o||!1===r.queue?this.each(a):this.queue(r.queue,a)},stop:function(o,e,r){var a=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof o&&(r=e,e=o,o=void 0),e&&!1!==o&&this.queue(o||"fx",[]),this.each(function(){var e=!0,t=null!=o&&o+"queueHooks",n=J.timers,i=ge.get(this);if(t)i[t]&&i[t].stop&&a(i[t]);else for(t in i)i[t]&&i[t].stop&&ot.test(t)&&a(i[t]);for(t=n.length;t--;)n[t].elem!==this||null!=o&&n[t].queue!==o||(n[t].anim.stop(r),e=!1,n.splice(t,1));(e||!r)&&J.dequeue(this,o)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=ge.get(this),n=t[a+"queue"],i=t[a+"queueHooks"],o=J.timers,r=n?n.length:0;for(t.finish=!0,J.queue(this,a,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===a&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<r;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),J.each(["toggle","show","hide"],function(e,i){var o=J.fn[i];J.fn[i]=function(e,t,n){return null==e||"boolean"==typeof e?o.apply(this,arguments):this.animate(x(i,!0),e,t,n)}}),J.each({slideDown:x("show"),slideUp:x("hide"),slideToggle:x("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,i){J.fn[e]=function(e,t,n){return this.animate(i,e,t,n)}}),J.timers=[],J.fx.tick=function(){var e,t=0,n=J.timers;for(Qe=J.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||J.fx.stop(),Qe=void 0},J.fx.timer=function(e){J.timers.push(e),e()?J.fx.start():J.timers.pop()},J.fx.interval=13,J.fx.start=function(){Ze||(Ze=setInterval(J.fx.tick,J.fx.interval))},J.fx.stop=function(){clearInterval(Ze),Ze=null},J.fx.speeds={slow:600,fast:200,_default:400},J.fn.delay=function(i,e){return i=J.fx&&J.fx.speeds[i]||i,e=e||"fx",this.queue(e,function(e,t){var n=setTimeout(e,i);t.stop=function(){clearTimeout(n)}})},Je=Q.createElement("input"),et=Q.createElement("select"),tt=et.appendChild(Q.createElement("option")),Je.type="checkbox",G.checkOn=""!==Je.value,G.optSelected=tt.selected,et.disabled=!0,G.optDisabled=!tt.disabled,(Je=Q.createElement("input")).value="t",Je.type="radio",G.radioValue="t"===Je.value;var st,lt,ct=J.expr.attrHandle;J.fn.extend({attr:function(e,t){return me(this,J.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){J.removeAttr(this,e)})}}),J.extend({attr:function(e,t,n){var i,o,r=e.nodeType;if(e&&3!==r&&8!==r&&2!==r)return typeof e.getAttribute===De?J.prop(e,t,n):(1===r&&J.isXMLDoc(e)||(t=t.toLowerCase(),i=J.attrHooks[t]||(J.expr.match.bool.test(t)?lt:st)),void 0===n?i&&"get"in i&&null!==(o=i.get(e,t))?o:null==(o=J.find.attr(e,t))?void 0:o:null!==n?i&&"set"in i&&void 0!==(o=i.set(e,n,t))?o:(e.setAttribute(t,n+""),n):void J.removeAttr(e,t))},removeAttr:function(e,t){var n,i,o=0,r=t&&t.match(pe);if(r&&1===e.nodeType)for(;n=r[o++];)i=J.propFix[n]||n,J.expr.match.bool.test(n)&&(e[i]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!G.radioValue&&"radio"===t&&J.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),lt={set:function(e,t,n){return!1===t?J.removeAttr(e,n):e.setAttribute(n,n),n}},J.each(J.expr.match.bool.source.match(/\w+/g),function(e,t){var r=ct[t]||J.find.attr;ct[t]=function(e,t,n){var i,o;return n||(o=ct[t],ct[t]=i,i=null!=r(e,t,n)?t.toLowerCase():null,ct[t]=o),i}});var dt=/^(?:input|select|textarea|button)$/i;J.fn.extend({prop:function(e,t){return me(this,J.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[J.propFix[e]||e]})}}),J.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var i,o,r=e.nodeType;if(e&&3!==r&&8!==r&&2!==r)return(1!==r||!J.isXMLDoc(e))&&(t=J.propFix[t]||t,o=J.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(i=o.set(e,n,t))?i:e[t]=n:o&&"get"in o&&null!==(i=o.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||dt.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),G.optSelected||(J.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),J.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){J.propFix[this.toLowerCase()]=this});var ut=/[\t\r\n\f]/g;J.fn.extend({addClass:function(t){var e,n,i,o,r,a,s="string"==typeof t&&t,l=0,c=this.length;if(J.isFunction(t))return this.each(function(e){J(this).addClass(t.call(this,e,this.className))});if(s)for(e=(t||"").match(pe)||[];l<c;l++)if(i=1===(n=this[l]).nodeType&&(n.className?(" "+n.className+" ").replace(ut," "):" ")){for(r=0;o=e[r++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");a=J.trim(i),n.className!==a&&(n.className=a)}return this},removeClass:function(t){var e,n,i,o,r,a,s=0===arguments.length||"string"==typeof t&&t,l=0,c=this.length;if(J.isFunction(t))return this.each(function(e){J(this).removeClass(t.call(this,e,this.className))});if(s)for(e=(t||"").match(pe)||[];l<c;l++)if(i=1===(n=this[l]).nodeType&&(n.className?(" "+n.className+" ").replace(ut," "):"")){for(r=0;o=e[r++];)for(;0<=i.indexOf(" "+o+" ");)i=i.replace(" "+o+" "," ");a=t?J.trim(i):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(o,t){var r=typeof o;return"boolean"==typeof t&&"string"===r?t?this.addClass(o):this.removeClass(o):this.each(J.isFunction(o)?function(e){J(this).toggleClass(o.call(this,e,this.className,t),t)}:function(){if("string"===r)for(var e,t=0,n=J(this),i=o.match(pe)||[];e=i[t++];)n.hasClass(e)?n.removeClass(e):n.addClass(e);else(r===De||"boolean"===r)&&(this.className&&ge.set(this,"__className__",this.className),this.className=this.className||!1===o?"":ge.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;n<i;n++)if(1===this[n].nodeType&&0<=(" "+this[n].className+" ").replace(ut," ").indexOf(t))return!0;return!1}});var ht=/\r/g;J.fn.extend({val:function(n){var i,e,o,t=this[0];return arguments.length?(o=J.isFunction(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=o?n.call(this,e,J(this).val()):n)?t="":"number"==typeof t?t+="":J.isArray(t)&&(t=J.map(t,function(e){return null==e?"":e+""})),(i=J.valHooks[this.type]||J.valHooks[this.nodeName.toLowerCase()])&&"set"in i&&void 0!==i.set(this,t,"value")||(this.value=t))})):t?(i=J.valHooks[t.type]||J.valHooks[t.nodeName.toLowerCase()])&&"get"in i&&void 0!==(e=i.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(ht,""):null==e?"":e:void 0}}),J.extend({valHooks:{option:{get:function(e){var t=J.find.attr(e,"value");return null!=t?t:J.trim(J.text(e))}},select:{get:function(e){for(var t,n,i=e.options,o=e.selectedIndex,r="select-one"===e.type||o<0,a=r?null:[],s=r?o+1:i.length,l=o<0?s:r?o:0;l<s;l++)if(!(!(n=i[l]).selected&&l!==o||(G.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&J.nodeName(n.parentNode,"optgroup"))){if(t=J(n).val(),r)return t;a.push(t)}return a},set:function(e,t){for(var n,i,o=e.options,r=J.makeArray(t),a=o.length;a--;)((i=o[a]).selected=0<=J.inArray(i.value,r))&&(n=!0);return n||(e.selectedIndex=-1),r}}}}),J.each(["radio","checkbox"],function(){J.valHooks[this]={set:function(e,t){return J.isArray(t)?e.checked=0<=J.inArray(J(e).val(),t):void 0}},G.checkOn||(J.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),J.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,n){J.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}}),J.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var pt=J.now(),ft=/\?/;J.parseJSON=function(e){return JSON.parse(e+"")},J.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new DOMParser).parseFromString(e,"text/xml")}catch(q){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&J.error("Invalid XML: "+e),t};var mt=/#.*$/,gt=/([?&])_=[^&]*/,vt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Tt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,yt=/^(?:GET|HEAD)$/,Et=/^\/\//,bt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Ct={},_t={},Ot="*/".concat("*"),It=f.location.href,Dt=bt.exec(It.toLowerCase())||[];J.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:It,type:"GET",isLocal:Tt.test(Dt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ot,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":J.parseJSON,"text xml":J.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?M(M(e,J.ajaxSettings),t):M(J.ajaxSettings,e)},ajaxPrefilter:L(Ct),ajaxTransport:L(_t),ajax:function(e,t){function n(e,t,n,i){var o,r,a,s,l,c=t;2!==b&&(b=2,p&&clearTimeout(p),d=void 0,h=i||"",C.readyState=0<e?4:0,o=200<=e&&e<300||304===e,n&&(s=F(m,C,n)),s=B(m,s,C,o),o?(m.ifModified&&((l=C.getResponseHeader("Last-Modified"))&&(J.lastModified[u]=l),(l=C.getResponseHeader("etag"))&&(J.etag[u]=l)),204===e||"HEAD"===m.type?c="nocontent":304===e?c="notmodified":(c=s.state,r=s.data,o=!(a=s.error))):(a=c,(e||!c)&&(c="error",e<0&&(e=0))),C.status=e,C.statusText=(t||c)+"",o?T.resolveWith(g,[r,c,C]):T.rejectWith(g,[C,c,a]),C.statusCode(E),E=void 0,f&&v.trigger(o?"ajaxSuccess":"ajaxError",[C,m,o?r:a]),y.fireWith(g,[C,c]),f&&(v.trigger("ajaxComplete",[C,m]),--J.active||J.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var d,u,h,i,p,o,f,r,m=J.ajaxSetup({},t),g=m.context||m,v=m.context&&(g.nodeType||g.jquery)?J(g):J.event,T=J.Deferred(),y=J.Callbacks("once memory"),E=m.statusCode||{},a={},s={},b=0,l="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!i)for(i={};t=vt.exec(h);)i[t[1].toLowerCase()]=t[2];t=i[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?h:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=s[n]=s[n]||e,a[e]=t),this},overrideMimeType:function(e){return b||(m.mimeType=e),this},statusCode:function(e){var t;if(e)if(b<2)for(t in e)E[t]=[E[t],e[t]];else C.always(e[C.status]);return this},abort:function(e){var t=e||l;return d&&d.abort(t),n(0,t),this}};if(T.promise(C).complete=y.add,C.success=C.done,C.error=C.fail,m.url=((e||m.url||It)+"").replace(mt,"").replace(Et,Dt[1]+"//"),m.type=t.method||t.type||m.method||m.type,m.dataTypes=J.trim(m.dataType||"*").toLowerCase().match(pe)||[""],null==m.crossDomain&&(o=bt.exec(m.url.toLowerCase()),m.crossDomain=!(!o||o[1]===Dt[1]&&o[2]===Dt[2]&&(o[3]||("http:"===o[1]?"80":"443"))===(Dt[3]||("http:"===Dt[1]?"80":"443")))),m.data&&m.processData&&"string"!=typeof m.data&&(m.data=J.param(m.data,m.traditional)),P(Ct,m,t,C),2===b)return C;for(r in(f=J.event&&m.global)&&0==J.active++&&J.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!yt.test(m.type),u=m.url,m.hasContent||(m.data&&(u=m.url+=(ft.test(u)?"&":"?")+m.data,delete m.data),!1===m.cache&&(m.url=gt.test(u)?u.replace(gt,"$1_="+pt++):u+(ft.test(u)?"&":"?")+"_="+pt++)),m.ifModified&&(J.lastModified[u]&&C.setRequestHeader("If-Modified-Since",J.lastModified[u]),J.etag[u]&&C.setRequestHeader("If-None-Match",J.etag[u])),(m.data&&m.hasContent&&!1!==m.contentType||t.contentType)&&C.setRequestHeader("Content-Type",m.contentType),C.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+Ot+"; q=0.01":""):m.accepts["*"]),m.headers)C.setRequestHeader(r,m.headers[r]);if(m.beforeSend&&(!1===m.beforeSend.call(g,C,m)||2===b))return C.abort();for(r in l="abort",{success:1,error:1,complete:1})C[r](m[r]);if(d=P(_t,m,t,C)){C.readyState=1,f&&v.trigger("ajaxSend",[C,m]),m.async&&0<m.timeout&&(p=setTimeout(function(){C.abort("timeout")},m.timeout));try{b=1,d.send(a,n)}catch(se){if(!(b<2))throw se;n(-1,se)}}else n(-1,"No Transport");return C},getJSON:function(e,t,n){return J.get(e,t,n,"json")},getScript:function(e,t){return J.get(e,void 0,t,"script")}}),J.each(["get","post"],function(e,o){J[o]=function(e,t,n,i){return J.isFunction(t)&&(i=i||n,n=t,t=void 0),J.ajax({url:e,type:o,dataType:i,data:t,success:n})}}),J._evalUrl=function(e){return J.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},J.fn.extend({wrapAll:function(t){var e;return J.isFunction(t)?this.each(function(e){J(this).wrapAll(t.call(this,e))}):(this[0]&&(e=J(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(n){return this.each(J.isFunction(n)?function(e){J(this).wrapInner(n.call(this,e))}:function(){var e=J(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=J.isFunction(t);return this.each(function(e){J(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(){return this.parent().each(function(){J.nodeName(this,"body")||J(this).replaceWith(this.childNodes)}).end()}}),J.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},J.expr.filters.visible=function(e){return!J.expr.filters.hidden(e)};var wt=/%20/g,Rt=/\[\]$/,kt=/\r?\n/g,xt=/^(?:submit|button|image|reset|file)$/i,St=/^(?:input|select|textarea|keygen)/i;J.param=function(e,t){var n,i=[],o=function(e,t){t=J.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=J.ajaxSettings&&J.ajaxSettings.traditional),J.isArray(e)||e.jquery&&!J.isPlainObject(e))J.each(e,function(){o(this.name,this.value)});else for(n in e)$(n,e[n],t,o);return i.join("&").replace(wt,"+")},J.fn.extend({serialize:function(){return J.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=J.prop(this,"elements");return e?J.makeArray(e):this}
).filter(function(){var e=this.type;return this.name&&!J(this).is(":disabled")&&St.test(this.nodeName)&&!xt.test(e)&&(this.checked||!Ie.test(e))}).map(function(e,t){var n=J(this).val();return null==n?null:J.isArray(n)?J.map(n,function(e){return{name:t.name,value:e.replace(kt,"\r\n")}}):{name:t.name,value:n.replace(kt,"\r\n")}}).get()}}),J.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(f){}};var Kt=0,Nt={},At={0:200,1223:204},Lt=J.ajaxSettings.xhr();f.attachEvent&&f.attachEvent("onunload",function(){for(var e in Nt)Nt[e]()}),G.cors=!!Lt&&"withCredentials"in Lt,G.ajax=Lt=!!Lt,J.ajaxTransport(function(r){var a;return G.cors||Lt&&!r.crossDomain?{send:function(e,t){var n,i=r.xhr(),o=++Kt;if(i.open(r.type,r.url,r.async,r.username,r.password),r.xhrFields)for(n in r.xhrFields)i[n]=r.xhrFields[n];for(n in r.mimeType&&i.overrideMimeType&&i.overrideMimeType(r.mimeType),r.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)i.setRequestHeader(n,e[n]);a=function(e){return function(){a&&(delete Nt[o],a=i.onload=i.onerror=null,"abort"===e?i.abort():"error"===e?t(i.status,i.statusText):t(At[i.status]||i.status,i.statusText,"string"==typeof i.responseText?{text:i.responseText}:void 0,i.getAllResponseHeaders()))}},i.onload=a(),i.onerror=a("error"),a=Nt[o]=a("abort");try{i.send(r.hasContent&&r.data||null)}catch(V){if(a)throw V}},abort:function(){a&&a()}}:void 0}),J.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return J.globalEval(e),e}}}),J.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),J.ajaxTransport("script",function(n){var i,o;if(n.crossDomain)return{send:function(e,t){i=J("<script>").prop({async:!0,charset:n.scriptCharset,src:n.url}).on("load error",o=function(e){i.remove(),o=null,e&&t("error"===e.type?404:200,e.type)}),Q.head.appendChild(i[0])},abort:function(){o&&o()}}});var Pt=[],Mt=/(=)\?(?=&|$)|\?\?/;J.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Pt.pop()||J.expando+"_"+pt++;return this[e]=!0,e}}),J.ajaxPrefilter("json jsonp",function(e,t,n){var i,o,r,a=!1!==e.jsonp&&(Mt.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Mt.test(e.data)&&"data");return a||"jsonp"===e.dataTypes[0]?(i=e.jsonpCallback=J.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Mt,"$1"+i):!1!==e.jsonp&&(e.url+=(ft.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return r||J.error(i+" was not called"),r[0]},e.dataTypes[0]="json",o=f[i],f[i]=function(){r=arguments},n.always(function(){f[i]=o,e[i]&&(e.jsonpCallback=t.jsonpCallback,Pt.push(i)),r&&J.isFunction(o)&&o(r[0]),r=o=void 0}),"script"):void 0}),J.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||Q;var i=ae.exec(e),o=!n&&[];return i?[t.createElement(i[1])]:(i=J.buildFragment([e],t,o),o&&o.length&&J(o).remove(),J.merge([],i.childNodes))};var Ft=J.fn.load;J.fn.load=function(e,t,n){if("string"!=typeof e&&Ft)return Ft.apply(this,arguments);var i,o,r,a=this,s=e.indexOf(" ");return 0<=s&&(i=J.trim(e.slice(s)),e=e.slice(0,s)),J.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),0<a.length&&J.ajax({url:e,type:o,dataType:"html",data:t}).done(function(e){r=arguments,a.html(i?J("<div>").append(J.parseHTML(e)).find(i):e)}).complete(n&&function(e,t){a.each(n,r||[e.responseText,t,e])}),this},J.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){J.fn[t]=function(e){return this.on(t,e)}}),J.expr.filters.animated=function(t){return J.grep(J.timers,function(e){return t===e.elem}).length};var Bt=f.document.documentElement;J.offset={setOffset:function(e,t,n){var i,o,r,a,s,l,c=J.css(e,"position"),d=J(e),u={};"static"===c&&(e.style.position="relative"),s=d.offset(),r=J.css(e,"top"),l=J.css(e,"left"),o=("absolute"===c||"fixed"===c)&&-1<(r+l).indexOf("auto")?(a=(i=d.position()).top,i.left):(a=parseFloat(r)||0,parseFloat(l)||0),J.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(u.top=t.top-s.top+a),null!=t.left&&(u.left=t.left-s.left+o),"using"in t?t.using.call(e,u):d.css(u)}},J.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){J.offset.setOffset(this,t,e)});var e,n,i=this[0],o={top:0,left:0},r=i&&i.ownerDocument;return r?(e=r.documentElement,J.contains(e,i)?(typeof i.getBoundingClientRect!==De&&(o=i.getBoundingClientRect()),n=H(r),{top:o.top+n.pageYOffset-e.clientTop,left:o.left+n.pageXOffset-e.clientLeft}):o):void 0},position:function(){if(this[0]){var e,t,n=this[0],i={top:0,left:0};return"fixed"===J.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),J.nodeName(e[0],"html")||(i=e.offset()),i.top+=J.css(e[0],"borderTopWidth",!0),i.left+=J.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-J.css(n,"marginTop",!0),left:t.left-i.left-J.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Bt;e&&!J.nodeName(e,"html")&&"static"===J.css(e,"position");)e=e.offsetParent;return e||Bt})}}),J.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,o){var r="pageYOffset"===o;J.fn[t]=function(e){return me(this,function(e,t,n){var i=H(e);return void 0===n?i?i[o]:e[t]:void(i?i.scrollTo(r?f.pageXOffset:n,r?n:f.pageYOffset):e[t]=n)},t,e,arguments.length,null)}}),J.each(["top","left"],function(e,n){J.cssHooks[n]=C(G.pixelPosition,function(e,t){return t?(t=b(e,n),qe.test(t)?J(e).position()[n]+"px":t):void 0})}),J.each({Height:"height",Width:"width"},function(r,a){J.each({padding:"inner"+r,content:a,"":"outer"+r},function(i,e){J.fn[e]=function(e,t){var n=arguments.length&&(i||"boolean"!=typeof e),o=i||(!0===e||!0===t?"margin":"border");return me(this,function(e,t,n){var i;return J.isWindow(e)?e.document.documentElement["client"+r]:9===e.nodeType?(i=e.documentElement,Math.max(e.body["scroll"+r],i["scroll"+r],e.body["offset"+r],i["offset"+r],i["client"+r])):void 0===n?J.css(e,t,o):J.style(e,t,n,o)},a,n?e:void 0,n,null)}})}),J.fn.size=function(){return this.length},J.fn.andSelf=J.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return J});var $t=f.jQuery,Ht=f.$;return J.noConflict=function(e){return f.$===J&&(f.$=Ht),e&&f.jQuery===J&&(f.jQuery=$t),J},typeof e===De&&(f.jQuery=f.$=J),J}),function(){var l,t,i,a,o={}.hasOwnProperty,n=function(e,t){function n(){this.constructor=e}for(var i in t)o.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};(a=function(){function e(){this.options_index=0,this.parsed=[]}return e.prototype.add_node=function(e){return"OPTGROUP"===e.nodeName.toUpperCase()?this.add_group(e):this.add_option(e)},e.prototype.add_group=function(e){var t,n,i,o,r,a;for(t=this.parsed.length,this.parsed.push({array_index:t,group:!0,label:this.escapeExpression(e.label),children:0,disabled:e.disabled}),a=[],i=0,o=(r=e.childNodes).length;i<o;i++)n=r[i],a.push(this.add_option(n,t,e.disabled));return a},e.prototype.add_option=function(e,t,n){return"OPTION"===e.nodeName.toUpperCase()?(""!==e.text?(null!=t&&(this.parsed[t].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:e.value,text:e.text,html:e.innerHTML,selected:e.selected,disabled:!0===n?n:e.disabled,group_array_index:t,classes:e.className,style:e.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},e.prototype.escapeExpression=function(e){var t,n;return null==e||!1===e?"":/[\&\<\>\"\'\`]/.test(e)?(t={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},n=/&(?!\w+;)|[\<\>\"\'\`]/g,e.replace(n,function(e){return t[e]||"&amp;"})):e},e}()).select_to_array=function(e){var t,n,i,o,r;for(n=new a,i=0,o=(r=e.childNodes).length;i<o;i++)t=r[i],n.add_node(t);return n.parsed},t=function(){function n(e,t){this.form_field=e,this.options=null!=t?t:{},n.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers())}return n.prototype.set_default_values=function(){var t=this;return this.click_test_action=function(e){return t.test_active_click(e)},this.activate_action=function(e){return t.activate_field(e)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text&&this.options.allow_single_deselect,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null==this.options.enable_split_word_search||this.options.enable_split_word_search,this.group_search=null==this.options.group_search||this.options.group_search,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null==this.options.single_backstroke_delete||this.options.single_backstroke_delete,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null==this.options.display_selected_options||this.options.display_selected_options,this.display_disabled_options=null==this.options.display_disabled_options||this.options.display_disabled_options},n.prototype.set_default_text=function(){return this.default_text=this.form_field.getAttribute("data-placeholder")?this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.options.placeholder_text_multiple||this.options.placeholder_text||n.default_multiple_text:this.options.placeholder_text_single||this.options.placeholder_text||n.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||n.default_no_result_text},n.prototype.mouse_enter=function(){return this.mouse_on_container=!0},n.prototype.mouse_leave=function(){return this.mouse_on_container=!1},n.prototype.input_focus=function(){var e=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return e.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},n.prototype.input_blur=function(){var e=this;return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(){return e.blur_test()},100))},n.prototype.results_option_build=function(e){var t,n,i,o,r;for(t="",i=0,o=(r=this.results_data).length;i<o;i++)t+=(n=r[i]).group?this.result_add_group(n):this.result_add_option(n),(null!=e?e.first:void 0)&&(n.selected&&this.is_multiple?this.choice_build(n):n.selected&&!this.is_multiple&&this.single_set_selected_text(n.text));return t},n.prototype.result_add_option=function(e){var t,n;return e.search_match&&this.include_option_in_results(e)?(t=[],e.disabled||e.selected&&this.is_multiple||t.push("active-result"),!e.disabled||e.selected&&this.is_multiple||t.push("disabled-result"),e.selected&&t.push("result-selected"),null!=e.group_array_index&&t.push("group-option"),""!==e.classes&&t.push(e.classes),(n=document.createElement("li")).className=t.join(" "),n.style.cssText=e.style,n.setAttribute("data-option-array-index",e.array_index),n.innerHTML=e.search_text,this.outerHTML(n)):""},n.prototype.result_add_group=function(e){var t;return(e.search_match||e.group_match)&&0<e.active_options?((t=document.createElement("li")).className="group-result",t.innerHTML=e.search_text,this.outerHTML(t)):""},n.prototype.results_update_field=function(){return this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing?this.winnow_results():void 0},n.prototype.reset_single_select_options=function(){var e,t,n,i,o;for(o=[],t=0,n=(i=this.results_data).length;t<n;t++)(e=i[t]).selected?o.push(e.selected=!1):o.push(void 0);return o},n.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},n.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},n.prototype.winnow_results=function(){var e,t,n,i,o,r,a,s,l,c,d,u;for(this.no_results_clear(),i=0,e=(r=this.get_search_text()).replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),l=new RegExp(e,"i"),n=this.get_search_regex(e),c=0,d=(u=this.results_data).length;c<d;c++)(t=u[c]).search_match=!1,o=null,this.include_option_in_results(t)&&(t.group&&(t.group_match=!1,t.active_options=0),null!=t.group_array_index&&this.results_data[t.group_array_index]&&(0===(o=this.results_data[t.group_array_index]).active_options&&o.search_match&&(i+=1),o.active_options+=1),(!t.group||this.group_search)&&(t.search_text=t.group?t.label:t.text,t.search_match=this.search_string_match(t.search_text,n),t.search_match&&!t.group&&(i+=1),t.search_match?(r.length&&(a=t.search_text.search(l),s=t.search_text.substr(0,a+r.length)+"</em>"+t.search_text.substr(a+r.length),t.search_text=s.substr(0,a)+"<em>"+s.substr(a)),null!=o&&(o.group_match=!0)):null!=t.group_array_index&&this.results_data[t.group_array_index].search_match&&(t.search_match=!0)));return this.result_clear_highlight(),i<1&&r.length?(this.update_results_content(""),this.no_results(r)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},n.prototype.get_search_regex=function(e){var t;return t=this.search_contains?"":"^",new RegExp(t+e,"i")},n.prototype.search_string_match=function(e,t){var n,i,o,r;if(t.test(e))return!0;if(this.enable_split_word_search&&(0<=e.indexOf(" ")||0===e.indexOf("["))&&(i=e.replace(/\[|\]/g,"").split(" ")).length)for(o=0,r=i.length;o<r;o++)if(n=i[o],t.test(n))return!0},n.prototype.choices_count=function(){var e,t,n;if(null!=this.selected_option_count)return this.selected_option_count;for(e=this.selected_option_count=0,t=(n=this.form_field.options).length;e<t;e++)n[e].selected&&(this.selected_option_count+=1);return this.selected_option_count},n.prototype.choices_click=function(e){return e.preventDefault(),this.results_showing||this.is_disabled?void 0:this.results_show()},n.prototype.keyup_checker=function(e){var t,n;switch(t=null!=(n=e.which)?n:e.keyCode,this.search_field_scale(),t){case 8:if(this.is_multiple&&this.backstroke_length<1&&0<this.choices_count())return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(e.preventDefault(),this.results_showing)return this.result_select(e);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},n.prototype.clipboard_event_checker=function(){var e=this;return setTimeout(function(){return e.results_search()},50)},n.prototype.container_width=function(){return null!=this.options.width?this.options.width:this.form_field.offsetWidth+"px"},n.prototype.include_option_in_results=function(e){return!(this.is_multiple&&!this.display_selected_options&&e.selected)&&(!(!this.display_disabled_options&&e.disabled)&&!e.empty)},n.prototype.search_results_touchstart=function(e){return this.touch_started=!0,this.search_results_mouseover(e)},n.prototype.search_results_touchmove=function(e){return this.touch_started=!1,this.search_results_mouseout(e)},n.prototype.search_results_touchend=function(e){return this.touch_started?this.search_results_mouseup(e):void 0},n.prototype.outerHTML=function(e){var t;return e.outerHTML?e.outerHTML:((t=document.createElement("div")).appendChild(e),t.innerHTML)},n.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?8<=document.documentMode:!/iP(od|hone)/i.test(window.navigator.userAgent)&&(!/Android/i.test(window.navigator.userAgent)||!/Mobile/i.test(window.navigator.userAgent))},n.default_multiple_text="Select Some Options",n.default_single_text="Select an Option",n.default_no_result_text="No results match",n}(),(l=jQuery).fn.extend({chosen:function(n){return t.browser_is_supported()?this.each(function(){var e,t;t=(e=l(this)).data("chosen"),"destroy"===n&&t instanceof i?t.destroy():t instanceof i||e.data("chosen",new i(this,n))}):this}}),i=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.setup=function(){return this.form_field_jq=l(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},e.prototype.set_up_html=function(){var e,t;return(e=["chosen-container"]).push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&e.push(this.form_field.className),this.is_rtl&&e.push("chosen-rtl"),t={"class":e.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.form_field.id.length&&(t.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=l("<div />",t),this.is_multiple?this.container.html('<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>'):this.container.html('<a class="chosen-single chosen-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior(),this.form_field_jq.trigger("chosen:ready",{chosen:this})},e.prototype.register_observers=function(){var t=this;return this.container.bind("touchstart.chosen",function(e){t.container_mousedown(e)}),this.container.bind("touchend.chosen",function(e){t.container_mouseup(e)}),this.container.bind("mousedown.chosen",function(e){t.container_mousedown(e)}),this.container.bind("mouseup.chosen",function(e){t.container_mouseup(e)}),this.container.bind("mouseenter.chosen",function(e){t.mouse_enter(e)}),this.container.bind("mouseleave.chosen",function(e){t.mouse_leave(e)}),this.search_results.bind("mouseup.chosen",function(e){t.search_results_mouseup(e)}),this.search_results.bind("mouseover.chosen",function(e){t.search_results_mouseover(e)}),this.search_results.bind("mouseout.chosen",function(e){t.search_results_mouseout(e)}),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(e){t.search_results_mousewheel(e)}),this.search_results.bind("touchstart.chosen",function(e){t.search_results_touchstart(e)}),this.search_results.bind("touchmove.chosen",function(e){t.search_results_touchmove(e)}),this.search_results.bind("touchend.chosen",function(e){t.search_results_touchend(e)}),this.form_field_jq.bind("chosen:updated.chosen",function(e){t.results_update_field(e)}),this.form_field_jq.bind("chosen:activate.chosen",function(e){t.activate_field(e)}),this.form_field_jq.bind("chosen:open.chosen",function(e){t.container_mousedown(e)}),this.form_field_jq.bind("chosen:close.chosen",function(e){t.input_blur(e)}),this.search_field.bind("blur.chosen",function(e){t.input_blur(e)}),this.search_field.bind("keyup.chosen",function(e){t.keyup_checker(e)}),this.search_field.bind("keydown.chosen",function(e){t.keydown_checker(e)}),this.search_field.bind("focus.chosen",function(e){t.input_focus(e)}),this.search_field.bind("cut.chosen",function(e){t.clipboard_event_checker(e)}),this.search_field.bind("paste.chosen",function(e){t.clipboard_event_checker(e)}),this.is_multiple?this.search_choices.bind("click.chosen",function(e){t.choices_click(e)}):this.container.bind("click.chosen",function(e){e.preventDefault()})},e.prototype.destroy=function(){return l(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},e.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field()):(this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_action))},e.prototype.container_mousedown=function(e){return this.is_disabled||(e&&"mousedown"===e.type&&!this.results_showing&&e.preventDefault(),null!=e&&l(e.target).hasClass("search-choice-close"))?void 0:(this.active_field?this.is_multiple||!e||l(e.target)[0]!==this.selected_item[0]&&!l(e.target).parents("a.chosen-single").length||(e.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),l(this.container[0].ownerDocument).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},e.prototype.container_mouseup=function(e){return"ABBR"!==e.target.nodeName||this.is_disabled?void 0:this.results_reset(e)},e.prototype.search_results_mousewheel=function(e){var t;return e.originalEvent&&(t=e.originalEvent.deltaY||-e.originalEvent.wheelDelta||e.originalEvent.detail),null!=t?(e.preventDefault(),"DOMMouseScroll"===e.type&&(t*=40),this.search_results.scrollTop(t+this.search_results.scrollTop())):void 0},e.prototype.blur_test=function(){return!this.active_field&&this.container.hasClass("chosen-container-active")?this.close_field():void 0},e.prototype.close_field=function(){return l(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},e.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},e.prototype.test_active_click=function(e){var t;return(t=l(e.target).closest(".chosen-container")).length&&this.container[0]===t[0]?this.active_field=!0:this.close_field()},e.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=a.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},e.prototype.result_do_highlight=function(e){var t,n,i,o;if(e.length){if(this.result_clear_highlight(),this.result_highlight=e,this.result_highlight.addClass("highlighted"),(i=parseInt(this.search_results.css("maxHeight"),10))+(o=this.search_results.scrollTop())<=(t=(n=this.result_highlight.position().top+this.search_results.scrollTop())+this.result_highlight.outerHeight()))return this.search_results.scrollTop(0<t-i?t-i:0);if(n<o)return this.search_results.scrollTop(n)}},e.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},e.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},e.prototype.update_results_content=function(e){return this.search_results.html(e)},e.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},e.prototype.set_tab_index=function(){var e;return this.form_field.tabIndex?(e=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=e):void 0},e.prototype.set_label_behavior=function(){var t=this;return this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=l("label[for='"+this.form_field.id+"']")),0<this.form_field_label.length?this.form_field_label.bind("click.chosen",function(e){return t.is_multiple?t.container_mousedown(e):t.activate_field()}):void 0},e.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},e.prototype.search_results_mouseup=function(e){var t;return(t=l(e.target).hasClass("active-result")?l(e.target):l(e.target).parents(".active-result").first()).length?(this.result_highlight=t,this.result_select(e),this.search_field.focus()):void 0},e.prototype.search_results_mouseover=function(e){var t;return(t=l(e.target).hasClass("active-result")?l(e.target):l(e.target).parents(".active-result").first())?this.result_do_highlight(t):void 0},e.prototype.search_results_mouseout=function(e){return l(e.target).hasClass("active-result")?this.result_clear_highlight():void 0},e.prototype.choice_build=function(e){var t,n,i=this;return t=l("<li />",{"class":"search-choice"}).html("<span>"+e.html+"</span>"),e.disabled?t.addClass("search-choice-disabled"):((n=l("<a />",{"class":"search-choice-close","data-option-array-index":e.array_index})).bind("click.chosen",function(e){return i.choice_destroy_link_click(e)}),t.append(n)),this.search_container.before(t)},e.prototype.choice_destroy_link_click=function(e){return e.preventDefault(),e.stopPropagation(),this.is_disabled?void 0:this.choice_destroy(l(e.target))},e.prototype.choice_destroy=function(e){return this.result_deselect(e[0].getAttribute("data-option-array-index"))?(this.show_search_field_default(),this.is_multiple&&0<this.choices_count()&&this.search_field.val().length<1&&this.results_hide(),e.parents("li").first().remove(),this.search_field_scale()):void 0},e.prototype.results_reset=function(){return this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},e.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},e.prototype.result_select=function(e){var t,n;return this.result_highlight?(t=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?t.removeClass("active-result"):this.reset_single_select_options(),(n=this.results_data[t[0].getAttribute("data-option-array-index")]).selected=!0,this.form_field.options[n.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(n):this.single_set_selected_text(n.text),(e.metaKey||e.ctrlKey)&&this.is_multiple||this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[n.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,this.search_field_scale())):void 0},e.prototype.single_set_selected_text=function(e){return null==e&&(e=this.default_text),e===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").text(e)},e.prototype.result_deselect=function(e){var t;return t=this.results_data[e],!this.form_field.options[t.options_index].disabled&&(t.selected=!1,this.form_field.options[t.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[t.options_index].value}),this.search_field_scale(),!0)},e.prototype.single_deselect_control_build=function(){return this.allow_single_deselect?(this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")):void 0},e.prototype.get_search_text=function(){return this.search_field.val()===this.default_text?"":l("<div/>").text(l.trim(this.search_field.val())).html()},e.prototype.winnow_results_set_highlight=function(){var e,t;return null!=(e=(t=this.is_multiple?[]:this.search_results.find(".result-selected.active-result")).length?t.first():this.search_results.find(".active-result").first())?this.result_do_highlight(e):void 0},e.prototype.no_results=function(e){var t;return(t=l('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>')).find("span").first().html(e),this.search_results.append(t),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},e.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},e.prototype.keydown_arrow=function(){var e;return this.results_showing&&this.result_highlight?(e=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(e):void 0:this.results_show()},e.prototype.keyup_arrow=function(){var e;return this.results_showing||this.is_multiple?this.result_highlight?(e=this.result_highlight.prevAll("li.active-result")).length?this.result_do_highlight(e.first()):(0<this.choices_count()&&this.results_hide(),this.result_clear_highlight()):void 0:this.results_show()},e.prototype.keydown_backstroke=function(){var e;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(e=this.search_container.siblings("li.search-choice").last()).length&&!e.hasClass("search-choice-disabled")?(this.pending_backstroke=e,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0},e.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},e.prototype.keydown_checker=function(e){var t,n;switch(t=null!=(n=e.which)?n:e.keyCode,this.search_field_scale(),8!==t&&this.pending_backstroke&&this.clear_backstroke(),t){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(e),this.mouse_on_container=!1;break;case 13:this.results_showing&&e.preventDefault();break;case 32:this.disable_search&&e.preventDefault();break;case 38:e.preventDefault(),this.keyup_arrow();break;case 40:e.preventDefault(),this.keydown_arrow()}},e.prototype.search_field_scale=function(){var e,t,n,i,o,r,a,s;if(this.is_multiple){for(i="position:absolute; left: -1000px; top: -1000px; display:none;",a=r=0,s=(o=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"]).length;a<s;a++)i+=(n=o[a])+":"+this.search_field.css(n)+";";return(e=l("<div />",{style:i})).text(this.search_field.val()),l("body").append(e),r=e.width()+25,e.remove(),(t=this.container.outerWidth())-10<r&&(r=t-10),this.search_field.css({width:r+"px"})}},e}()
}.call(this),function(n){"use strict";n.fn.counterUp=function(e){var t=n.extend({time:400,delay:10},e);return this.each(function(){var c=n(this),d=t,e=function(){var e=[],t=d.time/d.delay,n=c.text(),i=/[0-9]+,[0-9]+/.test(n);n=n.replace(/,/g,"");/^[0-9]+$/.test(n);for(var o=/^[0-9]+\.[0-9]+$/.test(n),r=o?(n.split(".")[1]||[]).length:0,a=t;1<=a;a--){var s=parseInt(n/t*a);if(o&&(s=parseFloat(n/t*a).toFixed(r)),i)for(;/(\d+)(\d{3})/.test(s.toString());)s=s.toString().replace(/(\d+)(\d{3})/,"$1,$2");e.unshift(s)}c.data("counterup-nums",e),c.text("0");var l=function(){c.text(c.data("counterup-nums").shift()),c.data("counterup-nums").length?setTimeout(c.data("counterup-func"),d.delay):(c.data("counterup-nums"),c.data("counterup-nums",null),c.data("counterup-func",null))};c.data("counterup-func",l),setTimeout(c.data("counterup-func"),d.delay)};c.waypoint(e,{offset:"100%",triggerOnce:!0})})}}(jQuery),function(f){f.flexslider=function(g,e){var v=f(g);v.vars=f.extend({},f.flexslider.defaults,e);var t,d=v.vars.namespace,T=window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture,u=("ontouchstart"in window||T||window.DocumentTouch&&document instanceof DocumentTouch)&&v.vars.touch,a="click touchend MSPointerUp keyup",s="",y="vertical"===v.vars.direction,E=v.vars.reverse,b=0<v.vars.itemWidth,C="fade"===v.vars.animation,h=""!==v.vars.asNavFor,p={},n=!0;f.data(g,"flexslider",v),p={init:function(){v.animating=!1,v.currentSlide=parseInt(v.vars.startAt?v.vars.startAt:0,10),isNaN(v.currentSlide)&&(v.currentSlide=0),v.animatingTo=v.currentSlide,v.atEnd=0===v.currentSlide||v.currentSlide===v.last,v.containerSelector=v.vars.selector.substr(0,v.vars.selector.search(" ")),v.slides=f(v.vars.selector,v),v.container=f(v.containerSelector,v),v.count=v.slides.length,v.syncExists=0<f(v.vars.sync).length,"slide"===v.vars.animation&&(v.vars.animation="swing"),v.prop=y?"top":"marginLeft",v.args={},v.manualPause=!1,v.stopped=!1,v.started=!1,v.startTimeout=null,v.transitions=!v.vars.video&&!C&&v.vars.useCSS&&function(){var e=document.createElement("div"),t=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var n in t)if(void 0!==e.style[t[n]])return v.pfx=t[n].replace("Perspective","").toLowerCase(),v.prop="-"+v.pfx+"-transform",!0;return!1}(),(v.ensureAnimationEnd="")!==v.vars.controlsContainer&&(v.controlsContainer=0<f(v.vars.controlsContainer).length&&f(v.vars.controlsContainer)),""!==v.vars.manualControls&&(v.manualControls=0<f(v.vars.manualControls).length&&f(v.vars.manualControls)),""!==v.vars.customDirectionNav&&(v.customDirectionNav=2===f(v.vars.customDirectionNav).length&&f(v.vars.customDirectionNav)),v.vars.randomize&&(v.slides.sort(function(){return Math.round(Math.random())-.5}),v.container.empty().append(v.slides)),v.doMath(),v.setup("init"),v.vars.controlNav&&p.controlNav.setup(),v.vars.directionNav&&p.directionNav.setup(),v.vars.keyboard&&(1===f(v.containerSelector).length||v.vars.multipleKeyboard)&&f(document).bind("keyup",function(e){var t=e.keyCode;if(!v.animating&&(39===t||37===t)){var n=39===t?v.getTarget("next"):37===t&&v.getTarget("prev");v.flexAnimate(n,v.vars.pauseOnAction)}}),v.vars.mousewheel&&v.bind("mousewheel",function(e,t){e.preventDefault();var n=v.getTarget(t<0?"next":"prev");v.flexAnimate(n,v.vars.pauseOnAction)}),v.vars.pausePlay&&p.pausePlay.setup(),v.vars.slideshow&&v.vars.pauseInvisible&&p.pauseInvisible.init(),v.vars.slideshow&&(v.vars.pauseOnHover&&v.hover(function(){v.manualPlay||v.manualPause||v.pause()},function(){v.manualPause||v.manualPlay||v.stopped||v.play()}),v.vars.pauseInvisible&&p.pauseInvisible.isHidden()||(0<v.vars.initDelay?v.startTimeout=setTimeout(v.play,v.vars.initDelay):v.play())),h&&p.asNav.setup(),u&&v.vars.touch&&p.touch(),(!C||C&&v.vars.smoothHeight)&&f(window).bind("resize orientationchange focus",p.resize),v.find("img").attr("draggable","false"),setTimeout(function(){v.vars.start(v)},200)},asNav:{setup:function(){v.asNav=!0,v.animatingTo=Math.floor(v.currentSlide/v.move),v.currentItem=v.currentSlide,v.slides.removeClass(d+"active-slide").eq(v.currentItem).addClass(d+"active-slide"),T?(g._slider=v).slides.each(function(){var e=this;e._gesture=new MSGesture,(e._gesture.target=e).addEventListener("MSPointerDown",function(e){e.preventDefault(),e.currentTarget._gesture&&e.currentTarget._gesture.addPointer(e.pointerId)},!1),e.addEventListener("MSGestureTap",function(e){e.preventDefault();var t=f(this),n=t.index();f(v.vars.asNavFor).data("flexslider").animating||t.hasClass("active")||(v.direction=v.currentItem<n?"next":"prev",v.flexAnimate(n,v.vars.pauseOnAction,!1,!0,!0))})}):v.slides.on(a,function(e){e.preventDefault();var t=f(this),n=t.index();t.offset().left-f(v).scrollLeft()<=0&&t.hasClass(d+"active-slide")?v.flexAnimate(v.getTarget("prev"),!0):f(v.vars.asNavFor).data("flexslider").animating||t.hasClass(d+"active-slide")||(v.direction=v.currentItem<n?"next":"prev",v.flexAnimate(n,v.vars.pauseOnAction,!1,!0,!0))})}},controlNav:{setup:function(){v.manualControls?p.controlNav.setupManual():p.controlNav.setupPaging()},setupPaging:function(){var e,t,n="thumbnails"===v.vars.controlNav?"control-thumbs":"control-paging",i=1;if(v.controlNavScaffold=f('<ol class="'+d+"control-nav "+d+n+'"></ol>'),1<v.pagingCount)for(var o=0;o<v.pagingCount;o++){if(t=v.slides.eq(o),e="thumbnails"===v.vars.controlNav?'<img src="'+t.attr("data-thumb")+'"/>':"<a>"+i+"</a>","thumbnails"===v.vars.controlNav&&!0===v.vars.thumbCaptions){var r=t.attr("data-thumbcaption");""!==r&&void 0!==r&&(e+='<span class="'+d+'caption">'+r+"</span>")}v.controlNavScaffold.append("<li>"+e+"</li>"),i++}v.controlsContainer?f(v.controlsContainer).append(v.controlNavScaffold):v.append(v.controlNavScaffold),p.controlNav.set(),p.controlNav.active(),v.controlNavScaffold.delegate("a, img",a,function(e){if(e.preventDefault(),""===s||s===e.type){var t=f(this),n=v.controlNav.index(t);t.hasClass(d+"active")||(v.direction=n>v.currentSlide?"next":"prev",v.flexAnimate(n,v.vars.pauseOnAction))}""===s&&(s=e.type),p.setToClearWatchedEvent()})},setupManual:function(){v.controlNav=v.manualControls,p.controlNav.active(),v.controlNav.bind(a,function(e){if(e.preventDefault(),""===s||s===e.type){var t=f(this),n=v.controlNav.index(t);t.hasClass(d+"active")||(v.direction=n>v.currentSlide?"next":"prev",v.flexAnimate(n,v.vars.pauseOnAction))}""===s&&(s=e.type),p.setToClearWatchedEvent()})},set:function(){var e="thumbnails"===v.vars.controlNav?"img":"a";v.controlNav=f("."+d+"control-nav li "+e,v.controlsContainer?v.controlsContainer:v)},active:function(){v.controlNav.removeClass(d+"active").eq(v.animatingTo).addClass(d+"active")},update:function(e,t){1<v.pagingCount&&"add"===e?v.controlNavScaffold.append(f("<li><a>"+v.count+"</a></li>")):1===v.pagingCount?v.controlNavScaffold.find("li").remove():v.controlNav.eq(t).closest("li").remove(),p.controlNav.set(),1<v.pagingCount&&v.pagingCount!==v.controlNav.length?v.update(t,e):p.controlNav.active()}},directionNav:{setup:function(){var e=f('<ul class="'+d+'direction-nav"><li class="'+d+'nav-prev"><a class="'+d+'prev" href="#">'+v.vars.prevText+'</a></li><li class="'+d+'nav-next"><a class="'+d+'next" href="#">'+v.vars.nextText+"</a></li></ul>");v.customDirectionNav?v.directionNav=v.customDirectionNav:v.controlsContainer?(f(v.controlsContainer).append(e),v.directionNav=f("."+d+"direction-nav li a",v.controlsContainer)):(v.append(e),v.directionNav=f("."+d+"direction-nav li a",v)),p.directionNav.update(),v.directionNav.bind(a,function(e){var t;e.preventDefault(),(""===s||s===e.type)&&(t=v.getTarget(f(this).hasClass(d+"next")?"next":"prev"),v.flexAnimate(t,v.vars.pauseOnAction)),""===s&&(s=e.type),p.setToClearWatchedEvent()})},update:function(){var e=d+"disabled";1===v.pagingCount?v.directionNav.addClass(e).attr("tabindex","-1"):v.vars.animationLoop?v.directionNav.removeClass(e).removeAttr("tabindex"):0===v.animatingTo?v.directionNav.removeClass(e).filter("."+d+"prev").addClass(e).attr("tabindex","-1"):v.animatingTo===v.last?v.directionNav.removeClass(e).filter("."+d+"next").addClass(e).attr("tabindex","-1"):v.directionNav.removeClass(e).removeAttr("tabindex")}},pausePlay:{setup:function(){var e=f('<div class="'+d+'pauseplay"><a></a></div>');v.controlsContainer?(v.controlsContainer.append(e),v.pausePlay=f("."+d+"pauseplay a",v.controlsContainer)):(v.append(e),v.pausePlay=f("."+d+"pauseplay a",v)),p.pausePlay.update(v.vars.slideshow?d+"pause":d+"play"),v.pausePlay.bind(a,function(e){e.preventDefault(),(""===s||s===e.type)&&(f(this).hasClass(d+"pause")?(v.manualPause=!0,v.manualPlay=!1,v.pause()):(v.manualPause=!1,v.manualPlay=!0,v.play())),""===s&&(s=e.type),p.setToClearWatchedEvent()})},update:function(e){"play"===e?v.pausePlay.removeClass(d+"pause").addClass(d+"play").html(v.vars.playText):v.pausePlay.removeClass(d+"play").addClass(d+"pause").html(v.vars.pauseText)}},touch:function(){function e(e){e.stopPropagation(),v.animating?e.preventDefault():(v.pause(),g._gesture.addPointer(e.pointerId),m=0,s=y?v.h:v.w,c=Number(new Date),a=b&&E&&v.animatingTo===v.last?0:b&&E?v.limit-(v.itemW+v.vars.itemMargin)*v.move*v.animatingTo:b&&v.currentSlide===v.last?v.limit:b?(v.itemW+v.vars.itemMargin)*v.move*v.currentSlide:E?(v.last-v.currentSlide+v.cloneOffset)*s:(v.currentSlide+v.cloneOffset)*s)}function t(e){e.stopPropagation();var t=e.target._slider;if(t){var n=-e.translationX,i=-e.translationY;return l=m+=y?i:n,h=y?Math.abs(m)<Math.abs(-n):Math.abs(m)<Math.abs(-i),e.detail===e.MSGESTURE_FLAG_INERTIA?void setImmediate(function(){g._gesture.stop()}):void((!h||500<Number(new Date)-c)&&(e.preventDefault(),!C&&t.transitions&&(t.vars.animationLoop||(l=m/(0===t.currentSlide&&m<0||t.currentSlide===t.last&&0<m?Math.abs(m)/s+2:1)),t.setProps(a+l,"setTouch"))))}}function n(e){e.stopPropagation();var t=e.target._slider;if(t){if(t.animatingTo===t.currentSlide&&!h&&null!==l){var n=E?-l:l,i=t.getTarget(0<n?"next":"prev");t.canAdvance(i)&&(Number(new Date)-c<550&&50<Math.abs(n)||Math.abs(n)>s/2)?t.flexAnimate(i,t.vars.pauseOnAction):C||t.flexAnimate(t.currentSlide,t.vars.pauseOnAction,!0)}a=l=r=o=null,m=0}}var o,r,a,s,l,c,i,d,u,h=!1,p=0,f=0,m=0;T?(g.style.msTouchAction="none",g._gesture=new MSGesture,(g._gesture.target=g).addEventListener("MSPointerDown",e,!1),g._slider=v,g.addEventListener("MSGestureChange",t,!1),g.addEventListener("MSGestureEnd",n,!1)):(i=function(e){v.animating?e.preventDefault():(window.navigator.msPointerEnabled||1===e.touches.length)&&(v.pause(),s=y?v.h:v.w,c=Number(new Date),p=e.touches[0].pageX,f=e.touches[0].pageY,a=b&&E&&v.animatingTo===v.last?0:b&&E?v.limit-(v.itemW+v.vars.itemMargin)*v.move*v.animatingTo:b&&v.currentSlide===v.last?v.limit:b?(v.itemW+v.vars.itemMargin)*v.move*v.currentSlide:E?(v.last-v.currentSlide+v.cloneOffset)*s:(v.currentSlide+v.cloneOffset)*s,o=y?f:p,r=y?p:f,g.addEventListener("touchmove",d,!1),g.addEventListener("touchend",u,!1))},d=function(e){p=e.touches[0].pageX,f=e.touches[0].pageY,l=y?o-f:o-p;var t=500;(!(h=y?Math.abs(l)<Math.abs(p-r):Math.abs(l)<Math.abs(f-r))||Number(new Date)-c>t)&&(e.preventDefault(),!C&&v.transitions&&(v.vars.animationLoop||(l/=0===v.currentSlide&&l<0||v.currentSlide===v.last&&0<l?Math.abs(l)/s+2:1),v.setProps(a+l,"setTouch")))},u=function(){if(g.removeEventListener("touchmove",d,!1),v.animatingTo===v.currentSlide&&!h&&null!==l){var e=E?-l:l,t=v.getTarget(0<e?"next":"prev");v.canAdvance(t)&&(Number(new Date)-c<550&&50<Math.abs(e)||Math.abs(e)>s/2)?v.flexAnimate(t,v.vars.pauseOnAction):C||v.flexAnimate(v.currentSlide,v.vars.pauseOnAction,!0)}g.removeEventListener("touchend",u,!1),a=l=r=o=null},g.addEventListener("touchstart",i,!1))},resize:function(){!v.animating&&v.is(":visible")&&(b||v.doMath(),C?p.smoothHeight():b?(v.slides.width(v.computedW),v.update(v.pagingCount),v.setProps()):y?(v.viewport.height(v.h),v.setProps(v.h,"setTotal")):(v.vars.smoothHeight&&p.smoothHeight(),v.newSlides.width(v.computedW),v.setProps(v.computedW,"setTotal")))},smoothHeight:function(e){if(!y||C){var t=C?v:v.viewport;e?t.animate({height:v.slides.eq(v.animatingTo).height()},e):t.height(v.slides.eq(v.animatingTo).height())}},sync:function(e){var t=f(v.vars.sync).data("flexslider"),n=v.animatingTo;switch(e){case"animate":t.flexAnimate(n,v.vars.pauseOnAction,!1,!0);break;case"play":t.playing||t.asNav||t.play();break;case"pause":t.pause()}},uniqueID:function(e){return e.filter("[id]").add(e.find("[id]")).each(function(){var e=f(this);e.attr("id",e.attr("id")+"_clone")}),e},pauseInvisible:{visProp:null,init:function(){var e=p.pauseInvisible.getHiddenProp();if(e){var t=e.replace(/[H|h]idden/,"")+"visibilitychange";document.addEventListener(t,function(){p.pauseInvisible.isHidden()?v.startTimeout?clearTimeout(v.startTimeout):v.pause():v.started?v.play():0<v.vars.initDelay?setTimeout(v.play,v.vars.initDelay):v.play()})}},isHidden:function(){var e=p.pauseInvisible.getHiddenProp();return!!e&&document[e]},getHiddenProp:function(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)if(e[t]+"Hidden"in document)return e[t]+"Hidden";return null}},setToClearWatchedEvent:function(){clearTimeout(t),t=setTimeout(function(){s=""},3e3)}},v.flexAnimate=function(e,t,n,i,o){if(v.vars.animationLoop||e===v.currentSlide||(v.direction=e>v.currentSlide?"next":"prev"),h&&1===v.pagingCount&&(v.direction=v.currentItem<e?"next":"prev"),!v.animating&&(v.canAdvance(e,o)||n)&&v.is(":visible")){if(h&&i){var r=f(v.vars.asNavFor).data("flexslider");if(v.atEnd=0===e||e===v.count-1,r.flexAnimate(e,!0,!1,!0,o),v.direction=v.currentItem<e?"next":"prev",r.direction=v.direction,Math.ceil((e+1)/v.visible)-1===v.currentSlide||0===e)return v.currentItem=e,v.slides.removeClass(d+"active-slide").eq(e).addClass(d+"active-slide"),!1;v.currentItem=e,v.slides.removeClass(d+"active-slide").eq(e).addClass(d+"active-slide"),e=Math.floor(e/v.visible)}if(v.animating=!0,v.animatingTo=e,t&&v.pause(),v.vars.before(v),v.syncExists&&!o&&p.sync("animate"),v.vars.controlNav&&p.controlNav.active(),b||v.slides.removeClass(d+"active-slide").eq(e).addClass(d+"active-slide"),v.atEnd=0===e||e===v.last,v.vars.directionNav&&p.directionNav.update(),e===v.last&&(v.vars.end(v),v.vars.animationLoop||v.pause()),C)u?(v.slides.eq(v.currentSlide).css({opacity:0,zIndex:1}),v.slides.eq(e).css({opacity:1,zIndex:2}),v.wrapup(c)):(v.slides.eq(v.currentSlide).css({zIndex:1}).animate({opacity:0},v.vars.animationSpeed,v.vars.easing),v.slides.eq(e).css({zIndex:2}).animate({opacity:1},v.vars.animationSpeed,v.vars.easing,v.wrapup));else{var a,s,l,c=y?v.slides.filter(":first").height():v.computedW;s=b?(a=v.vars.itemMargin,(l=(v.itemW+a)*v.move*v.animatingTo)>v.limit&&1!==v.visible?v.limit:l):0===v.currentSlide&&e===v.count-1&&v.vars.animationLoop&&"next"!==v.direction?E?(v.count+v.cloneOffset)*c:0:v.currentSlide===v.last&&0===e&&v.vars.animationLoop&&"prev"!==v.direction?E?0:(v.count+1)*c:E?(v.count-1-e+v.cloneOffset)*c:(e+v.cloneOffset)*c,v.setProps(s,"",v.vars.animationSpeed),v.transitions?(v.vars.animationLoop&&v.atEnd||(v.animating=!1,v.currentSlide=v.animatingTo),v.container.unbind("webkitTransitionEnd transitionend"),v.container.bind("webkitTransitionEnd transitionend",function(){clearTimeout(v.ensureAnimationEnd),v.wrapup(c)}),clearTimeout(v.ensureAnimationEnd),v.ensureAnimationEnd=setTimeout(function(){v.wrapup(c)},v.vars.animationSpeed+100)):v.container.animate(v.args,v.vars.animationSpeed,v.vars.easing,function(){v.wrapup(c)})}v.vars.smoothHeight&&p.smoothHeight(v.vars.animationSpeed)}},v.wrapup=function(e){C||b||(0===v.currentSlide&&v.animatingTo===v.last&&v.vars.animationLoop?v.setProps(e,"jumpEnd"):v.currentSlide===v.last&&0===v.animatingTo&&v.vars.animationLoop&&v.setProps(e,"jumpStart")),v.animating=!1,v.currentSlide=v.animatingTo,v.vars.after(v)},v.animateSlides=function(){!v.animating&&n&&v.flexAnimate(v.getTarget("next"))},v.pause=function(){clearInterval(v.animatedSlides),v.animatedSlides=null,v.playing=!1,v.vars.pausePlay&&p.pausePlay.update("play"),v.syncExists&&p.sync("pause")},v.play=function(){v.playing&&clearInterval(v.animatedSlides),v.animatedSlides=v.animatedSlides||setInterval(v.animateSlides,v.vars.slideshowSpeed),v.started=v.playing=!0,v.vars.pausePlay&&p.pausePlay.update("pause"),v.syncExists&&p.sync("play")},v.stop=function(){v.pause(),v.stopped=!0},v.canAdvance=function(e,t){var n=h?v.pagingCount-1:v.last;return!!t||(!(!h||v.currentItem!==v.count-1||0!==e||"prev"!==v.direction)||(!h||0!==v.currentItem||e!==v.pagingCount-1||"next"===v.direction)&&(!(e===v.currentSlide&&!h)&&(!!v.vars.animationLoop||(!v.atEnd||0!==v.currentSlide||e!==n||"next"===v.direction)&&(!v.atEnd||v.currentSlide!==n||0!==e||"next"!==v.direction))))},v.getTarget=function(e){return"next"===(v.direction=e)?v.currentSlide===v.last?0:v.currentSlide+1:0===v.currentSlide?v.last:v.currentSlide-1},v.setProps=function(e,t,n){var i,o=(i=e||(v.itemW+v.vars.itemMargin)*v.move*v.animatingTo,-1*function(){if(b)return"setTouch"===t?e:E&&v.animatingTo===v.last?0:E?v.limit-(v.itemW+v.vars.itemMargin)*v.move*v.animatingTo:v.animatingTo===v.last?v.limit:i;switch(t){case"setTotal":return E?(v.count-1-v.currentSlide+v.cloneOffset)*e:(v.currentSlide+v.cloneOffset)*e;case"setTouch":return e;case"jumpEnd":return E?e:v.count*e;case"jumpStart":return E?v.count*e:e;default:return e}}()+"px");v.transitions&&(o=y?"translate3d(0,"+o+",0)":"translate3d("+o+",0,0)",n=void 0!==n?n/1e3+"s":"0s",v.container.css("-"+v.pfx+"-transition-duration",n),v.container.css("transition-duration",n)),v.args[v.prop]=o,(v.transitions||void 0===n)&&v.container.css(v.args),v.container.css("transform",o)},v.setup=function(e){var t,n;C?(v.slides.css({width:"100%","float":"left",marginRight:"-100%",position:"relative"}),"init"===e&&(u?v.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+v.vars.animationSpeed/1e3+"s ease",zIndex:1}).eq(v.currentSlide).css({opacity:1,zIndex:2}):0==v.vars.fadeFirstSlide?v.slides.css({opacity:0,display:"block",zIndex:1}).eq(v.currentSlide).css({zIndex:2}).css({opacity:1}):v.slides.css({opacity:0,display:"block",zIndex:1}).eq(v.currentSlide).css({zIndex:2}).animate({opacity:1},v.vars.animationSpeed,v.vars.easing)),v.vars.smoothHeight&&p.smoothHeight()):("init"===e&&(v.viewport=f('<div class="'+d+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(v).append(v.container),v.cloneCount=0,v.cloneOffset=0,E&&(n=f.makeArray(v.slides).reverse(),v.slides=f(n),v.container.empty().append(v.slides))),v.vars.animationLoop&&!b&&(v.cloneCount=2,v.cloneOffset=1,"init"!==e&&v.container.find(".clone").remove(),v.container.append(p.uniqueID(v.slides.first().clone().addClass("clone")).attr("aria-hidden","true")).prepend(p.uniqueID(v.slides.last().clone().addClass("clone")).attr("aria-hidden","true"))),v.newSlides=f(v.vars.selector,v),t=E?v.count-1-v.currentSlide+v.cloneOffset:v.currentSlide+v.cloneOffset,y&&!b?(v.container.height(200*(v.count+v.cloneCount)+"%").css("position","absolute").width("100%"),setTimeout(function(){v.newSlides.css({display:"block"}),v.doMath(),v.viewport.height(v.h),v.setProps(t*v.h,"init")},"init"===e?100:0)):(v.container.width(200*(v.count+v.cloneCount)+"%"),v.setProps(t*v.computedW,"init"),setTimeout(function(){v.doMath(),v.newSlides.css({width:v.computedW,"float":"left",display:"block"}),v.vars.smoothHeight&&p.smoothHeight()},"init"===e?100:0)));b||v.slides.removeClass(d+"active-slide").eq(v.currentSlide).addClass(d+"active-slide"),v.vars.init(v)},v.doMath=function(){var e=v.slides.first(),t=v.vars.itemMargin,n=v.vars.minItems,i=v.vars.maxItems;v.w=void 0===v.viewport?v.width():v.viewport.width(),v.h=e.height(),v.boxPadding=e.outerWidth()-e.width(),b?(v.itemT=v.vars.itemWidth+t,v.minW=n?n*v.itemT:v.w,v.maxW=i?i*v.itemT-t:v.w,v.itemW=v.minW>v.w?(v.w-t*(n-1))/n:v.maxW<v.w?(v.w-t*(i-1))/i:v.vars.itemWidth>v.w?v.w:v.vars.itemWidth,v.visible=Math.floor(v.w/v.itemW),v.move=0<v.vars.move&&v.vars.move<v.visible?v.vars.move:v.visible,v.pagingCount=Math.ceil((v.count-v.visible)/v.move+1),v.last=v.pagingCount-1,v.limit=1===v.pagingCount?0:v.vars.itemWidth>v.w?v.itemW*(v.count-1)+t*(v.count-1):(v.itemW+t)*v.count-v.w-t):(v.itemW=v.w,v.pagingCount=v.count,v.last=v.count-1),v.computedW=v.itemW-v.boxPadding},v.update=function(e,t){v.doMath(),b||(e<v.currentSlide?v.currentSlide+=1:e<=v.currentSlide&&0!==e&&(v.currentSlide-=1),v.animatingTo=v.currentSlide),v.vars.controlNav&&!v.manualControls&&("add"===t&&!b||v.pagingCount>v.controlNav.length?p.controlNav.update("add"):("remove"===t&&!b||v.pagingCount<v.controlNav.length)&&(b&&v.currentSlide>v.last&&(v.currentSlide-=1,v.animatingTo-=1),p.controlNav.update("remove",v.last))),v.vars.directionNav&&p.directionNav.update()},v.addSlide=function(e,t){var n=f(e);v.count+=1,v.last=v.count-1,y&&E?void 0!==t?v.slides.eq(v.count-t).after(n):v.container.prepend(n):void 0!==t?v.slides.eq(t).before(n):v.container.append(n),v.update(t,"add"),v.slides=f(v.vars.selector+":not(.clone)",v),v.setup(),v.vars.added(v)},v.removeSlide=function(e){var t=isNaN(e)?v.slides.index(f(e)):e;v.count-=1,v.last=v.count-1,isNaN(e)?f(e,v.slides).remove():y&&E?v.slides.eq(v.last).remove():v.slides.eq(e).remove(),v.doMath(),v.update(t,"remove"),v.slides=f(v.vars.selector+":not(.clone)",v),v.setup(),v.vars.removed(v)},p.init()},f(window).blur(function(){focused=!1}).focus(function(){focused=!0}),f.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7e3,animationSpeed:600,initDelay:0,randomize:!1,fadeFirstSlide:!0,thumbCaptions:!1,pauseOnAction:!0,pauseOnHover:!1,pauseInvisible:!0,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"Previous",nextText:"Next",keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",customDirectionNav:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:1,maxItems:0,move:0,allowOneSlide:!0,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){},init:function(){}},f.fn.flexslider=function(i){if(void 0===i&&(i={}),"object"==typeof i)return this.each(function(){var e=f(this),t=i.selector?i.selector:".slides > li",n=e.find(t);1===n.length&&!0===i.allowOneSlide||0===n.length?(n.fadeIn(400),i.start&&i.start(e)):void 0===e.data("flexslider")&&new f.flexslider(this,i)});var e=f(this).data("flexslider");switch(i){case"play":e.play();break;case"pause":e.pause();break;case"stop":e.stop();break;case"next":e.flexAnimate(e.getTarget("next"),!0);break;case"prev":case"previous":e.flexAnimate(e.getTarget("prev"),!0);break;default:"number"==typeof i&&e.flexAnimate(i,!0)}}}(jQuery),function(o){o.fn.gMap=function(e,t){switch(e){case"addMarker":return o(this).trigger("gMap.addMarker",[t.latitude,t.longitude,t.content,t.icon,t.popup]);case"centerAt":return o(this).trigger("gMap.centerAt",[t.latitude,t.longitude,t.zoom]);case"clearMarkers":return o(this).trigger("gMap.clearMarkers")}var p=o.extend({},o.fn.gMap.defaults,e);return this.each(function(){var c=new google.maps.Map(this);o(this).data("gMap.reference",c);var e=new google.maps.Geocoder;p.address?e.geocode({address:p.address},function(e){e&&e.length&&c.setCenter(e[0].geometry.location)}):p.latitude&&p.longitude?c.setCenter(new google.maps.LatLng(p.latitude,p.longitude)):o.isArray(p.markers)&&0<p.markers.length?p.markers[0].address?e.geocode({address:p.markers[0].address},function(e){e&&0<e.length&&c.setCenter(e[0].geometry.location)}):c.setCenter(new google.maps.LatLng(p.markers[0].latitude,p.markers[0].longitude)):c.setCenter(new google.maps.LatLng(34.885931,9.84375)),c.setZoom(p.zoom),c.setMapTypeId(google.maps.MapTypeId[p.maptype]);var t={scrollwheel:p.scrollwheel,disableDoubleClickZoom:!p.doubleclickzoom};!1===p.controls?o.extend(t,{disableDefaultUI:!0}):0!=p.controls.length&&o.extend(t,p.controls,{disableDefaultUI:!0}),c.setOptions(t);var d=new google.maps.Marker;marker_icon=new google.maps.MarkerImage(p.icon.image),marker_icon.size=new google.maps.Size(p.icon.iconsize[0],p.icon.iconsize[1]),marker_icon.anchor=new google.maps.Point(p.icon.iconanchor[0],p.icon.iconanchor[1]),d.setIcon(marker_icon),p.icon.shadow&&(marker_shadow=new google.maps.MarkerImage(p.icon.shadow),marker_shadow.size=new google.maps.Size(p.icon.shadowsize[0],p.icon.shadowsize[1]),marker_shadow.anchor=new google.maps.Point(p.icon.shadowanchor[0],p.icon.shadowanchor[1]),d.setShadow(marker_shadow)),o(this).bind("gMap.centerAt",function(e,t,n,i){i&&c.setZoom(i),c.panTo(new google.maps.LatLng(parseFloat(t),parseFloat(n)))});var u,h=[];o(this).bind("gMap.clearMarkers",function(){for(;h[0];)h.pop().setMap(null)}),o(this).bind("gMap.addMarker",function(e,t,n,i,o,r){var a=new google.maps.LatLng(parseFloat(t),parseFloat(n)),s=new google.maps.Marker({position:a});if(o?(marker_icon=new google.maps.MarkerImage(o.image),marker_icon.size=new google.maps.Size(o.iconsize[0],o.iconsize[1]),marker_icon.anchor=new google.maps.Point(o.iconanchor[0],o.iconanchor[1]),s.setIcon(marker_icon),o.shadow&&(marker_shadow=new google.maps.MarkerImage(o.shadow),marker_shadow.size=new google.maps.Size(o.shadowsize[0],o.shadowsize[1]),marker_shadow.anchor=new google.maps.Point(o.shadowanchor[0],o.shadowanchor[1]),d.setShadow(marker_shadow))):(s.setIcon(d.getIcon()),s.setShadow(d.getShadow())),i){"_latlng"==i&&(i=t+", "+n);var l=new google.maps.InfoWindow({content:p.html_prepend+i+p.html_append});google.maps.event.addListener(s,"click",function(){u&&u.close(),l.open(c,s),u=l}),r&&google.maps.event.addListenerOnce(c,"tilesloaded",function(){l.open(c,s)})}s.setMap(c),h.push(s)});for(var n=0;n<p.markers.length;n++)if(marker=p.markers[n],marker.address){"_address"==marker.html&&(marker.html=marker.address);var i=this;e.geocode({address:marker.address},function(t,n){return function(e){e&&0<e.length&&o(n).trigger("gMap.addMarker",[e[0].geometry.location.lat(),e[0].geometry.location.lng(),t.html,t.icon,t.popup])}}(marker,i))}else o(this).trigger("gMap.addMarker",[marker.latitude,marker.longitude,marker.html,marker.icon,marker.popup])})},o.fn.gMap.defaults={address:"",latitude:0,longitude:0,zoom:1,markers:[],controls:[],scrollwheel:!1,doubleclickzoom:!0,maptype:"ROADMAP",html_prepend:'<div class="gmap_marker">',html_append:"</div>",icon:{image:"http://www.google.com/mapfiles/marker.png",shadow:"http://www.google.com/mapfiles/shadow50.png",iconsize:[20,34],shadowsize:[37,34],iconanchor:[9,34],shadowanchor:[6,34]}}}(jQuery),function(r){r.jPanelMenu=function(e){void 0!==e&&null!=e||(e={});var a={options:r.extend({menu:"#menu",panel:"body",trigger:".menu-trigger",excludedPanelContent:"style, script, .viewer",clone:!0,keepEventHandlers:!1,direction:"left",openPosition:"250px",animated:!1,closeOnContentClick:!1,keyboardShortcuts:[{code:27,open:!1,close:!0},{code:37,open:!1,close:!0},{code:39,open:!0,close:!0},{code:77,open:!0,close:!0}],duration:150,openDuration:e.duration||150,closeDuration:e.duration||150,easing:"ease-in-out",openEasing:e.easing||"ease-in-out",closeEasing:e.easing||"ease-in-out",before:function(){},beforeOpen:function(){},beforeClose:function(){},after:function(){},afterOpen:function(){},afterClose:function(){},beforeOn:function(){},afterOn:function(){},beforeOff:function(){},afterOff:function(){}},e),settings:{transitionsSupported:"WebkitTransition"in document.body.style||"MozTransition"in document.body.style||"msTransition"in document.body.style||"OTransition"in document.body.style||"Transition"in document.body.style,transformsSupported:"WebkitTransform"in document.body.style||"MozTransform"in document.body.style||"msTransform"in document.body.style||"OTransform"in document.body.style||"Transform"in document.body.style,cssPrefix:"",panelPosition:"static",positionUnits:"px"},menu:"#jPanelMenu-menu",panel:".jPanelMenu-panel",timeouts:{},clearTimeouts:function(){clearTimeout(a.timeouts.open),clearTimeout(a.timeouts.afterOpen),clearTimeout(a.timeouts.afterClose)},setPositionUnits:function(){for(var e=!1,t=["%","px","em"],n=0;n<t.length;n++){var i=t[n];a.options.openPosition.toString().substr(-i.length)==i&&(e=!0,a.settings.positionUnits=i)}e||(a.options.openPosition=parseInt(a.options.openPosition)+a.settings.positionUnits)},computePositionStyle:function(e,t){var n=e?a.options.openPosition:"0"+a.settings.positionUnits,i={};if(a.settings.transformsSupported){var o="translate3d("+(e&&"right"==a.options.direction?"-":"")+n+",0,0)",r="transform";t?((i="")!=a.settings.cssPrefix&&(i=a.settings.cssPrefix+r+":"+o+";"),i+=r+":"+o+";"):(""!=a.settings.cssPrefix&&(i[a.settings.cssPrefix+r]=o),i[r]=o)}else t?(i="",i=a.options.direction+": "+n+";"):i[a.options.direction]=n;return i},setCSSPrefix:function(){a.settings.cssPrefix=a.getCSSPrefix()},setjPanelMenuStyles:function(){var e="background:#fff",t=r("html").css("background-color"),n=r("body").css("background-color"),i=function(n){var i=[];return r.each(["background-color","background-image","background-position","background-repeat","background-attachment","background-size","background-clip"],function(e,t){""!==n.css(t)&&i.push(t+":"+n.css(t))}),i.join(";")};"transparent"!==n&&"rgba(0, 0, 0, 0)"!==n?e=i(r("body")):"transparent"!==t&&"rgba(0, 0, 0, 0)"!==t&&(e=i(r("html"))),0==r("#jPanelMenu-style-master").length&&r("body").append('<style id="jPanelMenu-style-master">body{width:100%}.jPanelMenu,body{overflow-x:hidden}#jPanelMenu-menu{display:block;position:fixed;top:0;'+a.options.direction+":0;height:100%;z-index:-1;overflow-x:hidden;overflow-y:scroll;-webkit-overflow-scrolling:touch}.jPanelMenu-panel{position:static;"+a.options.direction+":0;top:0;z-index:2;width:100%;min-height:100%;"+e+";}</style>")},setMenuState:function(e){var t=e?"open":"closed";r(a.options.panel).attr("data-menu-position",t)},getMenuState:function(){return r(a.options.panel).attr("data-menu-position")},menuIsOpen:function(){return"open"==a.getMenuState()},setMenuStyle:function(e){r(a.menu).css(e)},setPanelStyle:function(e){r(a.panel).css(e)},showMenu:function(){a.setMenuStyle({display:"block"}),a.setMenuStyle({"z-index":"1"})},hideMenu:function(){a.setMenuStyle({"z-index":"-1"}),a.setMenuStyle({display:"none"})},enableTransitions:function(e,t){var n=e/1e3,i=a.getCSSEasingFunction(t);a.disableTransitions(),r("body").append('<style id="jPanelMenu-style-transitions">.jPanelMenu-panel{'+a.settings.cssPrefix+"transition: all "+n+"s "+i+"; transition: all "+n+"s "+i+";}</style>")},disableTransitions:function(){r("#jPanelMenu-style-transitions").remove()},getCSSEasingFunction:function(e){switch(e){case"linear":case"ease":case"ease-in":case"ease-out":case"ease-in-out":return e;default:return"ease-in-out"}},getJSEasingFunction:function(e){switch(e){case"linear":return e;default:return"swing"}},getVendorPrefix:function(){if("result"in arguments.callee)return arguments.callee.result;var e=/^(Moz|Webkit|Khtml|O|ms|Icab)(?=[A-Z])/,t=document.getElementsByTagName("script")[0];for(var n in t.style)if(e.test(n))return arguments.callee.result=n.match(e)[0];return"WebkitOpacity"in t.style?arguments.callee.result="Webkit":"KhtmlOpacity"in t.style?arguments.callee.result="Khtml":arguments.callee.result=""},getCSSPrefix:function(){var e=a.getVendorPrefix();return""!=e?"-"+e.toLowerCase()+"-":""},openMenu:function(e){void 0!==e&&null!=e||(e=a.options.animated),a.clearTimeouts(),a.options.before(),a.options.beforeOpen(),a.setMenuState(!0),a.showMenu();var t={none:!e,transitions:!(!e||!a.settings.transitionsSupported)};if(t.transitions||t.none){t.none&&a.disableTransitions(),t.transitions&&a.enableTransitions(a.options.openDuration,a.options.openEasing);var n=a.computePositionStyle(!0);a.setPanelStyle(n),a.timeouts.afterOpen=setTimeout(function(){a.options.after(),a.options.afterOpen(),a.initiateContentClickListeners()},a.options.openDuration)}else{var i=a.getJSEasingFunction(a.options.openEasing),o={};o[a.options.direction]=a.options.openPosition,r(a.panel).stop().animate(o,a.options.openDuration,i,function(){a.options.after(),a.options.afterOpen(),a.initiateContentClickListeners()})}},closeMenu:function(e){void 0!==e&&null!=e||(e=a.options.animated),a.clearTimeouts(),a.options.before(),a.options.beforeClose(),a.setMenuState(!1);var t={none:!e,transitions:!(!e||!a.settings.transitionsSupported)};if(t.transitions||t.none){t.none&&a.disableTransitions(),t.transitions&&a.enableTransitions(a.options.closeDuration,a.options.closeEasing);var n=a.computePositionStyle();a.setPanelStyle(n),a.timeouts.afterClose=setTimeout(function(){a.disableTransitions(),a.hideMenu(),a.options.after(),a.options.afterClose(),a.destroyContentClickListeners()},a.options.closeDuration)}else{var i=a.getJSEasingFunction(
a.options.closeEasing),o={};o[a.options.direction]=0+a.settings.positionUnits,r(a.panel).stop().animate(o,a.options.closeDuration,i,function(){a.hideMenu(),a.options.after(),a.options.afterClose(),a.destroyContentClickListeners()})}},triggerMenu:function(e){a.menuIsOpen()?a.closeMenu(e):a.openMenu(e)},initiateClickListeners:function(){r(document).on("click touchend",a.options.trigger,function(e){a.triggerMenu(a.options.animated),e.preventDefault()})},destroyClickListeners:function(){r(document).off("click touchend",a.options.trigger,null)},initiateContentClickListeners:function(){if(!a.options.closeOnContentClick)return!1;r(document).on("click touchend",a.panel,function(e){a.menuIsOpen()&&a.closeMenu(a.options.animated),e.preventDefault()})},destroyContentClickListeners:function(){if(!a.options.closeOnContentClick)return!1;r(document).off("click touchend",a.panel,null)},initiateKeyboardListeners:function(){var o=["input","textarea","select"];r(document).on("keydown",function(e){var t=r(e.target),n=!1;if(r.each(o,function(){t.is(this.toString())&&(n=!0)}),n)return!0;for(mapping in a.options.keyboardShortcuts)if(e.which==a.options.keyboardShortcuts[mapping].code){var i=a.options.keyboardShortcuts[mapping];i.open&&i.close?a.triggerMenu(a.options.animated):!i.open||i.close||a.menuIsOpen()?!i.open&&i.close&&a.menuIsOpen()&&a.closeMenu(a.options.animated):a.openMenu(a.options.animated),e.preventDefault()}})},destroyKeyboardListeners:function(){r(document).off("keydown",null)},setupMarkup:function(){r("html").addClass("jPanelMenu"),r(a.options.panel+" > *").not(a.menu+", "+a.options.excludedPanelContent).wrapAll('<div class="'+a.panel.replace(".","")+'"/>'),(a.options.clone?r(a.options.menu).clone(a.options.keepEventHandlers):r(a.options.menu)).attr("id",a.menu.replace("#","")).insertAfter(a.options.panel+" > "+a.panel)},resetMarkup:function(){r("html").removeClass("jPanelMenu"),r(a.options.panel+" > "+a.panel+" > *").unwrap(),r(a.menu).remove()},init:function(){a.options.beforeOn(),a.setPositionUnits(),a.setCSSPrefix(),a.initiateClickListeners(),"[object Array]"===Object.prototype.toString.call(a.options.keyboardShortcuts)&&a.initiateKeyboardListeners(),a.setjPanelMenuStyles(),a.setMenuState(!1),a.setupMarkup(),a.setPanelStyle({position:a.options.animated&&"static"===a.settings.panelPosition?"relative":a.settings.panelPosition}),a.setMenuStyle({width:a.options.openPosition}),a.closeMenu(!1),a.options.afterOn()},destroy:function(){a.options.beforeOff(),a.closeMenu(),a.destroyClickListeners(),"[object Array]"===Object.prototype.toString.call(a.options.keyboardShortcuts)&&a.destroyKeyboardListeners(),a.resetMarkup(),{}[a.options.direction]="auto",a.options.afterOff()}};return{on:a.init,off:a.destroy,trigger:a.triggerMenu,open:a.openMenu,close:a.closeMenu,isOpen:a.menuIsOpen,menu:a.menu,getMenu:function(){return r(a.menu)},panel:a.panel,getPanel:function(){return r(a.panel)},setPosition:function(e){void 0!==e&&null!=e||(e=a.options.openPosition),a.options.openPosition=e,a.setMenuStyle({width:a.options.openPosition})}}}}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):window.jQuery||window.Zepto)}(function(d){var u,i,h,o,p,t,l="Close",c="BeforeClose",n="AfterClose",r="BeforeAppend",f="MarkupParse",m="Open",a="Change",s="mfp",g="."+s,v="mfp-ready",T="mfp-removing",y="mfp-prevent-close",e=function(){},E=!!window.jQuery,b=d(window),C=function(e,t){u.ev.on(s+e+g,t)},_=function(e,t,n,i){var o=document.createElement("div");return o.className="mfp-"+e,n&&(o.innerHTML=n),i?t&&t.appendChild(o):(o=d(o),t&&o.appendTo(t)),o},O=function(e,t){u.ev.triggerHandler(s+e,t),u.st.callbacks&&(e=e.charAt(0).toLowerCase()+e.slice(1),u.st.callbacks[e]&&u.st.callbacks[e].apply(u,d.isArray(t)?t:[t]))},I=function(e){return e===t&&u.currTemplate.closeBtn||(u.currTemplate.closeBtn=d(u.st.closeMarkup.replace("%title%",u.st.tClose)),t=e),u.currTemplate.closeBtn},D=function(){d.magnificPopup.instance||((u=new e).init(),d.magnificPopup.instance=u)},w=function(){var e=document.createElement("p").style,t=["ms","O","Moz","Webkit"];if(void 0!==e.transition)return!0;for(;t.length;)if(t.pop()+"Transition"in e)return!0;return!1};e.prototype={constructor:e,init:function(){var e=navigator.appVersion;u.isIE7=-1!==e.indexOf("MSIE 7."),u.isIE8=-1!==e.indexOf("MSIE 8."),u.isLowIE=u.isIE7||u.isIE8,u.isAndroid=/android/gi.test(e),u.isIOS=/iphone|ipad|ipod/gi.test(e),u.supportsTransition=w(),u.probablyMobile=u.isAndroid||u.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),h=d(document),u.popupsCache={}},open:function(e){var t;if(!1===e.isObj){u.items=e.items.toArray(),u.index=0;var n,i=e.items;for(t=0;t<i.length;t++)if((n=i[t]).parsed&&(n=n.el[0]),n===e.el[0]){u.index=t;break}}else u.items=d.isArray(e.items)?e.items:[e.items],u.index=e.index||0;if(!u.isOpen){u.types=[],p="",u.ev=e.mainEl&&e.mainEl.length?e.mainEl.eq(0):h,e.key?(u.popupsCache[e.key]||(u.popupsCache[e.key]={}),u.currTemplate=u.popupsCache[e.key]):u.currTemplate={},u.st=d.extend(!0,{},d.magnificPopup.defaults,e),u.fixedContentPos="auto"===u.st.fixedContentPos?!u.probablyMobile:u.st.fixedContentPos,u.st.modal&&(u.st.closeOnContentClick=!1,u.st.closeOnBgClick=!1,u.st.showCloseBtn=!1,u.st.enableEscapeKey=!1),u.bgOverlay||(u.bgOverlay=_("bg").on("click"+g,function(){u.close()}),u.wrap=_("wrap").attr("tabindex",-1).on("click"+g,function(e){u._checkIfClose(e.target)&&u.close()}),u.container=_("container",u.wrap)),u.contentContainer=_("content"),u.st.preloader&&(u.preloader=_("preloader",u.container,u.st.tLoading));var o=d.magnificPopup.modules;for(t=0;t<o.length;t++){var r=o[t];r=r.charAt(0).toUpperCase()+r.slice(1),u["init"+r].call(u)}O("BeforeOpen"),u.st.showCloseBtn&&(u.st.closeBtnInside?(C(f,function(e,t,n,i){n.close_replaceWith=I(i.type)}),p+=" mfp-close-btn-in"):u.wrap.append(I())),u.st.alignTop&&(p+=" mfp-align-top"),u.wrap.css(u.fixedContentPos?{overflow:u.st.overflowY,overflowX:"hidden",overflowY:u.st.overflowY}:{top:b.scrollTop(),position:"absolute"}),(!1===u.st.fixedBgPos||"auto"===u.st.fixedBgPos&&!u.fixedContentPos)&&u.bgOverlay.css({height:h.height(),position:"absolute"}),u.st.enableEscapeKey&&h.on("keyup"+g,function(e){27===e.keyCode&&u.close()}),b.on("resize"+g,function(){u.updateSize()}),u.st.closeOnContentClick||(p+=" mfp-auto-cursor"),p&&u.wrap.addClass(p);var a=u.wH=b.height(),s={};if(u.fixedContentPos&&u._hasScrollBar(a)){var l=u._getScrollbarSize();l&&(s.marginRight=l)}u.fixedContentPos&&(u.isIE7?d("body, html").css("overflow","hidden"):s.overflow="hidden");var c=u.st.mainClass;return u.isIE7&&(c+=" mfp-ie7"),c&&u._addClassToMFP(c),u.updateItemHTML(),O("BuildControls"),d("html").css(s),u.bgOverlay.add(u.wrap).prependTo(u.st.prependTo||d(document.body)),u._lastFocusedEl=document.activeElement,setTimeout(function(){u.content?(u._addClassToMFP(v),u._setFocus()):u.bgOverlay.addClass(v),h.on("focusin"+g,u._onFocusIn)},16),u.isOpen=!0,u.updateSize(a),O(m),e}u.updateItemHTML()},close:function(){u.isOpen&&(O(c),u.isOpen=!1,u.st.removalDelay&&!u.isLowIE&&u.supportsTransition?(u._addClassToMFP(T),setTimeout(function(){u._close()},u.st.removalDelay)):u._close())},_close:function(){O(l);var e=T+" "+v+" ";if(u.bgOverlay.detach(),u.wrap.detach(),u.container.empty(),u.st.mainClass&&(e+=u.st.mainClass+" "),u._removeClassFromMFP(e),u.fixedContentPos){var t={marginRight:""};u.isIE7?d("body, html").css("overflow",""):t.overflow="",d("html").css(t)}h.off("keyup"+g+" focusin"+g),u.ev.off(g),u.wrap.attr("class","mfp-wrap").removeAttr("style"),u.bgOverlay.attr("class","mfp-bg"),u.container.attr("class","mfp-container"),!u.st.showCloseBtn||u.st.closeBtnInside&&!0!==u.currTemplate[u.currItem.type]||u.currTemplate.closeBtn&&u.currTemplate.closeBtn.detach(),u._lastFocusedEl&&d(u._lastFocusedEl).focus(),u.currItem=null,u.content=null,u.currTemplate=null,u.prevHeight=0,O(n)},updateSize:function(e){if(u.isIOS){var t=document.documentElement.clientWidth/window.innerWidth,n=window.innerHeight*t;u.wrap.css("height",n),u.wH=n}else u.wH=e||b.height();u.fixedContentPos||u.wrap.css("height",u.wH),O("Resize")},updateItemHTML:function(){var e=u.items[u.index];u.contentContainer.detach(),u.content&&u.content.detach(),e.parsed||(e=u.parseEl(u.index));var t=e.type;if(O("BeforeChange",[u.currItem?u.currItem.type:"",t]),u.currItem=e,!u.currTemplate[t]){var n=!!u.st[t]&&u.st[t].markup;O("FirstMarkupParse",n),u.currTemplate[t]=!n||d(n)}o&&o!==e.type&&u.container.removeClass("mfp-"+o+"-holder");var i=u["get"+t.charAt(0).toUpperCase()+t.slice(1)](e,u.currTemplate[t]);u.appendContent(i,t),e.preloaded=!0,O(a,e),o=e.type,u.container.prepend(u.contentContainer),O("AfterChange")},appendContent:function(e,t){(u.content=e)?u.st.showCloseBtn&&u.st.closeBtnInside&&!0===u.currTemplate[t]?u.content.find(".mfp-close").length||u.content.append(I()):u.content=e:u.content="",O(r),u.container.addClass("mfp-"+t+"-holder"),u.contentContainer.append(u.content)},parseEl:function(e){var t,n=u.items[e];if((n=n.tagName?{el:d(n)}:(t=n.type,{data:n,src:n.src})).el){for(var i=u.types,o=0;o<i.length;o++)if(n.el.hasClass("mfp-"+i[o])){t=i[o];break}n.src=n.el.attr("data-mfp-src"),n.src||(n.src=n.el.attr("href"))}return n.type=t||u.st.type||"inline",n.index=e,n.parsed=!0,u.items[e]=n,O("ElementParse",n),u.items[e]},addGroup:function(t,n){var e=function(e){e.mfpEl=this,u._openClick(e,t,n)};n||(n={});var i="click.magnificPopup";n.mainEl=t,n.items?(n.isObj=!0,t.off(i).on(i,e)):(n.isObj=!1,n.delegate?t.off(i).on(i,n.delegate,e):(n.items=t).off(i).on(i,e))},_openClick:function(e,t,n){if((void 0!==n.midClick?n.midClick:d.magnificPopup.defaults.midClick)||2!==e.which&&!e.ctrlKey&&!e.metaKey){var i=void 0!==n.disableOn?n.disableOn:d.magnificPopup.defaults.disableOn;if(i)if(d.isFunction(i)){if(!i.call(u))return!0}else if(b.width()<i)return!0;e.type&&(e.preventDefault(),u.isOpen&&e.stopPropagation()),n.el=d(e.mfpEl),n.delegate&&(n.items=t.find(n.delegate)),u.open(n)}},updateStatus:function(e,t){if(u.preloader){i!==e&&u.container.removeClass("mfp-s-"+i),t||"loading"!==e||(t=u.st.tLoading);var n={status:e,text:t};O("UpdateStatus",n),e=n.status,t=n.text,u.preloader.html(t),u.preloader.find("a").on("click",function(e){e.stopImmediatePropagation()}),u.container.addClass("mfp-s-"+e),i=e}},_checkIfClose:function(e){if(!d(e).hasClass(y)){var t=u.st.closeOnContentClick,n=u.st.closeOnBgClick;if(t&&n)return!0;if(!u.content||d(e).hasClass("mfp-close")||u.preloader&&e===u.preloader[0])return!0;if(e===u.content[0]||d.contains(u.content[0],e)){if(t)return!0}else if(n&&d.contains(document,e))return!0;return!1}},_addClassToMFP:function(e){u.bgOverlay.addClass(e),u.wrap.addClass(e)},_removeClassFromMFP:function(e){this.bgOverlay.removeClass(e),u.wrap.removeClass(e)},_hasScrollBar:function(e){return(u.isIE7?h.height():document.body.scrollHeight)>(e||b.height())},_setFocus:function(){(u.st.focus?u.content.find(u.st.focus).eq(0):u.wrap).focus()},_onFocusIn:function(e){return e.target===u.wrap[0]||d.contains(u.wrap[0],e.target)?void 0:(u._setFocus(),!1)},_parseMarkup:function(o,e,t){var r;t.data&&(e=d.extend(t.data,e)),O(f,[o,e,t]),d.each(e,function(e,t){if(void 0===t||!1===t)return!0;if(1<(r=e.split("_")).length){var n=o.find(g+"-"+r[0]);if(0<n.length){var i=r[1];"replaceWith"===i?n[0]!==t[0]&&n.replaceWith(t):"img"===i?n.is("img")?n.attr("src",t):n.replaceWith('<img src="'+t+'" class="'+n.attr("class")+'" />'):n.attr(r[1],t)}}else o.find(g+"-"+e).html(t)})},_getScrollbarSize:function(){if(void 0===u.scrollbarSize){var e=document.createElement("div");e.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e),u.scrollbarSize=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return u.scrollbarSize}},d.magnificPopup={instance:null,proto:e.prototype,modules:[],open:function(e,t){return D(),(e=e?d.extend(!0,{},e):{}).isObj=!0,e.index=t||0,this.instance.open(e)},close:function(){return d.magnificPopup.instance&&d.magnificPopup.instance.close()},registerModule:function(e,t){t.options&&(d.magnificPopup.defaults[e]=t.options),d.extend(this.proto,t.proto),this.modules.push(e)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close"></button>',tClose:"Close (Esc)",tLoading:"Loading..."}},d.fn.magnificPopup=function(e,t){D();var n=d(this);if("string"==typeof e)if("open"===e){var i,o=E?n.data("magnificPopup"):n[0].magnificPopup,r=parseInt(t,10)||0;i=o.items?o.items[r]:(i=n,o.delegate&&(i=i.find(o.delegate)),i.eq(r)),u._openClick({mfpEl:i},n,o)}else u.isOpen&&u[e].apply(u,Array.prototype.slice.call(arguments,1));else e=d.extend(!0,{},e),E?n.data("magnificPopup",e):n[0].magnificPopup=e,u.addGroup(n,e);return n};var R,k,x,S="inline",K=function(){x&&(k.after(x.addClass(R)).detach(),x=null)};d.magnificPopup.registerModule(S,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){u.types.push(S),C(l+"."+S,function(){K()})},getInline:function(e,t){if(K(),e.src){var n=u.st.inline,i=d(e.src);if(i.length){var o=i[0].parentNode;o&&o.tagName&&(k||(R=n.hiddenClass,k=_(R),R="mfp-"+R),x=i.after(k).detach().removeClass(R)),u.updateStatus("ready")}else u.updateStatus("error",n.tNotFound),i=d("<div>");return e.inlineElement=i}return u.updateStatus("ready"),u._parseMarkup(t,{},e),t}}});var N,A="ajax",L=function(){N&&d(document.body).removeClass(N)},P=function(){L(),u.req&&u.req.abort()};d.magnificPopup.registerModule(A,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){u.types.push(A),N=u.st.ajax.cursor,C(l+"."+A,P),C("BeforeChange."+A,P)},getAjax:function(o){N&&d(document.body).addClass(N),u.updateStatus("loading");var e=d.extend({url:o.src,success:function(e,t,n){var i={data:e,xhr:n};O("ParseAjax",i),u.appendContent(d(i.data),A),o.finished=!0,L(),u._setFocus(),setTimeout(function(){u.wrap.addClass(v)},16),u.updateStatus("ready"),O("AjaxContentAdded")},error:function(){L(),o.finished=o.loadError=!0,u.updateStatus("error",u.st.ajax.tError.replace("%url%",o.src))}},u.st.ajax.settings);return u.req=d.ajax(e),""}}});var M,F=function(e){if(e.data&&void 0!==e.data.title)return e.data.title;var t=u.st.image.titleSrc;if(t){if(d.isFunction(t))return t.call(u,e);if(e.el)return e.el.attr(t)||""}return""};d.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var e=u.st.image,t=".image";u.types.push("image"),C(m+t,function(){"image"===u.currItem.type&&e.cursor&&d(document.body).addClass(e.cursor)}),C(l+t,function(){e.cursor&&d(document.body).removeClass(e.cursor),b.off("resize"+g)}),C("Resize"+t,u.resizeImage),u.isLowIE&&C("AfterChange",u.resizeImage)},resizeImage:function(){var e=u.currItem;if(e&&e.img&&u.st.image.verticalFit){var t=0;u.isLowIE&&(t=parseInt(e.img.css("padding-top"),10)+parseInt(e.img.css("padding-bottom"),10)),e.img.css("max-height",u.wH-t)}},_onImageHasSize:function(e){e.img&&(e.hasSize=!0,M&&clearInterval(M),e.isCheckingImgSize=!1,O("ImageHasSize",e),e.imgHidden&&(u.content&&u.content.removeClass("mfp-loading"),e.imgHidden=!1))},findImageSize:function(t){var n=0,i=t.img[0],o=function(e){M&&clearInterval(M),M=setInterval(function(){return 0<i.naturalWidth?void u._onImageHasSize(t):(200<n&&clearInterval(M),void(3===++n?o(10):40===n?o(50):100===n&&o(500)))},e)};o(1)},getImage:function(e,t){var n=0,i=function(){e&&(e.img[0].complete?(e.img.off(".mfploader"),e===u.currItem&&(u._onImageHasSize(e),u.updateStatus("ready")),e.hasSize=!0,e.loaded=!0,O("ImageLoadComplete")):++n<200?setTimeout(i,100):o())},o=function(){e&&(e.img.off(".mfploader"),e===u.currItem&&(u._onImageHasSize(e),u.updateStatus("error",r.tError.replace("%url%",e.src))),e.hasSize=!0,e.loaded=!0,e.loadError=!0)},r=u.st.image,a=t.find(".mfp-img");if(a.length){var s=document.createElement("img");s.className="mfp-img",e.el&&e.el.find("img").length&&(s.alt=e.el.find("img").attr("alt")),e.img=d(s).on("load.mfploader",i).on("error.mfploader",o),s.src=e.src,a.is("img")&&(e.img=e.img.clone()),0<(s=e.img[0]).naturalWidth?e.hasSize=!0:s.width||(e.hasSize=!1)}return u._parseMarkup(t,{title:F(e),img_replaceWith:e.img},e),u.resizeImage(),e.hasSize?(M&&clearInterval(M),e.loadError?(t.addClass("mfp-loading"),u.updateStatus("error",r.tError.replace("%url%",e.src))):(t.removeClass("mfp-loading"),u.updateStatus("ready"))):(u.updateStatus("loading"),e.loading=!0,e.hasSize||(e.imgHidden=!0,t.addClass("mfp-loading"),u.findImageSize(e))),t}}});var B,$=function(){return void 0===B&&(B=void 0!==document.createElement("p").style.MozTransform),B};d.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(e){return e.is("img")?e:e.find("img")}},proto:{initZoom:function(){var e,r=u.st.zoom,t=".zoom";if(r.enabled&&u.supportsTransition){var n,i,o=r.duration,a=function(e){var t=e.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),n="all "+r.duration/1e3+"s "+r.easing,i={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},o="transition";return i["-webkit-"+o]=i["-moz-"+o]=i["-o-"+o]=i[o]=n,t.css(i),t},s=function(){u.content.css("visibility","visible")};C("BuildControls"+t,function(){if(u._allowZoom()){if(clearTimeout(n),u.content.css("visibility","hidden"),!(e=u._getItemToZoom()))return void s();(i=a(e)).css(u._getOffset()),u.wrap.append(i),n=setTimeout(function(){i.css(u._getOffset(!0)),n=setTimeout(function(){s(),setTimeout(function(){i.remove(),e=i=null,O("ZoomAnimationEnded")},16)},o)},16)}}),C(c+t,function(){if(u._allowZoom()){if(clearTimeout(n),u.st.removalDelay=o,!e){if(!(e=u._getItemToZoom()))return;i=a(e)}i.css(u._getOffset(!0)),u.wrap.append(i),u.content.css("visibility","hidden"),setTimeout(function(){i.css(u._getOffset())},16)}}),C(l+t,function(){u._allowZoom()&&(s(),i&&i.remove(),e=null)})}},_allowZoom:function(){return"image"===u.currItem.type},_getItemToZoom:function(){return!!u.currItem.hasSize&&u.currItem.img},_getOffset:function(e){var t,n=(t=e?u.currItem.img:u.st.zoom.opener(u.currItem.el||u.currItem)).offset(),i=parseInt(t.css("padding-top"),10),o=parseInt(t.css("padding-bottom"),10);n.top-=d(window).scrollTop()-i;var r={width:t.width(),height:(E?t.innerHeight():t[0].offsetHeight)-o-i};return $()?r["-moz-transform"]=r.transform="translate("+n.left+"px,"+n.top+"px)":(r.left=n.left,r.top=n.top),r}}});var H="iframe",z="//about:blank",q=function(e){if(u.currTemplate[H]){var t=u.currTemplate[H].find("iframe");t.length&&(e||(t[0].src=z),u.isIE8&&t.css("display",e?"block":"none"))}};d.magnificPopup.registerModule(H,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){u.types.push(H),C("BeforeChange",function(e,t,n){t!==n&&(t===H?q():n===H&&q(!0))}),C(l+"."+H,function(){q()})},getIframe:function(e,t){var n=e.src,i=u.st.iframe;d.each(i.patterns,function(){return-1<n.indexOf(this.index)?(this.id&&(n="string"==typeof this.id?n.substr(n.lastIndexOf(this.id)+this.id.length,n.length):this.id.call(this,n)),n=this.src.replace("%id%",n),!1):void 0});var o={};return i.srcAction&&(o[i.srcAction]=n),u._parseMarkup(t,o,e),u.updateStatus("ready"),t}}});var j=function(e){var t=u.items.length;return t-1<e?e-t:e<0?t+e:e},W=function(e,t,n){return e.replace(/%curr%/gi,t+1).replace(/%total%/gi,n)};d.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var r=u.st.gallery,e=".mfp-gallery",o=Boolean(d.fn.mfpFastClick);return u.direction=!0,!(!r||!r.enabled)&&(p+=" mfp-gallery",C(m+e,function(){r.navigateByImgClick&&u.wrap.on("click"+e,".mfp-img",function(){return 1<u.items.length?(u.next(),!1):void 0}),h.on("keydown"+e,function(e){37===e.keyCode?u.prev():39===e.keyCode&&u.next()})}),C("UpdateStatus"+e,function(e,t){t.text&&(t.text=W(t.text,u.currItem.index,u.items.length))}),C(f+e,function(e,t,n,i){var o=u.items.length;n.counter=1<o?W(r.tCounter,i.index,o):""}),C("BuildControls"+e,function(){if(1<u.items.length&&r.arrows&&!u.arrowLeft){var e=r.arrowMarkup,t=u.arrowLeft=d(e.replace(/%title%/gi,r.tPrev).replace(/%dir%/gi,"left")).addClass(y),n=u.arrowRight=d(e.replace(/%title%/gi,r.tNext).replace(/%dir%/gi,"right")).addClass(y),i=o?"mfpFastClick":"click";t[i](function(){u.prev()}),n[i](function(){u.next()}),u.isIE7&&(_("b",t[0],!1,!0),_("a",t[0],!1,!0),_("b",n[0],!1,!0),_("a",n[0],!1,!0)),u.container.append(t.add(n))}}),C(a+e,function(){u._preloadTimeout&&clearTimeout(u._preloadTimeout),u._preloadTimeout=setTimeout(function(){u.preloadNearbyImages(),u._preloadTimeout=null},16)}),void C(l+e,function(){h.off(e),u.wrap.off("click"+e),u.arrowLeft&&o&&u.arrowLeft.add(u.arrowRight).destroyMfpFastClick(),u.arrowRight=u.arrowLeft=null}))},next:function(){u.direction=!0,u.index=j(u.index+1),u.updateItemHTML()},prev:function(){u.direction=!1,u.index=j(u.index-1),u.updateItemHTML()},goTo:function(e){u.direction=e>=u.index,u.index=e,u.updateItemHTML()},preloadNearbyImages:function(){var e,t=u.st.gallery.preload,n=Math.min(t[0],u.items.length),i=Math.min(t[1],u.items.length);for(e=1;e<=(u.direction?i:n);e++)u._preloadItem(u.index+e);for(e=1;e<=(u.direction?n:i);e++)u._preloadItem(u.index-e)},_preloadItem:function(e){if(e=j(e),!u.items[e].preloaded){var t=u.items[e];t.parsed||(t=u.parseEl(e)),O("LazyLoad",t),"image"===t.type&&(t.img=d('<img class="mfp-img" />').on("load.mfploader",function(){t.hasSize=!0}).on("error.mfploader",function(){t.hasSize=!0,t.loadError=!0,O("LazyLoadError",t)}).attr("src",t.src)),t.preloaded=!0}}}});var U,V,X,Y,G="retina";d.magnificPopup.registerModule(G,{options:{replaceSrc:function(e){return e.src.replace(/\.\w+$/,function(e){return"@2x"+e})},ratio:1},proto:{initRetina:function(){if(1<window.devicePixelRatio){var n=u.st.retina,i=n.ratio;1<(i=isNaN(i)?i():i)&&(C("ImageHasSize."+G,function(e,t){t.img.css({"max-width":t.img[0].naturalWidth/i,width:"100%"})}),C("ElementParse."+G,function(e,t){t.src=n.replaceSrc(t,i)}))}}}}),U=1e3,V="ontouchstart"in window,X=function(){b.off("touchmove"+Y+" touchend"+Y)},Y="."+"mfpFastClick",d.fn.mfpFastClick=function(l){return d(this).each(function(){var t,n,i,o,r,a,s,e=d(this);V&&e.on("touchstart"+Y,function(e){r=!1,s=1,a=e.originalEvent?e.originalEvent.touches[0]:e.touches[0],i=a.clientX,o=a.clientY,b.on("touchmove"+Y,function(e){a=e.originalEvent?e.originalEvent.touches:e.touches,s=a.length,a=a[0],(10<Math.abs(a.clientX-i)||10<Math.abs(a.clientY-o))&&(r=!0,X())}).on("touchend"+Y,function(e){X(),r||1<s||(t=!0,e.preventDefault(),clearTimeout(n),n=setTimeout(function(){t=!1},U),l())})}),e.on("click"+Y,function(){t||l()})})},d.fn.destroyMfpFastClick=function(){d(this).off("touchstart"+Y+" click"+Y),V&&b.off("touchmove"+Y+" touchend"+Y)},D()}),function(ge,ve,Te){"use strict";var e,t,n,i,o,r={html:'<!DOCTYPE html><html><head><style>.ie * {min-height: auto !important}</style><meta http-equiv="Content-Type" content="text/html;charset={charset}" /><link rel="stylesheet" type="text/css" href="{style}" /></head><body contenteditable="true" {spellcheck}></body></html>',toolbarButton:'<a class="sceditor-button sceditor-button-{name}" data-sceditor-command="{name}" unselectable="on"><div unselectable="on">{dispName}</div></a>',emoticon:'<img src="{url}" data-sceditor-emoticon="{key}" alt="{key}" title="{tooltip}" />',fontOpt:'<a class="sceditor-font-option" href="#" data-font="{font}"><font face="{font}">{font}</font></a>',sizeOpt:'<a class="sceditor-fontsize-option" data-size="{size}" href="#"><font size="{size}">{size}</font></a>',pastetext:'<div><label for="txt">{label}</label> <textarea cols="20" rows="7" id="txt"></textarea></div><div><input type="button" class="button" value="{insert}" /></div>',table:'<div><label for="rows">{rows}</label><input type="text" id="rows" value="2" /></div><div><label for="cols">{cols}</label><input type="text" id="cols" value="2" /></div><div><input type="button" class="button" value="{insert}" /></div>',image:'<div><label for="link">{url}</label> <input type="text" id="image" value="http://" /></div><div><label for="width">{width}</label> <input type="text" id="width" size="2" /></div><div><label for="height">{height}</label> <input type="text" id="height" size="2" /></div><div><input type="button" class="button" value="{insert}" /></div>',email:'<div><label for="email">{label}</label> <input type="text" id="email" /></div><div><input type="button" class="button" value="{insert}" /></div>',link:'<div><label for="link">{url}</label> <input type="text" id="link" value="http://" /></div><div><label for="des">{desc}</label> <input type="text" id="des" /></div><div><input type="button" class="button" value="{ins}" /></div>',youtubeMenu:'<div><label for="link">{label}</label> <input type="text" id="link" value="http://" /></div><div><input type="button" class="button" value="{insert}" /></div>',youtube:'<iframe width="560" height="315" src="http://www.youtube.com/embed/{id}?wmode=opaque" data-youtube-id="{id}" frameborder="0" allowfullscreen></iframe>'},ye=function(e,t,n){var i=r[e];return ge.each(t,function(e,t){i=i.replace(new RegExp("\\{"+e+"\\}","g"),t)}),n&&(i=ge(i)),i};ge.sceditor=function(e,g){var v,c,s,i,m,d,o,a,l,r,t,u,h,p,f,T,n,y,E,b,C,_,O,I,D,w,R,k,x,S,K,N,A,L,P,M,F,B,$,H,z,q,j,W,U,V,X,Y,G,Q,Z,J,ee,te,ne,ie,oe,re=ge.sceditor.ie,ae=re&&re<11,se=this,le=e.get?e.get(0):e,ce=ge(le),de=[],ue=[],he=[],pe=[],fe={},me=[];se.commands=ge.extend(!0,{},g.commands||ge.sceditor.commands),se.opts=g=ge.extend({},ge.sceditor.defaultOptions,g),C=function(){ce.data("sceditor",se),ge.each(g,function(e,t){ge.isPlainObject(t)&&(g[e]=ge.extend(!0,{},t))}),g.locale&&"en"!==g.locale&&R(),v=ge('<div class="sceditor-container" />').insertAfter(ce).css("z-index",g.zIndex),re&&v.addClass("ie ie"+re),E=!!ce.attr("required"),ce.removeAttr("required"),w(),A(),k(),D(),K(),x(),S(),ge.sceditor.isWysiwygSupported||se.toggleSourceMode(),V();var e=function(){ge(ve).unbind("load",e),g.autofocus&&Z(),g.autoExpand&&se.expandToContent(),W(),p.call("ready")};ge(ve).load(e),Te.readyState&&"complete"===Te.readyState&&e()},w=function(){var e=g.plugins;e=e?e.toString().split(","):[],p=new ge.sceditor.PluginManager(se),ge.each(e,function(e,t){p.register(ge.trim(t))})},R=function(){var e;(t=ge.sceditor.locale[g.locale])||(e=g.locale.split("-"),t=ge.sceditor.locale[e[0]]),t&&t.dateFormat&&(g.dateFormat=t.dateFormat)},D=function(){var e,t;o=ge("<textarea></textarea>").hide(),s=ge('<iframe frameborder="0"></iframe>'),g.spellcheck||o.attr("spellcheck","false"),"https:"===ve.location.protocol&&s.attr("src","javascript:false"),v.append(s).append(o),i=s[0],a=o[0],se.dimensions(g.width||ce.width(),g.height||ce.height()),(e=L()).open(),e.write(ye("html",{spellcheck:g.spellcheck?"":'spellcheck="false"',charset:g.charset,style:g.style})),e.close(),d=ge(e),m=ge(e.body),se.readOnly(!!g.readOnly),re&&d.find("html").addClass("ie ie"+re),(ge.sceditor.ios||re)&&(m.height("100%"),re||m.bind("touchend",se.focus)),u=new ge.sceditor.rangeHelper(i.contentWindow),se.val(ce.hide().val()),t=ce.attr("tabindex"),o.attr("tabindex",t),s.attr("tabindex",t)},x=function(){g.autoUpdate&&(m.bind("blur",se.updateOriginal),o.bind("blur",se.updateOriginal)),null===g.rtl&&(g.rtl="rtl"===o.css("direction")),se.rtl(!!g.rtl),g.autoExpand&&d.bind("keyup",se.expandToContent),g.resizeEnabled&&N(),v.attr("id",g.id),se.emoticons(g.emoticonsEnabled)},S=function(){ge(Te).click(j),ge(le.form).bind("reset",H).submit(se.updateOriginal),ge(ve).bind("resize orientationChanged",W),m.keypress($).keydown(F).keydown(B).keyup(Y).bind("blur",ie).keyup(oe).bind("paste",P).bind(re?"selectionchange":"keyup focus blur contextmenu mouseup touchend click",G).bind("keydown keyup keypress focus blur contextmenu",q),g.emoticonsCompat&&ve.getSelection&&m.keyup(ee),o.bind("blur",ie).keyup(oe).bind("keydown keyup keypress focus blur contextmenu",q).keydown(F),d.mousedown(z).bind("blur",ie).bind(re?"selectionchange":"focus blur contextmenu mouseup click",G).bind("beforedeactivate keyup",I).keyup(Y).focus(function(){r=null}),v.bind("selectionchanged",Q).bind("selectionchanged",V).bind("selectionchanged valuechanged nodechanged",q)},k=function(){var n,i,o,r=se.commands,a=(g.toolbarExclude||"").split(","),e=g.toolbar.split("|");c=ge('<div class="sceditor-toolbar" unselectable="on" />'),ge.each(e,function(e,t){n=ge('<div class="sceditor-group" />'),ge.each(t.split(","),function(e,t){!r[t]||-1<ge.inArray(t,a)||(o=r[t].shortcut?" ("+r[t].shortcut+")":"",(i=ye("toolbarButton",{name:t,dispName:se._(r[t].tooltip||t)+o},!0)).data("sceditor-txtmode",!!r[t].txtExec),i.data("sceditor-wysiwygmode",!!r[t].exec),i.click(function(){var e=ge(this);return e.hasClass("disabled")||O(e,r[t]),V(),!1}),r[t].tooltip&&i.attr("title",se._(r[t].tooltip)),r[t].exec||i.addClass("disabled"),r[t].shortcut&&(se.addShortcut(r[t].shortcut,t),i.attr("title",i.attr("title")+o)),n.append(i))}),n[0].firstChild&&c.append(n)}),ge(g.toolbarContainer||v).append(c)},K=function(){ge.each(se.commands,function(e,t){t.keyPress&&de.push(t.keyPress),t.forceNewLineAfter&&ge.isArray(t.forceNewLineAfter)&&(he=ge.merge(he,t.forceNewLineAfter)),t.state?pe.push({name:e,state:t.state}):"string"==typeof t.exec&&pe.push({name:e,state:t.exec})}),Y()},N=function(){var i,o,r,a,t,n,e=ge('<div class="sceditor-grip" />'),s=ge('<div class="sceditor-resize-cover" />'),l=0,c=0,d=0,u=0,h=v.width(),p=v.height(),f=!1,m=se.rtl();i=g.resizeMinHeight||p/1.5,o=g.resizeMaxHeight||2.5*p,r=g.resizeMinWidth||h/1.25,a=g.resizeMaxWidth||1.25*h,t=function(e){"touchmove"===e.type&&(e=ve.event);var t=u+(e.pageY-c),n=m?d-(e.pageX-l):d+(e.pageX-l);0<a&&a<n&&(n=a),0<o&&o<t&&(t=o),(!g.resizeWidth||n<r||0<a&&a<n)&&(n=!1),(!g.resizeHeight||t<i||0<o&&o<t)&&(t=!1),(n||t)&&(se.dimensions(n,t),re<7&&v.height(t)),e.preventDefault()},n=function(e){f&&(f=!1,s.hide(),v.removeClass("resizing").height("auto"),ge(Te).unbind("touchmove mousemove",t),ge(Te).unbind("touchend mouseup",n),e.preventDefault())},v.append(e),v.append(s.hide()),e.bind("touchstart mousedown",function(e){"touchstart"===e.type&&(e=ve.event),l=e.pageX,c=e.pageY,d=v.width(),u=v.height(),f=!0,v.addClass("resizing"),s.show(),ge(Te).bind("touchmove mousemove",t),ge(Te).bind("touchend mouseup",n),re<7&&v.height(u),e.preventDefault()})},A=function(){var i,o=g.emoticons,r=g.emoticonsRoot;ge.isPlainObject(o)&&g.emoticonsEnabled&&ge.each(o,function(n,e){ge.each(e,function(e,t){r&&(t={url:r+(t.url||t),tooltip:t.tooltip||e},o[n][e]=t),(i=Te.createElement("img")).src=t.url||t,ue.push(i)})})},Z=function(){var e,t,n,i=d[0],o=m[0],r=!!g.autofocusEnd;if(v.is(":visible")){if(se.sourceMode())n=a.value.length,a.setSelectionRange?a.setSelectionRange(n,n):a.createTextRange&&((e=a.createTextRange()).moveEnd("character",n),e.moveStart("character",n),u.selectRange(e));else{if(ge.sceditor.dom.removeWhiteSpace(o),r)for((t=o.lastChild)||m.append(t=i.createElement("div"));t.lastChild;)t=t.lastChild,/br/i.test(t.nodeName)&&t.previousSibling&&(t=t.previousSibling);else t=o.firstChild;i.createRange?(e=i.createRange(),/br/i.test(t.nodeName)?e.setStartBefore(t):e.selectNodeContents(t)):(e=o.createTextRange()).moveToElementText(3!==t.nodeType?t:t.parentNode),e.collapse(!1),u.selectRange(e),r&&(d.scrollTop(o.scrollHeight),m.scrollTop(o.scrollHeight))}se.focus()}},se.readOnly=function(e){return"boolean"!=typeof e?"readonly"===o.attr("readonly"):(m[0].contentEditable=!e,e?o.attr("readonly","readonly"):o.removeAttr("readonly"),U(e),this)},se.rtl=function(e){var t=e?"rtl":"ltr"
;return"boolean"!=typeof e?"rtl"===o.attr("dir"):(m.attr("dir",t),o.attr("dir",t),v.removeClass("rtl").removeClass("ltr").addClass(t),this)},U=function(t){var n=se.inSourceMode();c.find(".sceditor-button").removeClass("disabled").each(function(){var e=ge(this);!0===t||n&&!e.data("sceditor-txtmode")?e.addClass("disabled"):n||e.data("sceditor-wysiwygmode")||e.addClass("disabled")})},se.width=function(e,t){return e||0===e?(se.dimensions(e,null,t),this):v.width()},se.dimensions=function(e,t,n){var i=re<8||Te.documentMode<8?2:0;return t=!(!t&&0!==t)&&t,!1===(e=!(!e&&0!==e)&&e)&&!1===t?{width:se.width(),height:se.height()}:(void 0===s.data("outerWidthOffset")&&se.updateStyleCache(),!1!==e&&(!1!==n&&(g.width=e),!1===t&&(t=v.height(),n=!1),v.width(e),e&&-1<e.toString().indexOf("%")&&(e=v.width()),s.width(e-s.data("outerWidthOffset")),o.width(e-o.data("outerWidthOffset")),ge.sceditor.ios&&m&&m.width(e-s.data("outerWidthOffset")-(m.outerWidth(!0)-m.width()))),!1!==t&&(!1!==n&&(g.height=t),t&&-1<t.toString().indexOf("%")&&(t=v.height(t).height(),v.height("auto")),t-=g.toolbarContainer?0:c.outerHeight(!0),s.height(t-s.data("outerHeightOffset")),o.height(t-i-o.data("outerHeightOffset"))),this)},se.updateStyleCache=function(){s.data("outerWidthOffset",s.outerWidth(!0)-s.width()),o.data("outerWidthOffset",o.outerWidth(!0)-o.width()),s.data("outerHeightOffset",s.outerHeight(!0)-s.height()),o.data("outerHeightOffset",o.outerHeight(!0)-o.height())},se.height=function(e,t){return e||0===e?(se.dimensions(null,e,t),this):v.height()},se.maximize=function(e){return void 0===e?v.is(".sceditor-maximize"):(e=!!e,re<7&&ge("html, body").toggleClass("sceditor-maximize",e),v.toggleClass("sceditor-maximize",e),se.width(e?"100%":g.width,!1),se.height(e?"100%":g.height,!1),this)},se.expandToContent=function(e){var t=v.height(),n=m[0].scrollHeight||d[0].documentElement.scrollHeight,i=t-s.height(),o=g.resizeMaxHeight||2*(g.height||ce.height());n+=i,!0!==e&&o<n&&(n=o),t<n&&se.height(n)},se.destroy=function(){p&&(p.destroy(),p=r=u=null,ge(Te).unbind("click",j),ge(ve).unbind("resize orientationChanged",W),ge(le.form).unbind("reset",H).unbind("submit",se.updateOriginal),m.unbind(),d.unbind().find("*").remove(),o.unbind().remove(),c.remove(),v.unbind().find("*").unbind().remove(),v.remove(),ce.removeData("sceditor").removeData("sceditorbbcode").show(),E&&ce.attr("required","required"))},se.createDropDown=function(e,t,n,i){var o,r=l&&l.is(".sceditor-"+t);se.closeDropDown(),r||(!1!==i&&ge(n).find(":not(input,textarea)").filter(function(){return 1===this.nodeType}).attr("unselectable","on"),o={top:e.offset().top,left:e.offset().left,marginTop:e.outerHeight()},ge.extend(o,g.dropDownCss),l=ge('<div class="sceditor-dropdown sceditor-'+t+'" />').css(o).append(n).appendTo(ge("body")).on("click focusin",function(e){e.stopPropagation()}))},j=function(e){3!==e.which&&se.closeDropDown()},P=function(e){var t,n,i,o=m[0],r=d[0],a=0,s=Te.createElement("div"),l=r.createDocumentFragment();if(g.disablePasting)return!1;if(g.enablePasteFiltering){if(u.saveRange(),Te.body.appendChild(s),e&&e.clipboardData&&e.clipboardData.getData&&((t=e.clipboardData.getData("text/html"))||(t=e.clipboardData.getData("text/plain"))))return s.innerHTML=t,M(o,s),!1;for(i=m.scrollTop()||d.scrollTop();o.firstChild;)l.appendChild(o.firstChild);return(n=function(e,t){if(0<e.childNodes.length||25<a){for(;e.firstChild;)t.appendChild(e.firstChild);for(;l.firstChild;)e.appendChild(l.firstChild);m.scrollTop(i),d.scrollTop(i),0<t.childNodes.length?M(e,t):u.restoreRange()}else a++,setTimeout(function(){n(e,t)},20)})(o,s),se.focus(),!0}},M=function(e,t){ge.sceditor.dom.fixNesting(t);var n=t.innerHTML;p.hasHandler("toSource")&&(n=p.callOnlyFirst("toSource",n,ge(t))),t.parentNode.removeChild(t),p.hasHandler("toWysiwyg")&&(n=p.callOnlyFirst("toWysiwyg",n,!0)),u.restoreRange(),se.wysiwygEditorInsertHtml(n,null,!0)},se.closeDropDown=function(e){l&&(l.unbind().remove(),l=null),!0===e&&se.focus()},L=function(){return i.contentDocument?i.contentDocument:i.contentWindow&&i.contentWindow.document?i.contentWindow.document:i.document?i.document:null},se.wysiwygEditorInsertHtml=function(e,t,n){var i,o,r,a=s.height();se.focus(),(n||!ge(T).is("code")&&0===ge(T).parents("code").length)&&(u.insertHTML(e,t),u.saveRange(),_(m[0]),i=m.find("#sceditor-end-marker").show(),o=m.scrollTop()||d.scrollTop(),r=ge.sceditor.dom.getOffset(i[0]).top+1.5*i.outerHeight(!0)-a,i.hide(),(o<r||r+a<o)&&(m.scrollTop(r),d.scrollTop(r)),ne(!1),u.restoreRange(),Y())},se.wysiwygEditorInsertText=function(e,t){se.wysiwygEditorInsertHtml(ge.sceditor.escapeEntities(e),ge.sceditor.escapeEntities(t))},se.insertText=function(e,t){return se.inSourceMode()?se.sourceEditorInsertText(e,t):se.wysiwygEditorInsertText(e,t),this},se.sourceEditorInsertText=function(e,t){var n,i,o,r;r=a.scrollTop,a.focus(),"undefined"!=typeof a.selectionStart?(i=a.selectionStart,o=a.selectionEnd,e.length,t&&(e+=a.value.substring(i,o)+t),a.value=a.value.substring(0,i)+e+a.value.substring(o,a.value.length),a.selectionStart=i+e.length-(t?t.length:0),a.selectionEnd=a.selectionStart):"undefined"!=typeof Te.selection.createRange?(n=Te.selection.createRange(),t&&(e+=n.text+t),n.text=e,t&&n.moveEnd("character",0-t.length),n.moveStart("character",n.End-n.Start),n.select()):a.value+=e+t,a.scrollTop=r,a.focus(),ne()},se.getRangeHelper=function(){return u},se.sourceEditorCaret=function(e){var t={};return"undefined"!=typeof a.selectionStart?e?(a.selectionStart=e.start,a.selectionEnd=e.end):(t.start=a.selectionStart,t.end=a.selectionEnd):(range=Te.selection.createRange(),e?(range.moveStart("character",e.start),range.moveEnd("character",e.end),range.select()):(t.start=range.Start,t.end=range.End)),e?this:t},se.val=function(e,t){return"string"==typeof e?(se.inSourceMode()?se.setSourceEditorValue(e):(!1!==t&&p.hasHandler("toWysiwyg")&&(e=p.callOnlyFirst("toWysiwyg",e)),se.setWysiwygEditorValue(e)),this):se.inSourceMode()?se.getSourceEditorValue(!1):se.getWysiwygEditorValue()},se.insert=function(e,t,n,i,o){if(se.inSourceMode())se.sourceEditorInsertText(e,t);else{if(t){var r=se.getRangeHelper().selectedHtml(),a=ge("<div>").appendTo(ge("body")).hide().html(r);!1!==n&&p.hasHandler("toSource")&&(r=p.callOnlyFirst("toSource",r,a)),a.remove(),e+=r+t}!1!==n&&p.hasHandler("toWysiwyg")&&(e=p.callOnlyFirst("toWysiwyg",e,!0)),!1!==n&&!0===o&&(e=e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")),se.wysiwygEditorInsertHtml(e)}return this},se.getWysiwygEditorValue=function(e){var t,n,i=u.hasSelection();return i?u.saveRange():r&&r.getBookmark&&(n=r.getBookmark()),ge.sceditor.dom.fixNesting(m[0]),t=m.html(),!1!==e&&p.hasHandler("toSource")&&(t=p.callOnlyFirst("toSource",t,m)),i?(u.restoreRange(),r=null):n&&(r.moveToBookmark(n),r=null),t},se.getBody=function(){return m},se.getContentAreaContainer=function(){return s},se.getSourceEditorValue=function(e){var t=o.val();return!1!==e&&p.hasHandler("toWysiwyg")&&(t=p.callOnlyFirst("toWysiwyg",t)),t},se.setWysiwygEditorValue=function(e){e||(e="<p>"+(re?"":"<br />")+"</p>"),m[0].innerHTML=e,_(m[0]),Y(),ne()},se.setSourceEditorValue=function(e){o.val(e),ne()},se.updateOriginal=function(){ce.val(se.val())},_=function(e){if(g.emoticonsEnabled&&!ge(e).parents("code").length){var d=e.ownerDocument,u=[],h=[],p=ge.extend({},g.emoticons.more,g.emoticons.dropdown,g.emoticons.hidden);ge.each(p,function(e){g.emoticonsCompat&&(h[e]=new RegExp("(>|^|\\s|\xa0|\u2002|\u2003|\u2009|&nbsp;)"+ge.sceditor.regexEscape(e)+"(\\s|$|<|\xa0|\u2002|\u2003|\u2009|&nbsp;)")),u.push(e)}),function f(e){for(e=e.firstChild;null!=e;){var t,n,i,o,r,a,s,l=e.parentNode,c=e.nodeValue;if(3!==e.nodeType)ge(e).is("code")||f(e);else if(c)for(r=u.length;r--;)n=u[r],-1<(s=g.emoticonsCompat?c.search(h[n]):c.indexOf(n))&&(a=e.nextSibling,i=p[n],t=c.substr(s).split(n),c=c.substr(0,s)+t.shift(),e.nodeValue=c,o=ge.sceditor.dom.parseHTML(ye("emoticon",{key:n,url:i.url||i,tooltip:i.tooltip||n}),d),l.insertBefore(o[0],a),l.insertBefore(d.createTextNode(t.join(n)),a));e=e.nextSibling}}(e),g.emoticonsCompat&&(me=m.find("img[data-sceditor-emoticon]"))}},se.inSourceMode=function(){return v.hasClass("sourceMode")},se.sourceMode=function(e){return"boolean"!=typeof e?se.inSourceMode():((se.inSourceMode()&&!e||!se.inSourceMode()&&e)&&se.toggleSourceMode(),this)},se.toggleSourceMode=function(){(ge.sceditor.isWysiwygSupported||!se.inSourceMode())&&(se.blur(),se.inSourceMode()?se.setWysiwygEditorValue(se.getSourceEditorValue()):se.setSourceEditorValue(se.getWysiwygEditorValue()),r=null,o.toggle(),s.toggle(),se.inSourceMode()?v.removeClass("sourceMode").addClass("wysiwygMode"):v.removeClass("wysiwygMode").addClass("sourceMode"),U(),V())},X=function(){return a.focus(),null!=a.selectionStart?a.value.substring(a.selectionStart,a.selectionEnd):Te.selection.createRange?Te.selection.createRange().text:void 0},O=function(e,t){return se.inSourceMode()?void(t.txtExec&&(ge.isArray(t.txtExec)?se.sourceEditorInsertText.apply(se,t.txtExec):t.txtExec.call(se,e,X()))):void(t.exec&&(ge.isFunction(t.exec)?t.exec.call(se,e):se.execCommand(t.exec,t.hasOwnProperty("execParam")?t.execParam:null)))},I=function(){re&&(r=u.selectedRange())},se.execCommand=function(e,t){var n=!1,i=ge(u.parentNode());if(se.focus(),!i.is("code")&&0===i.parents("code").length){try{n=d[0].execCommand(e,!1,t)}catch(g){}!n&&se.commands[e]&&se.commands[e].errorMessage&&alert(se._(se.commands[e].errorMessage))}},G=function(){var e=function(){u&&!u.compare(n)&&(n=u.cloneSelected(),v.trigger(ge.Event("selectionchanged"))),y=!1};y||(y=!0,re?e():setTimeout(e,100))},Q=function(){var e,t=u.parentNode();f!==t&&(e=f,f=t,T=u.getFirstBlockParent(t),v.trigger(ge.Event("nodechanged",{oldNode:e,newNode:f})))},se.currentNode=function(){return f},se.currentBlockNode=function(){return T},V=function(e){var t,n,i,o,r,a=d[0],s=pe.length,l=se.sourceMode();if(se.sourceMode()||se.readOnly())c.find(".sceditor-button").removeClass("active");else for(r=e?e.newNode:u.parentNode(),i=u.getFirstBlockParent(r);s--;)if(t=0,n=pe[s],o=c.find(".sceditor-button-"+n.name),l&&!o.data("sceditor-txtmode"))o.addClass("disabled");else if(l||o.data("sceditor-wysiwygmode")){if("string"==typeof n.state)try{-1<(t=a.queryCommandEnabled(n.state)?0:-1)&&(t=a.queryCommandState(n.state)?1:0)}catch(m){}else t=n.state.call(se,r,i);t<0?o.addClass("disabled"):o.removeClass("disabled"),0<t?o.addClass("active"):o.removeClass("active")}else o.addClass("disabled")},$=function(e){var t,n;if(!e.originalEvent.defaultPrevented){if(se.closeDropDown(),t=ge(f),13===e.which&&(t.is("code,blockquote,pre")||0!==t.parents("code,blockquote,pre").length))return r=null,se.wysiwygEditorInsertHtml("<br />",null,!0),!1;if(!t.is("code")&&0===t.parents("code").length)for(n=de.length;n--;)de[n].call(se,e,i,o)}},Y=function(){var t,n,i;ge.sceditor.dom.rTraverse(m[0],function(e){return t=e.nodeName.toLowerCase(),-1<ge.inArray(t,he)&&(n=!0),3===e.nodeType&&!/^\s*$/.test(e.nodeValue)||"br"===t||ae&&!e.firstChild&&!ge.sceditor.dom.isInline(e,!1)?(n&&((i=m[0].ownerDocument.createElement("div")).className="sceditor-nlf",i.innerHTML=ae?"":"<br />",m[0].appendChild(i)),!1):void 0})},H=function(){se.val(ce.val())},z=function(){se.closeDropDown(),r=null},W=function(){var e=g.height,t=g.width;se.maximize()?se.dimensions("100%","100%",!1):(e&&-1<e.toString().indexOf("%")||t&&-1<t.toString().indexOf("%"))&&se.dimensions(t,e)},se._=function(){var n,i=arguments;return t&&t[i[0]]&&(i[0]=t[i[0]]),i[0].replace(/\{(\d+)\}/g,function(e,t){return i[t-0+1]!==n?i[t-0+1]:"{"+t+"}"})},q=function(e){var t,n=ge.extend({},e);p.call(n.type+"Event",e,se),delete n.type,t=ge.Event((e.target===a?"scesrc":"scewys")+e.type,n),v.trigger(t,se),t.isDefaultPrevented()&&e.preventDefault(),t.isImmediatePropagationStopped()&&t.stopImmediatePropagation(),t.isPropagationStopped()&&t.stopPropagation()},se.bind=function(e,t,n,i){for(var o=(e=e.split(" ")).length;o--;)ge.isFunction(t)&&(n||v.bind("scewys"+e[o],t),i||v.bind("scesrc"+e[o],t),"valuechanged"===e[o]&&(ne.hasHandler=!0));return this},se.unbind=function(e,t,n,i){for(var o=(e=e.split(" ")).length;o--;)ge.isFunction(t)&&(n||v.unbind("scewys"+e[o],t),i||v.unbind("scesrc"+e[o],t));return this},se.blur=function(e,t,n){return ge.isFunction(e)?se.bind("blur",e,t,n):se.sourceMode()?o.blur():(h||(h=ge('<input style="position:absolute;width:0;height:0;opacity:0;border:0;padding:0;filter:alpha(opacity=0)" type="text" />').appendTo(v)),h.removeAttr("disabled").show().focus().blur().hide().attr("disabled","disabled")),this},se.focus=function(e,t,n){return ge.isFunction(e)?se.bind("focus",e,t,n):se.inSourceMode()?a.focus():(i.contentWindow.focus(),m[0].focus(),r&&(u.selectRange(r),r=null)),this},se.keyDown=function(e,t,n){return se.bind("keydown",e,t,n)},se.keyPress=function(e,t,n){return se.bind("keypress",e,t,n)},se.keyUp=function(e,t,n){return se.bind("keyup",e,t,n)},se.nodeChanged=function(e){return se.bind("nodechanged",e,!1,!0)},se.selectionChanged=function(e){return se.bind("selectionchanged",e,!1,!0)},se.valueChanged=function(e,t,n){return se.bind("valuechanged",e,t,n)},J=function(e){var n=0,t=String.fromCharCode(e.which);if(!ge(T).is("code")&&!ge(T).parents("code").length)return se.emoticonsCache||(se.emoticonsCache=[],ge.each(ge.extend({},g.emoticons.more,g.emoticons.dropdown,g.emoticons.hidden),function(e,t){se.emoticonsCache[n++]=[e,ye("emoticon",{key:e,url:t.url||t,tooltip:t.tooltip||e})]}),se.emoticonsCache.sort(function(e,t){return e[0].length-t[0].length}),se.longestEmoticonCode=se.emoticonsCache[se.emoticonsCache.length-1][0].length),se.getRangeHelper().raplaceKeyword(se.emoticonsCache,!0,!0,se.longestEmoticonCode,g.emoticonsCompat,t)?(g.emoticonsCompat&&(me=m.find("img[data-sceditor-emoticon]")),/^\s$/.test(t)&&g.emoticonsCompat):void 0},ee=function(){if(me.length){var t,n,i,o,r,a,s=se.currentBlockNode(),l=!1,c=/[^\s\xA0\u2002\u2003\u2009\u00a0]+/;me=ge.map(me,function(e){return e&&e.parentNode?ge.contains(s,e)?(t=e.previousSibling,n=e.nextSibling,null===(r=t.nodeValue)&&(r=t.innerText||""),t&&c.test(t.nodeValue.slice(-1))||n&&c.test((n.nodeValue||"")[0])?(i=e.parentNode,o=u.cloneSelected(),a=o.startContainer,r+=ge(e).data("sceditor-emoticon"),a===n?l=r.length+o.startOffset:a===s&&s.childNodes[o.startOffset]===n?l=r.length:a===t&&(l=o.startOffset),n&&3===n.nodeType||(n=i.insertBefore(i.ownerDocument.createTextNode(""),n)),n.insertData(0,r),i.removeChild(t),i.removeChild(e),!1!==l&&(o.setStart(n,l),o.collapse(!0),u.selectRange(o)),null):e):e:null})}},se.emoticons=function(e){return e||!1===e?((g.emoticonsEnabled=e)?(m.keypress(J),se.sourceMode()||(u.saveRange(),_(m[0]),me=m.find("img[data-sceditor-emoticon]"),ne(!1),u.restoreRange())):(m.find("img[data-sceditor-emoticon]").replaceWith(function(){return ge(this).data("sceditor-emoticon")}),me=[],m.unbind("keypress",J),ne()),this):g.emoticonsEnabled},se.css=function(e){return b||(b=ge('<style id="#inline" />').appendTo(d.find("head"))[0]),"string"!=typeof e?b.styleSheet?b.styleSheet.cssText:b.innerHTML:(b.styleSheet?b.styleSheet.cssText=e:b.innerHTML=e,this)},F=function(e){var t=[],n={"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":":","'":'"',",":"<",".":">","/":"?","\\":"|","[":"{","]":"}"},i={8:"backspace",9:"tab",13:"enter",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",91:"win",92:"win",93:"select",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scrolllock",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},o={109:"-",110:"del",111:"/",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"},r=e.which,a=i[r]||String.fromCharCode(r).toLowerCase();return e.ctrlKey&&t.push("ctrl"),e.altKey&&t.push("alt"),e.shiftKey&&(t.push("shift"),o[r]?a=o[r]:n[a]&&(a=n[a])),a&&(r<16||18<r)&&t.push(a),t=t.join("+"),fe[t]?fe[t].call(se):void 0},se.addShortcut=function(e,t){return e=e.toLowerCase(),fe[e]="string"==typeof t?function(){return O(c.find(".sceditor-button-"+t),se.commands[t]),!1}:t,this},se.removeShortcut=function(e){return delete fe[e.toLowerCase()],this},B=function(e){var t,n,i,o;if(!re&&!g.disableBlockRemove&&8===e.which&&(i=u.selectedRange())&&(0===(ve.getSelection?(t=i.startContainer,i.startOffset):(t=i.parentElement(),(n=d[0].selection.createRange()).moveToElementText(t),n.setEndPoint("EndToStart",i),n.text.length))&&(o=te()))){for(;t!==o;){for(;t.previousSibling;)if(3!==(t=t.previousSibling).nodeType||t.nodeValue)return;if(!(t=t.parentNode))return}if(o&&!ge(o).is("body"))return se.clearBlockFormatting(o),!1}},te=function(){for(var e=T;!ge.sceditor.dom.hasStyling(e);)if(!(e=e.parentNode)||ge(e).is("body"))return;return e},se.clearBlockFormatting=function(e){return!(e=e||te())||ge(e).is("body")||(u.saveRange(),r=null,e.className="",ge(e).attr("style",""),ge(e).is("p,div")||ge.sceditor.dom.convertElement(e,"p"),u.restoreRange()),this},ne=function(e){if(p.hasHandler("valuechangedEvent")||ne.hasHandler){var t,n=se.sourceMode(),i=!n&&u.hasSelection();e=!1!==e&&!d[0].getElementById("sceditor-start-marker"),oe.timer&&(clearTimeout(oe.timer),oe.timer=!1),i&&e&&u.saveRange(),(t=m.html())!==ne.lastHtmlValue&&(ne.lastHtmlValue=t,v.trigger(ge.Event("valuechanged",{rawValue:n?se.val():t}))),i&&e&&u.removeMarkers()}},ie=function(){oe.timer&&ne()},oe=function(e){var t=e.which,n=oe.lastChar,i=13===n||32===n,o=8===n||46===n;13===(oe.lastChar=t)||32===t?i?oe.triggerNextChar=!0:ne():8===t||46===t?o?oe.triggerNextChar=!0:ne():oe.triggerNextChar&&(ne(),oe.triggerNextChar=!1),oe.timer&&clearTimeout(oe.timer),oe.timer=setTimeout(function(){ne()},1500)},C()},ge.sceditor.ie=function(){for(var e,t=3,n=Te.createElement("div"),i=n.getElementsByTagName("i");n.innerHTML="<!--[if gt IE "+ ++t+"]><i></i><![endif]-->",i[0];);return Te.documentMode&&Te.all&&ve.atob&&(t=10),4===t&&Te.documentMode&&(t=11),4<t?t:e}(),ge.sceditor.ios=/iPhone|iPod|iPad| wosbrowser\//i.test(navigator.userAgent),ge.sceditor.isWysiwygSupported=(n=ge('<div contenteditable="true">')[0].contentEditable,i=void 0!==n&&"inherit"!==n,o=navigator.userAgent,!!i&&(t=/Opera Mobi|Opera Mini/i.test(o),/Android/i.test(o)&&(t=!0,/Safari/.test(o)&&(t=!(e=/Safari\/(\d+)/.exec(o))||!e[1]||e[1]<534)),/ Silk\//i.test(o)&&(t=!(e=/AppleWebKit\/(\d+)/.exec(o))||!e[1]||e[1]<534),ge.sceditor.ios&&(t=!/OS [5-9](_\d)+ like Mac OS X/i.test(o)),/fennec/i.test(o)&&(t=!1),/OneBrowser/i.test(o)&&(t=!1),"UCWEB"===navigator.vendor&&(t=!1),!t)),ge.sceditor.regexEscape=function(e){return e.replace(/([\-.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")},ge.sceditor.escapeEntities=function(e,t){return e&&(e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/ {2}/g," &nbsp;").replace(/\r\n|\r/g,"\n").replace(/\n/g,"<br />"),t&&(e=e.replace(/"/g,"&#34;").replace(/'/g,"&#39;"))),e},ge.sceditor.escapeUriScheme=function(e){var t,n=/^(?:https?|s?ftp|mailto|spotify|skype|ssh|teamspeak|tel):|(?:\/\/)/i,i=/^[^\/]*:/i,o=ve.location;return e&&i.test(e)&&!n.test(e)?((t=o.pathname.split("/")).pop(),o.protocol+"://"+o.host+t.join("/")+"/"+e):e},ge.sceditor.locale={},ge.sceditor.commands={bold:{exec:"bold",tooltip:"Bold",shortcut:"ctrl+b"},italic:{exec:"italic",tooltip:"Italic",shortcut:"ctrl+i"},underline:{exec:"underline",tooltip:"Underline",shortcut:"ctrl+u"},strike:{exec:"strikethrough",tooltip:"Strikethrough"},subscript:{exec:"subscript",tooltip:"Subscript"},superscript:{exec:"superscript",tooltip:"Superscript"},left:{exec:"justifyleft",tooltip:"Align left"},center:{exec:"justifycenter",tooltip:"Center"},right:{exec:"justifyright",tooltip:"Align right"},justify:{exec:"justifyfull",tooltip:"Justify"},font:{_dropDown:function(e,t,n){for(var i=e.opts.fonts.split(","),o=ge("<div />"),r=function(){return n(ge(this).data("font")),e.closeDropDown(!0),!1},a=0;a<i.length;a++)o.append(ye("fontOpt",{font:i[a]},!0).click(r));e.createDropDown(t,"font-picker",o)},exec:function(e){var t=this;ge.sceditor.command.get("font")._dropDown(t,e,function(e){t.execCommand("fontname",e)})},tooltip:"Font Name"},size:{_dropDown:function(t,e,n){for(var i=ge("<div />"),o=function(e){n(ge(this).data("size")),t.closeDropDown(!0),e.preventDefault()},r=1;r<=7;r++)i.append(ye("sizeOpt",{size:r},!0).click(o));t.createDropDown(e,"fontsize-picker",i)},exec:function(e){var t=this;ge.sceditor.command.get("size")._dropDown(t,e,function(e){t.execCommand("fontsize",e)})},tooltip:"Font Size"},color:{_dropDown:function(t,e,n){var i,o,r,a,s={r:255,g:255,b:255},l=ge("<div />"),c=t.opts.colors?t.opts.colors.split("|"):new Array(21),d=[],u=ge.sceditor.command.get("color");if(!u._htmlCache){for(i=0;i<c.length;++i){for(a=c[i]?c[i].split(","):new Array(21),d.push('<div class="sceditor-color-column">'),o=0;o<a.length;++o)r=a[o]||"#"+s.r.toString(16)+s.g.toString(16)+s.b.toString(16),d.push('<a href="#" class="sceditor-color-option" style="background-color: '+r+'" data-color="'+r+'"></a>'),o%5==0?(s.g-=51,s.b=255):s.b-=51;d.push("</div>"),s.b=(s.g=(i%5==0&&(s.r-=51),255),255)}u._htmlCache=d.join("")}l.append(u._htmlCache).find("a").click(function(e){n(ge(this).attr("data-color")),t.closeDropDown(!0),e.preventDefault()}),t.createDropDown(e,"color-picker",l)},exec:function(e){var t=this;ge.sceditor.command.get("color")._dropDown(t,e,function(e){t.execCommand("forecolor",e)})},tooltip:"Font Color"},removeformat:{exec:"removeformat",tooltip:"Remove Formatting"},cut:{exec:"cut",tooltip:"Cut",errorMessage:"Your browser does not allow the cut command. Please use the keyboard shortcut Ctrl/Cmd-X"},copy:{exec:"copy",tooltip:"Copy",errorMessage:"Your browser does not allow the copy command. Please use the keyboard shortcut Ctrl/Cmd-C"},paste:{exec:"paste",tooltip:"Paste",errorMessage:"Your browser does not allow the paste command. Please use the keyboard shortcut Ctrl/Cmd-V"},pastetext:{exec:function(e){var t,n=this,i=ye("pastetext",{label:n._("Paste your text inside the following box:"),insert:n._("Insert")},!0);i.find(".button").click(function(e){(t=i.find("#txt").val())&&n.wysiwygEditorInsertText(t),n.closeDropDown(!0),e.preventDefault()}),n.createDropDown(e,"pastetext",i)},tooltip:"Paste Text"},bulletlist:{exec:"insertunorderedlist",tooltip:"Bullet list"},orderedlist:{exec:"insertorderedlist",tooltip:"Numbered list"},indent:{state:function(e,t){var n,i,o,r=ge(t),a=r.parents("ul,ol,menu"),s=a.first();if(1<a.length||1<s.children().length)return 0;if(r.is("ul,ol,menu")){if(n=this.getRangeHelper().selectedRange(),!(ve.Range&&n instanceof Range))return r.is("li,ul,ol,menu")?0:-1;if(i=n.startContainer.parentNode,o=n.endContainer.parentNode,i!==i.parentNode.firstElementChild||ge(o).is("li")&&o!==o.parentNode.lastElementChild)return 0}return-1},exec:function(){var e=this,t=ge(e.getRangeHelper().getFirstBlockParent());e.focus(),t.parents("ul,ol,menu")&&e.execCommand("indent")},tooltip:"Add indent"},outdent:{state:function(e,t){return ge(t).is("ul,ol,menu")||0<ge(t).parents("ul,ol,menu").length?0:-1},exec:function(){var e=this;ge(e.getRangeHelper().getFirstBlockParent()).parents("ul,ol,menu")&&e.execCommand("outdent")},tooltip:"Remove one indent"},table:{exec:function(e){var s=this,l=ye("table",{rows:s._("Rows:"),cols:s._("Cols:"),insert:s._("Insert")},!0);l.find(".button").click(function(e){var t=ge.sceditor.ie,n=l.find("#rows").val()-0,i=l.find("#cols").val()-0,o="<table>";if(!(n<1||i<1)){for(var r=0;r<n;r++){o+="<tr>";for(var a=0;a<i;a++)o+="<td>"+(t&&t<11?"":"<br />")+"</td>";o+="</tr>"}o+="</table>",s.wysiwygEditorInsertHtml(o),s.closeDropDown(!0),e.preventDefault()}}),s.createDropDown(e,"inserttable",l)},tooltip:"Insert a table"},horizontalrule:{exec:"inserthorizontalrule",tooltip:"Insert a horizontal rule"},code:{forceNewLineAfter:["code"],exec:function(){this.wysiwygEditorInsertHtml("<code>","<br /></code>")},tooltip:"Code"},image:{exec:function(e){var r=this,a=ye("image",{url:r._("URL:"),width:r._("Width (optional):"),height:r._("Height (optional):"),insert:r._("Insert")},!0);a.find(".button").click(function(e){var t=a.find("#image").val(),n=a.find("#width").val(),i=a.find("#height").val(),o="";n&&(o+=' width="'+n+'"'),i&&(o+=' height="'+i+'"'),t&&"http://"!==t&&r.wysiwygEditorInsertHtml("<img"+o+' src="'+t+'" />'),r.closeDropDown(!0),e.preventDefault()}),r.createDropDown(e,"insertimage",a)},tooltip:"Insert an image"},email:{exec:function(e){var n=this,i=ye("email",{label:n._("E-mail:"),insert:n._("Insert")},!0);i.find(".button").click(function(e){var t=i.find("#email").val();t&&(n.focus(),n.getRangeHelper().selectedHtml()?n.execCommand("createlink","mailto:"+t):n.wysiwygEditorInsertHtml('<a href="mailto:'+t+'">'+t+"</a>")),n.closeDropDown(!0),e.preventDefault()}),n.createDropDown(e,"insertemail",i)},tooltip:"Insert an email"},link:{exec:function(e){var i=this,o=ye("link",{url:i._("URL:"),desc:i._("Description (optional):"),ins:i._("Insert")},!0);o.find(".button").click(function(e){var t=o.find("#link").val(),n=o.find("#des").val();t&&"http://"!==t&&(i.focus(),!i.getRangeHelper().selectedHtml()||n?(n||(n=t),i.wysiwygEditorInsertHtml('<a href="'+t+'">'+n+"</a>")):i.execCommand("createlink",t)),i.closeDropDown(!0),e.preventDefault()}),i.createDropDown(e,"insertlink",o)},tooltip:"Insert a link"},unlink:{state:function(){var e=ge(this.currentNode());return e.is("a")||0<e.parents("a").length?0:-1},exec:function(){var e=ge(this.currentNode()),t=e.is("a")?e:e.parents("a").first();t.length&&t.replaceWith(t.contents())},tooltip:"Unlink"},quote:{forceNewLineAfter:["blockquote"],exec:function(e,t,n){var i=ge.sceditor.ie,o="<blockquote>",r="</blockquote>";t?(o=o+(n=n?"<cite>"+n+"</cite>":"")+t+r,r=null):""===this.getRangeHelper().selectedHtml()&&(r=i&&i<11?"":"<br />"+r),this.wysiwygEditorInsertHtml(o,r)},tooltip:"Insert a Quote"},emoticon:{exec:function(c){var d=this,u=function(e){var t=d.opts.emoticonsCompat,n=d.getRangeHelper(),i=t&&" "!==n.getOuterText(!0,1)?" ":"",o=t&&" "!==n.getOuterText(!1,1)?" ":"",r=ge("<div />"),a=ge("<div />").appendTo(r),s=ge.extend({},d.opts.emoticons.dropdown,e?d.opts.emoticons.more:{}),l=0;return ge.each(s,function(){l++}),l=Math.sqrt(l),ge.each(s,function(e,t){a.append(ge("<img />").attr({src:t.url||t,alt:e,title:t.tooltip||e}).click(function(){return d.insert(i+ge(this).attr("alt")+o,null,!1).closeDropDown(!0),!1})),a.children().length>=l&&(a=ge("<div />").appendTo(r))}),e||r.append(ge(d._('<a class="sceditor-more">{0}</a>',d._("More"))).click(function(){return d.createDropDown(c,"more-emoticons",u(!0)),!1})),r};d.createDropDown(c,"emoticons",u(!1))},txtExec:function(e){ge.sceditor.command.get("emoticon").exec.call(this,e)},tooltip:"Insert an emoticon"},youtube:{_dropDown:function(n,e,i){var o,r=ye("youtubeMenu",{label:n._("Video URL:"),insert:n._("Insert")},!0);r.find(".button").click(function(e){var t=r.find("#link").val().replace("http://","");""!==t&&((o=t.match(/(?:v=|v\/|embed\/|youtu.be\/)(.{11})/))&&(t=o[1]),/^[a-zA-Z0-9_\-]{11}$/.test(t)?i(t):alert("Invalid YouTube video")),n.closeDropDown(!0),e.preventDefault()}),n.createDropDown(e,"insertlink",r)},exec:function(e){var t=this;ge.sceditor.command.get("youtube")._dropDown(t,e,function(e){t.wysiwygEditorInsertHtml(ye("youtube",{id:e}))})},tooltip:"Insert a YouTube video"},date:{_date:function(e){var t=new Date,n=t.getYear(),i=t.getMonth()+1,o=t.getDate();return n<2e3&&(n=1900+n),i<10&&(i="0"+i),o<10&&(o="0"+o),e.opts.dateFormat.replace(/year/i,n).replace(/month/i,i).replace(/day/i,o)},exec:function(){this.insertText(ge.sceditor.command.get("date")._date(this))},txtExec:function(){this.insertText(ge.sceditor.command.get("date")._date(this))},tooltip:"Insert current date"},time:{_time:function(){var e=new Date,t=e.getHours(),n=e.getMinutes(),i=e.getSeconds();return t<10&&(t="0"+t),n<10&&(n="0"+n),i<10&&(i="0"+i),t+":"+n+":"+i},exec:function(){this.insertText(ge.sceditor.command.get("time")._time())},txtExec:function(){this.insertText(ge.sceditor.command.get("time")._time())},tooltip:"Insert current time"},ltr:{state:function(e,t){return t&&"ltr"===t.style.direction},exec:function(){var e=this,t=e.getRangeHelper().getFirstBlockParent(),n=ge(t);e.focus(),(t&&!n.is("body")||(e.execCommand("formatBlock","p"),t=e.getRangeHelper().getFirstBlockParent(),n=ge(t),t&&!n.is("body")))&&("ltr"===n.css("direction")?n.css("direction",""):n.css("direction","ltr"))},tooltip:"Left-to-Right"},rtl:{state:function(e,t){return t&&"rtl"===t.style.direction},exec:function(){var e=this,t=e.getRangeHelper().getFirstBlockParent(),n=ge(t);e.focus(),(t&&!n.is("body")||(e.execCommand("formatBlock","p"),t=e.getRangeHelper().getFirstBlockParent(),n=ge(t),t&&!n.is("body")))&&("rtl"===n.css("direction")?n.css("direction",""):n.css("direction","rtl"))},tooltip:"Right-to-Left"},print:{exec:"print",tooltip:"Print"},maximize:{state:function(){return this.maximize()},exec:function(){this.maximize(!this.maximize())},txtExec:function(){this.maximize(!this.maximize())},tooltip:"Maximize",shortcut:"ctrl+shift+m"},source:{exec:function(){this.toggleSourceMode()},txtExec:function(){this.toggleSourceMode()},tooltip:"View source",shortcut:"ctrl+shift+s"},ignore:{}},ge.sceditor.rangeHelper=function(e,t){var s,i,r,l=t||e.contentDocument||e.document,o=e,m=!!e.getSelection,c="sceditor-start-marker",d="sceditor-end-marker",a="character",g=this;g.insertHTML=function(e,t){var n,i,o=g.selectedRange();if(m){for(t&&(e+=g.selectedHtml()+t),i=l.createElement("div"),n=l.createDocumentFragment(),i.innerHTML=e;i.firstChild;)n.appendChild(i.firstChild);g.insertNode(n)}else{if(!o)return!1;o.pasteHTML(r(e,t,!0))}},r=function(e,t,n){var i,o,r,a=l.createElement("div");if("string"==typeof e?(t&&(e+=g.selectedHtml()+t),a.innerHTML=e):(a.appendChild(e),t&&(a.appendChild(range.extractContents()),a.appendChild(t))),i=a.lastChild){if(g.removeMarkers(),o=ge(i),ge.sceditor.dom.canHaveChildren(i)?(i.lastChild||o.append(l.createTextNode("\u200b")),o.append(s(d)).append(s(c))):o.after(s(c)).after(s(d)),n)return a.innerHTML;for(r=l.createDocumentFragment();a.firstChild;)r.appendChild(a.firstChild);return r}},g.insertNode=function(e,t){if(m){var n=r(e,t),i=g.selectedRange(),o=i.commonAncestorContainer;if(!n)return!1;i.deleteContents(),o&&/^(br|hr)$/i.test(o.nodeName)?o.parentNode.insertBefore(n,o):i.insertNode(n),g.restoreRange()}else g.insertHTML(e.outerHTML,t?t.outerHTML:null)},g.cloneSelected=function(){var e=g.selectedRange();return e?m?e.cloneRange():e.duplicate():void 0},g.selectedRange=function(){var e,t,n=m?o.getSelection():l.selection;if(n){if(n.getRangeAt&&n.rangeCount<=0){for(t=l.body;t.firstChild;)t=t.firstChild;(e=l.createRange()).setStart(t,0),n.addRange(e)}return m&&(e=n.getRangeAt(0)),m||"Control"===n.type||(e=n.createRange()),i(e)?e:null}},i=function(e){var t;return!(e&&e.parentElement&&(t=e.parentElement()))||t.ownerDocument===l},g.hasSelection=function(){var e,t=m?o.getSelection():l.selection;return m||!t?t&&0<t.rangeCount:(e=t.createRange())&&i(e)},g.selectedHtml=function(){var e,t=g.selectedRange();return t?!m&&""!==t.text&&t.htmlText?t.htmlText:m?((e=l.createElement("div")).appendChild(t.cloneContents()),e.innerHTML):"":""},g.parentNode=function(){var e=g.selectedRange();return e?e.parentElement?e.parentElement():e.commonAncestorContainer:void 0},g.getFirstBlockParent=function(e){var t=function(e){return ge.sceditor.dom.isInline(e,!0)?(e=e?e.parentNode:null)?t(e):null:e};return t(e||g.parentNode())},g.insertNodeAt=function(e,t){var n=g.selectedRange(),i=g.cloneSelected();return!!i&&(i.collapse(e),i.insertNode?i.insertNode(t):i.pasteHTML(t.outerHTML),void g.selectRange(n))},s=function(e){g.removeMarker(e);var t=l.createElement("span");return t.id=e,t.style.lineHeight="0",t.style.display="none",t.className="sceditor-selection sceditor-ignore",t.innerHTML=" ",t},g.insertMarkers=function(){g.insertNodeAt(!0,s(c)),g.insertNodeAt(!1,s(d))},g.getMarker=function(e){return l.getElementById(e)},g.removeMarker=function(e){var t=g.getMarker(e);t&&t.parentNode.removeChild(t)},g.removeMarkers=function(){g.removeMarker(c),g.removeMarker(d)},g.saveRange=function(){g.insertMarkers()},g.selectRange=function(e){m?(o.getSelection().removeAllRanges(),o.getSelection().addRange(e)):e.select()},g.restoreRange=function(){var e,t=g.selectedRange(),n=g.getMarker(c),i=g.getMarker(d);return!!(n&&i&&t)&&(m?((t=l.createRange()).setStartBefore(n),t.setEndAfter(i)):(t=l.body.createTextRange(),(e=l.body.createTextRange()).moveToElementText(n),t.setEndPoint("StartToStart",e),t.moveStart(a,0),e.moveToElementText(i),t.setEndPoint("EndToStart",e),t.moveEnd(a,0)),g.selectRange(t)
,void g.removeMarkers())},g.selectOuterText=function(e,t){var n=g.cloneSelected();return!!n&&(n.collapse(!1),m?(n.setStart(n.startContainer,n.startOffset-e),n.setEnd(n.endContainer,n.endOffset+t)):(n.moveStart(a,0-e),n.moveEnd(a,t)),void g.selectRange(n))},g.getOuterText=function(e,t){var n="",i=g.cloneSelected();return i?(i.collapse(!1),n=e?m?(n=i.startContainer.textContent.substr(0,i.startOffset)).substr(Math.max(0,n.length-t)):(i.moveStart(a,0-t),i.text):m?i.startContainer.textContent.substr(i.startOffset,t):(i.moveEnd(a,t),i.text)):""},g.raplaceKeyword=function(e,t,n,i,o,r){n||e.sort(function(e,t){return e.length-t.length});var a,s,l,c,d,u,h,p=e.length,f=i||e[p-1][0].length;if(o){if(!m)return!1;++f}for(s=(a=g.getOuterText(!0,f))+(null!=r?r:""),t&&(s+=g.getOuterText(!1,f));p--;)if(h=e[p][0],d=new RegExp("(?:[\\s\xa0\u2002\u2003\u2009])"+ge.sceditor.regexEscape(h)+"(?=[\\s\xa0\u2002\u2003\u2009])"),u=a.length-1-h.length,o&&--u,u=Math.max(0,u),-1<(l=o?s.substr(u).search(d):s.indexOf(h,u))){if(o&&(l+=u+1),l>a.length||l+h.length+(o?1:0)<a.length)continue;return c=a.length-l,g.selectOuterText(c,h.length-c-(null!=r&&/^\S/.test(r)?1:0)),g.insertHTML(e[p][1]),!0}return!1},g.compare=function(e,t){return t||(t=g.selectedRange()),e&&t?m?0===e.compareBoundaryPoints(Range.END_TO_END,t)&&0===e.compareBoundaryPoints(Range.START_TO_START,t):i(e)&&i(t)&&0===e.compareEndPoints("EndToEnd",t)&&0===e.compareEndPoints("StartToStart",t):!e&&!t}},ge.sceditor.dom={traverse:function(e,t,n,i,o){if(e)for(e=o?e.lastChild:e.firstChild;null!=e;){var r=o?e.previousSibling:e.nextSibling;if(!n&&!1===t(e))return!1;if(!i&&!1===this.traverse(e,t,n,i,o))return!1;if(n&&!1===t(e))return!1;e=r}},rTraverse:function(e,t,n,i){this.traverse(e,t,n,i,!0)},parseHTML:function(e,t){var n=[],i=(t||Te).createElement("div");return i.innerHTML=e,ge.merge(n,i.childNodes),n},hasStyling:function(e){var t=ge(e);return e&&(!t.is("p,div")||e.className||t.attr("style")||!ge.isEmptyObject(t.data()))},convertElement:function(e,t){for(var n,i,o=e.attributes.length,r=e.ownerDocument.createElement(t);o--;)i=e.attributes[o],(!ge.sceditor.ie||i.specified)&&(ge.sceditor.ie<8&&/style/i.test(i.name)?e.style.cssText=e.style.cssText:r.setAttribute(i.name,i.value));for(;n=e.firstChild;)r.appendChild(n);return e.parentNode.replaceChild(r,e),r},blockLevelList:"|body|hr|p|div|h1|h2|h3|h4|h5|h6|address|pre|form|table|tbody|thead|tfoot|th|tr|td|li|ol|ul|blockquote|center|",canHaveChildren:function(e){return!!/11?|9/.test(e.nodeType)&&"hr,br,img,input,meta,link,iframe,".indexOf(e.nodeName.toLowerCase()+",")<0},isInline:function(e,t){return!e||1!==e.nodeType||("code"===(e=e.tagName.toLowerCase())?!t:ge.sceditor.dom.blockLevelList.indexOf("|"+e+"|")<0)},copyCSS:function(e,t){t.style.cssText=e.style.cssText+t.style.cssText},fixNesting:function(e){var r=this,a=function(e){for(;r.isInline(e.parentNode,!0);)e=e.parentNode;return e};r.traverse(e,function(e){if(1===e.nodeType&&!r.isInline(e,!0)&&r.isInline(e.parentNode,!0)){var t=a(e),n=t.parentNode,i=r.extractContents(t,e),o=e;r.copyCSS(t,o),n.insertBefore(i,t),n.insertBefore(o,t)}})},findCommonAncestor:function(e,t){return ge(e).parents().has(ge(t)).first()},getSibling:function(e,t){var n;return e?(n=e[t?"previousSibling":"nextSibling"])?n:ge.sceditor.dom.getSibling(e.parentNode,t):null},removeWhiteSpace:function(e,t){for(var n,i,o,r,a,s,l,c,d=ge.sceditor.dom.getSibling,u=ge.sceditor.dom.isInline,h=e.firstChild,p=/[\t ]+/g,f=/[\t\n\r ]+/g;h;){if(s=h.nextSibling,n=h.nodeValue,1===(i=h.nodeType)&&h.firstChild&&(a=ge(h).css("whiteSpace"),/pre(?:\-wrap)?$/i.test(a)||ge.sceditor.dom.removeWhiteSpace(h,/line$/i.test(a))),3===i&&n){for(o=d(h),c=r=d(h,!0),l=!1;ge(c).hasClass("sceditor-ignore");)c=d(c,!0);if(u(h)&&c){for(;c.lastChild;)c=c.lastChild;l=3===c.nodeType?/[\t\n\r ]$/.test(c.nodeValue):!u(c)}u(h)&&r&&u(r)&&!l||(n=n.replace(/^[\t\n\r ]+/,"")),u(h)&&o&&u(o)||(n=n.replace(/[\t\n\r ]+$/,"")),(n=n.replace(/\u200B/g,"")).length?h.nodeValue=n.replace(t?p:f," "):e.removeChild(h)}h=s}},extractContents:function(o,r){var t=this,e=t.findCommonAncestor(o,r),n=e?e[0]:null,a=!1,s=!1;return function l(e){var i=o.ownerDocument.createDocumentFragment();return t.traverse(e,function(e){if(s||e===r&&a)return!(s=!0);var t,n;e===o&&(a=!0),a?jQuery.contains(e,r)&&1===e.nodeType?(t=l(e),(n=e.cloneNode(!1)).appendChild(t),i.appendChild(n)):i.appendChild(e):jQuery.contains(e,o)&&1===e.nodeType&&(t=l(e),(n=e.cloneNode(!1)).appendChild(t),i.appendChild(n))},!1),i}(n)},getOffset:function(e){for(var t=0,n=0;e;)t+=e.offsetLeft,n+=e.offsetTop,e=e.offsetParent;return{left:t,top:n}},getStyle:function(e,t){var n,i,o,r,a=e.style;if(!a)return null;if(ge.sceditor.dom._propertyCache||(ge.sceditor.dom._propertyCache={}),(o=ge.sceditor.dom._propertyCache)[t]||(o[t]=ge.camelCase(t)),r=a[t=o[t]],"textAlign"===t){if(n=ge(e),i=a.direction,r=r||n.css(t),n.parent().css(t)===r||"block"!==n.css("display")||n.is("hr")||n.is("th"))return null;if(i&&r&&(/right/i.test(r)&&"rtl"===i||/left/i.test(r)&&"ltr"===i))return null}return r},hasStyle:function(e,t,n){var i=ge.sceditor.dom.getStyle(e,t);return!i&&(!n||i===n||ge.isArray(n)&&-1<ge.inArray(i,n))}},ge.sceditor.plugins={},ge.sceditor.PluginManager=function(e){var o=this,r=[],a=e,s=function(e){return"signal"+e.charAt(0).toUpperCase()+e.slice(1)},t=function(e,t){e=[].slice.call(e);for(var n=r.length,i=s(e.shift());n--;)if(i in r[n]){if(t)return r[n][i].apply(a,e);r[n][i].apply(a,e)}};o.call=function(){t(arguments,!1)},o.callOnlyFirst=function(){return t(arguments,!0)},o.iter=function(t){return t=s(t),n=r.length,{callNext:function(e){for(;n--;)if(r[n]&&t in r[n])return r[n].apply(a,e)},hasNext:function(){for(var e=n;e--;)if(r[e]&&t in r[e])return!0;return!1}};var n},o.hasHandler=function(e){var t=r.length;for(e=s(e);t--;)if(e in r[t])return!0;return!1},o.exists=function(e){return e in ge.sceditor.plugins&&("function"==typeof(e=ge.sceditor.plugins[e])&&"object"==typeof e.prototype)},o.isRegistered=function(e){var t=r.length;if(!o.exists(e))return!1;for(;t--;)if(r[t]instanceof ge.sceditor.plugins[e])return!0;return!1},o.register=function(e){return!!o.exists(e)&&(e=new ge.sceditor.plugins[e],r.push(e),"init"in e&&e.init.apply(a),!0)},o.deregister=function(e){var t,n=r.length,i=!1;if(!o.isRegistered(e))return!1;for(;n--;)r[n]instanceof ge.sceditor.plugins[e]&&(i=!0,"destroy"in(t=r.splice(n,1)[0])&&t.destroy.apply(a));return i},o.destroy=function(){for(var e=r.length;e--;)"destroy"in r[e]&&r[e].destroy.apply(a);a=r=null}},ge.sceditor.command={get:function(e){return ge.sceditor.commands[e]||null},set:function(e,t){return!(!e||!t)&&((t=ge.extend(ge.sceditor.commands[e]||{},t)).remove=function(){ge.sceditor.command.remove(e)},ge.sceditor.commands[e]=t,this)},remove:function(e){return ge.sceditor.commands[e]&&delete ge.sceditor.commands[e],this}},ge.sceditor.defaultOptions={toolbar:"bold,italic,underline,strike,subscript,superscript|left,center,right,justify|font,size,color,removeformat|cut,copy,paste,pastetext|bulletlist,orderedlist,indent,outdent|table|code,quote|horizontalrule,image,email,link,unlink|emoticon,youtube,date,time|ltr,rtl|print,maximize,source",toolbarExclude:null,style:"jquery.sceditor.default.css",fonts:"Arial,Arial Black,Comic Sans MS,Courier New,Georgia,Impact,Sans-serif,Serif,Times New Roman,Trebuchet MS,Verdana",colors:null,locale:ge("html").attr("lang")||"en",charset:"utf-8",emoticonsCompat:!1,emoticonsEnabled:!0,emoticonsRoot:"",emoticons:{dropdown:{":)":"emoticons/smile.png",":angel:":"emoticons/angel.png",":angry:":"emoticons/angry.png","8-)":"emoticons/cool.png",":'(":"emoticons/cwy.png",":ermm:":"emoticons/ermm.png",":D":"emoticons/grin.png","<3":"emoticons/heart.png",":(":"emoticons/sad.png",":O":"emoticons/shocked.png",":P":"emoticons/tongue.png",";)":"emoticons/wink.png"},more:{":alien:":"emoticons/alien.png",":blink:":"emoticons/blink.png",":blush:":"emoticons/blush.png",":cheerful:":"emoticons/cheerful.png",":devil:":"emoticons/devil.png",":dizzy:":"emoticons/dizzy.png",":getlost:":"emoticons/getlost.png",":happy:":"emoticons/happy.png",":kissing:":"emoticons/kissing.png",":ninja:":"emoticons/ninja.png",":pinch:":"emoticons/pinch.png",":pouty:":"emoticons/pouty.png",":sick:":"emoticons/sick.png",":sideways:":"emoticons/sideways.png",":silly:":"emoticons/silly.png",":sleeping:":"emoticons/sleeping.png",":unsure:":"emoticons/unsure.png",":woot:":"emoticons/w00t.png",":wassat:":"emoticons/wassat.png"},hidden:{":whistling:":"emoticons/whistling.png",":love:":"emoticons/wub.png"}},width:null,height:null,resizeEnabled:!0,resizeMinWidth:null,resizeMinHeight:null,resizeMaxHeight:null,resizeMaxWidth:null,resizeHeight:!0,resizeWidth:!0,getHtmlHandler:null,getTextHandler:null,dateFormat:"year-month-day",toolbarContainer:null,enablePasteFiltering:!1,disablePasting:!1,readOnly:!1,rtl:!1,autofocus:!1,autofocusEnd:!0,autoExpand:!1,autoUpdate:!1,spellcheck:!0,runWithoutWysiwygSupport:!1,id:null,plugins:"",zIndex:null,bbcodeTrim:!1,disableBlockRemove:!1,parserOptions:{},dropDownCss:{}},ge.fn.sceditor=function(e){var t,n=[];return(e=e||{}).runWithoutWysiwygSupport||ge.sceditor.isWysiwygSupported?(this.each(function(){0<(t=this.jquery?this:ge(this)).parents(".sceditor-container").length||("state"===e?n.push(!!t.data("sceditor")):"instance"===e?n.push(t.data("sceditor")):t.data("sceditor")||new ge.sceditor(this,e))}),n.length?1===n.length?n[0]:ge(n):this):void 0}}(jQuery,window,document),function(b,e,C){"use strict";var _=b.sceditor.escapeEntities,l=b.sceditor.escapeUriScheme,O=b.sceditor.ie,I=O&&O<11;b.sceditor.BBCodeParser=function(e){if(!(this instanceof b.sceditor.BBCodeParser))return new b.sceditor.BBCodeParser(e);var t,a,r,i,p,u,s,l,c,h,f,m,g,d,v,T=this,y={open:"open",content:"content",newline:"newline",close:"close"},E=function(e,t,n,i,o,r){var a=this;a.type=e,a.name=t,a.val=n,a.attrs=i||{},a.children=o||[],a.closing=r||null};E.prototype={clone:function(e){var t=this;return new E(t.type,t.name,t.val,t.attrs,e?t.children:[],t.closing?t.closing.clone():null)},splitAt:function(e){var t,n=this,i=0,o=n.children.length;if("number"!=typeof e&&(e=b.inArray(e,n.children)),e<0||o<e)return null;for(;o--;)e<=o?i++:o=0;return(t=n.clone()).children=n.children.splice(e,i),t}},t=function(){T.opts=b.extend({},b.sceditor.BBCodeParser.defaults,e),T.bbcodes=b.sceditor.plugins.bbcode.bbcodes},T.tokenize=function(e){var t,n,i,o=[],r=[{type:"close",regex:/^\[\/[^\[\]]+\]/},{type:"open",regex:/^\[[^\[\]]+\]/},{type:"newline",regex:/^(\r\n|\r|\n)/},{type:"content",regex:/^([^\[\r\n]+|\[)/}];r.reverse();e:for(;e.length;){for(i=r.length;i--;)if(n=r[i].type,(t=e.match(r[i].regex))&&t[0]){o.push(a(n,t[0])),e=e.substr(t[0].length);continue e}e.length&&o.push(a(y.content,e)),e=""}return o},a=function(e,t){var n,i,o;return"open"===e&&(n=t.match(/\[([^\]\s=]+)(?:([^\]]+))?\]/))?(o=d(n[1]),n[2]&&(n[2]=b.trim(n[2]))&&(i=r(n[2]))):"close"===e&&(n=t.match(/\[\/([^\[\]]+)\]/))?o=d(n[1]):"newline"===e&&(o="#newline"),o&&("open"!==e&&"close"!==e||b.sceditor.plugins.bbcode.bbcodes[o])||(e="content",o="#"),new E(e,o,t,i)},r=function(e){var t,n=/([^\s=]+)=(?:(?:(["'])((?:\\\2|[^\2])*?)\2)|((?:.(?!\s\S+=))*.))/g,i=b.sceditor.plugins.bbcode.stripQuotes,o={};if("="===e.charAt(0)&&e.indexOf("=",1)<0)o.defaultattr=i(e.substr(1));else for("="===e.charAt(0)&&(e="defaultattr"+e);t=n.exec(e);)o[d(t[1])]=i(t[3])||t[4];return o},T.parse=function(e,t){var n=i(T.tokenize(e));return T.opts.fixInvalidChildren&&c(n),T.opts.removeEmptyTags&&l(n),T.opts.fixInvalidNesting&&u(n),p(n,null,t),T.opts.removeEmptyTags&&l(n),n},m=function(e,t,n){for(var i=n.length;i--;)if(n[i].type===t&&n[i].name===e)return!0;return!1},s=function(e,t){var n=e?T.bbcodes[e.name]:null,i=n?n.allowedChildren:null;return!(T.opts.fixInvalidChildren&&i&&i&&b.inArray(t.name||"#",i)<0)},i=function(e){for(var t,n,i,o,r,a,s=[],l=[],c=[],d=function(){return v(c)},u=function(e){d()?d().children.push(e):l.push(e)},h=function(e){return d()&&(n=T.bbcodes[d().name])&&n.closedBy&&-1<b.inArray(e,n.closedBy)};t=e.shift();){switch(a=e[0],t.type){case y.open:h(t.name)&&c.pop(),u(t),(n=T.bbcodes[t.name])&&n.isSelfClosing||!n.closedBy&&!m(t.name,y.close,e)?n&&n.isSelfClosing||(t.type=y.content):c.push(t);break;case y.close:if(d()&&t.name!==d().name&&h("/"+t.name)&&c.pop(),d()&&t.name===d().name)d().closing=t,c.pop();else if(m(t.name,y.open,c)){for(;i=c.pop();){if(i.name===t.name){i.closing=t;break}o=i.clone(),1<s.length&&o.children.push(v(s)),s.push(o)}for(u(v(s)),r=s.length;r--;)c.push(s[r]);s.length=0}else t.type=y.content,u(t);break;case y.newline:d()&&a&&h((a.type===y.close?"/":"")+a.name)&&(a.type!==y.close||a.name!==d().name)&&((n=T.bbcodes[d().name])&&n.breakAfter?c.pop():n&&!1===n.isInline&&T.opts.breakAfterBlock&&!1!==n.breakAfter&&c.pop()),u(t);break;default:u(t)}t}return l},p=function(e,t,n){var i,o,r,a,s,l,c,d,u=e.length,h=u;for(t&&(a=T.bbcodes[t.name]);h--;)if(i=e[h])if(i.type===y.newline){if(o=0<h?e[h-1]:null,r=h<u-1?e[h+1]:null,d=!1,!n&&a&&!0!==a.isSelfClosing&&(o?l||r||(!1===a.isInline&&T.opts.breakEndBlock&&!1!==a.breakEnd&&(d=!0),a.breakEnd&&(d=!0),l=d):(!1===a.isInline&&T.opts.breakStartBlock&&!1!==a.breakStart&&(d=!0),a.breakStart&&(d=!0))),o&&o.type===y.open&&(s=T.bbcodes[o.name])&&(n?!1===s.isInline&&(d=!0):(!1===s.isInline&&T.opts.breakAfterBlock&&!1!==s.breakAfter&&(d=!0),s.breakAfter&&(d=!0))),!n&&!c&&r&&r.type===y.open&&(s=T.bbcodes[r.name])&&(!1===s.isInline&&T.opts.breakBeforeBlock&&!1!==s.breakBefore&&(d=!0),s.breakBefore&&(d=!0),c=d)){e.splice(h,1);continue}d&&e.splice(h,1),c=!1}else i.type===y.open&&p(i.children,i,n)},u=function(e,t,n,i){var o,r,a,s,l,c,d=function(e){var t=T.bbcodes[e.name];return!t||!1!==t.isInline};for(t=t||[],i=i||e,r=0;r<e.length;r++)if((o=e[r])&&o.type===y.open){if(!d(o)&&n&&(c=(a=v(t)).splitAt(o),l=1<t.length?t[t.length-2].children:i,-1<(s=b.inArray(a,l))))return c.children.splice(b.inArray(o,c.children),1),void l.splice(s+1,0,o,c);t.push(o),u(o.children,t,n||d(o),i),t.pop(o)}},c=function(e,t){for(var n,i,o=e.length;o--;)(n=e[o])&&(s(t,n)||(n.name=null,n.type=y.content,s(t,n)?(i=[o+1,0].concat(n.children),n.closing&&(n.closing.name=null,n.closing.type=y.content,i.push(n.closing)),o+=i.length-1,Array.prototype.splice.apply(e,i)):t.children.splice(o,1)),n.type===y.open&&c(n.children,n))},l=function(e){var t,n,i,o=e.length;for(i=function(e){for(var t=e.length;t--;){if(e[t].type===y.open)return!1;if(e[t].type===y.close)return!1;if(e[t].type===y.content&&e[t].val&&/\S|\u00A0/.test(e[t].val))return!1}return!0};o--;)(t=e[o])&&t.type===y.open&&(n=T.bbcodes[t.name],l(t.children),i(t.children)&&n&&!n.isSelfClosing&&!n.allowsEmpty&&e.splice.apply(e,b.merge([o,1],t.children)))},T.toHTML=function(e,t){return h(T.parse(e,t),!0)},h=function(e,t){var n,i,o,r,a,s,l,c,d=[];for(l=function(e){return!1!==(!e||("undefined"!=typeof e.isHtmlInline?e.isHtmlInline:e.isInline))};0<e.length;)if(n=e.shift()){if(n.type===y.open)c=n.children[n.children.length-1]||{},i=T.bbcodes[n.name],a=t&&l(i),o=h(n.children,!1),r=i&&i.html?(l(i)||!l(T.bbcodes[c.name])||i.isPreFormatted||i.skipLastLineBreak||I||(o+="<br />"),b.isFunction(i.html)?i.html.call(T,n,n.attrs,o):(n.attrs[0]=o,b.sceditor.plugins.bbcode.formatBBCodeString(i.html,n.attrs))):n.val+o+(n.closing?n.closing.val:"");else{if(n.type===y.newline){if(!t){d.push("<br />");continue}s||(d.push("<div>"),(C.documentMode&&C.documentMode<8||O<8)&&d.push("\xa0")),I||d.push("<br />"),e.length||d.push("<br />"),d.push("</div>\n"),s=!1;continue}a=t,r=_(n.val,!0)}a&&!s?(d.push("<div>"),s=!0):!a&&s&&(d.push("</div>\n"),s=!1),d.push(r)}return s&&d.push("</div>\n"),d.join("")},T.toBBCode=function(e,t){return f(T.parse(e,t))},f=function(e){for(var t,n,i,o,r,a,s,l,c,d,u=[];0<e.length;)if(t=e.shift())if(o=!(!(i=T.bbcodes[t.name])||!1!==i.isInline),r=i&&i.isSelfClosing,s=o&&T.opts.breakBeforeBlock&&!1!==i.breakBefore||i&&i.breakBefore,l=o&&!r&&T.opts.breakStartBlock&&!1!==i.breakStart||i&&i.breakStart,c=o&&T.opts.breakEndBlock&&!1!==i.breakEnd||i&&i.breakEnd,d=o&&T.opts.breakAfterBlock&&!1!==i.breakAfter||i&&i.breakAfter,a=(i?i.quoteType:null)||T.opts.quoteType||b.sceditor.BBCodeParser.QuoteType.auto,i||t.type!==y.open)if(t.type===y.open){if(s&&u.push("\n"),u.push("["+t.name),t.attrs)for(n in t.attrs.defaultattr&&(u.push("="+g(t.attrs.defaultattr,a,"defaultattr")),delete t.attrs.defaultattr),t.attrs)t.attrs.hasOwnProperty(n)&&u.push(" "+n+"="+g(t.attrs[n],a,n));u.push("]"),l&&u.push("\n"),t.children&&u.push(f(t.children)),r||i.excludeClosing||(c&&u.push("\n"),u.push("[/"+t.name+"]")),d&&u.push("\n"),t.closing&&r&&u.push(t.closing.val)}else u.push(t.val);else u.push(t.val),t.children&&u.push(f(t.children)),t.closing&&u.push(t.closing.val);return u.join("")},g=function(e,t,n){var i=b.sceditor.BBCodeParser.QuoteType,o=/\s|=/.test(e);return b.isFunction(t)?t(e,n):t===i.never||t===i.auto&&!o?e:'"'+e.replace("\\","\\\\").replace('"','\\"')+'"'},v=function(e){return e.length?e[e.length-1]:null},d=function(e){return e.toLowerCase()},t()},b.sceditor.BBCodeParser.QuoteType={always:1,never:2,auto:3},b.sceditor.BBCodeParser.defaults={breakBeforeBlock:!1,breakStartBlock:!1,breakEndBlock:!1,breakAfterBlock:!0,removeEmptyTags:!0,fixInvalidNesting:!0,fixInvalidChildren:!0,quoteType:b.sceditor.BBCodeParser.QuoteType.auto},b.sceditorBBCodePlugin=b.sceditor.plugins.bbcode=function(){var e,u,h,p,t,i,f=this;p=b.sceditor.plugins.bbcode.formatString,f.bbcodes=b.sceditor.plugins.bbcode.bbcodes,f.stripQuotes=b.sceditor.plugins.bbcode.stripQuotes;var m={},s={},g={ul:["li","ol","ul"],ol:["li","ol","ul"],table:["tr"],tr:["td","th"],code:["br","p","div"]};f.init=function(){f.opts=this.opts,e(),t(this),this.toBBCode=f.signalToSource,this.fromBBCode=f.signalToWysiwyg},t=function(i){var n=b.sceditor.command.get,e={bold:{txtExec:["[b]","[/b]"]},italic:{txtExec:["[i]","[/i]"]},underline:{txtExec:["[u]","[/u]"]},strike:{txtExec:["[s]","[/s]"]},subscript:{txtExec:["[sub]","[/sub]"]},superscript:{txtExec:["[sup]","[/sup]"]},left:{txtExec:["[left]","[/left]"]},center:{txtExec:["[center]","[/center]"]},right:{txtExec:["[right]","[/right]"]},justify:{txtExec:["[justify]","[/justify]"]},font:{txtExec:function(e){var t=this;n("font")._dropDown(t,e,function(e){t.insertText("[font="+e+"]","[/font]")})}},size:{txtExec:function(e){var t=this;n("size")._dropDown(t,e,function(e){t.insertText("[size="+e+"]","[/size]")})}},color:{txtExec:function(e){var t=this;n("color")._dropDown(t,e,function(e){t.insertText("[color="+e+"]","[/color]")})}},bulletlist:{txtExec:function(e,t){var n="";b.each(t.split(/\r?\n/),function(){n+=(n?"\n":"")+"[li]"+this+"[/li]"}),i.insertText("[ul]\n"+n+"\n[/ul]")}},orderedlist:{txtExec:function(e,t){var n="";b.each(t.split(/\r?\n/),function(){n+=(n?"\n":"")+"[li]"+this+"[/li]"}),b.sceditor.plugins.bbcode.bbcode.get(""),i.insertText("[ol]\n"+n+"\n[/ol]")}},table:{txtExec:["[table][tr][td]","[/td][/tr][/table]"]},horizontalrule:{txtExec:["[hr]"]},code:{txtExec:["[code]","[/code]"]},image:{txtExec:function(e,t){var n=prompt(this._("Enter the image URL:"),t);n&&this.insertText("[img]"+n+"[/img]")}},email:{txtExec:function(e,t){var n=t&&-1<t.indexOf("@")?null:t,i=prompt(this._("Enter the e-mail address:"),n?"":t),o=prompt(this._("Enter the displayed text:"),n||i)||i;i&&this.insertText("[email="+i+"]"+o+"[/email]")}},link:{txtExec:function(e,t){var n=/^[a-z]+:\/\//i.test(b.trim(t))?null:t,i=prompt(this._("Enter URL:"),n?"http://":b.trim(t)),o=prompt(this._("Enter the displayed text:"),n||i)||i;i&&this.insertText("[url="+i+"]"+o+"[/url]")}},quote:{txtExec:["[quote]","[/quote]"]},youtube:{txtExec:function(e){var t=this;n("youtube")._dropDown(t,e,function(e){t.insertText("[youtube]"+e+"[/youtube]")})}},rtl:{txtExec:["[rtl]","[/rtl]"]},ltr:{txtExec:["[ltr]","[/ltr]"]}};i.commands=b.extend(!0,{},e,i.commands)},e=function(){b.each(f.bbcodes,function(i){f.bbcodes[i].tags&&b.each(f.bbcodes[i].tags,function(e,t){var n=!1===f.bbcodes[i].isInline;m[e]=m[e]||{},m[e][n]=m[e][n]||{},m[e][n][i]=t}),f.bbcodes[i].styles&&b.each(f.bbcodes[i].styles,function(e,t){var n=!1===f.bbcodes[i].isInline;s[n]=s[n]||{},s[n][e]=s[n][e]||{},s[n][e][i]=t})})},u=function(n,i,e){var o,r,a=b.sceditor.dom.getStyle;return s[e=!!e]&&b.each(s[e],function(e,t){(o=a(n[0],e))&&a(n.parent()[0],e)!==o&&b.each(t,function(e,t){(!t||-1<b.inArray(o.toString(),t))&&(r=f.bbcodes[e].format,i=b.isFunction(r)?r.call(f,n,i):p(r,i))})}),i},h=function(n,i,e){var o,r,t=n[0],a=t.nodeName.toLowerCase();e=!!e,m[a]&&m[a][e]&&b.each(m[a][e],function(e,t){(!t||(o=!1,b.each(t,function(e,t){return!n.attr(e)||t&&b.inArray(n.attr(e),t)<0?void 0:!(o=!0)}),o))&&(r=f.bbcodes[e].format,i=b.isFunction(r)?r.call(f,n,i):p(r,i))});var s=b.sceditor.dom.isInline;if(e&&(!s(t,!0)||"br"===a)){for(var l=t.parentNode,c=l.lastChild,d=t.previousSibling,u=s(l,!0);d&&(b(d).hasClass("sceditor-ignore")||1===d.nodeType&&s(d,!0)&&!d.firstChild);)d=d.previousSibling;for(;b(c).hasClass("sceditor-ignore");)c=c.previousSibling;(u||c!==t||"li"===a||"br"===a&&I)&&(i+="\n"),"br"!==a&&d&&"br"!==d.nodeName.toLowerCase()&&s(d,!0)&&(i="\n"+i)}return i},f.signalToSource=function(e,t){var n,i,o=new b.sceditor.BBCodeParser(f.opts.parserOptions);return t||(t="string"==typeof e?n=b("<div />").css("visibility","hidden").appendTo(C.body).html(e):b(e)),t&&t.jquery?(b.sceditor.dom.removeWhiteSpace(t[0]),i=f.elementToBbcode(t),n&&n.remove(),i=o.toBBCode(i,!0),f.opts.bbcodeTrim&&(i=b.trim(i)),i):""},f.elementToBbcode=function(e){return function d(e,l){var c="";return b.sceditor.dom.traverse(e,function(e){var t=b(e),n="",i=e.nodeType,o=e.nodeName.toLowerCase(),r=g[o],a=e.firstChild,s=!0;if("object"==typeof l&&(s=-1<b.inArray(o,l),t.is("img")&&t.data("sceditor-emoticon")&&(s=!0),s||(r=l)),3===i||1===i)if(1===i){if(t.hasClass("sceditor-ignore"))return;if(t.hasClass("sceditor-nlf")&&(!a||!I&&1===e.childNodes.length&&/br/i.test(a.nodeName)))return;"iframe"!==o&&(n=d(e,r)),s?("code"!==o&&(n=u(t,n),n=h(t,n),n=u(t,n,!0)),c+=h(t,n,!0)):c+=n}else!e.wholeText||e.previousSibling&&3===e.previousSibling.nodeType?e.wholeText||(c+=e.nodeValue):c+=0===t.parents("code").length?e.wholeText.replace(/ +/g," "):e.wholeText},!1,!0),c}(e[0])},f.signalToWysiwyg=function(e,t){var n=new b.sceditor.BBCodeParser(f.opts.parserOptions).toHTML(f.opts.bbcodeTrim?b.trim(e):e);return t?i(n):n},i=function(e){var t,i,n,o=b("<div />").hide().appendTo(C.body),r=o[0];return n=function(e,t){if(!b.sceditor.dom.hasStyling(e)){if(I||1!==e.childNodes.length||!b(e.firstChild).is("br"))for(;i=e.firstChild;)r.insertBefore(i,e);if(t){var n=r.lastChild;e!==n&&b(n).is("div")&&e.nextSibling===n&&r.insertBefore(C.createElement("br"),e)}r.removeChild(e)}},r.innerHTML=e.replace(/<\/div>\n/g,"</div>"),(t=r.firstChild)&&b(t).is("div")&&n(t,!0),(t=r.lastChild)&&b(t).is("div")&&n(t),r=r.innerHTML,o.remove(),r}},b.sceditor.plugins.bbcode.stripQuotes=function(e){return e?e.replace(/\\(.)/g,"$1").replace(/^(["'])(.*?)\1$/,"$2"):e},b.sceditor.plugins.bbcode.formatString=function(){var n,i=arguments;return i[0].replace(/\{(\d+)\}/g,function(e,t){return i[t-0+1]!==n?i[t-0+1]:"{"+t+"}"})},b.sceditor.plugins.bbcode.formatBBCodeString=function(e,o){return e.replace(/\{(!?[^}]+)\}/g,function(e,t){var n,i=!0;return"!"===t[0]&&(i=!1,t=t.substring(1)),"0"===t[0]&&(i=!1),o[t]===n?e:i?_(o[t],!0):o[t]})};var o=b.sceditor.plugins.bbcode.normaliseColour=function(e){var t,n;return n=function(e){return e=parseInt(e,10),isNaN(e)?"00":(e=Math.max(0,Math.min(e,255)).toString(16)).length<2?"0"+e:e},(t=(e=e||"#000").match(/rgb\((\d{1,3}),\s*?(\d{1,3}),\s*?(\d{1,3})\)/i))?"#"+n(t[1])+n(t[2]-0)+n(t[3]-0):(t=e.match(/#([0-f])([0-f])([0-f])\s*?$/i))?"#"+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]:e};b.sceditor.plugins.bbcode.bbcodes={b:{tags:{b:null,strong:null},styles:{"font-weight":["bold","bolder","401","700","800","900"]},format:"[b]{0}[/b]",html:"<strong>{0}</strong>"},i:{tags:{i:null,em:null},styles:{"font-style":["italic","oblique"]},format:"[i]{0}[/i]",html:"<em>{0}</em>"},u:{tags:{u:null},styles:{"text-decoration":["underline"]},format:"[u]{0}[/u]",html:"<u>{0}</u>"},s:{tags:{s:null,strike:null},styles:{"text-decoration":["line-through"]},format:"[s]{0}[/s]",html:"<s>{0}</s>"},sub:{tags:{sub:null},format:"[sub]{0}[/sub]",html:"<sub>{0}</sub>"},sup:{tags:{sup:null},format:"[sup]{0}[/sup]",html:"<sup>{0}</sup>"},font:{tags:{font:{face:null}},styles:{"font-family":null},quoteType:b.sceditor.BBCodeParser.QuoteType.never,format:function(e,t){var n;return"font"===e[0].nodeName.toLowerCase()&&(n=e.attr("face"))||(n=e.css("font-family")),"[font="+this.stripQuotes(n)+"]"+t+"[/font]"},html:'<font face="{defaultattr}">{0}</font>'},size:{tags:{font:{size:null}},styles:{"font-size":null},format:function(e,t){var n=e.attr("size"),i=2;return n||(n=e.css("fontSize")),-1<n.indexOf("px")?((n=n.replace("px","")-0)<12&&(i=1),15<n&&(i=3),17<n&&(i=4),23<n&&(i=5),31<n&&(i=6),47<n&&(i=7)):i=n,"[size="+i+"]"+t+"[/size]"},html:'<font size="{defaultattr}">{!0}</font>'},color:{tags:{font:{color:null}},styles:{color:null},quoteType:b.sceditor.BBCodeParser.QuoteType.never,format:function(e,t){var n,i=e[0];return"font"===i.nodeName.toLowerCase()&&(n=e.attr("color"))||(n=i.style.color||e.css("color")),"[color="+o(n)+"]"+t+"[/color]"},html:function(e,t,n){return'<font color="'+_(o(t.defaultattr),!0)+'">'+n+"</font>"}},ul:{tags:{ul:null},breakStart:!0,isInline:!1,skipLastLineBreak:!0,format:"[ul]{0}[/ul]",html:"<ul>{0}</ul>"},list:{breakStart:!0,isInline:!1,skipLastLineBreak:!0,html:"<ul>{0}</ul>"},ol:{tags:{ol:null},breakStart:!0,isInline:!1,skipLastLineBreak:!0,format:"[ol]{0}[/ol]",html:"<ol>{0}</ol>"},li:{tags:{li:null},isInline:!1,closedBy:["/ul","/ol","/list","*","li"],format:"[li]{0}[/li]",html:"<li>{0}</li>"},"*":{isInline:!1,closedBy:["/ul","/ol","/list","*","li"],html:"<li>{0}</li>"},table:{tags:{table:null},isInline:!1,isHtmlInline:!0,skipLastLineBreak:!0,format:"[table]{0}[/table]",html:"<table>{0}</table>"},tr:{tags:{tr:null},isInline:!1,skipLastLineBreak:!0,format:"[tr]{0}[/tr]",html:"<tr>{0}</tr>"},th:{tags:{th:null},allowsEmpty:!0,isInline:!1,format:"[th]{0}[/th]",html:"<th>{0}</th>"},td:{tags:{td:null},allowsEmpty:!0,isInline:!1,format:"[td]{0}[/td]",html:"<td>{0}</td>"},emoticon:{allowsEmpty:!0,tags:{img:{src:null,"data-sceditor-emoticon":null}},format:function(e,t){return e.data("sceditor-emoticon")+t},html:"{0}"},hr:{tags:{hr:null},allowsEmpty:!0,isSelfClosing:!0,isInline:!1,format:"[hr]{0}",html:"<hr />"},img:{allowsEmpty:!0,tags:{img:{src:null}},allowedChildren:["#"],quoteType:b.sceditor.BBCodeParser.QuoteType.never,format:function(e,t){var n,i,o="",r=e[0],a=function(e){return r.style?r.style[e]:null};return e.attr("data-sceditor-emoticon")?t:(n=e.attr("width")||a("width"),i=e.attr("height")||a("height"),(r.complete&&(n||i)||n&&i)&&(o="="+e.width()+"x"+e.height()),"[img"+o+"]"+e.attr("src")+"[/img]")},html:function(e,t,n){var i,o,r,a,s="";return t.width!==i&&(o=t.width),t.height!==i&&(r=t.height),t.defaultattr&&(o=(a=t.defaultattr.split(/x/i))[0],r=2===a.length?a[1]:a[0]),o!==i&&(s+=' width="'+_(o,!0)+'"'),r!==i&&(s+=' height="'+_(r,!0)+'"'),"<img"+s+' src="'+l(n)+'" />'}},url:{allowsEmpty:!0,tags:{a:{href:null}},quoteType:b.sceditor.BBCodeParser.QuoteType.never,format:function(e,t){var n=e.attr("href");return"mailto:"===n.substr(0,7)?'[email="'+n.substr(7)+'"]'+t+"[/email]":"[url="+n+"]"+t+"[/url]"},html:function(e,t,n){return t.defaultattr=_(t.defaultattr,!0)||n,'<a href="'+l(t.defaultattr)+'">'+n+"</a>"}},email:{quoteType:b.sceditor.BBCodeParser.QuoteType.never,html:function(e,t,n){return'<a href="mailto:'+(_(t.defaultattr,!0)||n)+'">'+n+"</a>"}},quote:{tags:{blockquote:null},isInline:!1,quoteType:b.sceditor.BBCodeParser.QuoteType.never,format:function(e,t){var n="",i=b(e),o=i.children("cite").first();return(1===o.length||i.data("author"))&&(n=o.text()||i.data("author"),i.data("author",n),o.remove(),t=this.elementToBbcode(b(e)),n="="+n,i.prepend(o)),"[quote"+n+"]"+t+"[/quote]"},html:function(e,t,n){return t.defaultattr&&(n="<cite>"+_(t.defaultattr)+"</cite>"+n),"<blockquote>"+n+"</blockquote>"}},code:{tags:{code:null},isInline:!1,allowedChildren:["#","#newline"],format:"[code]{0}[/code]",html:"<code>{0}</code>"},left:{styles:{"text-align":["left","-webkit-left","-moz-left","-khtml-left"]},isInline:!1,format:"[left]{0}[/left]",html:'<div align="left">{0}</div>'},center:{styles:{"text-align":["center","-webkit-center","-moz-center","-khtml-center"]},isInline:!1,format:"[center]{0}[/center]",html:'<div align="center">{0}</div>'},right:{styles:{"text-align":["right","-webkit-right","-moz-right","-khtml-right"]},isInline:!1,format:"[right]{0}[/right]",html:'<div align="right">{0}</div>'},justify:{styles:{"text-align":["justify","-webkit-justify","-moz-justify","-khtml-justify"]},isInline:!1,format:"[justify]{0}[/justify]",html:'<div align="justify">{0}</div>'},youtube:{allowsEmpty:!0,tags:{iframe:{"data-youtube-id":null}},format:function(e,t){return(e=e.attr("data-youtube-id"))?"[youtube]"+e+"[/youtube]":t},html:'<iframe width="560" height="315" src="http://www.youtube.com/embed/{0}?wmode=opaque" data-youtube-id="{0}" frameborder="0" allowfullscreen></iframe>'},rtl:{styles:{direction:["rtl"]},format:"[rtl]{0}[/rtl]",html:'<div style="direction: rtl">{0}</div>'},ltr:{styles:{direction:["ltr"]},format:"[ltr]{0}[/ltr]",html:'<div style="direction: ltr">{0}</div>'},ignore:{}},b.sceditor.plugins.bbcode.bbcode={get:function(e){return b.sceditor.plugins.bbcode.bbcodes[e]||null},set:function(e,t){var n=b.sceditor.plugins.bbcode.bbcodes;return!(!e||!t)&&((t=b.extend(n[e]||{},t)).remove=function(){delete n[e]},n[e]=t,this)},rename:function(e,t){var n=b.sceditor.plugins.bbcode.bbcodes;return e in n&&(n[t]=n[e],delete n[e],this)},remove:function(e){var t=b.sceditor.plugins.bbcode.bbcodes;return e in t&&delete t[e],this}},b.fn.sceditorBBCodePlugin=function(e){return e=e||{},b.isPlainObject(e)&&(e.plugins=(e.plugins?e.plugins:"")+"bbcode"),this.sceditor(e)}}(jQuery,window,document),function(e){e(document).ready(function(){e(".WYSIWYG").sceditor({plugins:"bbcode",toolbar:"bold,italic,underline,center,right,justify,font,size,color,removeformat,bulletlist,orderedlist,table,quote,image,link,ltr,rtl,source",width:"100%"})})}(this.jQuery),function(a){"use strict";var e,t,o,r,s,l,c,d,u,h,p,f,m,n,i,g,v=(o={bcClass:"sf-breadcrumb",menuClass:"sf-js-enabled",anchorClass:"sf-with-ul",menuArrowClass:"sf-arrows"},(t=/iPhone|iPad|iPod/i.test(navigator.userAgent))&&a(window).load(function(){a("body").children().on("click",a.noop)}),r=t,s="behavior"in(e=document.documentElement.style)&&"fill"in e&&/iemobile/i.test(navigator.userAgent),l=function(e,t){var n=o.menuClass;t.cssArrows&&(n+=" "+o.menuArrowClass),e.toggleClass(n)},c=function(e,t){return e.find("li."+t.pathClass).slice(0,t.pathLevels).addClass(t.hoverClass+" "+o.bcClass).filter(function(){return a(this).children(t.popUpSelector).hide().show().length}).removeClass(t.pathClass)},d=function(e){e.children("a").toggleClass(o.anchorClass)},u=function(e){var t=e.css("ms-touch-action");t="pan-y"===t?"auto":"pan-y",e.css("ms-touch-action",t)},h=function(e,t){var n="li:has("+t.popUpSelector+")";a.fn.hoverIntent&&!t.disableHI?e.hoverIntent(f,m,n):e.on("mouseenter.superfish",n,f).on("mouseleave.superfish",n,m);var i="MSPointerDown.superfish";r||(i+=" touchend.superfish"),s&&(i+=" mousedown.superfish"),e.on("focusin.superfish","li",f).on("focusout.superfish","li",m).on(i,"a",t,p)},p=function(e){var t=a(this),n=t.siblings(e.data.popUpSelector);0<n.length&&n.is(":hidden")&&(t.one("click.superfish",!1),"MSPointerDown"===e.type?t.trigger("focus"):a.proxy(f,t.parent("li"))())},f=function(){var e=a(this),t=g(e);clearTimeout(t.sfTimer),e.siblings().superfish("hide").end().superfish("show")},m=function(){var e=a(this),t=g(e);r?a.proxy(n,e,t)():(clearTimeout(t.sfTimer),t.sfTimer=setTimeout(a.proxy(n,e,t),t.delay))},n=function(e){e.retainPath=-1<a.inArray(this[0],e.$path),this.superfish("hide"),this.parents("."+e.hoverClass).length||(e.onIdle.call(i(this)),e.$path.length&&a.proxy(f,e.$path)())},i=function(e){return e.closest("."+o.menuClass)},g=function(e){return i(e).data("sf-options")},{hide:function(e){if(this.length){var t=this,n=g(t);if(!n)return this;var i=!0===n.retainPath?n.$path:"",o=t.find("li."+n.hoverClass).add(this).not(i).removeClass(n.hoverClass).children(n.popUpSelector),r=n.speedOut;e&&(o.show(),r=0),n.retainPath=!1,n.onBeforeHide.call(o),o.stop(!0,!0).animate(n.animationOut,r,function(){var e=a(this);n.onHide.call(e)})}return this},show:function(){var e=g(this);if(!e)return this;var t=this.addClass(e.hoverClass).children(e.popUpSelector);return e.onBeforeShow.call(t),t.stop(!0,!0).animate(e.animation,e.speed,function(){e.onShow.call(t)}),this},destroy:function(){return this.each(function(){var e,t=a(this),n=t.data("sf-options");if(!n
)return!1;e=t.find(n.popUpSelector).parent("li"),clearTimeout(n.sfTimer),l(t,n),d(e),u(t),t.off(".superfish").off(".hoverIntent"),e.children(n.popUpSelector).attr("style",function(e,t){return t.replace(/display[^;]+;?/g,"")}),n.$path.removeClass(n.hoverClass+" "+o.bcClass).addClass(n.pathClass),t.find("."+n.hoverClass).removeClass(n.hoverClass),n.onDestroy.call(t),t.removeData("sf-options")})},init:function(i){return this.each(function(){var e=a(this);if(e.data("sf-options"))return!1;var t=a.extend({},a.fn.superfish.defaults,i),n=e.find(t.popUpSelector).parent("li");t.$path=c(e,t),e.data("sf-options",t),l(e,t),d(n),u(e),h(e,t),n.not("."+o.bcClass).superfish("hide",!0),t.onInit.call(this)})}});a.fn.superfish=function(e){return v[e]?v[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?a.error("Method "+e+" does not exist on jQuery.fn.superfish"):v.init.apply(this,arguments)},a.fn.superfish.defaults={popUpSelector:"ul,.sf-mega",hoverClass:"sfHover",pathClass:"overrideThisToUse",pathLevels:1,delay:800,animation:{opacity:"show"},animationOut:{opacity:"hide"},speed:"normal",speedOut:"fast",cssArrows:!0,disableHI:!1,onInit:a.noop,onBeforeShow:a.noop,onShow:a.noop,onBeforeHide:a.noop,onHide:a.noop,onIdle:a.noop,onDestroy:a.noop},a.fn.extend({hideSuperfishUl:v.hide,showSuperfishUl:v.show})}(jQuery),function(le,ce){function b(){var e=!1;return navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/iPad/i)?navigator.userAgent.match(/OS 4_\d like Mac OS X/i)&&(e=!0):e=!1,e}function n(t,n){if(t==ce)return!1;if(t.data("aimg")!=ce&&("enabled"==t.data("aie8")&&de(8)||"enabled"==t.data("amobile")&&Oe())&&t.html('<img class="tp-slider-alternative-image" src="'+t.data("aimg")+'">'),"preview1"!=n.navigationStyle&&"preview3"!=n.navigationStyle&&"preview4"!=n.navigationStyle||(n.soloArrowLeftHalign="left",n.soloArrowLeftValign="center",n.soloArrowLeftHOffset=0,n.soloArrowLeftVOffset=0,n.soloArrowRightHalign="right",n.soloArrowRightValign="center",n.soloArrowRightHOffset=0,n.soloArrowRightVOffset=0,n.navigationArrows="solo"),"on"==n.simplifyAll&&(de(8)||b())&&(t.find(".tp-caption").each(function(){var e=le(this);e.removeClass("customin").removeClass("customout").addClass("fadein").addClass("fadeout"),e.data("splitin",""),e.data("speed",400)}),t.find(">ul>li").each(function(){var e=le(this);e.data("transition","fade"),e.data("masterspeed",500),e.data("slotamount",1),e.find(">img").first().data("kenburns","off")})),n.desktop=!navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry|BB10|mobi|tablet|opera mini|nexus 7)/i),"on"!=n.fullWidth&&"on"!=n.fullScreen&&(n.autoHeight="off"),"on"==n.fullScreen&&(n.autoHeight="on"),"on"!=n.fullWidth&&"on"!=n.fullScreen&&(forceFulWidth="off"),"on"==n.fullWidth&&"off"==n.autoHeight&&t.css({maxHeight:n.startheight+"px"}),Oe()&&"on"==n.hideThumbsOnMobile&&"thumb"==n.navigationType&&(n.navigationType="none"),Oe()&&"on"==n.hideBulletsOnMobile&&"bullet"==n.navigationType&&(n.navigationType="none"),Oe()&&"on"==n.hideBulletsOnMobile&&"both"==n.navigationType&&(n.navigationType="none"),Oe()&&"on"==n.hideArrowsOnMobile&&(n.navigationArrows="none"),"on"==n.forceFullWidth&&0==t.closest(".forcefullwidth_wrapper_tp_banner").length){var e=t.parent().offset().left,i=t.parent().css("marginBottom"),o=t.parent().css("marginTop");i==ce&&(i=0),o==ce&&(o=0),t.parent().wrap('<div style="position:relative;width:100%;height:auto;margin-top:'+o+";margin-bottom:"+i+'" class="forcefullwidth_wrapper_tp_banner"></div>'),t.closest(".forcefullwidth_wrapper_tp_banner").append('<div class="tp-fullwidth-forcer" style="width:100%;height:'+t.height()+'px"></div>'),t.css({backgroundColor:t.parent().css("backgroundColor"),backgroundImage:t.parent().css("backgroundImage")}),t.parent().css({left:0-e+"px",position:"absolute",width:le(window).width()}),n.width=le(window).width()}try{n.hideThumbsUnderResolution>le(window).width()&&0!=n.hideThumbsUnderResolution?t.parent().find(".tp-bullets.tp-thumbs").css({display:"none"}):t.parent().find(".tp-bullets.tp-thumbs").css({display:"block"})}catch(x){}if(!t.hasClass("revslider-initialised")){t.addClass("revslider-initialised"),t.attr("id")==ce&&t.attr("id","revslider-"+Math.round(1e3*Math.random()+5)),n.firefox13=!1,n.ie=!le.support.opacity,n.ie9=9==document.documentMode,n.origcd=n.delay;var r=le.fn.jquery.split("."),a=parseFloat(r[0]),s=parseFloat(r[1]);parseFloat(r[2]||"0");1==a&&s<7&&t.html('<div style="text-align:center; padding:40px 0px; font-size:20px; color:#992222;"> The Current Version of jQuery:'+r+" <br>Please update your jQuery Version to min. 1.7 in Case you wish to use the Revolution Slider Plugin</div>"),1<a&&(n.ie=!1),le.support.transition||(le.fn.transition=le.fn.animate),t.find(".caption").each(function(){le(this).addClass("tp-caption")}),Oe()&&t.find(".tp-caption").each(function(){var e=le(this);1!=e.data("autoplayonlyfirsttime")&&"true"!=e.data("autoplayonlyfirsttime")||e.data("autoplayonlyfirsttime","false"),1!=e.data("autoplay")&&"true"!=e.data("autoplay")||e.data("autoplay",!1)});var l=0,c=0,d="http";if("https:"===location.protocol&&(d="https"),t.find(".tp-caption").each(function(){try{if((le(this).data("ytid")!=ce||0<le(this).find("iframe").attr("src").toLowerCase().indexOf("youtube"))&&0==l){l=1;var e=document.createElement("script"),t="https";e.src=t+"://www.youtube.com/iframe_api";var n=document.getElementsByTagName("script")[0],i=!0;le("head").find("*").each(function(){le(this).attr("src")==t+"://www.youtube.com/iframe_api"&&(i=!1)}),i&&n.parentNode.insertBefore(e,n)}}catch(O){}try{if((le(this).data("vimeoid")!=ce||0<le(this).find("iframe").attr("src").toLowerCase().indexOf("vimeo"))&&0==c){c=1;var o=document.createElement("script");o.src=d+"://a.vimeocdn.com/js/froogaloop2.min.js";n=document.getElementsByTagName("script")[0],i=!0;le("head").find("*").each(function(){le(this).attr("src")==d+"://a.vimeocdn.com/js/froogaloop2.min.js"&&(i=!1)}),i&&n.parentNode.insertBefore(o,n)}}catch(O){}try{le(this).data("videomp4")!=ce||le(this).data("videowebm")}catch(O){}}),t.find(".tp-caption video").each(function(){le(this).removeClass("video-js").removeClass("vjs-default-skin"),le(this).attr("preload",""),le(this).css({display:"none"})}),t.find(">ul:first-child >li").each(function(){var e=le(this);e.data("origindex",e.index())}),"on"==n.shuffle){var u=new Object,h=t.find(">ul:first-child >li:first-child");u.fstransition=h.data("fstransition"),u.fsmasterspeed=h.data("fsmasterspeed"),u.fsslotamount=h.data("fsslotamount");for(var p=0;p<t.find(">ul:first-child >li").length;p++){var f=Math.round(Math.random()*t.find(">ul:first-child >li").length);t.find(">ul:first-child >li:eq("+f+")").prependTo(t.find(">ul:first-child"))}var m=t.find(">ul:first-child >li:first-child");m.data("fstransition",u.fstransition),m.data("fsmasterspeed",u.fsmasterspeed),m.data("fsslotamount",u.fsslotamount)}n.slots=4,n.act=-1,n.next=0,n.startWithSlide!=ce&&(n.next=n.startWithSlide);var g=_("#")[0];if(g.length<9&&1<g.split("slide").length){var v=parseInt(g.split("slide")[1],0);v<1&&(v=1),v>t.find(">ul:first >li").length&&(v=t.find(">ul:first >li").length),n.next=v-1}n.firststart=1,n.navigationHOffset==ce&&(n.navOffsetHorizontal=0),n.navigationVOffset==ce&&(n.navOffsetVertical=0),t.append('<div class="tp-loader '+n.spinner+'"><div class="dot1"></div><div class="dot2"></div><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div></div>'),0==t.find(".tp-bannertimer").length&&t.append('<div class="tp-bannertimer" style="visibility:hidden"></div>');var T=t.find(".tp-bannertimer");if(0<T.length&&T.css({width:"0%"}),t.addClass("tp-simpleresponsive"),n.container=t,n.slideamount=t.find(">ul:first >li").length,0==t.height()&&t.height(n.startheight),n.startwidth!=ce&&0!=n.startwidth||(n.startwidth=t.width()),n.startheight!=ce&&0!=n.startheight||(n.startheight=t.height()),n.width=t.width(),n.height=t.height(),n.bw=n.startwidth/t.width(),n.bh=n.startheight/t.height(),n.width!=n.startwidth&&(n.height=Math.round(n.startheight*(n.width/n.startwidth)),t.height(n.height)),0!=n.shadow){t.parent().append('<div class="tp-bannershadow tp-shadow'+n.shadow+'"></div>');e=0;"on"==n.forceFullWidth&&(e=0-n.container.parent().offset().left),t.parent().find(".tp-bannershadow").css({width:n.width,left:e})}t.find("ul").css({display:"none"});t.find("ul").css({display:"block"}),S(t,n),"off"!=n.parallax&&F(t,n),1<n.slideamount&&I(t,n),1<n.slideamount&&"thumb"==n.navigationType&&B(t,n),1<n.slideamount&&D(t,n),"on"==n.keyboardNavigation&&w(t,n),R(t,n),0<n.hideThumbs&&k(t,n),setTimeout(function(){N(t,n)},n.startDelay),n.startDelay=0,1<n.slideamount&&A(t,n),setTimeout(function(){t.trigger("revolution.slide.onloaded")},500),le("body").data("rs-fullScreenMode",!1),le(window).on("mozfullscreenchange webkitfullscreenchange fullscreenchange",function(){le("body").data("rs-fullScreenMode",!le("body").data("rs-fullScreenMode")),le("body").data("rs-fullScreenMode")&&setTimeout(function(){le(window).trigger("resize")},200)});var y="resize.revslider-"+t.attr("id");le(window).on(y,function(){if(t==ce)return!1;if(0!=le("body").find(t)&&"on"==n.forceFullWidth){var e=n.container.closest(".forcefullwidth_wrapper_tp_banner").offset().left;n.container.parent().css({left:0-e+"px",width:le(window).width()})}(t.outerWidth(!0)!=n.width||t.is(":hidden"))&&O(t,n)});try{0!=n.hideThumbsUnderResoluition&&"thumb"==n.navigationType&&(n.hideThumbsUnderResoluition>le(window).width()?le(".tp-bullets").css({display:"none"}):le(".tp-bullets").css({display:"block"}))}catch(x){}t.find(".tp-scrollbelowslider").on("click",function(){var e=0;try{e=le("body").find(n.fullScreenOffsetContainer).height()}catch(b){}try{e-=parseInt(le(this).data("scrolloffset"),0)}catch(b){}le("body,html").animate({scrollTop:t.offset().top+t.find(">ul >li").height()-e+"px"},{duration:400})});var E=t.parent();le(window).width()<n.hideSliderAtLimit&&(t.trigger("stoptimer"),"none"!=E.css("display")&&E.data("olddisplay",E.css("display")),E.css({display:"none"})),n.disableFocusListener||"true"==n.disableFocusListener||!0===n.disableFocusListener||C(t,n)}}le.fn.extend({revolution:function(e){var t={delay:9e3,startheight:500,startwidth:960,fullScreenAlignForce:"off",autoHeight:"off",hideTimerBar:"off",hideThumbs:200,hideNavDelayOnMobile:1500,thumbWidth:100,thumbHeight:50,thumbAmount:3,navigationType:"bullet",navigationArrows:"solo",navigationInGrid:"off",hideThumbsOnMobile:"off",hideBulletsOnMobile:"off",hideArrowsOnMobile:"off",hideThumbsUnderResoluition:0,navigationStyle:"round",navigationHAlign:"center",navigationVAlign:"bottom",navigationHOffset:0,navigationVOffset:20,soloArrowLeftHalign:"left",soloArrowLeftValign:"center",soloArrowLeftHOffset:20,soloArrowLeftVOffset:0,soloArrowRightHalign:"right",soloArrowRightValign:"center",soloArrowRightHOffset:20,soloArrowRightVOffset:0,keyboardNavigation:"on",touchenabled:"on",onHoverStop:"on",stopAtSlide:-1,stopAfterLoops:-1,hideCaptionAtLimit:0,hideAllCaptionAtLimit:0,hideSliderAtLimit:0,shadow:0,fullWidth:"off",fullScreen:"off",minFullScreenHeight:0,fullScreenOffsetContainer:"",fullScreenOffset:"0",dottedOverlay:"none",forceFullWidth:"off",spinner:"spinner0",swipe_treshold:75,swipe_min_touches:1,drag_block_vertical:!1,isJoomla:!1,parallax:"off",parallaxLevels:[10,15,20,25,30,35,40,45,50,55,60,65,70,75,80,85],parallaxBgFreeze:"off",parallaxOpacity:"on",parallaxDisableOnMobile:"off",panZoomDisableOnMobile:"off",simplifyAll:"on",minHeight:0,nextSlideOnWindowFocus:"off",disableFocusListener:!0,startDelay:0};return e=le.extend({},t,e),this.each(function(){if(1==window.tplogs)try{console.groupCollapsed("Slider Revolution 4.6.3 Initialisation on "+le(this).attr("id")),console.groupCollapsed("Used Options:"),console.info(e),console.groupEnd(),console.groupCollapsed("Tween Engine:")}catch(t){}if(punchgs.TweenLite==ce){if(1==window.tplogs)try{console.error("GreenSock Engine Does not Exist!")}catch(t){}return!1}if(punchgs.force3D=!0,1==window.tplogs)try{console.info("GreenSock Engine Version in Slider Revolution:"+punchgs.TweenLite.version)}catch(t){}if("on"==e.simplifyAll||(punchgs.TweenLite.lagSmoothing(1e3,16),punchgs.force3D="true"),1==window.tplogs)try{console.groupEnd(),console.groupEnd()}catch(t){}n(le(this),e)})},revscroll:function(t){return this.each(function(){var e=le(this);e!=ce&&0<e.length&&0<le("body").find("#"+e.attr("id")).length&&le("body,html").animate({scrollTop:e.offset().top+e.find(">ul >li").height()-t+"px"},{duration:400})})},revredraw:function(){return this.each(function(){var e=le(this);if(e!=ce&&0<e.length&&0<le("body").find("#"+e.attr("id")).length){var t=e.parent().find(".tp-bannertimer").data("opt");O(e,t)}})},revkill:function(){var e=this,t=le(this);if(t!=ce&&0<t.length&&0<le("body").find("#"+t.attr("id")).length){t.data("conthover",1),t.data("conthover-changed",1),t.trigger("revolution.slide.onpause");var n=t.parent().find(".tp-bannertimer"),i=n.data("opt");i.bannertimeronpause=!0,t.trigger("stoptimer"),punchgs.TweenLite.killTweensOf(t.find("*"),!1),punchgs.TweenLite.killTweensOf(t,!1),t.unbind("hover, mouseover, mouseenter,mouseleave, resize");var o="resize.revslider-"+t.attr("id");le(window).off(o),t.find("*").each(function(){var e=le(this);e.unbind("on, hover, mouseenter,mouseleave,mouseover, resize,restarttimer, stoptimer"),e.off("on, hover, mouseenter,mouseleave,mouseover, resize"),e.data("mySplitText",null),e.data("ctl",null),e.data("tween")!=ce&&e.data("tween").kill(),e.data("kenburn")!=ce&&e.data("kenburn").kill(),e.remove(),e.empty(),e=null}),punchgs.TweenLite.killTweensOf(t.find("*"),!1),punchgs.TweenLite.killTweensOf(t,!1),n.remove();try{t.closest(".forcefullwidth_wrapper_tp_banner").remove()}catch(de){}try{t.closest(".rev_slider_wrapper").remove()}catch(de){}try{t.remove()}catch(de){}return t.empty(),t.html(),i=t=null,delete e.container,delete e.opt,!0}return!1},revpause:function(){return this.each(function(){var e=le(this);e!=ce&&0<e.length&&0<le("body").find("#"+e.attr("id")).length&&(e.data("conthover",1),e.data("conthover-changed",1),e.trigger("revolution.slide.onpause"),e.parent().find(".tp-bannertimer").data("opt").bannertimeronpause=!0,e.trigger("stoptimer"))})},revresume:function(){return this.each(function(){var e=le(this);e!=ce&&0<e.length&&0<le("body").find("#"+e.attr("id")).length&&(e.data("conthover",0),e.data("conthover-changed",1),e.trigger("revolution.slide.onresume"),e.parent().find(".tp-bannertimer").data("opt").bannertimeronpause=!1,e.trigger("starttimer"))})},revnext:function(){return this.each(function(){var e=le(this);e!=ce&&0<e.length&&0<le("body").find("#"+e.attr("id")).length&&e.parent().find(".tp-rightarrow").click()})},revprev:function(){return this.each(function(){var e=le(this);e!=ce&&0<e.length&&0<le("body").find("#"+e.attr("id")).length&&e.parent().find(".tp-leftarrow").click()})},revmaxslide:function(){return le(this).find(">ul:first-child >li").length},revcurrentslide:function(){var e=le(this);if(e!=ce&&0<e.length&&0<le("body").find("#"+e.attr("id")).length)return e.parent().find(".tp-bannertimer").data("opt").act},revlastslide:function(){var e=le(this);if(e!=ce&&0<e.length&&0<le("body").find("#"+e.attr("id")).length)return e.parent().find(".tp-bannertimer").data("opt").lastslide},revshowslide:function(t){return this.each(function(){var e=le(this);e!=ce&&0<e.length&&0<le("body").find("#"+e.attr("id")).length&&(e.data("showus",t),e.parent().find(".tp-rightarrow").click())})}});!function(){var e,t,n={hidden:"visibilitychange",webkitHidden:"webkitvisibilitychange",mozHidden:"mozvisibilitychange",msHidden:"msvisibilitychange"};for(e in n)if(e in document){t=n[e];break}}();var C=function(e,t){var n=document.documentMode===ce,i=window.chrome;n&&!i?le(window).on("focusin",function(){if(e==ce)return!1;setTimeout(function(){"on"==t.nextSlideOnWindowFocus&&e.revnext(),e.revredraw()},300)}).on("focusout",function(){}):window.addEventListener?(window.addEventListener("focus",function(){if(e==ce)return!1;setTimeout(function(){"on"==t.nextSlideOnWindowFocus&&e.revnext(),e.revredraw()},300)},!1),window.addEventListener("blur",function(){},!1)):(window.attachEvent("focus",function(){setTimeout(function(){if(e==ce)return!1;"on"==t.nextSlideOnWindowFocus&&e.revnext(),e.revredraw()},300)}),window.attachEvent("blur",function(){}))},_=function(e){for(var t,n=[],i=window.location.href.slice(window.location.href.indexOf(e)+1).split("_"),o=0;o<i.length;o++)i[o]=i[o].replace("%3D","="),t=i[o].split("="),n.push(t[0]),n[t[0]]=t[1];return n},O=function(t,n){if(t==ce)return!1;try{0!=n.hideThumbsUnderResoluition&&"thumb"==n.navigationType&&(n.hideThumbsUnderResoluition>le(window).width()?le(".tp-bullets").css({display:"none"}):le(".tp-bullets").css({display:"block"}))}catch(l){}t.find(".defaultimg").each(function(){x(le(this),n)});var e=t.parent();le(window).width()<n.hideSliderAtLimit?(t.trigger("stoptimer"),"none"!=e.css("display")&&e.data("olddisplay",e.css("display")),e.css({display:"none"})):t.is(":hidden")&&(e.data("olddisplay")!=ce&&"undefined"!=e.data("olddisplay")&&"none"!=e.data("olddisplay")?e.css({display:e.data("olddisplay")}):e.css({display:"block"}),t.trigger("restarttimer"),setTimeout(function(){O(t,n)},150));var i=0;"on"==n.forceFullWidth&&(i=0-n.container.parent().offset().left);try{t.parent().find(".tp-bannershadow").css({width:n.width,left:i})}catch(l){}var o=t.find(">ul >li:eq("+n.act+") .slotholder"),r=t.find(">ul >li:eq("+n.next+") .slotholder");u(t,n,t),punchgs.TweenLite.set(r.find(".defaultimg"),{opacity:0}),o.find(".defaultimg").css({opacity:1}),r.find(".defaultimg").each(function(){var e=le(this);"on"==n.panZoomDisableOnMobile||e.data("kenburn")!=ce&&(e.data("kenburn").restart(),oe(t,n,!0))});var a=t.find(">ul >li:eq("+n.next+")"),s=t.parent().find(".tparrows");s.hasClass("preview2")&&s.css({width:parseInt(s.css("minWidth"),0)}),ie(a,n,!0),c(t,n)},de=function(e,t){var n=le('<div style="display:none;"/>').appendTo(le("body"));n.html("<!--[if "+(t||"")+" IE "+(e||"")+"]><a>&nbsp;</a><![endif]-->");var i=n.find("a").length;return n.remove(),i},l=function(e,t){e.next==t.find(">ul >li").length-1&&(e.looptogo=e.looptogo-1,e.looptogo<=0&&(e.stopLoop="on")),N(t,e)},I=function(i,o){var e="hidebullets";0==o.hideThumbs&&(e=""),"bullet"!=o.navigationType&&"both"!=o.navigationType||i.parent().append('<div class="tp-bullets '+e+" simplebullets "+o.navigationStyle+'"></div>');var t=i.parent().find(".tp-bullets");i.find(">ul:first >li").each(function(e){i.find(">ul:first >li:eq("+e+") img:first").attr("src");t.append('<div class="bullet"></div>');t.find(".bullet:first")}),t.find(".bullet").each(function(e){var n=le(this);e==o.slideamount-1&&n.addClass("last"),0==e&&n.addClass("first"),n.click(function(){var e=!1,t=n.index();"withbullet"!=o.navigationArrows&&"nexttobullets"!=o.navigationArrows||(t=n.index()-1),t==o.act&&(e=!0),0!=o.transition||e||(o.next=t,l(o,i))})}),t.append('<div class="tpclear"></div>'),c(i,o)},D=function(t,e){function n(e){t.parent().append('<div style="'+i+'" class="tp-'+e+"arrow "+o+" tparrows "+r+'"><div class="tp-arr-allwrapper"><div class="tp-arr-iwrapper"><div class="tp-arr-imgholder"></div><div class="tp-arr-imgholder2"></div><div class="tp-arr-titleholder"></div><div class="tp-arr-subtitleholder"></div></div></div></div>')}t.find(".tp-bullets");var i="",o="hidearrows",r=e.navigationStyle;0==e.hideThumbs&&(o=""),"none"==e.navigationArrows&&(i="visibility:hidden;display:none"),e.soloArrowStyle="default "+e.navigationStyle,"none"!=e.navigationArrows&&"nexttobullets"!=e.navigationArrows&&(r=e.soloArrowStyle),n("left"),n("right"),t.parent().find(".tp-rightarrow").click(function(){0==e.transition&&(t.data("showus")!=ce&&-1!=t.data("showus")?e.next=t.data("showus")-1:e.next=e.next+1,t.data("showus",-1),e.next>=e.slideamount&&(e.next=0),e.next<0&&(e.next=0),e.act!=e.next&&l(e,t))}),t.parent().find(".tp-leftarrow").click(function(){0==e.transition&&(e.next=e.next-1,e.leftarrowpressed=1,e.next<0&&(e.next=e.slideamount-1),l(e,t))}),c(t,e)},w=function(t,n){le(document).keydown(function(e){0==n.transition&&39==e.keyCode&&(t.data("showus")!=ce&&-1!=t.data("showus")?n.next=t.data("showus")-1:n.next=n.next+1,t.data("showus",-1),n.next>=n.slideamount&&(n.next=0),n.next<0&&(n.next=0),n.act!=n.next&&l(n,t)),0==n.transition&&37==e.keyCode&&(n.next=n.next-1,n.leftarrowpressed=1,n.next<0&&(n.next=n.slideamount-1),l(n,t))}),c(t,n)},R=function(n,i){var o="vertical";"on"==i.touchenabled&&(1==i.drag_block_vertical&&(o="none"),n.swipe({allowPageScroll:o,fingers:i.swipe_min_touches,treshold:i.swipe_treshold,swipe:function(e,t){switch(t){case"left":0==i.transition&&(i.next=i.next+1,i.next==i.slideamount&&(i.next=0),l(i,n));break;case"right":0==i.transition&&(i.next=i.next-1,i.leftarrowpressed=1,i.next<0&&(i.next=i.slideamount-1),l(i,n));break;case"up":"none"==o&&le("html, body").animate({scrollTop:n.offset().top+n.height()+"px"});break;case"down":"none"==o&&le("html, body").animate({scrollTop:n.offset().top-le(window).height()+"px"})}}}))},k=function(e,t){var n=e.parent().find(".tp-bullets"),i=e.parent().find(".tparrows");if(null==n){e.append('<div class=".tp-bullets"></div>');n=e.parent().find(".tp-bullets")}if(null==i){e.append('<div class=".tparrows"></div>');i=e.parent().find(".tparrows")}if(e.data("hideThumbs",t.hideThumbs),n.addClass("hidebullets"),i.addClass("hidearrows"),Oe())try{e.hammer().on("touch",function(){e.addClass("hovered"),"on"==t.onHoverStop&&e.trigger("stoptimer"),clearTimeout(e.data("hideThumbs")),n.removeClass("hidebullets"),i.removeClass("hidearrows")}),e.hammer().on("release",function(){e.removeClass("hovered"),e.trigger("starttimer"),e.hasClass("hovered")||n.hasClass("hovered")||e.data("hideThumbs",setTimeout(function(){n.addClass("hidebullets"),i.addClass("hidearrows"),e.trigger("starttimer")},t.hideNavDelayOnMobile))})}catch(o){}else n.hover(function(){t.overnav=!0,"on"==t.onHoverStop&&e.trigger("stoptimer"),n.addClass("hovered"),clearTimeout(e.data("hideThumbs")),n.removeClass("hidebullets"),i.removeClass("hidearrows")},function(){t.overnav=!1,e.trigger("starttimer"),n.removeClass("hovered"),e.hasClass("hovered")||n.hasClass("hovered")||e.data("hideThumbs",setTimeout(function(){n.addClass("hidebullets"),i.addClass("hidearrows")},t.hideThumbs))}),i.hover(function(){t.overnav=!0,"on"==t.onHoverStop&&e.trigger("stoptimer"),n.addClass("hovered"),clearTimeout(e.data("hideThumbs")),n.removeClass("hidebullets"),i.removeClass("hidearrows")},function(){t.overnav=!1,e.trigger("starttimer"),n.removeClass("hovered")}),e.on("mouseenter",function(){e.addClass("hovered"),"on"==t.onHoverStop&&e.trigger("stoptimer"),clearTimeout(e.data("hideThumbs")),n.removeClass("hidebullets"),i.removeClass("hidearrows")}),e.on("mouseleave",function(){e.removeClass("hovered"),e.trigger("starttimer"),e.hasClass("hovered")||n.hasClass("hovered")||e.data("hideThumbs",setTimeout(function(){n.addClass("hidebullets"),i.addClass("hidearrows")},t.hideThumbs))})},c=function(e,t){var n=e.parent(),i=n.find(".tp-bullets");if("thumb"==t.navigationType){i.find(".thumb").each(function(){le(this).css({width:t.thumbWidth*t.bw+"px",height:t.thumbHeight*t.bh+"px"})});var o=i.find(".tp-mask");o.width(t.thumbWidth*t.thumbAmount*t.bw),o.height(t.thumbHeight*t.bh),o.parent().width(t.thumbWidth*t.thumbAmount*t.bw),o.parent().height(t.thumbHeight*t.bh)}var r=n.find(".tp-leftarrow"),a=n.find(".tp-rightarrow");"thumb"==t.navigationType&&"nexttobullets"==t.navigationArrows&&(t.navigationArrows="solo"),"nexttobullets"==t.navigationArrows&&(r.prependTo(i).css({"float":"left"}),a.insertBefore(i.find(".tpclear")).css({"float":"left"}));var s=0;"on"==t.forceFullWidth&&(s=0-t.container.parent().offset().left);var l=0;if("on"==t.navigationInGrid&&(l=e.width()>t.startwidth?(e.width()-t.startwidth)/2:0,e.height()>t.startheight?(e.height()-t.startheight)/2:0),"none"!=t.navigationArrows&&"nexttobullets"!=t.navigationArrows){var c=t.soloArrowLeftValign,d=t.soloArrowLeftHalign,u=t.soloArrowRightValign,h=t.soloArrowRightHalign,p=t.soloArrowLeftVOffset,f=t.soloArrowLeftHOffset,m=t.soloArrowRightVOffset,g=t.soloArrowRightHOffset;r.css({position:"absolute"}),a.css({position:"absolute"}),"center"==c?r.css({top:"50%",marginTop:p-Math.round(r.innerHeight()/2)+"px"}):"bottom"==c?r.css({top:"auto",bottom:0+p+"px"}):"top"==c&&r.css({bottom:"auto",top:0+p+"px"}),"center"==d?r.css({left:"50%",marginLeft:s+f-Math.round(r.innerWidth()/2)+"px"}):"left"==d?r.css({left:l+f+s+"px"}):"right"==d&&r.css({right:l+f-s+"px"}),"center"==u?a.css({top:"50%",marginTop:m-Math.round(a.innerHeight()/2)+"px"}):"bottom"==u?a.css({top:"auto",bottom:0+m+"px"}):"top"==u&&a.css({bottom:"auto",top:0+m+"px"}),"center"==h?a.css({left:"50%",marginLeft:s+g-Math.round(a.innerWidth()/2)+"px"}):"left"==h?a.css({left:l+g+s+"px"}):"right"==h&&a.css({right:l+g-s+"px"}),null!=r.position()&&r.css({top:Math.round(parseInt(r.position().top,0))+"px"}),null!=a.position()&&a.css({top:Math.round(parseInt(a.position().top,0))+"px"})}"none"==t.navigationArrows&&(r.css({visibility:"hidden"}),a.css({visibility:"hidden"}));var v=t.navigationVAlign,T=t.navigationHAlign,y=t.navigationVOffset*t.bh,E=t.navigationHOffset*t.bw;"center"==v&&i.css({top:"50%",marginTop:y-Math.round(i.innerHeight()/2)+"px"}),"bottom"==v&&i.css({bottom:0+y+"px"}),"top"==v&&i.css({top:0+y+"px"}),"center"==T&&i.css({left:"50%",marginLeft:s+E-Math.round(i.innerWidth()/2)+"px"}),"left"==T&&i.css({left:0+E+s+"px"}),"right"==T&&i.css({right:0+E-s+"px"})},d=function(e){var t=e.container;e.beforli=e.next-1,e.comingli=e.next+1,e.beforli<0&&(e.beforli=e.slideamount-1),e.comingli>=e.slideamount&&(e.comingli=0);var n=t.find(">ul:first-child >li:eq("+e.comingli+")"),i=t.find(">ul:first-child >li:eq("+e.beforli+")"),o=i.find(".defaultimg").attr("src"),r=n.find(".defaultimg").attr("src");e.arr==ce&&(e.arr=t.parent().find(".tparrows"),e.rar=t.parent().find(".tp-rightarrow"),e.lar=t.parent().find(".tp-leftarrow"),e.raimg=e.rar.find(".tp-arr-imgholder"),e.laimg=e.lar.find(".tp-arr-imgholder"),e.raimg_b=e.rar.find(".tp-arr-imgholder2"),e.laimg_b=e.lar.find(".tp-arr-imgholder2"),e.ratit=e.rar.find(".tp-arr-titleholder"),e.latit=e.lar.find(".tp-arr-titleholder"));var a=e.arr,s=e.rar,l=e.lar,c=e.raimg,d=e.laimg,u=e.raimg_b,h=e.laimg_b,p=e.ratit,f=e.latit;if(n.data("title")!=ce&&p.html(n.data("title")),i.data("title")!=ce&&f.html(i.data("title")),s.hasClass("itishovered")&&s.width(p.outerWidth(!0)+parseInt(s.css("minWidth"),0)),l.hasClass("itishovered")&&l.width(f.outerWidth(!0)+parseInt(l.css("minWidth"),0)),a.hasClass("preview2")&&!a.hasClass("hashoveralready"))if(a.addClass("hashoveralready"),Oe()){var m=(a=le(this)).find(".tp-arr-titleholder");m.addClass("alwayshidden"),punchgs.TweenLite.set(m,{autoAlpha:0})}else a.hover(function(){var e=le(this),t=e.find(".tp-arr-titleholder");767<le(window).width()&&e.width(t.outerWidth(!0)+parseInt(e.css("minWidth"),0)),e.addClass("itishovered")},function(){var e=le(this);e.find(".tp-arr-titleholder");e.css({width:parseInt(e.css("minWidth"),0)}),e.removeClass("itishovered")});i.data("thumb")!=ce&&(o=i.data("thumb")),n.data("thumb")!=ce&&(r=n.data("thumb")),a.hasClass("preview4")?(u.css({backgroundImage:"url("+r+")"}),h.css({backgroundImage:"url("+o+")"}),punchgs.TweenLite.fromTo(u,.8,{force3D:punchgs.force3d,x:0},{x:-c.width(),ease:punchgs.Power3.easeOut,delay:1,onComplete:function(){c.css({backgroundImage:"url("+r+")"}),punchgs.TweenLite.set(u,{x:0})}}),punchgs.TweenLite.fromTo(h,.8,{force3D:punchgs.force3d,x:0},{x:c.width(),ease:punchgs.Power3.easeOut,delay:1,onComplete:function(){d.css({backgroundImage:"url("+o+")"}),punchgs.TweenLite.set(h,{x:0})}}),punchgs.TweenLite.fromTo(c,.8,{x:0},{force3D:punchgs.force3d,x:-c.width(),ease:punchgs.Power3.easeOut,delay:1,onComplete:function(){punchgs.TweenLite.set(c,{x:0})}}),punchgs.TweenLite.fromTo(d,.8,{x:0},{force3D:punchgs.force3d,x:c.width(),ease:punchgs.Power3.easeOut,delay:1,onComplete:function(){punchgs.TweenLite.set(d,{x:0})}})):(punchgs.TweenLite.to(c,.5,{autoAlpha:0,onComplete:function(){c.css({backgroundImage:"url("+r+")"}),d.css({backgroundImage:"url("+o+")"})}}),punchgs.TweenLite.to(d,.5,{autoAlpha:0,onComplete:function(){punchgs.TweenLite.to(c,.5,{autoAlpha:1,delay:.2}),punchgs.TweenLite.to(d,.5,{autoAlpha:1,delay:.2})}})),s.hasClass("preview4")&&!s.hasClass("hashoveralready")&&(s.addClass("hashoveralready"),s.hover(function(){var e=le(this).find(".tp-arr-iwrapper"),t=le(this).find(".tp-arr-allwrapper");punchgs.TweenLite.fromTo(e,.4,{x:e.width()},{x:0,delay:.3,ease:punchgs.Power3.easeOut,overwrite:"all"}),punchgs.TweenLite.to(t,.2,{autoAlpha:1,overwrite:"all"})},function(){var e=le(this).find(".tp-arr-iwrapper"),t=le(this).find(".tp-arr-allwrapper");punchgs.TweenLite.to(e,.4,{x:e.width(),ease:punchgs.Power3.easeOut,delay:.2,overwrite:"all"}),punchgs.TweenLite.to(t,.2,{delay:.6,autoAlpha:0,overwrite:"all"})}),l.hover(function(){var e=le(this).find(".tp-arr-iwrapper"),t=le(this).find(".tp-arr-allwrapper");punchgs.TweenLite.fromTo(e,.4,{x:0-e.width()},{x:0,delay:.3,ease:punchgs.Power3.easeOut,overwrite:"all"}),punchgs.TweenLite.to(t,.2,{autoAlpha:1,overwrite:"all"})},function(){var e=le(this).find(".tp-arr-iwrapper"),t=le(this).find(".tp-arr-allwrapper");punchgs.TweenLite.to(e,.4,{x:0-e.width(),ease:punchgs.Power3.easeOut,delay:.2,overwrite:"all"}),punchgs.TweenLite.to(t,.2,{delay:.6,autoAlpha:0,overwrite:"all"})}))},x=function(e,n){if(n.container.closest(".forcefullwidth_wrapper_tp_banner").find(".tp-fullwidth-forcer").css({height:n.container.height()}),n.container.closest(".rev_slider_wrapper").css({height:n.container.height()}),n.width=parseInt(n.container.width(),0),n.height=parseInt(n.container.height(),0),n.bw=n.width/n.startwidth,n.bh=n.height/n.startheight,n.bh>n.bw&&(n.bh=n.bw),n.bh<n.bw&&(n.bw=n.bh),n.bw<n.bh&&(n.bh=n.bw),1<n.bh&&(n.bw=1,n.bh=1),1<n.bw&&(n.bw=1,n.bh=1),n.height=Math.round(n.startheight*(n.width/n.startwidth)),n.height>n.startheight&&"on"!=n.autoHeight&&(n.height=n.startheight),"on"==n.fullScreen){n.height=n.bw*n.startheight;n.container.parent().width();var i=le(window).height();if(n.fullScreenOffsetContainer!=ce){try{var t=n.fullScreenOffsetContainer.split(",");le.each(t,function(e,t){(i-=le(t).outerHeight(!0))<n.minFullScreenHeight&&(i=n.minFullScreenHeight)})}catch(O){}try{1<n.fullScreenOffset.split("%").length&&n.fullScreenOffset!=ce&&0<n.fullScreenOffset.length?i-=le(window).height()*parseInt(n.fullScreenOffset,0)/100:n.fullScreenOffset!=ce&&0<n.fullScreenOffset.length&&(i-=parseInt(n.fullScreenOffset,0)),i<n.minFullScreenHeight&&(i=n.minFullScreenHeight)}catch(O){}}n.container.parent().height(i),n.container.closest(".rev_slider_wrapper").height(i),n.container.css({height:"100%"}),n.height=i,n.minHeight!=ce&&n.height<n.minHeight&&(n.height=n.minHeight)}else n.minHeight!=ce&&n.height<n.minHeight&&(n.height=n.minHeight),n.container.height(n.height);n.slotw=Math.ceil(n.width/n.slots),"on"==n.fullScreen?n.sloth=Math.ceil(le(window).height()/n.slots):n.sloth=Math.ceil(n.height/n.slots),"on"==n.autoHeight&&(n.sloth=Math.ceil(e.height()/n.slots))},S=function(a,s){a.find(".tp-caption").each(function(){le(this).addClass(le(this).data("transition")),le(this).addClass("start")}),a.find(">ul:first").css({overflow:"hidden",width:"100%",height:"100%",maxHeight:a.parent().css("maxHeight")}).addClass("tp-revslider-mainul"),"on"==s.autoHeight&&(a.find(">ul:first").css({overflow:"hidden",width:"100%",height:"100%",maxHeight:"none"}),a.css({maxHeight:"none"}),a.parent().css({maxHeight:"none"})),a.find(">ul:first >li").each(function(){var e=le(this);if(e.addClass("tp-revslider-slidesli"),e.css({width:"100%",height:"100%",overflow:"hidden"}),e.data("link")!=ce){var t=e.data("link"),n="_self",i=60;"back"==e.data("slideindex")&&(i=0);var o=checksl=e.data("linktoslide");o!=ce&&"next"!=o&&"prev"!=o&&a.find(">ul:first-child >li").each(function(){var e=le(this);e.data("origindex")+1==checksl&&(o=e.index()+1)}),e.data("target")!=ce&&(n=e.data("target")),"slide"!=t&&(o="no");var r='<div class="tp-caption sft slidelink" style="width:100%;height:100%;z-index:'+i+';" data-x="center" data-y="center" data-linktoslide="'+o+'" data-start="0"><a style="width:100%;height:100%;display:block"';"slide"!=t&&(r=r+' target="'+n+'" href="'+t+'"'),r+='><span style="width:100%;height:100%;display:block"></span></a></div>',e.append(r)}}),a.parent().css({overflow:"visible"}),a.find(">ul:first >li >img").each(function(e){var t=le(this);t.addClass("defaultimg"),t.data("lazyload")!=ce&&1!=t.data("lazydone")||x(t,s),de(8)&&t.data("kenburns","off"),"on"==s.panZoomDisableOnMobile&&Oe()&&(t.data("kenburns","off"),t.data("bgfit","cover")),t.wrap('<div class="slotholder" style="width:100%;height:100%;"data-duration="'+t.data(
"duration")+'"data-zoomstart="'+t.data("zoomstart")+'"data-zoomend="'+t.data("zoomend")+'"data-rotationstart="'+t.data("rotationstart")+'"data-rotationend="'+t.data("rotationend")+'"data-ease="'+t.data("ease")+'"data-duration="'+t.data("duration")+'"data-bgpositionend="'+t.data("bgpositionend")+'"data-bgposition="'+t.data("bgposition")+'"data-duration="'+t.data("duration")+'"data-kenburns="'+t.data("kenburns")+'"data-easeme="'+t.data("ease")+'"data-bgfit="'+t.data("bgfit")+'"data-bgfitend="'+t.data("bgfitend")+'"data-owidth="'+t.data("owidth")+'"data-oheight="'+t.data("oheight")+'"></div>'),"none"!=s.dottedOverlay&&s.dottedOverlay!=ce&&t.closest(".slotholder").append('<div class="tp-dottedoverlay '+s.dottedOverlay+'"></div>');var n=t.attr("src"),i=(t.data("lazyload"),t.data("bgfit")),o=t.data("bgrepeat"),r=t.data("bgposition");i==ce&&(i="cover"),o==ce&&(o="no-repeat"),r==ce&&(r="center center");var a=t.closest(".slotholder");t.replaceWith('<div class="tp-bgimg defaultimg" data-lazyload="'+t.data("lazyload")+'" data-bgfit="'+i+'"data-bgposition="'+r+'" data-bgrepeat="'+o+'" data-lazydone="'+t.data("lazydone")+'" src="'+n+'" data-src="'+n+'" style="background-color:'+t.css("backgroundColor")+";background-repeat:"+o+";background-image:url("+n+");background-size:"+i+";background-position:"+r+';width:100%;height:100%;"></div>'),de(8)&&(a.find(".tp-bgimg").css({backgroundImage:"none","background-image":"none"}),a.find(".tp-bgimg").append('<img class="ieeightfallbackimage defaultimg" src="'+n+'" style="width:100%">')),t.css({opacity:0}),t.data("li-id",e)})},te=function(e,t,n,i){var o=e,r=o.find(".defaultimg"),a=o.data("zoomstart"),s=o.data("rotationstart");r.data("currotate")!=ce&&(s=r.data("currotate")),r.data("curscale")!=ce&&"box"==i?a=100*r.data("curscale"):r.data("curscale")!=ce&&(a=r.data("curscale")),x(r,t);var l=r.data("src"),c=r.css("backgroundColor"),d=t.width,u=t.height,h=r.data("fxof"),p=0;"on"==t.autoHeight&&(u=t.container.height()),h==ce&&(h=0);var f=0,m=r.data("bgfit"),g=r.data("bgrepeat"),v=r.data("bgposition");if(m==ce&&(m="cover"),g==ce&&(g="no-repeat"),v==ce&&(v="center center"),de(8)){o.data("kenburns","off");var T=l;l=""}switch(i){case"box":var y=0,E=0,b=0;if(y=t.sloth>t.slotw?t.sloth:t.slotw,!n)f=0-y;t.slotw=y,t.sloth=y;E=0,b=0;"on"==o.data("kenburns")&&(m=a).toString().length<4&&(m=L(m,o,t));for(var C=0;C<t.slots;C++){for(var _=b=0;_<t.slots;_++)o.append('<div class="slot" style="position:absolute;top:'+(p+b)+"px;left:"+(h+E)+"px;width:"+y+"px;height:"+y+'px;overflow:hidden;"><div class="slotslide" data-x="'+E+'" data-y="'+b+'" style="position:absolute;top:0px;left:0px;width:'+y+"px;height:"+y+'px;overflow:hidden;"><div style="position:absolute;top:'+(0-b)+"px;left:"+(0-E)+"px;width:"+d+"px;height:"+u+"px;background-color:"+c+";background-image:url("+l+");background-repeat:"+g+";background-size:"+m+";background-position:"+v+';"></div></div></div>'),b+=y,de(8)&&(o.find(".slot ").last().find(".slotslide").append('<img src="'+T+'">'),K(o,t)),a!=ce&&s!=ce&&punchgs.TweenLite.set(o.find(".slot").last(),{rotationZ:s});E+=y}break;case"vertical":case"horizontal":if("on"==o.data("kenburns")&&(m=a).toString().length<4&&(m=L(m,o,t)),"horizontal"==i){if(!n)f=0-t.slotw;for(_=0;_<t.slots;_++)o.append('<div class="slot" style="position:absolute;top:'+(0+p)+"px;left:"+(h+_*t.slotw)+"px;overflow:hidden;width:"+(t.slotw+.6)+"px;height:"+u+'px"><div class="slotslide" style="position:absolute;top:0px;left:'+f+"px;width:"+(t.slotw+.6)+"px;height:"+u+'px;overflow:hidden;"><div style="background-color:'+c+";position:absolute;top:0px;left:"+(0-_*t.slotw)+"px;width:"+d+"px;height:"+u+"px;background-image:url("+l+");background-repeat:"+g+";background-size:"+m+";background-position:"+v+';"></div></div></div>'),a!=ce&&s!=ce&&punchgs.TweenLite.set(o.find(".slot").last(),{rotationZ:s}),de(8)&&(o.find(".slot ").last().find(".slotslide").append('<img class="ieeightfallbackimage" src="'+T+'" style="width:100%;height:auto">'),K(o,t))}else{if(!n)f=0-t.sloth;for(_=0;_<t.slots+2;_++)o.append('<div class="slot" style="position:absolute;top:'+(p+_*t.sloth)+"px;left:"+h+"px;overflow:hidden;width:"+d+"px;height:"+t.sloth+'px"><div class="slotslide" style="position:absolute;top:'+f+"px;left:0px;width:"+d+"px;height:"+t.sloth+'px;overflow:hidden;"><div style="background-color:'+c+";position:absolute;top:"+(0-_*t.sloth)+"px;left:0px;width:"+d+"px;height:"+u+"px;background-image:url("+l+");background-repeat:"+g+";background-size:"+m+";background-position:"+v+';"></div></div></div>'),a!=ce&&s!=ce&&punchgs.TweenLite.set(o.find(".slot").last(),{rotationZ:s}),de(8)&&(o.find(".slot ").last().find(".slotslide").append('<img class="ieeightfallbackimage" src="'+T+'" style="width:100%;height:auto;">'),K(o,t))}}},K=function(i,o){if(de(8)){var r=i.find(".ieeightfallbackimage");r.width(),r.height();o.startwidth/o.startheight<i.data("owidth")/i.data("oheight")?r.css({width:"auto",height:"100%"}):r.css({width:"100%",height:"auto"}),setTimeout(function(){var e=r.width(),t=r.height(),n=i.data("bgposition");"center center"==n&&r.css({position:"absolute",top:o.height/2-t/2+"px",left:o.width/2-e/2+"px"}),"center top"!=n&&"top center"!=n||r.css({position:"absolute",top:"0px",left:o.width/2-e/2+"px"}),"center bottom"!=n&&"bottom center"!=n||r.css({position:"absolute",bottom:"0px",left:o.width/2-e/2+"px"}),"right top"!=n&&"top right"!=n||r.css({position:"absolute",top:"0px",right:"0px"}),"right bottom"!=n&&"bottom right"!=n||r.css({position:"absolute",bottom:"0px",right:"0px"}),"right center"!=n&&"center right"!=n||r.css({position:"absolute",top:o.height/2-t/2+"px",right:"0px"}),"left bottom"!=n&&"bottom left"!=n||r.css({position:"absolute",bottom:"0px",left:"0px"}),"left center"!=n&&"center left"!=n||r.css({position:"absolute",top:o.height/2-t/2+"px",left:"0px"})},20)}},u=function(e,t,n){n.find(".slot").each(function(){le(this).remove()}),t.transition=0},r=function(e,i){e.find("img, .defaultimg").each(function(){var e,t=le(this),n=t.data("lazyload");n!=t.attr("src")&&i<3&&n!=ce&&"undefined"!=n?n!=ce&&"undefined"!=n&&(t.attr("src",n),(e=new Image).onload=function(){t.data("lazydone",1),t.hasClass("defaultimg")&&o(t,e)},e.error=function(){t.data("lazydone",1)},e.src=t.attr("src"),e.complete&&(t.hasClass("defaultimg")&&o(t,e),t.data("lazydone",1))):n!==ce&&"undefined"!==n||1==t.data("lazydone")||((e=new Image).onload=function(){t.hasClass("defaultimg")&&o(t,e),t.data("lazydone",1)},e.error=function(){t.data("lazydone",1)},t.attr("src")!=ce&&"undefined"!=t.attr("src")?e.src=t.attr("src"):e.src=t.data("src"),e.complete&&(t.hasClass("defaultimg")&&o(t,e),t.data("lazydone",1)))})},o=function(e,t){var n=e.closest("li"),i=t.width,o=t.height;n.data("owidth",i),n.data("oheight",o),n.find(".slotholder").data("owidth",i),n.find(".slotholder").data("oheight",o),n.data("loadeddone",1)},t=function(t,n,i){r(t,0);var o=setInterval(function(){i.bannertimeronpause=!0,i.container.trigger("stoptimer");var e=i.cd=0;t.find("img, .defaultimg").each(function(){1!=le(this).data("lazydone")&&e++}),0<e?r(t,e):(clearInterval(o),n!=ce&&n())},100)},N=function(n,i){try{n.find(">ul:first-child >li:eq("+i.act+")")}catch(e){n.find(">ul:first-child >li:eq(1)")}i.lastslide=i.act;var o=n.find(">ul:first-child >li:eq("+i.next+")"),r=o.find(".defaultimg");i.bannertimeronpause=!0,n.trigger("stoptimer"),i.cd=0,r.data("lazyload")!=ce&&"undefined"!=r.data("lazyload")&&1!=r.data("lazydone")?(de(8)?r.attr("src",o.find(".defaultimg").data("lazyload")):r.css({backgroundImage:'url("'+o.find(".defaultimg").data("lazyload")+'")'}),r.data("src",o.find(".defaultimg").data("lazyload")),r.data("lazydone",0),r.data("orgw",0),o.data("loadeddone",1),n.find(".tp-loader").css({display:"block"}),t(n.find(".tp-static-layers"),function(){t(o,function(){var e=o.find(".slotholder");if("on"==e.data("kenburns"))var t=setInterval(function(){0<=e.data("owidth")&&(clearInterval(t),a(i,r,n))},10);else a(i,r,n)},i)},i)):o.data("loadeddone")===ce?(o.data("loadeddone",1),t(o,function(){a(i,r,n)},i)):a(i,r,n)},a=function(e,t,n){e.bannertimeronpause=!1,e.cd=0,n.trigger("nulltimer"),n.find(".tp-loader").css({display:"none"}),x(t,e),c(n,e),x(t,e),i(n,e)},i=function(e,t){e.trigger("revolution.slide.onbeforeswap"),t.transition=1,t.videoplaying=!1;try{var n=e.find(">ul:first-child >li:eq("+t.act+")")}catch(s){n=e.find(">ul:first-child >li:eq(1)")}t.lastslide=t.act;var i=e.find(">ul:first-child >li:eq("+t.next+")");setTimeout(function(){d(t)},200);var o=n.find(".slotholder"),r=i.find(".slotholder");"on"!=r.data("kenburns")&&"on"!=o.data("kenburns")||(f(e,t),e.find(".kenburnimg").remove()),i.data("delay")!=ce?(t.cd=0,t.delay=i.data("delay")):t.delay=t.origcd,1==t.firststart&&punchgs.TweenLite.set(n,{autoAlpha:0}),punchgs.TweenLite.set(n,{zIndex:18}),punchgs.TweenLite.set(i,{autoAlpha:0,zIndex:20});var a=0;n.index()!=i.index()&&1!=t.firststart&&(a=p(n,t)),"on"!=n.data("saveperformance")&&(a=0),setTimeout(function(){e.trigger("restarttimer"),h(e,t,i,n,o,r)},a)},h=function(e,r,t,n,i,o){function a(){le.each(h,function(e,t){t[0]!=d&&t[8]!=d||(s=t[1],u=t[2],m=g),g+=1})}"prepared"==t.data("differentissplayed")&&(t.data("differentissplayed","done"),t.data("transition",t.data("savedtransition")),t.data("slotamount",t.data("savedslotamount")),t.data("masterspeed",t.data("savedmasterspeed"))),t.data("fstransition")!=ce&&"done"!=t.data("differentissplayed")&&(t.data("savedtransition",t.data("transition")),t.data("savedslotamount",t.data("slotamount")),t.data("savedmasterspeed",t.data("masterspeed")),t.data("transition",t.data("fstransition")),t.data("slotamount",t.data("fsslotamount")),t.data("masterspeed",t.data("fsmasterspeed")),t.data("differentissplayed","prepared")),e.find(".active-revslide").removeClass(".active-revslide"),t.addClass("active-revslide"),t.data("transition")==ce&&t.data("transition","random");var s=0,l=t.data("transition").split(","),c=t.data("nexttransid")==ce?-1:t.data("nexttransid");"on"==t.data("randomtransition")?c=Math.round(Math.random()*l.length):c+=1,c==l.length&&(c=0),t.data("nexttransid",c);var d=l[c];r.ie&&("boxfade"==d&&(d="boxslide"),"slotfade-vertical"==d&&(d="slotzoom-vertical"),"slotfade-horizontal"==d&&(d="slotzoom-horizontal")),de(8)&&(d=11);var u=0;"scroll"==r.parallax&&r.parallaxFirstGo==ce&&(r.parallaxFirstGo=!0,re(e,r),setTimeout(function(){re(e,r)},210),setTimeout(function(){re(e,r)},420)),"slidehorizontal"==d&&(d="slideleft",1==r.leftarrowpressed&&(d="slideright")),"slidevertical"==d&&(d="slideup",1==r.leftarrowpressed&&(d="slidedown")),"parallaxhorizontal"==d&&(d="parallaxtoleft",1==r.leftarrowpressed&&(d="parallaxtoright")),"parallaxvertical"==d&&(d="parallaxtotop",1==r.leftarrowpressed&&(d="parallaxtobottom"));var h=[["boxslide",0,1,10,0,"box",!1,null,0],["boxfade",1,0,10,0,"box",!1,null,1],["slotslide-horizontal",2,0,0,200,"horizontal",!0,!1,2],["slotslide-vertical",3,0,0,200,"vertical",!0,!1,3],["curtain-1",4,3,0,0,"horizontal",!0,!0,4],["curtain-2",5,3,0,0,"horizontal",!0,!0,5],["curtain-3",6,3,25,0,"horizontal",!0,!0,6],["slotzoom-horizontal",7,0,0,400,"horizontal",!0,!0,7],["slotzoom-vertical",8,0,0,0,"vertical",!0,!0,8],["slotfade-horizontal",9,0,0,500,"horizontal",!0,null,9],["slotfade-vertical",10,0,0,500,"vertical",!0,null,10],["fade",11,0,1,300,"horizontal",!0,null,11],["slideleft",12,0,1,0,"horizontal",!0,!0,12],["slideup",13,0,1,0,"horizontal",!0,!0,13],["slidedown",14,0,1,0,"horizontal",!0,!0,14],["slideright",15,0,1,0,"horizontal",!0,!0,15],["papercut",16,0,0,600,"",null,null,16],["3dcurtain-horizontal",17,0,20,100,"vertical",!1,!0,17],["3dcurtain-vertical",18,0,10,100,"horizontal",!1,!0,18],["cubic",19,0,20,600,"horizontal",!1,!0,19],["cube",19,0,20,600,"horizontal",!1,!0,20],["flyin",20,0,4,600,"vertical",!1,!0,21],["turnoff",21,0,1,1600,"horizontal",!1,!0,22],["incube",22,0,20,200,"horizontal",!1,!0,23],["cubic-horizontal",23,0,20,500,"vertical",!1,!0,24],["cube-horizontal",23,0,20,500,"vertical",!1,!0,25],["incube-horizontal",24,0,20,500,"vertical",!1,!0,26],["turnoff-vertical",25,0,1,200,"horizontal",!1,!0,27],["fadefromright",12,1,1,0,"horizontal",!0,!0,28],["fadefromleft",15,1,1,0,"horizontal",!0,!0,29],["fadefromtop",14,1,1,0,"horizontal",!0,!0,30],["fadefrombottom",13,1,1,0,"horizontal",!0,!0,31],["fadetoleftfadefromright",12,2,1,0,"horizontal",!0,!0,32],["fadetorightfadetoleft",15,2,1,0,"horizontal",!0,!0,33],["fadetobottomfadefromtop",14,2,1,0,"horizontal",!0,!0,34],["fadetotopfadefrombottom",13,2,1,0,"horizontal",!0,!0,35],["parallaxtoright",12,3,1,0,"horizontal",!0,!0,36],["parallaxtoleft",15,3,1,0,"horizontal",!0,!0,37],["parallaxtotop",14,3,1,0,"horizontal",!0,!0,38],["parallaxtobottom",13,3,1,0,"horizontal",!0,!0,39],["scaledownfromright",12,4,1,0,"horizontal",!0,!0,40],["scaledownfromleft",15,4,1,0,"horizontal",!0,!0,41],["scaledownfromtop",14,4,1,0,"horizontal",!0,!0,42],["scaledownfrombottom",13,4,1,0,"horizontal",!0,!0,43],["zoomout",13,5,1,0,"horizontal",!0,!0,44],["zoomin",13,6,1,0,"horizontal",!0,!0,45],["notransition",26,0,1,0,"horizontal",!0,null,46]],p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],f=[16,17,18,19,20,21,22,23,24,25,26,27],m=(s=0,u=1,0),g=0,v=new Array;"on"==o.data("kenburns")&&("boxslide"!=d&&0!=d&&"boxfade"!=d&&1!=d&&"papercut"!=d&&16!=d||(d=11),oe(e,r,!0,!0)),"random"==d&&(d=Math.round(Math.random()*h.length-1))>h.length-1&&(d=h.length-1),"random-static"==d&&((d=Math.round(Math.random()*p.length-1))>p.length-1&&(d=p.length-1),d=p[d]),"random-premium"==d&&((d=Math.round(Math.random()*f.length-1))>f.length-1&&(d=f.length-1),d=f[d]);var T=[12,13,14,15,16,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45];if(1==r.isJoomla&&window.MooTools!=ce&&-1!=T.indexOf(d)){var y=Math.round(Math.random()*(f.length-2))+1;y>f.length-1&&(y=f.length-1),0==y&&(y=1),d=f[y]}a(),de(8)&&15<s&&s<28&&((d=Math.round(Math.random()*p.length-1))>p.length-1&&(d=p.length-1),d=p[d],g=0,a());var E=-1;(1==r.leftarrowpressed||r.act>r.next)&&(E=1),r.leftarrowpressed=0,26<s&&(s=26),s<0&&(s=0);var b=300;t.data("masterspeed")!=ce&&99<t.data("masterspeed")&&t.data("masterspeed")<r.delay&&(b=t.data("masterspeed")),t.data("masterspeed")!=ce&&t.data("masterspeed")>r.delay&&(b=r.delay),v=h[m],e.parent().find(".bullet").each(function(){var e=le(this),t=e.index();e.removeClass("selected"),"withbullet"!=r.navigationArrows&&"nexttobullets"!=r.navigationArrows||(t=e.index()-1),t==r.next&&e.addClass("selected")});var C=new punchgs.TimelineLite({onComplete:function(){ne(e,r,o,i,t,n,C)}});if(C.add(punchgs.TweenLite.set(o.find(".defaultimg"),{opacity:0})),C.pause(),t.data("slotamount")==ce||t.data("slotamount")<1?(r.slots=Math.round(12*Math.random()+4),"boxslide"==d?r.slots=Math.round(6*Math.random()+3):"flyin"==d&&(r.slots=Math.round(4*Math.random()+1))):r.slots=t.data("slotamount"),t.data("rotate")==ce?r.rotate=0:999==t.data("rotate")?r.rotate=Math.round(360*Math.random()):r.rotate=t.data("rotate"),(!le.support.transition||r.ie||r.ie9)&&(r.rotate=0),1==r.firststart&&(r.firststart=0),b+=v[4],(4==s||5==s||6==s)&&r.slots<3&&(r.slots=3),0!=v[3]&&(r.slots=Math.min(r.slots,v[3])),9==s&&(r.slots=r.width/20),10==s&&(r.slots=r.height/20),null!=v[7]&&te(i,r,v[7],v[5]),null!=v[6]&&te(o,r,v[6],v[5]),0==s){var _=Math.ceil(r.height/r.sloth),O=0;o.find(".slotslide").each(function(e){var t=le(this);(O+=1)==_&&(O=0),C.add(punchgs.TweenLite.from(t,b/600,{opacity:0,top:0-r.sloth,left:0-r.slotw,rotation:r.rotate,force3D:"auto",ease:punchgs.Power2.easeOut}),(15*e+30*O)/1500)})}if(1==s){var I;o.find(".slotslide").each(function(e){var t=le(this),n=Math.random()*b+300,i=500*Math.random()+200;I<n+i&&(I=i+i,e),C.add(punchgs.TweenLite.from(t,n/1e3,{autoAlpha:0,force3D:"auto",rotation:r.rotate,ease:punchgs.Power2.easeInOut}),i/1e3)})}if(2==s){var D=new punchgs.TimelineLite;i.find(".slotslide").each(function(){var e=le(this);D.add(punchgs.TweenLite.to(e,b/1e3,{left:r.slotw,force3D:"auto",rotation:0-r.rotate}),0),C.add(D,0)}),o.find(".slotslide").each(function(){var e=le(this);D.add(punchgs.TweenLite.from(e,b/1e3,{left:0-r.slotw,force3D:"auto",rotation:r.rotate}),0),C.add(D,0)})}if(3==s){D=new punchgs.TimelineLite;i.find(".slotslide").each(function(){var e=le(this);D.add(punchgs.TweenLite.to(e,b/1e3,{top:r.sloth,rotation:r.rotate,force3D:"auto",transformPerspective:600}),0),C.add(D,0)}),o.find(".slotslide").each(function(){var e=le(this);D.add(punchgs.TweenLite.from(e,b/1e3,{top:0-r.sloth,rotation:r.rotate,ease:punchgs.Power2.easeOut,force3D:"auto",transformPerspective:600}),0),C.add(D,0)})}if(4==s||5==s){setTimeout(function(){i.find(".defaultimg").css({opacity:0})},100);var w=b/1e3;D=new punchgs.TimelineLite;i.find(".slotslide").each(function(e){var t=le(this),n=e*w/r.slots;5==s&&(n=(r.slots-e-1)*w/r.slots/1.5),D.add(punchgs.TweenLite.to(t,3*w,{transformPerspective:600,force3D:"auto",top:0+r.height,opacity:.5,rotation:r.rotate,ease:punchgs.Power2.easeInOut,delay:n}),0),C.add(D,0)}),o.find(".slotslide").each(function(e){var t=le(this),n=e*w/r.slots;5==s&&(n=(r.slots-e-1)*w/r.slots/1.5),D.add(punchgs.TweenLite.from(t,3*w,{top:0-r.height,opacity:.5,rotation:r.rotate,force3D:"auto",ease:punchgs.Power2.easeInOut,delay:n}),0),C.add(D,0)})}if(6==s){r.slots<2&&(r.slots=2),r.slots%2&&(r.slots=r.slots+1);D=new punchgs.TimelineLite;setTimeout(function(){i.find(".defaultimg").css({opacity:0})},100),i.find(".slotslide").each(function(e){var t=le(this);if(e+1<r.slots/2)var n=90*(e+2);else n=90*(2+r.slots-e);D.add(punchgs.TweenLite.to(t,(b+n)/1e3,{top:0+r.height,opacity:1,force3D:"auto",rotation:r.rotate,ease:punchgs.Power2.easeInOut}),0),C.add(D,0)}),o.find(".slotslide").each(function(e){var t=le(this);if(e+1<r.slots/2)var n=90*(e+2);else n=90*(2+r.slots-e);D.add(punchgs.TweenLite.from(t,(b+n)/1e3,{top:0-r.height,opacity:1,force3D:"auto",rotation:r.rotate,ease:punchgs.Power2.easeInOut}),0),C.add(D,0)})}if(7==s){(b*=2)>r.delay&&(b=r.delay);D=new punchgs.TimelineLite;setTimeout(function(){i.find(".defaultimg").css({opacity:0})},100),i.find(".slotslide").each(function(){var e=le(this).find("div");D.add(punchgs.TweenLite.to(e,b/1e3,{left:0-r.slotw/2+"px",top:0-r.height/2+"px",width:2*r.slotw+"px",height:2*r.height+"px",opacity:0,rotation:r.rotate,force3D:"auto",ease:punchgs.Power2.easeOut}),0),C.add(D,0)}),o.find(".slotslide").each(function(e){var t=le(this).find("div");D.add(punchgs.TweenLite.fromTo(t,b/1e3,{left:0,top:0,opacity:0,transformPerspective:600},{left:0-e*r.slotw+"px",ease:punchgs.Power2.easeOut,force3D:"auto",top:"0px",width:r.width,height:r.height,opacity:1,rotation:0,delay:.1}),0),C.add(D,0)})}if(8==s){(b*=3)>r.delay&&(b=r.delay);D=new punchgs.TimelineLite;i.find(".slotslide").each(function(){var e=le(this).find("div");D.add(punchgs.TweenLite.to(e,b/1e3,{left:0-r.width/2+"px",top:0-r.sloth/2+"px",width:2*r.width+"px",height:2*r.sloth+"px",force3D:"auto",opacity:0,rotation:r.rotate}),0),C.add(D,0)}),o.find(".slotslide").each(function(e){var t=le(this).find("div");D.add(punchgs.TweenLite.fromTo(t,b/1e3,{left:0,top:0,opacity:0,force3D:"auto"},{left:"0px",top:0-e*r.sloth+"px",width:o.find(".defaultimg").data("neww")+"px",height:o.find(".defaultimg").data("newh")+"px",opacity:1,rotation:0}),0),C.add(D,0)})}if(9==s||10==s){o.find(".slotslide").each(function(e){var t=le(this);0,C.add(punchgs.TweenLite.fromTo(t,b/1e3,{autoAlpha:0,force3D:"auto",transformPerspective:600},{autoAlpha:1,ease:punchgs.Power2.easeInOut,delay:5*e/1e3}),0)})}if(11==s||26==s){26==s&&(b=0),o.find(".slotslide").each(function(){var e=le(this);C.add(punchgs.TweenLite.from(e,b/1e3,{autoAlpha:0,force3D:"auto",ease:punchgs.Power2.easeInOut}),0)})}if(12==s||13==s||14==s||15==s){(b=b)>r.delay&&(b=r.delay),setTimeout(function(){punchgs.TweenLite.set(i.find(".defaultimg"),{autoAlpha:0})},100);var R=r.width,k=r.height,x=o.find(".slotslide"),S=0,K=0,N=1,A=1,L=1,P=punchgs.Power2.easeInOut,M=punchgs.Power2.easeInOut,F=b/1e3,B=F;"on"!=r.fullWidth&&"on"!=r.fullScreen||(R=x.width(),k=x.height()),12==s?S=R:15==s?S=0-R:13==s?K=k:14==s&&(K=0-k),1==u&&(N=0),2==u&&(N=0),3==u&&(P=punchgs.Power2.easeInOut,M=punchgs.Power1.easeInOut,F=b/1200),4!=u&&5!=u||(A=.6),6==u&&(A=1.4),5!=u&&6!=u||(L=1.4,K=S=k=R=N=0),6==u&&(L=.6);C.add(punchgs.TweenLite.from(x,F,{left:S,top:K,scale:L,opacity:N,rotation:r.rotate,ease:M,force3D:"auto"}),0);var $=i.find(".slotslide");if(4!=u&&5!=u||(k=R=0),1!=u)switch(s){case 12:C.add(punchgs.TweenLite.to($,B,{left:0-R+"px",force3D:"auto",scale:A,opacity:N,rotation:r.rotate,ease:P}),0);break;case 15:C.add(punchgs.TweenLite.to($,B,{left:R+"px",force3D:"auto",scale:A,opacity:N,rotation:r.rotate,ease:P}),0);break;case 13:C.add(punchgs.TweenLite.to($,B,{top:0-k+"px",force3D:"auto",scale:A,opacity:N,rotation:r.rotate,ease:P}),0);break;case 14:C.add(punchgs.TweenLite.to($,B,{top:k+"px",force3D:"auto",scale:A,opacity:N,rotation:r.rotate,ease:P}),0)}}if(16==s){D=new punchgs.TimelineLite;C.add(punchgs.TweenLite.set(n,{position:"absolute","z-index":20}),0),C.add(punchgs.TweenLite.set(t,{position:"absolute","z-index":15}),0),n.wrapInner('<div class="tp-half-one" style="position:relative; width:100%;height:100%"></div>'),n.find(".tp-half-one").clone(!0).appendTo(n).addClass("tp-half-two"),n.find(".tp-half-two").removeClass("tp-half-one");R=r.width,k=r.height;"on"==r.autoHeight&&(k=e.height()),n.find(".tp-half-one .defaultimg").wrap('<div class="tp-papercut" style="width:'+R+"px;height:"+k+'px;"></div>'),n.find(".tp-half-two .defaultimg").wrap('<div class="tp-papercut" style="width:'+R+"px;height:"+k+'px;"></div>'),n.find(".tp-half-two .defaultimg").css({position:"absolute",top:"-50%"}),n.find(".tp-half-two .tp-caption").wrapAll('<div style="position:absolute;top:-50%;left:0px;"></div>'),C.add(punchgs.TweenLite.set(n.find(".tp-half-two"),{width:R,height:k,overflow:"hidden",zIndex:15,position:"absolute",top:k/2,left:"0px",transformPerspective:600,transformOrigin:"center bottom"}),0),C.add(punchgs.TweenLite.set(n.find(".tp-half-one"),{width:R,height:k/2,overflow:"visible",zIndex:10,position:"absolute",top:"0px",left:"0px",transformPerspective:600,transformOrigin:"center top"}),0);n.find(".defaultimg");var H=Math.round(20*Math.random()-10),z=Math.round(20*Math.random()-10),q=Math.round(20*Math.random()-10),j=.4*Math.random()-.2,W=.4*Math.random()-.2,U=1*Math.random()+1,V=1*Math.random()+1,X=.3*Math.random()+.3;C.add(punchgs.TweenLite.set(n.find(".tp-half-one"),{overflow:"hidden"}),0),C.add(punchgs.TweenLite.fromTo(n.find(".tp-half-one"),b/800,{width:R,height:k/2,position:"absolute",top:"0px",left:"0px",force3D:"auto",transformOrigin:"center top"},{scale:U,rotation:H,y:0-k-k/4,autoAlpha:0,ease:punchgs.Power2.easeInOut}),0),C.add(punchgs.TweenLite.fromTo(n.find(".tp-half-two"),b/800,{width:R,height:k,overflow:"hidden",position:"absolute",top:k/2,left:"0px",force3D:"auto",transformOrigin:"center bottom"},{scale:V,rotation:z,y:k+k/4,ease:punchgs.Power2.easeInOut,autoAlpha:0,onComplete:function(){punchgs.TweenLite.set(n,{position:"absolute","z-index":15}),punchgs.TweenLite.set(t,{position:"absolute","z-index":20}),0<n.find(".tp-half-one").length&&(n.find(".tp-half-one .defaultimg").unwrap(),n.find(".tp-half-one .slotholder").unwrap()),n.find(".tp-half-two").remove()}}),0),D.add(punchgs.TweenLite.set(o.find(".defaultimg"),{autoAlpha:1}),0),null!=n.html()&&C.add(punchgs.TweenLite.fromTo(t,(b-200)/1e3,{scale:X,x:r.width/4*j,y:k/4*W,rotation:q,force3D:"auto",transformOrigin:"center center",ease:punchgs.Power2.easeOut},{autoAlpha:1,scale:1,x:0,y:0,rotation:0}),0),C.add(D,0)}if(17==s&&o.find(".slotslide").each(function(e){var t=le(this);C.add(punchgs.TweenLite.fromTo(t,b/800,{opacity:0,rotationY:0,scale:.9,rotationX:-110,force3D:"auto",transformPerspective:600,transformOrigin:"center center"},{opacity:1,top:0,left:0,scale:1,rotation:0,rotationX:0,force3D:"auto",rotationY:0,ease:punchgs.Power3.easeOut,delay:.06*e}),0)}),18==s&&o.find(".slotslide").each(function(e){var t=le(this);C.add(punchgs.TweenLite.fromTo(t,b/500,{autoAlpha:0,rotationY:310,scale:.9,rotationX:10,force3D:"auto",transformPerspective:600,transformOrigin:"center center"},{autoAlpha:1,top:0,left:0,scale:1,rotation:0,rotationX:0,force3D:"auto",rotationY:0,ease:punchgs.Power3.easeOut,delay:.06*e}),0)}),19==s||22==s){D=new punchgs.TimelineLite;C.add(punchgs.TweenLite.set(n,{zIndex:20}),0),C.add(punchgs.TweenLite.set(t,{zIndex:20}),0),setTimeout(function(){i.find(".defaultimg").css({opacity:0})},100);t.css("z-index"),n.css("z-index");var Y=90,G=(N=1,"center center ");1==E&&(Y=-90),19==s?(G=G+"-"+r.height/2,N=0):G+=r.height/2,punchgs.TweenLite.set(e,{transformStyle:"flat",backfaceVisibility:"hidden",transformPerspective:600}),o.find(".slotslide").each(function(e){var t=le(this);D.add(punchgs.TweenLite.fromTo(t,b/1e3,{transformStyle:"flat",backfaceVisibility:"hidden",left:0,rotationY:r.rotate,z:10,top:0,scale:1,force3D:"auto",transformPerspective:600,transformOrigin:G,rotationX:Y},{left:0,rotationY:0,top:0,z:0,scale:1,force3D:"auto",rotationX:0,delay:50*e/1e3,ease:punchgs.Power2.easeInOut}),0),D.add(punchgs.TweenLite.to(t,.1,{autoAlpha:1,delay:50*e/1e3}),0),C.add(D)}),i.find(".slotslide").each(function(e){var t=le(this),n=-90;1==E&&(n=90),D.add(punchgs.TweenLite.fromTo(t,b/1e3,{transformStyle:"flat",backfaceVisibility:"hidden",autoAlpha:1,rotationY:0,top:0,z:0,scale:1,force3D:"auto",transformPerspective:600,transformOrigin:G,rotationX:0},{autoAlpha:1,rotationY:r.rotate,top:0,z:10,scale:1,rotationX:n,delay:50*e/1e3,force3D:"auto",ease:punchgs.Power2.easeInOut}),0),C.add(D)})}if(20==s){setTimeout(function(){i.find(".defaultimg").css({opacity:0})},100);t.css("z-index"),n.css("z-index");if(1==E){var Q=-r.width;Y=70,G="left center -"+r.height/2}else Q=r.width,Y=-70,G="right center -"+r.height/2;o.find(".slotslide").each(function(e){var t=le(this);C.add(punchgs.TweenLite.fromTo(t,b/1500,{left:Q,rotationX:40,z:-600,opacity:N,top:0,force3D:"auto",transformPerspective:600,transformOrigin:G,rotationY:Y},{left:0,delay:50*e/1e3,ease:punchgs.Power2.easeInOut}),0),C.add(punchgs.TweenLite.fromTo(t,b/1e3,{rotationX:40,z:-600,opacity:N,top:0,scale:1,force3D:"auto",transformPerspective:600,transformOrigin:G,rotationY:Y},{rotationX:0,opacity:1,top:0,z:0,scale:1,rotationY:0,delay:50*e/1e3,ease:punchgs.Power2.easeInOut}),0),C.add(punchgs.TweenLite.to(t,.1,{opacity:1,force3D:"auto",delay:50*e/1e3+b/2e3}),0)}),i.find(".slotslide").each(function(e){var t=le(this);if(1!=E)var n=-r.width,i=70,o="left center -"+r.height/2;else n=r.width,i=-70,o="right center -"+r.height/2;C.add(punchgs.TweenLite.fromTo(t,b/1e3,{opacity:1,rotationX:0,top:0,z:0,scale:1,left:0,force3D:"auto",transformPerspective:600,transformOrigin:o,rotationY:0},{opacity:1,rotationX:40,top:0,z:-600,left:n,force3D:"auto",scale:.8,rotationY:i,delay:50*e/1e3,ease:punchgs.Power2.easeInOut}),0),C.add(punchgs.TweenLite.to(t,.1,{force3D:"auto",opacity:0,delay:50*e/1e3+(b/1e3-b/1e4)}),0)})}if(21==s||25==s){setTimeout(function(){i.find(".defaultimg").css({opacity:0})},100);t.css("z-index"),n.css("z-index"),Y=90,Q=-r.width;var Z=-Y;if(1==E)if(25==s){G="center top 0";Y=r.rotate}else{G="left center 0";Z=r.rotate}else if(Q=r.width,Y=-90,25==s){G="center bottom 0";Z=-Y,Y=r.rotate}else{G="right center 0";Z=r.rotate}o.find(".slotslide").each(function(){var e=le(this);C.add(punchgs.TweenLite.fromTo(e,b/1e3,{left:0,transformStyle:"flat",rotationX:Z,z:0,autoAlpha:0,top:0,scale:1,force3D:"auto",transformPerspective:600,transformOrigin:G,rotationY:Y},{left:0,rotationX:0,top:0,z:0,autoAlpha:1,scale:1,rotationY:0,force3D:"auto",ease:punchgs.Power3.easeInOut}),0)}),1!=E?(Q=-r.width,Y=90,25==s?(G="center top 0",Z=-Y,Y=r.rotate):(G="left center 0",Z=r.rotate)):(Q=r.width,Y=-90,25==s?(G="center bottom 0",Z=-Y,Y=r.rotate):(G="right center 0",Z=r.rotate)),i.find(".slotslide").each(function(){var e=le(this);C.add(punchgs.TweenLite.fromTo(e,b/1e3,{left:0,transformStyle:"flat",rotationX:0,z:0,autoAlpha:1,top:0,scale:1,force3D:"auto",transformPerspective:600,transformOrigin:G,rotationY:0},{left:0,rotationX:Z,top:0,z:0,autoAlpha:1,force3D:"auto",scale:1,rotationY:Y,ease:punchgs.Power1.easeInOut}),0)})}if(23==s||24==s){setTimeout(function(){i.find(".defaultimg").css({opacity:0})},100);t.css("z-index"),n.css("z-index"),Y=-90,N=1;var J=0;if(1==E&&(Y=90),23==s){G="center center -"+r.width/2;N=0}else G="center center "+r.width/2;punchgs.TweenLite.set(e,{transformStyle:"preserve-3d",backfaceVisibility:"hidden",perspective:2500}),o.find(".slotslide").each(function(e){var t=le(this);C.add(punchgs.TweenLite.fromTo(t,b/1e3,{left:J,rotationX:r.rotate,force3D:"auto",opacity:N,top:0,scale:1,transformPerspective:600,transformOrigin:G,rotationY:Y},{left:0,rotationX:0,autoAlpha:1,top:0,z:0,scale:1,rotationY:0,delay:50*e/500,ease:punchgs.Power2.easeInOut}),0)}),Y=90,1==E&&(Y=-90),i.find(".slotslide").each(function(e){var t=le(this);C.add(punchgs.TweenLite.fromTo(t,b/1e3,{left:0,autoAlpha:1,rotationX:0,top:0,z:0,scale:1,force3D:"auto",transformPerspective:600,transformOrigin:G,rotationY:0},{left:J,autoAlpha:1,rotationX:r.rotate,top:0,scale:1,rotationY:Y,delay:50*e/500,ease:punchgs.Power2.easeInOut}),0)})}C.pause(),ie(t,r,null,C),punchgs.TweenLite.to(t,.001,{autoAlpha:1});var ee={};ee.slideIndex=r.next+1,ee.slide=t,e.trigger("revolution.slide.onchange",ee),setTimeout(function(){e.trigger("revolution.slide.onafterswap")},b),e.trigger("revolution.slide.onvideostop")},ne=function(e,t,n,i,o,r,a){punchgs.TweenLite.to(n.find(".defaultimg"),.001,{autoAlpha:1,onComplete:function(){u(e,t,o)}}),o.index()!=r.index()&&punchgs.TweenLite.to(r,.2,{autoAlpha:0,onComplete:function(){u(e,t,r)}}),t.act=t.next,"thumb"==t.navigationType&&m(e),"on"==n.data("kenburns")&&oe(e,t),e.find(".current-sr-slide-visible").removeClass("current-sr-slide-visible"),o.addClass("current-sr-slide-visible"),"scroll"!=t.parallax&&"scroll+mouse"!=t.parallax&&"mouse+scroll"!=t.parallax||re(e,t),a.clear()},ue=function(e){var t=e.target.getVideoEmbedCode(),n=le("#"+t.split('id="')[1].split('"')[0]),i=n.closest(".tp-simpleresponsive"),o=n.parent().data("player");if(e.data==YT.PlayerState.PLAYING){var r=i.find(".tp-bannertimer").data("opt");"mute"==n.closest(".tp-caption").data("volume")&&o.mute(),r.videoplaying=!0,i.trigger("stoptimer"),i.trigger("revolution.slide.onvideoplay")}else{r=i.find(".tp-bannertimer").data("opt");-1!=e.data&&3!=e.data&&(r.videoplaying=!1,i.trigger("starttimer"),i.trigger("revolution.slide.onvideostop")),0==e.data&&1==r.nextslideatend?r.container.revnext():(r.videoplaying=!1,i.trigger("starttimer"),i.trigger("revolution.slide.onvideostop"))}},he=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent(t,n,!1)},pe=function(e,t){var n=$f(e),i=le("#"+e),o=i.closest(".tp-simpleresponsive"),r=i.closest(".tp-caption");setTimeout(function(){n.addEvent("ready",function(){t&&n.api("play"),n.addEvent("play",function(){o.find(".tp-bannertimer").data("opt").videoplaying=!0,o.trigger("stoptimer"),"mute"==r.data("volume")&&n.api("setVolume","0")}),n.addEvent("finish",function(){var e=o.find(".tp-bannertimer").data("opt");e.videoplaying=!1,o.trigger("starttimer"),o.trigger("revolution.slide.onvideoplay"),1==e.nextslideatend&&e.container.revnext()}),n.addEvent("pause",function(){o.find(".tp-bannertimer").data("opt").videoplaying=!1,o.trigger("starttimer"),o.trigger("revolution.slide.onvideostop")}),r.find(".tp-thumb-image").click(function(){punchgs.TweenLite.to(le(this),.3,{autoAlpha:0,force3D:"auto",ease:punchgs.Power3.easeInOut}),n.api("play")})})},150)},fe=function(e,t){var n=t.width(),i=t.height(),o=e.data("mediaAspect");o==ce&&(o=1);var r=n/i;e.css({position:"absolute"});e.find("video");r<o?punchgs.TweenLite.to(e,1e-4,{width:i*o,force3D:"auto",top:0,left:0-(i*o-n)/2,height:i}):punchgs.TweenLite.to(e,1e-4,{width:n,force3D:"auto",top:0-(n/o-i)/2,left:0,height:n/o})},me=function(){var e=new Object;return e.x=0,e.y=0,e.rotationX=0,e.rotationY=0,e.rotationZ=0,e.scale=1,e.scaleX=1,e.scaleY=1,e.skewX=0,e.skewY=0,e.opacity=0,e.transformOrigin="center, center",e.transformPerspective=400,e.rotation=0,e},ge=function(o,e){var t=e.split(";");return le.each(t,function(e,t){var n=(t=t.split(":"))[0],i=t[1];"rotationX"==n&&(o.rotationX=parseInt(i,0)),"rotationY"==n&&(o.rotationY=parseInt(i,0)),"rotationZ"==n&&(o.rotationZ=parseInt(i,0)),"rotationZ"==n&&(o.rotation=parseInt(i,0)),"scaleX"==n&&(o.scaleX=parseFloat(i)),"scaleY"==n&&(o.scaleY=parseFloat(i)),"opacity"==n&&(o.opacity=parseFloat(i)),"skewX"==n&&(o.skewX=parseInt(i,0)),"skewY"==n&&(o.skewY=parseInt(i,0)),"x"==n&&(o.x=parseInt(i,0)),"y"==n&&(o.y=parseInt(i,0)),"z"==n&&(o.z=parseInt(i,0)),"transformOrigin"==n&&(o.transformOrigin=i.toString()),"transformPerspective"==n&&(o.transformPerspective=parseInt(i,0))}),o},ve=function(e){var t=e.split("animation:"),o=new Object;o.animation=ge(me(),t[1])
;var n=t[0].split(";");return le.each(n,function(e,t){var n=(t=t.split(":"))[0],i=t[1];"typ"==n&&(o.typ=i),"speed"==n&&(o.speed=parseInt(i,0)/1e3),"start"==n&&(o.start=parseInt(i,0)/1e3),"elementdelay"==n&&(o.elementdelay=parseFloat(i)),"ease"==n&&(o.ease=i)}),o},ie=function(e,ne,ie,t){function oe(){}function re(){}e.data("ctl")==ce&&e.data("ctl",new punchgs.TimelineLite);var n=e.data("ctl"),ae=0,se=0,i=e.find(".tp-caption"),o=ne.container.find(".tp-static-layers").find(".tp-caption");n.pause(),le.each(o,function(e,t){i.push(t)}),i.each(function(e){var o=ie,t=-1,h=le(this);if(h.hasClass("tp-static-layer")){var d=h.data("startslide"),n=h.data("endslide");-1!=d&&"-1"!=d||h.data("startslide",0),-1!=n&&"-1"!=n||h.data("endslide",ne.slideamount),0==d&&n==ne.slideamount-1&&h.data("endslide",ne.slideamount+1),d=h.data("startslide"),n=h.data("endslide"),t=h.hasClass("tp-is-shown")?n==ne.next||d>ne.next||n<ne.next?2:0:d<=ne.next&&n>=ne.next||d==ne.next||n==ne.next?(h.addClass("tp-is-shown"),1):0}ae=ne.width/2-ne.startwidth*ne.bw/2;var r=ne.bw;ne.bh;"on"==ne.fullScreen&&(se=ne.height/2-ne.startheight*ne.bh/2),("on"==ne.autoHeight||ne.minHeight!=ce&&0<ne.minHeight)&&(se=ne.container.height()/2-ne.startheight*ne.bh/2),se<0&&(se=0);var i=0;if(ne.width<ne.hideCaptionAtLimit&&"on"==h.data("captionhidden")?(h.addClass("tp-hidden-caption"),i=1):ne.width<ne.hideAllCaptionAtLimit||ne.width<ne.hideAllCaptionAtLilmit?(h.addClass("tp-hidden-caption"),i=1):h.removeClass("tp-hidden-caption"),0==i){if(h.data("linktoslide")==ce||h.hasClass("hasclicklistener")||(h.addClass("hasclicklistener"),h.css({cursor:"pointer"}),"no"!=h.data("linktoslide")&&h.click(function(){var e=le(this).data("linktoslide");"next"!=e&&"prev"!=e?(ne.container.data("showus",e),ne.container.parent().find(".tp-rightarrow").click()):"next"==e?ne.container.parent().find(".tp-rightarrow").click():"prev"==e&&ne.container.parent().find(".tp-leftarrow").click()})),ae<0&&(ae=0),h.hasClass("tp-videolayer")||0<h.find("iframe").length||0<h.find("video").length){var p="iframe"+Math.round(1e5*Math.random()+1),a=h.data("videowidth"),s=h.data("videoheight"),l=h.data("videoattributes"),c=h.data("ytid"),u=h.data("vimeoid"),f=h.data("videpreload"),m=h.data("videomp4"),g=h.data("videowebm"),v=h.data("videoogv"),T=h.data("videocontrols"),y="http",E="loop"==h.data("videoloop")?"loop":"loopandnoslidestop"==h.data("videoloop")?"loop":"";if(h.data("thumbimage")!=ce&&h.data("videoposter")==ce&&h.data("videoposter",h.data("thumbimage")),c!=ce&&1<String(c).length&&0==h.find("iframe").length&&(y="https","none"==T&&-1==(l=l.replace("controls=1","controls=0")).toLowerCase().indexOf("controls")&&(l+="&controls=0"),h.append('<iframe style="visible:hidden" src="'+y+"://www.youtube.com/embed/"+c+"?"+l+'" width="'+a+'" height="'+s+'" style="width:'+a+"px;height:"+s+'px"></iframe>')),u!=ce&&1<String(u).length&&0==h.find("iframe").length&&("https:"===location.protocol&&(y="https"),h.append('<iframe style="visible:hidden" src="'+y+"://player.vimeo.com/video/"+u+"?"+l+'" width="'+a+'" height="'+s+'" style="width:'+a+"px;height:"+s+'px"></iframe>')),(m!=ce||g!=ce)&&0==h.find("video").length){"controls"!=T&&(T="");var b='<video style="visible:hidden" class="" '+E+' preload="'+f+'" width="'+a+'" height="'+s+'"';h.data("videoposter")!=ce&&h.data("videoposter")!=ce&&(b=b+'poster="'+h.data("videoposter")+'">'),g!=ce&&"firefox"==Te().toLowerCase()&&(b=b+'<source src="'+g+'" type="video/webm" />'),m!=ce&&(b=b+'<source src="'+m+'" type="video/mp4" />'),v!=ce&&(b=b+'<source src="'+v+'" type="video/ogg" />'),b+="</video>",h.append(b),"controls"==T&&h.append('<div class="tp-video-controls"><div class="tp-video-button-wrap"><button type="button" class="tp-video-button tp-vid-play-pause">Play</button></div><div class="tp-video-seek-bar-wrap"><input  type="range" class="tp-seek-bar" value="0"></div><div class="tp-video-button-wrap"><button  type="button" class="tp-video-button tp-vid-mute">Mute</button></div><div class="tp-video-vol-bar-wrap"><input  type="range" class="tp-volume-bar" min="0" max="1" step="0.1" value="1"></div><div class="tp-video-button-wrap"><button  type="button" class="tp-video-button tp-vid-full-screen">Full-Screen</button></div></div>')}var C=!1;1!=h.data("autoplayonlyfirsttime")&&"true"!=h.data("autoplayonlyfirsttime")&&1!=h.data("autoplay")||(h.data("autoplay",!0),C=!0),h.data("videoposter")!=ce&&2<h.data("videoposter").length&&1!=h.data("autoplay")&&!o&&(0==h.find(".tp-thumb-image").length?h.append('<div class="tp-thumb-image" style="cursor:pointer; position:absolute;top:0px;left:0px;width:100%;height:100%;background-image:url('+h.data("videoposter")+'); background-size:cover; background-position:center center"></div>'):punchgs.TweenLite.set(h.find(".tp-thumb-image"),{autoAlpha:1})),h.find("iframe").each(function(){var e=le(this);if(punchgs.TweenLite.to(e,.1,{autoAlpha:1,zIndex:0,transformStyle:"preserve-3d",z:0,rotationX:0,force3D:"auto"}),Oe()){var t=e.attr("src");e.attr("src",""),e.attr("src",t)}if(ne.nextslideatend=h.data("nextslideatend"),0<=e.attr("src").toLowerCase().indexOf("youtube"))if(e.hasClass("HasListener")){if(!ie){d=h.data("player");"on"!=h.data("forcerewind")||Oe()||d.seekTo(0),(!Oe()&&1==h.data("autoplay")||C)&&h.data("timerplay",setTimeout(function(){d.playVideo()},h.data("start")))}}else try{e.attr("id",p);var n=setInterval(function(){YT!=ce&&typeof YT.Player!=ce&&"undefined"!=typeof YT.Player&&(d=new YT.Player(p,{events:{onStateChange:ue,onReady:function(e){var t=e.target.getVideoEmbedCode(),n=le("#"+t.split('id="')[1].split('"')[0]).closest(".tp-caption"),i=n.data("videorate");n.data("videostart");i!=ce&&e.target.setPlaybackRate(parseFloat(i)),(!Oe()&&1==n.data("autoplay")||C)&&n.data("timerplay",setTimeout(function(){e.target.playVideo()},n.data("start"))),n.find(".tp-thumb-image").click(function(){punchgs.TweenLite.to(le(this),.3,{autoAlpha:0,force3D:"auto",ease:punchgs.Power3.easeInOut}),Oe()||d.playVideo()})}}})),e.addClass("HasListener"),h.data("player",d),clearInterval(n)},100)}catch(de){}else if(0<=e.attr("src").toLowerCase().indexOf("vimeo"))if(e.hasClass("HasListener")){if(!(ie||Oe()||1!=h.data("autoplay")&&"on"!=h.data("forcerewind"))){var i=(e=h.find("iframe")).attr("id"),o=$f(i);"on"==h.data("forcerewind")&&o.api("seekTo",0),h.data("timerplay",setTimeout(function(){1==h.data("autoplay")&&o.api("play")},h.data("start")))}}else{e.addClass("HasListener"),e.attr("id",p);for(var r,a=e.attr("src"),s={},l=a,c=/([^&=]+)=([^&]*)/g;r=c.exec(l);)s[decodeURIComponent(r[1])]=decodeURIComponent(r[2]);a=s.player_id!=ce?a.replace(s.player_id,p):a+"&player_id="+p;try{a=a.replace("api=0","api=1")}catch(de){}a+="&api=1",e.attr("src",a);var d=h.find("iframe")[0],u=setInterval(function(){$f!=ce&&typeof $f(p).api!=ce&&"undefined"!=typeof $f(p).api&&($f(d).addEvent("ready",function(){pe(p,C)}),clearInterval(u))},100)}}),(Oe()&&1==h.data("disablevideoonmobile")||de(8))&&h.find("video").remove(),0<h.find("video").length&&h.find("video").each(function(){var s=this,l=le(this);l.parent().hasClass("html5vid")||l.wrap('<div class="html5vid" style="position:relative;top:0px;left:0px;width:auto;height:auto"></div>');var c=l.parent();he(s,"loadedmetadata",void c.data("metaloaded",1)),clearInterval(c.data("interval")),c.data("interval",setInterval(function(){if(1==c.data("metaloaded")||s.duration!=NaN){if(clearInterval(c.data("interval")),!c.hasClass("HasListener")){c.addClass("HasListener"),"none"!=h.data("dottedoverlay")&&h.data("dottedoverlay")!=ce&&1!=h.find(".tp-dottedoverlay").length&&c.append('<div class="tp-dottedoverlay '+h.data("dottedoverlay")+'"></div>'),l.attr("control")==ce&&(0==c.find(".tp-video-play-button").length&&c.append('<div class="tp-video-play-button"><i class="revicon-right-dir"></i><div class="tp-revstop"></div></div>'),c.parent().find("video, .tp-poster, .tp-thumb-image, .tp-video-play-button").click(function(){c.hasClass("videoisplaying")?s.pause():(s.play(),punchgs.TweenLite.to(c.parent().find(".tp-poster, .tp-thumb-image"),.2,{autoAlpha:0}))})),(1==h.data("forcecover")||h.hasClass("fullscreenvideo"))&&(1==h.data("forcecover")&&(fe(c,ne.container),c.addClass("fullcoveredvideo"),h.addClass("fullcoveredvideo")),c.css({width:"100%",height:"100%"}));var e=h.find(".tp-vid-play-pause")[0],t=h.find(".tp-vid-mute")[0],n=h.find(".tp-vid-full-screen")[0],i=h.find(".tp-seek-bar")[0],o=h.find(".tp-volume-bar")[0];e!=ce&&(he(e,"click",function(){1==s.paused?s.play():s.pause()}),he(t,"click",function(){0==s.muted?(s.muted=!0,t.innerHTML="Unmute"):(s.muted=!1,t.innerHTML="Mute")}),he(n,"click",function(){s.requestFullscreen?s.requestFullscreen():s.mozRequestFullScreen?s.mozRequestFullScreen():s.webkitRequestFullscreen&&s.webkitRequestFullscreen()}),he(i,"change",function(){var e=s.duration*(i.value/100);s.currentTime=e}),he(s,"timeupdate",function(){var e=100/s.duration*s.currentTime;i.value=e}),he(i,"mousedown",function(){s.pause()}),he(i,"mouseup",function(){s.play()}),he(o,"change",function(){s.volume=o.value})),he(s,"play",function(){"mute"==h.data("volume")&&(s.muted=!0),c.addClass("videoisplaying"),"loopandnoslidestop"==h.data("videoloop")?(ne.videoplaying=!1,ne.container.trigger("starttimer"),ne.container.trigger("revolution.slide.onvideostop")):(ne.videoplaying=!0,ne.container.trigger("stoptimer"),ne.container.trigger("revolution.slide.onvideoplay"));var e=h.find(".tp-vid-play-pause")[0],t=h.find(".tp-vid-mute")[0];e!=ce&&(e.innerHTML="Pause"),t!=ce&&s.muted&&(t.innerHTML="Unmute")}),he(s,"pause",function(){c.removeClass("videoisplaying"),ne.videoplaying=!1,ne.container.trigger("starttimer"),ne.container.trigger("revolution.slide.onvideostop");var e=h.find(".tp-vid-play-pause")[0];e!=ce&&(e.innerHTML="Play")}),he(s,"ended",function(){c.removeClass("videoisplaying"),ne.videoplaying=!1,ne.container.trigger("starttimer"),ne.container.trigger("revolution.slide.onvideostop"),1==ne.nextslideatend&&ne.container.revnext()})}var r=!1;1!=h.data("autoplayonlyfirsttime")&&"true"!=h.data("autoplayonlyfirsttime")||(r=!0);var a=16/9;if("4:3"==h.data("aspectratio")&&(a=4/3),c.data("mediaAspect",a),1==c.closest(".tp-caption").data("forcecover")&&(fe(c,ne.container),c.addClass("fullcoveredvideo")),l.css({display:"block"}),ne.nextslideatend=h.data("nextslideatend"),"on"!=h.data("forcerewind")||c.hasClass("videoisplaying")||0<s.currentTime&&(s.currentTime=0),1!=h.data("autoplay")&&1!=r||("loopandnoslidestop"==h.data("videoloop")?(ne.videoplaying=!1,ne.container.trigger("starttimer"),ne.container.trigger("revolution.slide.onvideostop")):(ne.videoplaying=!0,ne.container.trigger("stoptimer"),ne.container.trigger("revolution.slide.onvideoplay")),"on"!=h.data("forcerewind")||c.hasClass("videoisplaying")||0<s.currentTime&&(s.currentTime=0),"mute"==h.data("volume")&&(s.muted=!0),c.data("timerplay",setTimeout(function(){"on"!=h.data("forcerewind")||c.hasClass("videoisplaying")||0<s.currentTime&&(s.currentTime=0),"mute"==h.data("volume")&&(s.muted=!0),s.play()},10+h.data("start")))),c.data("ww")==ce&&c.data("ww",l.attr("width")),c.data("hh")==ce&&c.data("hh",l.attr("height")),!h.hasClass("fullscreenvideo")&&1==h.data("forcecover"))try{c.width(c.data("ww")*ne.bw),c.height(c.data("hh")*ne.bh)}catch(d){}clearInterval(c.data("interval"))}}),100)}),1==h.data("autoplay")&&(setTimeout(function(){"loopandnoslidestop"!=h.data("videoloop")&&(ne.videoplaying=!0,ne.container.trigger("stoptimer"))},200),"loopandnoslidestop"!=h.data("videoloop")&&(ne.videoplaying=!0,ne.container.trigger("stoptimer")),1!=h.data("autoplayonlyfirsttime")&&"true"!=h.data("autoplayonlyfirsttime")||(h.data("autoplay",!1),h.data("autoplayonlyfirsttime",!1)))}var _=0,O=0;if(0<h.find("img").length){0==(w=h.find("img")).width()&&w.css({width:"auto"}),0==w.height()&&w.css({height:"auto"}),w.data("ww")==ce&&0<w.width()&&w.data("ww",w.width()),w.data("hh")==ce&&0<w.height()&&w.data("hh",w.height());var I=w.data("ww"),D=w.data("hh");I==ce&&(I=0),D==ce&&(D=0),w.width(I*ne.bw),w.height(D*ne.bh),_=w.width(),O=w.height()}else if(0<h.find("iframe").length||0<h.find("video").length){var w,R=!1;0==(w=h.find("iframe")).length&&(w=h.find("video"),R=!0),w.css({display:"block"}),h.data("ww")==ce&&h.data("ww",w.width()),h.data("hh")==ce&&h.data("hh",w.height());I=h.data("ww"),D=h.data("hh");var k=h;k.data("fsize")==ce&&k.data("fsize",parseInt(k.css("font-size"),0)||0),k.data("pt")==ce&&k.data("pt",parseInt(k.css("paddingTop"),0)||0),k.data("pb")==ce&&k.data("pb",parseInt(k.css("paddingBottom"),0)||0),k.data("pl")==ce&&k.data("pl",parseInt(k.css("paddingLeft"),0)||0),k.data("pr")==ce&&k.data("pr",parseInt(k.css("paddingRight"),0)||0),k.data("mt")==ce&&k.data("mt",parseInt(k.css("marginTop"),0)||0),k.data("mb")==ce&&k.data("mb",parseInt(k.css("marginBottom"),0)||0),k.data("ml")==ce&&k.data("ml",parseInt(k.css("marginLeft"),0)||0),k.data("mr")==ce&&k.data("mr",parseInt(k.css("marginRight"),0)||0),k.data("bt")==ce&&k.data("bt",parseInt(k.css("borderTop"),0)||0),k.data("bb")==ce&&k.data("bb",parseInt(k.css("borderBottom"),0)||0),k.data("bl")==ce&&k.data("bl",parseInt(k.css("borderLeft"),0)||0),k.data("br")==ce&&k.data("br",parseInt(k.css("borderRight"),0)||0),k.data("lh")==ce&&k.data("lh",parseInt(k.css("lineHeight"),0)||0),"auto"==k.data("lh")&&k.data("lh",k.data("fsize")+4);var x=ne.width,S=ne.height;if(x>ne.startwidth&&(x=ne.startwidth),S>ne.startheight&&(S=ne.startheight),h.hasClass("fullscreenvideo")){se=ae=0,h.data("x",0),h.data("y",0);var K=ne.height;"on"==ne.autoHeight&&(K=ne.container.height()),h.css({width:ne.width,height:K})}else h.css({"font-size":k.data("fsize")*ne.bw+"px","padding-top":k.data("pt")*ne.bh+"px","padding-bottom":k.data("pb")*ne.bh+"px","padding-left":k.data("pl")*ne.bw+"px","padding-right":k.data("pr")*ne.bw+"px","margin-top":k.data("mt")*ne.bh+"px","margin-bottom":k.data("mb")*ne.bh+"px","margin-left":k.data("ml")*ne.bw+"px","margin-right":k.data("mr")*ne.bw+"px","border-top":k.data("bt")*ne.bh+"px","border-bottom":k.data("bb")*ne.bh+"px","border-left":k.data("bl")*ne.bw+"px","border-right":k.data("br")*ne.bw+"px","line-height":k.data("lh")*ne.bh+"px",height:D*ne.bh+"px"});0==R?(w.width(I*ne.bw),w.height(D*ne.bh)):1==h.data("forcecover")||h.hasClass("fullscreenvideo")||(w.width(I*ne.bw),w.height(D*ne.bh)),_=w.width(),O=w.height()}else{h.find(".tp-resizeme, .tp-resizeme *").each(function(){ye(le(this),ne)}),h.hasClass("tp-resizeme")&&h.find("*").each(function(){ye(le(this),ne)}),ye(h,ne),O=h.outerHeight(!0),_=h.outerWidth(!0);var N=h.outerHeight(),A=h.css("backgroundColor");h.find(".frontcorner").css({borderWidth:N+"px",left:0-N+"px",borderRight:"0px solid transparent",borderTopColor:A}),h.find(".frontcornertop").css({borderWidth:N+"px",left:0-N+"px",borderRight:"0px solid transparent",borderBottomColor:A}),h.find(".backcorner").css({borderWidth:N+"px",right:0-N+"px",borderLeft:"0px solid transparent",borderBottomColor:A}),h.find(".backcornertop").css({borderWidth:N+"px",right:0-N+"px",borderLeft:"0px solid transparent",borderTopColor:A})}"on"==ne.fullScreenAlignForce&&(se=ae=0),h.data("voffset")==ce&&h.data("voffset",0),h.data("hoffset")==ce&&h.data("hoffset",0);var L=h.data("voffset")*r,P=h.data("hoffset")*r,M=ne.startwidth*r,F=ne.startheight*r;"on"==ne.fullScreenAlignForce&&(M=ne.container.width(),F=ne.container.height()),"center"!=h.data("x")&&"center"!=h.data("xcenter")||(h.data("xcenter","center"),h.data("x",M/2-h.outerWidth(!0)/2+P)),"left"!=h.data("x")&&"left"!=h.data("xleft")||(h.data("xleft","left"),h.data("x",0/r+P)),"right"!=h.data("x")&&"right"!=h.data("xright")||(h.data("xright","right"),h.data("x",(M-h.outerWidth(!0)+P)/r)),"center"!=h.data("y")&&"center"!=h.data("ycenter")||(h.data("ycenter","center"),h.data("y",F/2-h.outerHeight(!0)/2+L)),"top"!=h.data("y")&&"top"!=h.data("ytop")||(h.data("ytop","top"),h.data("y",0/ne.bh+L)),"bottom"!=h.data("y")&&"bottom"!=h.data("ybottom")||(h.data("ybottom","bottom"),h.data("y",(F-h.outerHeight(!0)+L)/r)),h.data("start")==ce&&h.data("start",1e3);var B=h.data("easing");B==ce&&(B="punchgs.Power1.easeOut");var $=h.data("start")/1e3,H=h.data("speed")/1e3;if("center"==h.data("x")||"center"==h.data("xcenter"))var z=h.data("x")+ae;else z=r*h.data("x")+ae;if("center"==h.data("y")||"center"==h.data("ycenter"))var q=h.data("y")+se;else q=ne.bh*h.data("y")+se;if(punchgs.TweenLite.set(h,{top:q,left:z,overwrite:"auto"}),0==t&&(o=!0),h.data("timeline")==ce||o||(2!=t&&h.data("timeline").gotoAndPlay(0),o=!0),!o){h.data("timeline");var j=new punchgs.TimelineLite({smoothChildTiming:!0,onStart:re});j.pause(),ne.fullScreenAlignForce;var W=h;h.data("mySplitText")!=ce&&h.data("mySplitText").revert(),"chars"!=h.data("splitin")&&"words"!=h.data("splitin")&&"lines"!=h.data("splitin")&&"chars"!=h.data("splitout")&&"words"!=h.data("splitout")&&"lines"!=h.data("splitout")||(0<h.find("a").length?h.data("mySplitText",new punchgs.SplitText(h.find("a"),{type:"lines,words,chars",charsClass:"tp-splitted",wordsClass:"tp-splitted",linesClass:"tp-splitted"})):0<h.find(".tp-layer-inner-rotation").length?h.data("mySplitText",new punchgs.SplitText(h.find(".tp-layer-inner-rotation"),{type:"lines,words,chars",charsClass:"tp-splitted",wordsClass:"tp-splitted",linesClass:"tp-splitted"})):h.data("mySplitText",new punchgs.SplitText(h,{type:"lines,words,chars",charsClass:"tp-splitted",wordsClass:"tp-splitted",linesClass:"tp-splitted"})),h.addClass("splitted")),"chars"==h.data("splitin")&&(W=h.data("mySplitText").chars),"words"==h.data("splitin")&&(W=h.data("mySplitText").words),"lines"==h.data("splitin")&&(W=h.data("mySplitText").lines);var U=me(),V=me();h.data("repeat")!=ce&&(repeatV=h.data("repeat")),h.data("yoyo")!=ce&&(yoyoV=h.data("yoyo")),h.data("repeatdelay")!=ce&&(repeatdelayV=h.data("repeatdelay"));var X=h.attr("class");X.match("customin")?U=ge(U,h.data("customin")):X.match("randomrotate")?(U.scale=3*Math.random()+1,U.rotation=Math.round(200*Math.random()-100),U.x=Math.round(200*Math.random()-100),U.y=Math.round(200*Math.random()-100)):X.match("lfr")||X.match("skewfromright")?U.x=15+ne.width:X.match("lfl")||X.match("skewfromleft")?U.x=-15-_:X.match("sfl")||X.match("skewfromleftshort")?U.x=-50:X.match("sfr")||X.match("skewfromrightshort")?U.x=50:X.match("lft")?U.y=-25-O:X.match("lfb")?U.y=25+ne.height:X.match("sft")?U.y=-50:X.match("sfb")&&(U.y=50),X.match("skewfromright")||h.hasClass("skewfromrightshort")?U.skewX=-85:(X.match("skewfromleft")||h.hasClass("skewfromleftshort"))&&(U.skewX=85),(X.match("fade")||X.match("sft")||X.match("sfl")||X.match("sfb")||X.match("skewfromleftshort")||X.match("sfr")||X.match("skewfromrightshort"))&&(U.opacity=0),Te().toLowerCase();var Y=h.data("elementdelay")==ce?0:h.data("elementdelay");V.ease=U.ease=h.data("easing")==ce?punchgs.Power1.easeInOut:h.data("easing"),U.data=new Object,U.data.oldx=U.x,U.data.oldy=U.y,V.data=new Object,V.data.oldx=V.x,V.data.oldy=V.y,U.x=U.x*r,U.y=U.y*r;var G=new punchgs.TimelineLite;if(2!=t)if(X.match("customin"))W!=h&&j.add(punchgs.TweenLite.set(h,{force3D:"auto",opacity:1,scaleX:1,scaleY:1,rotationX:0,rotationY:0,rotationZ:0,skewX:0,skewY:0,z:0,x:0,y:0,visibility:"visible",delay:0,overwrite:"all"})),U.visibility="hidden",V.visibility="visible",V.overwrite="all",V.opacity=1,V.onComplete=oe(),V.delay=$,V.force3D="auto",j.add(G.staggerFromTo(W,H,U,V,Y),"frame0");else if(U.visibility="visible",U.transformPerspective=600,W!=h&&j.add(punchgs.TweenLite.set(h,{force3D:"auto",opacity:1,scaleX:1,scaleY:1,rotationX:0,rotationY:0,rotationZ:0,skewX:0,skewY:0,z:0,x:0,y:0,visibility:"visible",delay:0,overwrite:"all"})),V.visibility="visible",V.delay=$,V.onComplete=oe(),V.opacity=1,V.force3D="auto",X.match("randomrotate")&&W!=h)for(e=0;e<W.length;e++){var Q=new Object,Z=new Object;le.extend(Q,U),le.extend(Z,V),U.scale=3*Math.random()+1,U.rotation=Math.round(200*Math.random()-100),U.x=Math.round(200*Math.random()-100),U.y=Math.round(200*Math.random()-100),0!=e&&(Z.delay=$+e*Y),j.append(punchgs.TweenLite.fromTo(W[e],H,Q,Z),"frame0")}else j.add(G.staggerFromTo(W,H,U,V,Y),"frame0");h.data("timeline",j);new Array;if(h.data("frames")!=ce){var J=h.data("frames"),ee=(J=(J=J.replace(/\s+/g,"")).replace("{","")).split("}");le.each(ee,function(e,t){if(0<t.length){var n=ve(t);Ce(h,ne,n,"frame"+(e+10),r)}})}j=h.data("timeline"),h.data("end")==ce||-1!=t&&2!=t?_e(h,ne,999999,U,"frame99",r):_e(h,ne,h.data("end")/1e3,U,"frame99",r),j=h.data("timeline"),h.data("timeline",j),Ee(h,r),j.resume()}}if(o&&(be(h),Ee(h,r),h.data("timeline")!=ce)){var te=h.data("timeline").getTweensOf();le.each(te,function(e,t){if(t.vars.data!=ce){var n=t.vars.data.oldx*r,i=t.vars.data.oldy*r;if(1!=t.progress()&&0!=t.progress())try{t.vars.x=n,t.vary.y=i}catch(o){}else 1==t.progress()&&punchgs.TweenLite.set(t.target,{x:n,y:i})}})}}),le("body").find("#"+ne.container.attr("id")).find(".tp-bannertimer").data("opt",ne),t!=ce&&setTimeout(function(){t.resume()},30)},Te=function(){var e,t=navigator.appName,n=navigator.userAgent,i=n.match(/(opera|chrome|safari|firefox|msie)\/?\s*(\.?\d+(\.\d+)*)/i);return i&&null!=(e=n.match(/version\/([\.\d]+)/i))&&(i[2]=e[1]),(i=i?[i[1],i[2]]:[t,navigator.appVersion,"-?"])[0]},ye=function(e,t){e.data("fsize")==ce&&e.data("fsize",parseInt(e.css("font-size"),0)||0),e.data("pt")==ce&&e.data("pt",parseInt(e.css("paddingTop"),0)||0),e.data("pb")==ce&&e.data("pb",parseInt(e.css("paddingBottom"),0)||0),e.data("pl")==ce&&e.data("pl",parseInt(e.css("paddingLeft"),0)||0),e.data("pr")==ce&&e.data("pr",parseInt(e.css("paddingRight"),0)||0),e.data("mt")==ce&&e.data("mt",parseInt(e.css("marginTop"),0)||0),e.data("mb")==ce&&e.data("mb",parseInt(e.css("marginBottom"),0)||0),e.data("ml")==ce&&e.data("ml",parseInt(e.css("marginLeft"),0)||0),e.data("mr")==ce&&e.data("mr",parseInt(e.css("marginRight"),0)||0),e.data("bt")==ce&&e.data("bt",parseInt(e.css("borderTopWidth"),0)||0),e.data("bb")==ce&&e.data("bb",parseInt(e.css("borderBottomWidth"),0)||0),e.data("bl")==ce&&e.data("bl",parseInt(e.css("borderLeftWidth"),0)||0),e.data("br")==ce&&e.data("br",parseInt(e.css("borderRightWidth"),0)||0),e.data("ls")==ce&&e.data("ls",parseInt(e.css("letterSpacing"),0)||0),e.data("lh")==ce&&e.data("lh",parseInt(e.css("lineHeight"),0)||"auto"),e.data("minwidth")==ce&&e.data("minwidth",parseInt(e.css("minWidth"),0)||0),e.data("minheight")==ce&&e.data("minheight",parseInt(e.css("minHeight"),0)||0),e.data("maxwidth")==ce&&e.data("maxwidth",parseInt(e.css("maxWidth"),0)||"none"),e.data("maxheight")==ce&&e.data("maxheight",parseInt(e.css("maxHeight"),0)||"none"),e.data("wii")==ce&&e.data("wii",parseInt(e.css("width"),0)||0),e.data("hii")==ce&&e.data("hii",parseInt(e.css("height"),0)||0),e.data("wan")==ce&&e.data("wan",e.css("-webkit-transition")),e.data("moan")==ce&&e.data("moan",e.css("-moz-animation-transition")),e.data("man")==ce&&e.data("man",e.css("-ms-animation-transition")),e.data("ani")==ce&&e.data("ani",e.css("transition")),"auto"==e.data("lh")&&e.data("lh",e.data("fsize")+4),e.hasClass("tp-splitted")||(e.css("-webkit-transition","none"),e.css("-moz-transition","none"),e.css("-ms-transition","none"),e.css("transition","none"),punchgs.TweenLite.set(e,{fontSize:Math.round(e.data("fsize")*t.bw)+"px",letterSpacing:Math.floor(e.data("ls")*t.bw)+"px",paddingTop:Math.round(e.data("pt")*t.bh)+"px",paddingBottom:Math.round(e.data("pb")*t.bh)+"px",paddingLeft:Math.round(e.data("pl")*t.bw)+"px",paddingRight:Math.round(e.data("pr")*t.bw)+"px",marginTop:e.data("mt")*t.bh+"px",marginBottom:e.data("mb")*t.bh+"px",marginLeft:e.data("ml")*t.bw+"px",marginRight:e.data("mr")*t.bw+"px",borderTopWidth:Math.round(e.data("bt")*t.bh)+"px",borderBottomWidth:Math.round(e.data("bb")*t.bh)+"px",borderLeftWidth:Math.round(e.data("bl")*t.bw)+"px",borderRightWidth:Math.round(e.data("br")*t.bw)+"px",lineHeight:Math.round(e.data("lh")*t.bh)+"px",minWidth:e.data("minwidth")*t.bw+"px",minHeight:e.data("minheight")*t.bh+"px",overwrite:"auto"}),setTimeout(function(){e.css("-webkit-transition",e.data("wan")),e.css("-moz-transition",e.data("moan")),e.css("-ms-transition",e.data("man")),e.css("transition",e.data("ani"))},30),"none"!=e.data("maxheight")&&e.css({maxHeight:e.data("maxheight")*t.bh+"px"}),"none"!=e.data("maxwidth")&&e.css({maxWidth:e.data("maxwidth")*t.bw+"px"}))},Ee=function(e,s){e.find(".rs-pendulum").each(function(){var e=le(this);if(e.data("timeline")==ce){e.data("timeline",new punchgs.TimelineLite);var t=e.data("startdeg")==ce?-20:e.data("startdeg"),n=e.data("enddeg")==ce?20:e.data("enddeg"),i=e.data("speed")==ce?2:e.data("speed"),o=e.data("origin")==ce?"50% 50%":e.data("origin"),r=e.data("easing")==ce?punchgs.Power2.easeInOut:e.data("ease");t*=s,n*=s,e.data("timeline").append(new punchgs.TweenLite.fromTo(e,i,{force3D:"auto",rotation:t,transformOrigin:o},{rotation:n,ease:r})),e.data("timeline").append(new punchgs.TweenLite.fromTo(e,i,{force3D:"auto",rotation:n,transformOrigin:o},{rotation:t,ease:r,onComplete:function(){e.data("timeline").restart()}}))}}),e.find(".rs-rotate").each(function(){var e=le(this);if(e.data("timeline")==ce){e.data("timeline",new punchgs.TimelineLite);var t=e.data("startdeg")==ce?0:e.data("startdeg"),n=e.data("enddeg")==ce?360:e.data("enddeg");speed=e.data("speed")==ce?2:e.data("speed"),origin=e.data("origin")==ce?"50% 50%":e.data("origin"),easing=e.data("easing")==ce?punchgs.Power2.easeInOut:e.data("easing"),t*=s,n*=s,e.data("timeline").append(new punchgs.TweenLite.fromTo(e,speed,{force3D:"auto",rotation:t,transformOrigin:origin},{rotation:n,ease:easing,onComplete:function(){e.data("timeline").restart()}}))}}),e.find(".rs-slideloop").each(function(){var e=le(this);if(e.data("timeline")==ce){e.data("timeline",new punchgs.TimelineLite);var t=e.data("xs")==ce?0:e.data("xs"),n=e.data("ys")==ce?0:e.data("ys"),i=e.data("xe")==ce?0:e.data("xe"),o=e.data("ye")==ce?0:e.data("ye"),r=e.data("speed")==ce?2:e.data("speed"),a=e.data("easing")==ce?punchgs.Power2.easeInOut:e.data("easing");t*=s,n*=s,i*=s,o*=s,e.data("timeline").append(new punchgs.TweenLite.fromTo(e,r,{force3D:"auto",x:t,y:n},{x:i,y:o,ease:a})),e.data("timeline").append(new punchgs.TweenLite.fromTo(e,r,{force3D:"auto",x:i,y:o},{x:t,y:n,onComplete:function(){e.data("timeline").restart()}}))}}),e.find(".rs-pulse").each(function(){var e=le(this);if(e.data("timeline")==ce){e.data("timeline",new punchgs.TimelineLite);var t=e.data("zoomstart")==ce?0:e.data("zoomstart"),n=e.data("zoomend")==ce?0:e.data("zoomend"),i=e.data("speed")==ce?2:e.data("speed"),o=e.data("easing")==ce?punchgs.Power2.easeInOut:e.data("easing");e.data("timeline").append(new punchgs.TweenLite.fromTo(e,i,{force3D:"auto",scale:t},{scale:n,ease:o})),e.data("timeline").append(new punchgs.TweenLite.fromTo(e,i,{force3D:"auto",scale:n},{scale:t,onComplete:function(){e.data("timeline").restart()}}))}}),e.find(".rs-wave").each(function(){var e=le(this);if(e.data("timeline")==ce){e.data("timeline",new punchgs.TimelineLite);var t=e.data("angle")==ce?10:e.data("angle"),n=e.data("radius")==ce?10:e.data("radius"),i=e.data("speed")==ce?-20:e.data("speed"),o=(e.data("origin")==ce||e.data("origin"),{a:0,ang:t*=s,element:e,unit:n*=s});e.data("timeline").append(new punchgs.TweenLite.fromTo(o,i,{a:360},{a:0,force3D:"auto",ease:punchgs.Linear.easeNone,onUpdate:function(){var e=o.a*(Math.PI/180);punchgs.TweenLite.to(o.element,.1,{force3D:"auto",x:Math.cos(e)*o.unit,y:o.unit*(1-Math.sin(e))})},onComplete:function(){e.data("timeline").restart()}}))}})},be=function(e){e.find(".rs-pendulum, .rs-slideloop, .rs-pulse, .rs-wave").each(function(){var e=le(this);e.data("timeline")!=ce&&(e.data("timeline").pause(),e.data("timeline",null))})},p=function(e,s){var l=0,n=e.find(".tp-caption"),t=s.container.find(".tp-static-layers").find(".tp-caption");return le.each(t,function(e,t){n.push(t)}),n.each(function(){var e=-1,t=le(this);if(t.hasClass("tp-static-layer")&&(-1!=t.data("startslide")&&"-1"!=t.data("startslide")||t.data("startslide",0),-1!=t.data("endslide")&&"-1"!=t.data("endslide")||t.data("endslide",s.slideamount),t.hasClass("tp-is-shown")?t.data("startslide")>s.next||t.data("endslide")<s.next?(e=2,t.removeClass("tp-is-shown")):e=0:e=2),0!=e){if(be(t),0<t.find("iframe").length){punchgs.TweenLite.to(t.find("iframe"),.2,{autoAlpha:0}),Oe()&&t.find("iframe").remove();try{var n=t.find("iframe").attr("id");$f(n).api("pause"),clearTimeout(t.data("timerplay"))}catch(I){}try{t.data("player").stopVideo(),clearTimeout(t.data("timerplay"))}catch(I){}}if(0<t.find("video").length)try{t.find("video").each(function(){var e=le(this).parent();e.attr("id");clearTimeout(e.data("timerplay")),this.pause()})}catch(I){}try{var i=t.data("timeline"),o=i.getLabelTime("frame99");if(i.time()<o){var r=i.getTweensOf(t);if(le.each(r,function(e,t){0!=e&&t.pause()}),0!=t.css("opacity")){var a=t.data("endspeed")==ce?t.data("speed"):t.data("endspeed");l<a&&(l=a),i.play("frame99")}else i.progress(1,!1)}}catch(I){}}}),l},Ce=function(e,t,n,i,o){var r=e.data("timeline"),a=new punchgs.TimelineLite,s=e;"chars"==n.typ?s=e.data("mySplitText").chars:"words"==n.typ?s=e.data("mySplitText").words:"lines"==n.typ&&(s=e.data("mySplitText").lines),n.animation.ease=n.ease,n.animation.rotationZ!=ce&&(n.animation.rotation=n.animation.rotationZ),n.animation.data=new Object,n.animation.data.oldx=n.animation.x,n.animation.data.oldy=n.animation.y,n.animation.x=n.animation.x*o,n.animation.y=n.animation.y*o,r.add(a.staggerTo(s,n.speed,n.animation,n.elementdelay),n.start),r.addLabel(i,n.start),e.data("timeline",r)},_e=function(e,t,n,i,o,r){var a=e.data("timeline"),s=new punchgs.TimelineLite,l=me(),c=e.data("endspeed")==ce?e.data("speed"):e.data("endspeed"),d=e.attr("class");if(l.ease=e.data("endeasing")==ce?punchgs.Power1.easeInOut:e.data("endeasing"),c/=1e3,d.match("ltr")||d.match("ltl")||d.match("str")||d.match("stl")||d.match("ltt")||d.match("ltb")||d.match("stt")||d.match("stb")||d.match("skewtoright")||d.match("skewtorightshort")||d.match("skewtoleft")||d.match("skewtoleftshort")||d.match("fadeout")||d.match("randomrotateout")){d.match("skewtoright")||d.match("skewtorightshort")?l.skewX=35:(d.match("skewtoleft")||d.match("skewtoleftshort"))&&(l.skewX=-35),d.match("ltr")||d.match("skewtoright")?l.x=t.width+60:d.match("ltl")||d.match("skewtoleft")?l.x=0-(t.width+60):d.match("ltt")?l.y=0-(t.height+60):d.match("ltb")?l.y=t.height+60:d.match("str")||d.match("skewtorightshort")?(l.x=50,l.opacity=0):d.match("stl")||d.match("skewtoleftshort")?(l.x=-50,l.opacity=0):d.match("stt")?(l.y=-50,l.opacity=0):d.match("stb")?(l.y=50,l.opacity=0):d.match("randomrotateout")?(l.x=Math.random()*t.width,l.y=Math.random()*t.height,l.scale=2*Math.random()+.3,l.rotation=360*Math.random()-180,l.opacity=0):d.match("fadeout")&&(l.opacity=0),d.match("skewtorightshort")?l.x=270:d.match("skewtoleftshort")&&(l.x=-270),l.data=new Object,l.data.oldx=l.x,l.data.oldy=l.y,l.x=l.x*r,l.y=l.y*r,l.overwrite="auto";var u=e;u=e;"chars"==e.data("splitout")?u=e.data("mySplitText").chars:"words"==e.data("splitout")?u=e.data("mySplitText").words:"lines"==e.data("splitout")&&(u=e.data("mySplitText").lines);var h=e.data("endelementdelay")==ce?0:e.data("endelementdelay");a.add(s.staggerTo(u,c,l,h),n)}else if(e.hasClass("customout")){l=ge(l,e.data("customout"));u=e;"chars"==e.data("splitout")?u=e.data("mySplitText").chars:"words"==e.data("splitout")?u=e.data("mySplitText").words:"lines"==e.data("splitout")&&(u=e.data("mySplitText").lines);h=e.data("endelementdelay")==ce?0:e.data("endelementdelay");l.onStart=function(){punchgs.TweenLite.set(e,{transformPerspective:l.transformPerspective,transformOrigin:l.transformOrigin,overwrite:"auto"})},l.data=new Object,l.data.oldx=l.x,l.data.oldy=l.y,l.x=l.x*r,l.y=l.y*r,a.add(s.staggerTo(u,c,l,h),n)}else i.delay=0,a.add(punchgs.TweenLite.to(e,c,i),n);a.addLabel(o,n),e.data("timeline",a)},s=function(e,t){e.children().each(function(){try{le(this).die("click")}catch(e){}try{le(this).die("mouseenter")}catch(e){}try{le(this).die("mouseleave")}catch(e){}try{le(this).unbind("hover")}catch(e){}});try{e.die("click","mouseenter","mouseleave")}catch(n){}clearInterval(t.cdint),e=null},A=function(e,t){if(t.cd=0,t.loop=0,t.stopAfterLoops!=ce&&-1<t.stopAfterLoops?t.looptogo=t.stopAfterLoops:t.looptogo=9999999,t.stopAtSlide!=ce&&-1<t.stopAtSlide?t.lastslidetoshow=t.stopAtSlide:t.lastslidetoshow=999,t.stopLoop="off",0==t.looptogo&&(t.stopLoop="on"),1<t.slideamount&&(0!=t.stopAfterLoops||1!=t.stopAtSlide)){var n=e.find(".tp-bannertimer");e.on("stoptimer",function(){var e=le(this).find(".tp-bannertimer");e.data("tween").pause(),"on"==t.hideTimerBar&&e.css({visibility:"hidden"})}),e.on("starttimer",function(){1!=t.conthover&&1!=t.videoplaying&&t.width>t.hideSliderAtLimit&&1!=t.bannertimeronpause&&1!=t.overnav&&("on"==t.stopLoop&&t.next==t.lastslidetoshow-1||1==t.noloopanymore?t.noloopanymore=1:(n.css({visibility:"visible"}),n.data("tween"
).resume())),"on"==t.hideTimerBar&&n.css({visibility:"hidden"})}),e.on("restarttimer",function(){var e=le(this).find(".tp-bannertimer");"on"==t.stopLoop&&t.next==t.lastslidetoshow-1||1==t.noloopanymore?t.noloopanymore=1:(e.css({visibility:"visible"}),e.data("tween").kill(),e.data("tween",punchgs.TweenLite.fromTo(e,t.delay/1e3,{width:"0%"},{force3D:"auto",width:"100%",ease:punchgs.Linear.easeNone,onComplete:i,delay:1}))),"on"==t.hideTimerBar&&e.css({visibility:"hidden"})}),e.on("nulltimer",function(){n.data("tween").pause(0),"on"==t.hideTimerBar&&n.css({visibility:"hidden"})});var i=function(){0==le("body").find(e).length&&(s(e,t),clearInterval(t.cdint)),e.trigger("revolution.slide.slideatend"),1==e.data("conthover-changed")&&(t.conthover=e.data("conthover"),e.data("conthover-changed",0)),t.act=t.next,t.next=t.next+1,t.next>e.find(">ul >li").length-1&&(t.next=0,t.looptogo=t.looptogo-1,t.looptogo<=0&&(t.stopLoop="on")),"on"==t.stopLoop&&t.next==t.lastslidetoshow-1?(e.find(".tp-bannertimer").css({visibility:"hidden"}),e.trigger("revolution.slide.onstop"),t.noloopanymore=1):n.data("tween").restart(),N(e,t)};n.data("tween",punchgs.TweenLite.fromTo(n,t.delay/1e3,{width:"0%"},{force3D:"auto",width:"100%",ease:punchgs.Linear.easeNone,onComplete:i,delay:1})),n.data("opt",t),e.hover(function(){"on"!=t.onHoverStop||Oe()||(e.trigger("stoptimer"),e.trigger("revolution.slide.onpause"),e.find(">ul >li:eq("+t.next+") .slotholder").find(".defaultimg").each(function(){var e=le(this);e.data("kenburn")!=ce&&e.data("kenburn").pause()}))},function(){1!=e.data("conthover")&&(e.trigger("revolution.slide.onresume"),e.trigger("starttimer"),e.find(">ul >li:eq("+t.next+") .slotholder").find(".defaultimg").each(function(){var e=le(this);e.data("kenburn")!=ce&&e.data("kenburn").play()}))})}},Oe=function(){var e=["android","webos","iphone","ipad","blackberry","Android","webos",,"iPod","iPhone","iPad","Blackberry","BlackBerry"],t=!1;for(var n in e)1<navigator.userAgent.split(e[n]).length&&(t=!0);return t},L=function(e,t,n){var i=t.data("owidth"),o=t.data("oheight");return i/o>n.width/n.height?(e=e*=100/(o*(n.container.width()/i)/n.container.height()*e))+"% "+100+"% 1":e+"% "+o*(n.container.width()/i)/n.container.height()*e+"%"},oe=function(e,c,t,d){try{e.find(">ul:first-child >li:eq("+c.act+")")}catch(O){e.find(">ul:first-child >li:eq(1)")}c.lastslide=c.act;var u=e.find(">ul:first-child >li:eq("+c.next+")").find(".slotholder"),h=u.data("bgposition"),p=u.data("bgpositionend"),n=u.data("zoomstart")/100,i=u.data("zoomend")/100,o=u.data("rotationstart"),f=u.data("rotationend"),m=u.data("bgfit"),g=u.data("bgfitend"),v=u.data("easeme"),T=u.data("duration")/1e3,r=100;m==ce&&(m=100),g==ce&&(g=100);var y=m,E=g;m=L(m,u,c),g=L(g,u,c),r=L(100,u,c),n==ce&&(n=1),i==ce&&(i=1),o==ce&&(o=0),f==ce&&(f=0),n<1&&(n=1),i<1&&(i=1);var b=new Object;b.w=parseInt(r.split(" ")[0],0),b.h=parseInt(r.split(" ")[1],0);var C=!1;"1"==r.split(" ")[2]&&(C=!0),u.find(".defaultimg").each(function(){var r=le(this);0==u.find(".kenburnimg").length?u.append('<div class="kenburnimg" style="position:absolute;z-index:1;width:100%;height:100%;top:0px;left:0px;"><img src="'+r.attr("src")+'" style="-webkit-touch-callout: none;-webkit-user-select: none;-khtml-user-select: none;-moz-user-select: none;-ms-user-select: none;user-select: none;position:absolute;width:'+b.w+"%;height:"+b.h+'%;"></div>'):u.find(".kenburnimg img").css({width:b.w+"%",height:b.h+"%"});var a=u.find(".kenburnimg img"),e=P(c,h,m,a,C),t=P(c,p,g,a,C);if(C&&(e.w=y/100,t.w=E/100),d){punchgs.TweenLite.set(a,{autoAlpha:0,transformPerspective:1200,transformOrigin:"0% 0%",top:0,left:0,scale:e.w,x:e.x,y:e.y});var n=e.w,i=n*a.width()-c.width,o=n*a.height()-c.height,s=Math.abs(e.x/i*100),l=Math.abs(e.y/o*100);0==o&&(l=0),0==i&&(s=0),r.data("bgposition",s+"% "+l+"%"),de(8)||r.data("currotate",M(a)),de(8)||r.data("curscale",b.w*n+"%  "+b.h*n+"%"),u.find(".kenburnimg").remove()}else r.data("kenburn",punchgs.TweenLite.fromTo(a,T,{autoAlpha:1,force3D:punchgs.force3d,transformOrigin:"0% 0%",top:0,left:0,scale:e.w,x:e.x,y:e.y},{autoAlpha:1,rotationZ:f,ease:v,x:t.x,y:t.y,scale:t.w,onUpdate:function(){var e=a[0]._gsTransform.scaleX,t=e*a.width()-c.width,n=e*a.height()-c.height,i=Math.abs(a[0]._gsTransform.x/t*100),o=Math.abs(a[0]._gsTransform.y/n*100);0==n&&(o=0),0==t&&(i=0),r.data("bgposition",i+"% "+o+"%"),de(8)||r.data("currotate",M(a)),de(8)||r.data("curscale",b.w*e+"%  "+b.h*e+"%")}}))})},P=function(e,t,n,i,o){var r=new Object;switch(r.w=o?parseInt(n.split(" ")[1],0)/100:parseInt(n.split(" ")[0],0)/100,t){case"left top":case"top left":r.x=0,r.y=0;break;case"center top":case"top center":r.x=((0-i.width())*r.w+parseInt(e.width,0))/2,r.y=0;break;case"top right":case"right top":r.x=(0-i.width())*r.w+parseInt(e.width,0),r.y=0;break;case"center left":case"left center":r.x=0,r.y=((0-i.height())*r.w+parseInt(e.height,0))/2;break;case"center center":r.x=((0-i.width())*r.w+parseInt(e.width,0))/2,r.y=((0-i.height())*r.w+parseInt(e.height,0))/2;break;case"center right":case"right center":r.x=(0-i.width())*r.w+parseInt(e.width,0),r.y=((0-i.height())*r.w+parseInt(e.height,0))/2;break;case"bottom left":case"left bottom":r.x=0,r.y=(0-i.height())*r.w+parseInt(e.height,0);break;case"bottom center":case"center bottom":r.x=((0-i.width())*r.w+parseInt(e.width,0))/2,r.y=(0-i.height())*r.w+parseInt(e.height,0);break;case"bottom right":case"right bottom":r.x=(0-i.width())*r.w+parseInt(e.width,0),r.y=(0-i.height())*r.w+parseInt(e.height,0)}return r},M=function(e){var t=e.css("-webkit-transform")||e.css("-moz-transform")||e.css("-ms-transform")||e.css("-o-transform")||e.css("transform");if("none"!==t)var n=t.split("(")[1].split(")")[0].split(","),i=n[0],o=n[1],r=Math.round(Math.atan2(o,i)*(180/Math.PI));else r=0;return r<0?r+=360:r},f=function(e,t){try{var n=e.find(">ul:first-child >li:eq("+t.act+")")}catch(C){n=e.find(">ul:first-child >li:eq(1)")}t.lastslide=t.act;var i=e.find(">ul:first-child >li:eq("+t.next+")");n.find(".slotholder"),i.find(".slotholder");e.find(".defaultimg").each(function(){var e=le(this);punchgs.TweenLite.killTweensOf(e,!1),punchgs.TweenLite.set(e,{scale:1,rotationZ:0}),punchgs.TweenLite.killTweensOf(e.data("kenburn img"),!1),e.data("kenburn")!=ce&&e.data("kenburn").pause(),e.data("currotate")!=ce&&e.data("bgposition")!=ce&&e.data("curscale")!=ce&&punchgs.TweenLite.set(e,{rotation:e.data("currotate"),backgroundPosition:e.data("bgposition"),backgroundSize:e.data("curscale")}),e!=ce&&e.data("kenburn img")!=ce&&0<e.data("kenburn img").length&&punchgs.TweenLite.set(e.data("kenburn img"),{autoAlpha:0})})},F=function(l,c){if(Oe()&&"on"==c.parallaxDisableOnMobile)return!1;l.find(">ul:first-child >li").each(function(){for(var e=le(this),t=1;t<=10;t++)e.find(".rs-parallaxlevel-"+t).each(function(){var e=le(this);e.wrap('<div style="position:absolute;top:0px;left:0px;width:100%;height:100%;z-index:'+e.css("zIndex")+'" class="tp-parallax-container" data-parallaxlevel="'+c.parallaxLevels[t-1]+'"></div>')})}),"mouse"!=c.parallax&&"scroll+mouse"!=c.parallax&&"mouse+scroll"!=c.parallax||(l.mouseenter(function(e){var t=l.find(".current-sr-slide-visible"),n=l.offset().top,i=l.offset().left,o=e.pageX-i,r=e.pageY-n;t.data("enterx",o),t.data("entery",r)}),l.on("mousemove.hoverdir, mouseleave.hoverdir",function(e){var t=l.find(".current-sr-slide-visible");switch(e.type){case"mousemove":var n=l.offset().top,i=l.offset().left,o=t.data("enterx"),r=t.data("entery"),a=o-(e.pageX-i),s=r-(e.pageY-n);t.find(".tp-parallax-container").each(function(){var e=le(this),t=parseInt(e.data("parallaxlevel"),0)/100,n=a*t,i=s*t;"scroll+mouse"==c.parallax||"mouse+scroll"==c.parallax?punchgs.TweenLite.to(e,.4,{force3D:"auto",x:n,ease:punchgs.Power3.easeOut,overwrite:"all"}):punchgs.TweenLite.to(e,.4,{force3D:"auto",x:n,y:i,ease:punchgs.Power3.easeOut,overwrite:"all"})});break;case"mouseleave":t.find(".tp-parallax-container").each(function(){var e=le(this);"scroll+mouse"==c.parallax||"mouse+scroll"==c.parallax?punchgs.TweenLite.to(e,1.5,{force3D:"auto",x:0,ease:punchgs.Power3.easeOut}):punchgs.TweenLite.to(e,1.5,{force3D:"auto",x:0,y:0,ease:punchgs.Power3.easeOut})})}}),Oe()&&(window.ondeviceorientation=function(e){var t=Math.round(e.beta||0),n=Math.round(e.gamma||0),i=l.find(".current-sr-slide-visible");if(le(window).width()>le(window).height()){var o=n;n=t,t=o}var r=360/l.width()*n,a=180/l.height()*t;i.find(".tp-parallax-container").each(function(){var e=le(this),t=parseInt(e.data("parallaxlevel"),0)/100,n=r*t,i=a*t;punchgs.TweenLite.to(e,.2,{force3D:"auto",x:n,y:i,ease:punchgs.Power3.easeOut})})})),"scroll"!=c.parallax&&"scroll+mouse"!=c.parallax&&"mouse+scroll"!=c.parallax||le(window).on("scroll",function(){re(l,c)})},re=function(e,t){if(Oe()&&"on"==t.parallaxDisableOnMobile)return!1;var n=e.offset().top,i=le(window).scrollTop(),o=n+e.height()/2,r=n+e.height()/2-i,a=le(window).height()/2,s=a-r;o<a&&(s-=a-o);e.find(".current-sr-slide-visible");if(e.find(".tp-parallax-container").each(function(){var e=le(this),t=parseInt(e.data("parallaxlevel"),0)/100,n=s*t;e.data("parallaxoffset",n),punchgs.TweenLite.to(e,.2,{force3D:"auto",y:n,ease:punchgs.Power3.easeOut})}),"on"!=t.parallaxBgFreeze){var l=t.parallaxLevels[0]/100,c=s*l;punchgs.TweenLite.to(e,.2,{force3D:"auto",y:c,ease:punchgs.Power3.easeOut})}},B=function(s,o){var e=s.parent();"thumb"!=o.navigationType&&"both"!=o.navsecond||e.append('<div class="tp-bullets tp-thumbs '+o.navigationStyle+'"><div class="tp-mask"><div class="tp-thumbcontainer"></div></div></div>');var r=e.find(".tp-bullets.tp-thumbs .tp-mask .tp-thumbcontainer"),t=r.parent();t.width(o.thumbWidth*o.thumbAmount),t.height(o.thumbHeight),t.parent().width(o.thumbWidth*o.thumbAmount),t.parent().height(o.thumbHeight),s.find(">ul:first >li").each(function(e){var t=s.find(">ul:first >li:eq("+e+")"),n=t.find(".defaultimg").css("backgroundColor");if(t.data("thumb")!=ce)var i=t.data("thumb");else i=t.find("img:first").attr("src");r.append('<div class="bullet thumb" style="background-color:'+n+";position:relative;width:"+o.thumbWidth+"px;height:"+o.thumbHeight+"px;background-image:url("+i+') !important;background-size:cover;background-position:center center;"></div>');r.find(".bullet:first")});var n=10;r.find(".bullet").each(function(e){var t=le(this);e==o.slideamount-1&&t.addClass("last"),0==e&&t.addClass("first"),t.width(o.thumbWidth),t.height(o.thumbHeight),n<t.outerWidth(!0)&&(n=t.outerWidth(!0)),t.click(function(){0==o.transition&&t.index()!=o.act&&(o.next=t.index(),l(o,s))})});var i=n*s.find(">ul:first >li").length,a=r.parent().width();o.thumbWidth=n,a<i&&(le(document).mousemove(function(e){le("body").data("mousex",e.pageX)}),r.parent().mouseenter(function(){var e=le(this),t=e.offset(),n=le("body").data("mousex")-t.left,i=e.width(),o=e.find(".bullet:first").outerWidth(!0)*s.find(">ul:first >li").length,r=(o-i+15)/i;e.addClass("over");var a=0-(n-=30)*r;0<a&&(a=0),a<0-o+i&&(a=0-o+i),g(e,a,200)}),r.parent().mousemove(function(){var e=le(this),t=e.offset(),n=le("body").data("mousex")-t.left,i=e.width(),o=e.find(".bullet:first").outerWidth(!0)*s.find(">ul:first >li").length-1;(n-=3)<6&&(n=0),i-6<n+3&&(n=i);var r=0-n*((o-i+15)/i);0<r&&(r=0),r<0-o+i&&(r=0-o+i),g(e,r,0)}),r.parent().mouseleave(function(){le(this).removeClass("over"),m(s)}))},m=function(e){var t=e.parent().find(".tp-bullets.tp-thumbs .tp-mask .tp-thumbcontainer").parent(),n=(t.offset(),t.find(".bullet:first").outerWidth(!0)),i=t.find(".bullet.selected").index()*n,o=t.width(),r=(n=t.find(".bullet:first").outerWidth(!0))*e.find(">ul:first >li").length,a=0-i;0<a&&(a=0),a<0-r+o&&(a=0-r+o),t.hasClass("over")||g(t,a,200)},g=function(e,t){punchgs.TweenLite.to(e.find(".tp-thumbcontainer"),.2,{force3D:"auto",left:t,ease:punchgs.Power3.easeOut,overwrite:"auto"})}}(jQuery),function(g,m){function r(){var e=["android","webos","iphone","ipad","blackberry","Android","webos",,"iPod","iPhone","iPad","Blackberry","BlackBerry"],t=!1;for(i in e)1<navigator.userAgent.split(e[i]).length&&(t=!0);return t}function a(t){t.find(".show_on_hover, .hovercover").each(function(){var e=g(this).closest("li");t.data("ie9")||t.data("ie")?g(this).animate({opacity:0},{duration:200,queue:!1}):g(this).transit({opacity:0},{duration:200,queue:!1}),e.hover(function(){g(this).find(".show_on_hover, .hovercover").each(function(){var e=1;g(this).data("maxopacity")!=m&&(e=g(this).data("maxopacity")),t.data("ie9")||t.data("ie")?g(this).animate({opacity:e},{duration:200,queue:!1}):g(this).transit({opacity:e},{duration:200,queue:!1})})},function(){g(this).find(".show_on_hover, .hovercover").each(function(){t.data("ie9")||t.data("ie")?g(this).animate({opacity:0},{duration:200,queue:!1}):g(this).transit({opacity:0},{duration:200,queue:!1})})})})}function s(o,n){o.find(".excerpt").each(function(){var e=g(this);e.closest("li").hover(function(){e.slideDown(300)},function(){e.stop(!0),e.slideUp(300)})}),o.find(".reveal_opener").each(function(){var t=g(this);t.click(function(){if(t.parent().hasClass("reveal_container"))var e=t.parent();else e=t.parent().find(".reveal_container");e.hasClass("revactive")?(e.removeClass("revactive"),t.removeClass("revactive"),e.closest("li").removeClass("revactive"),o.data("ie9")||o.data("ie")?e.find(".reveal_wrapper").css({visibility:"visible"}).animate({height:"0px",opacity:0},{duration:500}):e.find(".reveal_wrapper").css({visibility:"visible"}).transit({height:"0px",opacity:0},{duration:500}),e.find(".sb-vimeo-markup, .sb-yt-markup").html(""),e.hasClass("tofullwidth")&&(u(200,o,n),setTimeout(function(){e.appendTo(e.data("comefrom"))},300))):(e.hasClass("tofullwidth")&&(e.data("comefrom",e.parent()),e.data("indexli",e.closest("li").index()),e.appendTo(e.closest(".showbiz")),t.addClass("revactive")),setTimeout(function(){"on"==o.data("coo")&&e.closest("ul").find(".reveal_opener").each(function(){g(this).hasClass("revactive")&&g(this).click()}),e.addClass("revactive"),t.addClass("revactive"),e.closest("li").addClass("revactive"),o.data("ie9")||o.data("ie")?e.find(".reveal_wrapper").css({visibility:"visible"}).animate({height:"100%",opacity:1},{duration:300}):e.find(".reveal_wrapper").css({visibility:"visible"}).transit({height:"100%",opacity:1},{duration:300}),e.find(".sb-vimeo-markup, .sb-yt-markup").each(function(){var e=g(this);if(e.hasClass("sb-vimeo-markup"))var t=o.data("vimeomarkup");else t=o.data("ytmarkup");var n=t.split("%%videoid%%")[0],i=t.split("%%videoid%%")[1];t=n+e.data("videoid")+i;e.append(t);try{e.fitVids()}catch(l){}}),setTimeout(function(){v(o,n)},500)},100))})})}function v(e,t){var n=e.find(".tofullwidth.revactive .heightadjuster"),i=t.find("ul").first(),o=parseInt(n.parent().css("paddingTop"),0)+parseInt(n.parent().css("paddingBottom"),0),r=0;e.data("hboffset")!=m&&(r=e.data("hboffset"));var a=r+o+n.outerHeight(!0);e.data("ie9")||e.data("ie")?(i.animate({height:a+"px"},{duration:300,queue:!1}),i.parent().animate({height:a+"px"},{duration:300,queue:!1})):(i.transit({height:a+"px",duration:300,queue:!1}),i.parent().transit({height:a+"px",duration:300,queue:!1}))}function l(a,e){var t,s=a.data("carousel"),l=g(e.data("left")),c=g(e.data("right"));a.width();l.data("teaser",e),c.data("teaser",e),e.data("offset",0),u(0,a,e),a.find("img").each(function(){g(this).parent().waitForImages(function(){u(200,a,e)})}),c.click(function(){if(0<a.find(".tofullwidth.revactive .heightadjuster").length){var e=a.find(".tofullwidth.revactive").data("indexli")+2;e>a.find("ul:first-child li").length&&(e=1),a.find(".tofullwidth.revactive").addClass("sb-removemesoon"),setTimeout(function(){a.find(".tofullwidth.revactive.sb-removemesoon .reveal_opener").click(),a.find(".sb-removemesoon").each(function(){g(this).removeClass("sb-removemesoon")})},350),a.find("ul:first-child li:nth-child("+e+")").find(".reveal_opener").click()}else if(1!=c.data("inmove")){var t=g(g(this).data("teaser")),n=t.find("ul").first();n.find(">li").length;if("on"==a.data("das"))d(a,1);else{var i=n.find(">li:first-child").offset().left;if(1==s&&i<0)c.data("inmove",1),t.data("offset",t.data("offset")-1),u(0,a,t),n.find(">li:first-child").appendTo(n),t.data("offset",t.data("offset")+1),u(200,a,t),setTimeout(function(){c.data("inmove",0)},350);else{c.data("inmove",1);var o=1,r=a.width();"on"==a.data("allentry")&&(980<r&&(o=a.data("vea")[0]),r<981&&768<r&&(o=a.data("vea")[1]),r<769&&420<r&&(o=a.data("vea")[2]),r<421&&(o=a.data("vea")[3])),t.data("offset",t.data("offset")+o),u(200,a,t),setTimeout(function(){c.data("inmove",0)},350)}}}return!1}),l.click(function(){if(0<a.find(".tofullwidth.revactive .heightadjuster").length){var e=a.find(".tofullwidth.revactive").data("indexli")-1;e<=0&&(e=a.find("ul:first-child li").length),a.find(".tofullwidth.revactive").addClass("sb-removemesoon"),setTimeout(function(){a.find(".tofullwidth.revactive.sb-removemesoon .reveal_opener").click(),a.find(".sb-removemesoon").each(function(){g(this).removeClass("sb-removemesoon")})},350),a.find("ul:first-child li:nth-child("+e+")").find(".reveal_opener").click()}else if(1!=l.data("inmove")){var t=g(this).data("teaser"),n=t.find("ul").first();if("on"==a.data("das"))d(a,-1);else{var i=n.find(">li:first-child").offset().left;if(1==s&&0<=i)l.data("inmove",1),t.data("offset",t.data("offset")+1),u(0,a,t),n.find(">li:last-child").prependTo(n),t.data("offset",t.data("offset")-1),u(200,a,t),setTimeout(function(){l.data("inmove",0)},350);else{l.data("inmove",1);var o=1,r=a.width();"on"==a.data("allentry")&&(980<r&&(o=a.data("vea")[0]),r<981&&768<r&&(o=a.data("vea")[1]),r<769&&420<r&&(o=a.data("vea")[2]),r<421&&(o=a.data("vea")[3])),t.data("offset",t.data("offset")-o),u(200,a,t),setTimeout(function(){l.data("inmove",0)},350)}}}return!1}),"on"!=a.data("das")&&a.swipe({data:a,swipeRight:function(){l.click()},swipeLeft:function(){c.click()},excludedElements:".reveal_opener, a,  .linkicon, .notalone, .lupeicon, .hovercover, .showbiz-navigation, .sb-navigation-left, .sb-navigation-right",allowPageScroll:"auto"}),g(window).resize(function(){clearTimeout(t),t=setTimeout(function(){e.data("offset",0),u(0,a,e),"on"==a.data("das")&&setTimeout(function(){d(a,0)},300)},150)}),1==s&&(c.data("inmove",1),l.data("inmove",1));for(var n=0;n<3;n++)g(window).data("teaserreset",setTimeout(function(){u(200,a,e)},500*n)),2==n&&setTimeout(function(){c.data("inmove",0),l.data("inmove",0)},500*n+200)}function d(e,t){var n=e,i=e.width(),o=n.find("ul").first(),r=o.find(">li").length,a=4;980<i&&(a=e.data("vea")[0]),i<981&&768<i&&(a=e.data("vea")[1]),i<769&&420<i&&(a=e.data("vea")[2]),i<421&&(a=e.data("vea")[3]);var s=r-a,l=o.find(">li:first-child").outerWidth(!0),c=n.find(".overflowholder"),d=c.scrollLeft(),u=Math.round(d/l),h=g(c.parent().data("right")),p=g(c.parent().data("left")),f=(u+t)*l;if(s*l<=f){f=s*l;try{h.addClass("notclickable")}catch(m){}}else try{h.removeClass("notclickable")}catch(m){}if(f<=0){f=0;try{p.addClass("notclickable")}catch(m){}}else try{p.removeClass("notclickable")}catch(m){}c.animate({scrollLeft:f+"px"},{duration:300,queue:!1,complete:function(){c.removeClass("inmove")}})}function u(e,t,n){var i=t.data("carousel"),o=n.find("ul"),r=n.data("offset"),a=t.width();a-=parseInt(n.css("paddingLeft"),0)+parseInt(n.css("paddingRight"),0);o=n.find("ul:first");maxitem=o.find(">li").length;var s=g(n.data("right"));"on"!=t.data("das")&&s.removeClass("notclickable");var l=g(n.data("left"));"on"!=t.data("das")&&l.removeClass("notclickable");var c=t.data("vea")[0],d=t.data("mediaMaxHeight");if(980<a){c=t.data("vea")[0];try{0!=d[0]&&t.find(".mediaholder_innerwrap").each(function(){g(this).css({maxHeight:d[0]+"px"})})}catch(f){}}if(a<981&&768<a){c=t.data("vea")[1];try{0!=d[1]&&t.find(".mediaholder_innerwrap").each(function(){g(this).css({maxHeight:d[1]+"px"})})}catch(f){}}if(a<769&&420<a){c=t.data("vea")[2];try{0!=d[2]&&t.find(".mediaholder_innerwrap").each(function(){g(this).css({maxHeight:d[2]+"px"})})}catch(f){}}if(a<421){c=t.data("vea")[3];try{0!=d[3]&&t.find(".mediaholder_innerwrap").each(function(){g(this).css({maxHeight:d[3]+"px"})})}catch(f){}}1!=i&&(r>=maxitem-c&&(r=maxitem-c,"on"!=t.data("das")&&s.addClass("notclickable")),r<=0&&(r=0,"on"!=t.data("das")&&l.addClass("notclickable")));var u=o.find(">li:first-child").outerWidth(!0)-o.find(">li:first-child").width(),h=0;t.data("eoffset")!=m&&(h=t.data("eoffset")*(c-1));t.data("croffset")!=m&&t.data("croffset"),step=(a-(c-1)*u)/c,step=Math.round(step-h),n.data("offset",r),o.find(">li").each(function(){g(this).width(step)}),step=o.find("li:first").outerWidth(!0),n.data("step",step),o.css({width:"10000px"}),0==e?o.css({left:0-step*r+"px"}):o.animate({left:0-step*r+"px"},{duration:e,queue:!1});var p=0;t.data("hboffset")!=m&&(p=t.data("hboffset")),setTimeout(function(){var e=0;o.find("li").each(function(){g(this).outerHeight(!0)>e&&(e=g(this).outerHeight(!0))}),setTimeout(function(){if(100<step){var e=o.find(">li:last-child"),t=e.position().left+e.outerWidth(!0)+u+1;o.css({width:t+"px"})}},200),0<t.find(".tofullwidth.revactive .heightadjuster").length?v(t,n):t.data("ie9")||t.data("ie")?(o.animate({height:e+p+"px"},{duration:300,queue:!1}),o.parent().animate({height:e+p+"px"},{duration:300,queue:!1})):(o.transit({height:e+p+"px",duration:300,queue:!1}),o.parent().transit({height:e+p+"px",duration:300,queue:!1}))},e+210)}g.fn.extend({showbizpro:function(o){return g.fn.showbizpro.defaults={entrySizeOffset:0,containerOffsetRight:0,heightOffsetBottom:0,carousel:"off",visibleElementsArray:[4,3,2,1],mediaMaxHeight:[0,0,0,0],ytMarkup:"<iframe src='http://www.youtube.com/embed/%%videoid%%?hd=1&wmode=opaque&autohide=1&showinfo=0&autoplay=1'></iframe>",vimeoMarkup:"<iframe src='http://player.vimeo.com/video/&&videoid%%?title=0&byline=0&portrait=0;api=1&autoplay=1'></iframe>",closeOtherOverlays:"off",allEntryAtOnce:"off",dragAndScroll:"off"},o=g.extend({},g.fn.showbizpro.defaults,o),this.each(function(){var e=g(this);e.data("eoffset",o.entrySizeOffset),e.data("croffset",o.containerOffsetRight),e.data("hboffset",o.heightOffsetBottom),"on"==o.carousel?e.data("carousel",1):e.data("carousel",0),e.data("ytmarkup",o.ytMarkup),e.data("vimeomarkup",o.vimeoMarkup),e.data("vea",o.visibleElementsArray),e.data("coo",o.closeOtherOverlays),e.data("allentry",o.allEntryAtOnce),e.data("mediaMaxHeight",o.mediaMaxHeight),e.data("das",o.dragAndScroll),e.data("ie",!g.support.opacity),e.data("ie9",9==document.documentMode),g.support.transition||(g.fn.transition=g.fn.animate);var t,n=e.find(".showbiz");n.attr("id","sbiz"+Math.round(1e4*Math.random())),"on"==o.dragAndScroll&&n.find(".overflowholder").overscroll({driftTimeout:0,direction:"horizontal",wheelDirection:"horizontal",captureWheel:!1}).on("overscroll:dragstart",function(){e.find(".overflowholder").stop(!0)}).on("overscroll:driftend",function(){e.find(".overflowholder").data("drifting",0),d(e,0)}).on("overscroll:driftstart",function(){clearTimeout(t),e.find(".overflowholder").data("drifting",1)}).on("overscroll:dragend",function(){r()||(clearTimeout(t),t=setTimeout(function(){1!=e.find(".overflowholder").data("drifting")&&d(e,0)},50))}),l(e,n),s(e,n);try{e.find(".mediaholder_innerwrap").each(function(){g(this).fitVids()})}catch(i){}a(e),(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/iPad/i))&&g(".reveal_opener, .sb-navigation-left, .sb-navigation-right").click(function(){})})},showbizredraw:function(){return this.each(function(){var e=g(this);u(200,e,e.find(".showbiz"))})}})}(jQuery),function(e){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],e):e(jQuery)}(function(xe){function i(n){return!n||n.allowPageScroll!==undefined||n.swipe===undefined&&n.swipeStatus===undefined||(n.allowPageScroll=Me),n.click!==undefined&&n.tap===undefined&&(n.tap=n.click),n||(n={}),n=xe.extend({},xe.fn.swipe.defaults,n),this.each(function(){var e=xe(this),t=e.data(tt);t||(t=new o(this,n),e.data(tt,t))})}function o(e,a){function t(e){if(!(M()||0<xe(e.target).closest(a.excludedElements,Te).length)){var t,n=e.originalEvent?e.originalEvent:e,i=Ze?n.touches[0]:n;return ye=Xe,Ze?Ee=n.touches.length:e.preventDefault(),ge=de=null,fe=1,me=pe=he=ue=ce=0,be=z(),ve=W(),L(),!Ze||Ee===a.fingers||a.fingers===Ue||v()?(B(0,i),Ce=ee(),2==Ee&&(B(1,n.touches[1]),he=pe=X(be[0].start,be[1].start)),(a.swipeStatus||a.pinchStatus)&&(t=c(n,ye))):t=!1,!1===t?(c(n,ye=Qe),t):(a.hold&&(Re=setTimeout(xe.proxy(function(){Te.trigger("hold",[n.target]),a.hold&&(t=a.hold.call(Te,n,n.target))},this),a.longTapThreshold)),F(!0),null)}}function n(e){var t=e.originalEvent?e.originalEvent:e;if(ye!==Ge&&ye!==Qe&&!P()){var n,i=$(Ze?t.touches[0]:t);if(_e=ee(),Ze&&(Ee=t.touches.length),a.hold&&clearTimeout(Re),ye=Ye,2==Ee&&(0==he?(B(1,t.touches[1]),he=pe=X(be[0].start,be[1].start)):($(t.touches[1]),pe=X(be[0].end,be[1].end),ge=G(be[0].end,be[1].end)),fe=Y(he,pe),me=Math.abs(he-pe)),Ee===a.fingers||a.fingers===Ue||!Ze||v()){if(m(e,de=J(i.start,i.end)),ce=Q(i.start,i.end),ue=V(),q(de,ce),(a.swipeStatus||a.pinchStatus)&&(n=c(t,ye)),!a.triggerOnTouchEnd||a.triggerOnTouchLeave){var o=!0;if(a.triggerOnTouchLeave){var r=te(this);o=ne(i.end,r)}!a.triggerOnTouchEnd&&o?ye=l(Ye):a.triggerOnTouchLeave&&!o&&(ye=l(Ge)),ye!=Qe&&ye!=Ge||c(t,ye)}}else c(t,ye=Qe);!1===n&&c(t,ye=Qe)}}function i(e){var t=e.originalEvent;return Ze&&0<t.touches.length?(A(),!0):(P()&&(Ee=Ie),_e=ee(),ue=V(),h()||!u()?c(t,ye=Qe):a.triggerOnTouchEnd||0==a.triggerOnTouchEnd&&ye===Ye?(e.preventDefault(),c(t,ye=Ge)):!a.triggerOnTouchEnd&&O()?d(t,ye=Ge,He):ye===Ye&&c(t,ye=Qe),F(!1),null)}function o(){pe=he=Ce=_e=Ee=0,fe=1,L(),F(!1)}function r(e){var t=e.originalEvent;a.triggerOnTouchLeave&&c(t,ye=l(Ge))}function s(){Te.unbind(oe,t),Te.unbind(le,o),Te.unbind(re,n),Te.unbind(ae,i),se&&Te.unbind(se,r),F(!1)}function l(e){var t=e,n=f(),i=u(),o=h();return!n||o?t=Qe:!i||e!=Ye||a.triggerOnTouchEnd&&!a.triggerOnTouchLeave?!i&&e==Ge&&a.triggerOnTouchLeave&&(t=Qe):t=Ge,t}function c(e,t){var n=undefined;return b()||E()?n=d(e,t,Be):(T()||v())&&!1!==n&&(n=d(e,t,$e)),K()&&!1!==n?n=d(e,t,ze):N()&&!1!==n?n=d(e,t,qe):S()&&!1!==n&&(n=d(e,t,He)),t===Qe&&o(e),t===Ge&&(Ze?0==e.touches.length&&o(e):o(e)),n}function d(e,t,n){var i=undefined;if(n==Be){if(Te.trigger("swipeStatus",[t,de||null,ce||0,ue||0,Ee,be]),a.swipeStatus&&!1===(i=a.swipeStatus.call(Te,e,t,de||null,ce||0,ue||0,Ee,be)))return!1;if(t==Ge&&y()){if(Te.trigger("swipe",[de,ce,ue,Ee,be]),a.swipe&&!1===(i=a.swipe.call(Te,e,de,ce,ue,Ee,be)))return!1;switch(de){case Se:Te.trigger("swipeLeft",[de,ce,ue,Ee,be]),a.swipeLeft&&(i=a.swipeLeft.call(Te,e,de,ce,ue,Ee,be));break;case Ke:Te.trigger("swipeRight",[de,ce,ue,Ee,be]),a.swipeRight&&(i=a.swipeRight.call(Te,e,de,ce,ue,Ee,be));break;case Ne:Te.trigger("swipeUp",[de,ce,ue,Ee,be]),a.swipeUp&&(i=a.swipeUp.call(Te,e,de,ce,ue,Ee,be));break;case Ae:Te.trigger("swipeDown",[de,ce,ue,Ee,be]),a.swipeDown&&(i=a.swipeDown.call(Te,e,de,ce,ue,Ee,be))}}}if(n==$e){if(Te.trigger("pinchStatus",[t,ge||null,me||0,ue||0,Ee,fe,be]),a.pinchStatus&&!1===(i=a.pinchStatus.call(Te,e,t,ge||null,me||0,ue||0,Ee,fe,be)))return!1;if(t==Ge&&g())switch(ge){case Le:Te.trigger("pinchIn",[ge||null,me||0,ue||0,Ee,fe,be]),a.pinchIn&&(i=a.pinchIn.call(Te,e,ge||null,me||0,ue||0,Ee,fe,be));break;case Pe:Te.trigger("pinchOut",[ge||null,me||0,ue||0,Ee,fe,be]),a.pinchOut&&(i=a.pinchOut.call(Te,e,ge||null,me||0,ue||0,Ee,fe,be))}}return n==He?t!==Qe&&t!==Ge||(clearTimeout(we),clearTimeout(Re),I()&&!R()?(De=ee(),we=setTimeout(xe.proxy(function(){De=null,Te.trigger("tap",[e.target]),a.tap&&(i=a.tap.call(Te,e,e.target))},this),a.doubleTapThreshold)):(De=null,Te.trigger("tap",[e.target]),a.tap&&(i=a.tap.call(Te,e,e.target)))):n==ze?t!==Qe&&t!==Ge||(clearTimeout(we),De=null,Te.trigger("doubletap",[e.target]),a.doubleTap&&(i=a.doubleTap.call(Te,e,e.target))):n==qe&&(t!==Qe&&t!==Ge||(clearTimeout(we),De=null,Te.trigger("longtap",[e.target]),a.longTap&&(i=a.longTap.call(Te,e,e.target)))),i}function u(){var e=!0;return null!==a.threshold&&(e=ce>=a.threshold),e}function h(){var e=!1;return null!==a.cancelThreshold&&null!==de&&(e=j(de)-ce>=a.cancelThreshold),e}function p(){return null===a.pinchThreshold||me>=a.pinchThreshold}function f(){return!a.maxTimeThreshold||!(ue>=a.maxTimeThreshold)}function m(e,t){if(a.allowPageScroll===Me||v())e.preventDefault();else{var n=a.allowPageScroll===Fe;switch(t){case Se:(a.swipeLeft&&n||!n&&a.allowPageScroll!=je)&&e.preventDefault();break;case Ke:(a.swipeRight&&n||!n&&a.allowPageScroll!=je)&&e.preventDefault();break;case Ne:(a.swipeUp&&n||!n&&a.allowPageScroll!=We)&&e.preventDefault();break;case Ae:(a.swipeDown&&n||!n&&a.allowPageScroll!=We)&&e.preventDefault()}}}function g(){var e=C(),t=_(),n=p();return e&&t&&n}function v(){return!!(a.pinchStatus||a.pinchIn||a.pinchOut)}function T(){return!(!g()||!v())}function y(){var e=f(),t=u(),n=C(),i=_();return!h()&&i&&n&&t&&e}function E(){return!!(a.swipe||a.swipeStatus||a.swipeLeft||a.swipeRight||a.swipeUp||a.swipeDown)}function b(){return!(!y()||!E())}function C(){return Ee===a.fingers||a.fingers===Ue||!Ze}function _(){return 0!==be[0].end.x}function O(){return!!a.tap}function I(){return!!a.doubleTap}function D(){return!!a.longTap}function w(){if(null==De)return!1;var e=ee();return I()&&e-De<=a.doubleTapThreshold}function R(){return w()}function k(){return(1===Ee||!Ze)&&(isNaN(ce)||ce<a.threshold)}function x(){return ue>a.longTapThreshold&&ce<Ve}function S(){return!(!k()||!O())}function K(){return!(!w()||!I())}function N(){return!(!x()||!D())}function A(){Oe=ee(),Ie=event.touches.length+1}function L(){Ie=Oe=0}function P(){var e=!1;Oe&&(ee()-Oe<=a.fingerReleaseThreshold&&(e=!0));return e}function M(){return!(!0!==Te.data(tt+"_intouch"))}function F(e){!0===e?(Te.bind(re,n),Te.bind(ae,i),se&&Te.bind(se,r)):(Te.unbind(re,n,!1),Te.unbind(ae,i,!1),se&&Te.unbind(se,r,!1)),Te.data(tt+"_intouch",!0===e)}function B(e,t){var n=t.identifier!==undefined?t.identifier:0;return be[e].identifier=n,be[e].start.x=be[e].end.x=t.pageX||t.clientX,be[e].start.y=be[e].end.y=t.pageY||t.clientY,be[e]}function $(e){var t=H(e.identifier!==undefined?e.identifier:0);return t.end.x=e.pageX||e.clientX,t.end.y=e.pageY||e.clientY,t}function H(e){for(var t=0;t<be.length;t++)if(be[t].identifier==e)return be[t]}function z(){for(var e=[],t=0;t<=5;t++)e.push({start:{x:0,y:0},end:{x:0,y:0},identifier:0});return e}function q(e,t){t=Math.max(t,j(e)),ve[e].distance=t}function j(e){return ve[e]?ve[e].distance:undefined}function W(){var e={};return e[Se]=U(Se),e[Ke]=U(Ke),e[Ne]=U(Ne),e[Ae]=U(Ae),e}function U(e){return{direction:e,distance:0}}function V(){return _e-Ce}function X(e,t){var n=Math.abs(e.x-t.x),i=Math.abs(e.y-t.y);return Math.round(Math.sqrt(n*n+i*i))}function Y(e,t){return(t/e*1).toFixed(2)}function G(){return fe<1?Pe:Le}function Q(e,t){return Math.round(Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)))}function Z(e,t){var n=e.x-t.x,i=t.y-e.y,o=Math.atan2(i,n),r=Math.round(180*o/Math.PI);return r<0&&(r=360-Math.abs(r)),r}function J(e,t){var n=Z(e,t);return n<=45&&0<=n?Se:n<=360&&315<=n?Se:135<=n&&n<=225?Ke:45<n&&n<135?Ae:Ne}function ee(){return(new Date).getTime()}function te(e){var t=(e=xe(e)).offset();return{left:t.left,right:t.left+e.outerWidth(),top:t.top,bottom:t.top+e.outerHeight()}}function ne(e,t){return e.x>t.left&&e.x<t.right&&e.y>t.top&&e.y<t.bottom}var ie=Ze||et||!a.fallbackToMouseEvents,oe=ie?et?Je?"MSPointerDown":"pointerdown":"touchstart":"mousedown",re=ie?et?Je?"MSPointerMove":"pointermove":"touchmove":"mousemove",ae=ie?et?Je?"MSPointerUp":"pointerup":"touchend":"mouseup",se=ie?null:"mouseleave",le=et?Je?"MSPointerCancel":"pointercancel":"touchcancel",ce=0,de=null,ue=0,he=0,pe=0,fe=1,me=0,ge=0,ve=null,Te=xe(e),ye="start",Ee=0,be=null,Ce=0,_e=0,Oe=0,Ie=0,De=0,we=null,Re=null;try{Te.bind(oe,t),Te.bind(le,o)}catch(ke){xe.error("events not supported "+oe+","+le+" on jQuery.swipe")}this.enable=function(){return Te.bind(oe,t),Te.bind(le,o),Te},this.disable=function(){return s(),Te},this.destroy=function(){return s(),Te.data(tt,null),Te},this.option=function(e,t){if(a[e]!==undefined){if(t===undefined)return a[e];a[e]=t}else xe.error("Option "+e+" does not exist on jQuery.swipe.options");return null}}var Se="left",Ke="right",Ne="up",Ae="down",Le="in",Pe="out",Me="none",Fe="auto",Be="swipe",$e="pinch",He="tap",ze="doubletap",qe="longtap",je="horizontal",We="vertical",Ue="all",Ve=10,Xe="start",Ye="move",Ge="end",Qe="cancel",Ze="ontouchstart"in window,Je=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled,et=window.navigator.pointerEnabled||window.navigator.msPointerEnabled,tt="TouchSwipe",e={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,
swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:"label, button, input, select, textarea, a, .noSwipe"};xe.fn.swipe=function(e){var t=xe(this),n=t.data(tt);if(n&&"string"==typeof e){if(n[e])return n[e].apply(this,Array.prototype.slice.call(arguments,1));xe.error("Method "+e+" does not exist on jQuery.swipe")}else if(!(n||"object"!=typeof e&&e))return i.apply(this,arguments);return t},xe.fn.swipe.defaults=e,xe.fn.swipe.phases={PHASE_START:Xe,PHASE_MOVE:Ye,PHASE_END:Ge,PHASE_CANCEL:Qe},xe.fn.swipe.directions={LEFT:Se,RIGHT:Ke,UP:Ne,DOWN:Ae,IN:Le,OUT:Pe},xe.fn.swipe.pageScroll={NONE:Me,HORIZONTAL:je,VERTICAL:We,AUTO:Fe},xe.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:Ue}}),void 0===console){var console={};console.log=console.error=console.info=console.debug=console.warn=console.trace=console.dir=console.dirxml=console.group=console.groupEnd=console.time=console.timeEnd=console.assert=console.profile=console.groupCollapsed=function(){}}if(1==window.tplogs)try{console.groupCollapsed("ThemePunch GreenSocks Logs")}catch(e){}var oldgs=window.GreenSockGlobals;oldgs_queue=window._gsQueue;var _gsScope,punchgs=window.GreenSockGlobals={};if(1==window.tplogs)try{console.info("Build GreenSock SandBox for ThemePunch Plugins"),console.info("GreenSock TweenLite Engine Initalised by ThemePunch Plugin")}catch(e){}!function(h,p){"use strict";var t,n,f=h.GreenSockGlobals=h.GreenSockGlobals||h;if(!f.TweenLite){var e,i,o,m,g,v=function(e){var t,n=e.split("."),i=f;for(t=0;n.length>t;t++)i[n[t]]=i=i[n[t]]||{};return i},u=v("com.greensock"),T=1e-10,l=function(e){var t,n=[],i=e.length;for(t=0;t!==i;n.push(e[t++]));return n},y=function(){},E=(t=Object.prototype.toString,n=t.call([]),function(e){return null!=e&&(e instanceof Array||"object"==typeof e&&!!e.push&&t.call(e)===n)}),b={},C=function(s,l,c,d){this.sc=b[s]?b[s].sc:[],(b[s]=this).gsClass=null,this.func=c;var u=[];this.check=function(e){for(var t,n,i,o,r=l.length,a=r;-1<--r;)(t=b[l[r]]||new C(l[r],[])).gsClass?(u[r]=t.gsClass,a--):e&&t.sc.push(this);if(0===a&&c)for(i=(n=("com.greensock."+s).split(".")).pop(),o=v(n.join("."))[i]=this.gsClass=c.apply(c,u),d&&(f[i]=o,"function"==typeof define&&define.amd?define((h.GreenSockAMDPath?h.GreenSockAMDPath+"/":"")+s.split(".").pop(),[],function(){return o}):s===p&&"undefined"!=typeof module&&module.exports&&(module.exports=o)),r=0;this.sc.length>r;r++)this.sc[r].check()},this.check(!0)},r=h._gsDefine=function(e,t,n,i){return new C(e,t,n,i)},_=u._class=function(e,t,n){return t=t||function(){},r(e,[],function(){return t},n),t};r.globals=f;var a=[0,0,1,1],O=[],d=_("easing.Ease",function(e,t,n,i){this._func=e,this._type=n||0,this._power=i||0,this._params=t?a.concat(t):a},!0),I=d.map={},s=d.register=function(e,t,n,i){for(var o,r,a,s,l=t.split(","),c=l.length,d=(n||"easeIn,easeOut,easeInOut").split(",");-1<--c;)for(r=l[c],o=i?_("easing."+r,null,!0):u.easing[r]||{},a=d.length;-1<--a;)s=d[a],I[r+"."+s]=I[s+r]=o[s]=e.getRatio?e:e[s]||new e};for((o=d.prototype)._calcEnd=!1,o.getRatio=function(e){if(this._func)return this._params[0]=e,this._func.apply(null,this._params);var t=this._type,n=this._power,i=1===t?1-e:2===t?e:e<.5?2*e:2*(1-e);return 1===n?i*=i:2===n?i*=i*i:3===n?i*=i*i*i:4===n&&(i*=i*i*i*i),1===t?1-i:2===t?i:e<.5?i/2:1-i/2},i=(e=["Linear","Quad","Cubic","Quart","Quint,Strong"]).length;-1<--i;)o=e[i]+",Power"+i,s(new d(null,null,1,i),o,"easeOut",!0),s(new d(null,null,2,i),o,"easeIn"+(0===i?",easeNone":"")),s(new d(null,null,3,i),o,"easeInOut");I.linear=u.easing.Linear.easeIn,I.swing=u.easing.Quad.easeInOut;var D=_("events.EventDispatcher",function(e){this._listeners={},this._eventTarget=e||this});(o=D.prototype).addEventListener=function(e,t,n,i,o){o=o||0;var r,a,s=this._listeners[e],l=0;for(null==s&&(this._listeners[e]=s=[]),a=s.length;-1<--a;)(r=s[a]).c===t&&r.s===n?s.splice(a,1):0===l&&o>r.pr&&(l=a+1);s.splice(l,0,{c:t,s:n,up:i,pr:o}),this!==m||g||m.wake()},o.removeEventListener=function(e,t){var n,i=this._listeners[e];if(i)for(n=i.length;-1<--n;)if(i[n].c===t)return void i.splice(n,1)},o.dispatchEvent=function(e){var t,n,i,o=this._listeners[e];if(o)for(t=o.length,n=this._eventTarget;-1<--t;)(i=o[t])&&(i.up?i.c.call(i.s||n,{type:e,target:n}):i.c.call(i.s||n))};var w=h.requestAnimationFrame,R=h.cancelAnimationFrame,k=Date.now||function(){return(new Date).getTime()},x=k();for(i=(e=["ms","moz","webkit","o"]).length;-1<--i&&!w;)w=h[e[i]+"RequestAnimationFrame"],R=h[e[i]+"CancelAnimationFrame"]||h[e[i]+"CancelRequestAnimationFrame"];_("Ticker",function(e,t){var o,r,a,s,l,c=this,d=k(),n=!1!==t&&w,u=500,h=33,p=function(e){var t,n,i=k()-x;u<i&&(d+=i-h),x+=i,c.time=(x-d)/1e3,t=c.time-l,(!o||0<t||!0===e)&&(c.frame++,l+=t+(s<=t?.004:s-t),n=!0),!0!==e&&(a=r(p)),n&&c.dispatchEvent("tick")};D.call(c),c.time=c.frame=0,c.tick=function(){p(!0)},c.lagSmoothing=function(e,t){u=e||1/T,h=Math.min(t,u,0)},c.sleep=function(){null!=a&&(n&&R?R(a):clearTimeout(a),r=y,a=null,c===m&&(g=!1))},c.wake=function(){null!==a?c.sleep():10<c.frame&&(x=k()-u+5),r=0===o?y:n&&w?w:function(e){return setTimeout(e,0|1e3*(l-c.time)+1)},c===m&&(g=!0),p(2)},c.fps=function(e){return arguments.length?(s=1/((o=e)||60),l=this.time+s,void c.wake()):o},c.useRAF=function(e){return arguments.length?(c.sleep(),n=e,void c.fps(o)):n},c.fps(e),setTimeout(function(){n&&(!a||c.frame<5)&&c.useRAF(!1)},1500)}),(o=u.Ticker.prototype=new u.events.EventDispatcher).constructor=u.Ticker;var c=_("core.Animation",function(e,t){if(this.vars=t=t||{},this._duration=this._totalDuration=e||0,this._delay=Number(t.delay)||0,this._timeScale=1,this._active=!0===t.immediateRender,this.data=t.data,this._reversed=!0===t.reversed,W){g||m.wake();var n=this.vars.useFrames?j:W;n.add(this,n._time),this.vars.paused&&this.paused(!0)}});m=c.ticker=new u.Ticker,(o=c.prototype)._dirty=o._gc=o._initted=o._paused=!1,o._totalTime=o._time=0,o._rawPrevTime=-1,o._next=o._last=o._onUpdate=o._timeline=o.timeline=null,o._paused=!1;var S=function(){g&&2e3<k()-x&&m.wake(),setTimeout(S,2e3)};S(),o.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},o.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},o.resume=function(e,t){return null!=e&&this.seek(e,t),this.paused(!1)},o.seek=function(e,t){return this.totalTime(Number(e),!1!==t)},o.restart=function(e,t){return this.reversed(!1).paused(!1).totalTime(e?-this._delay:0,!1!==t,!0)},o.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},o.render=function(){},o.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,(this._gc||!this.timeline)&&this._enabled(!0),this},o.isActive=function(){var e,t=this._timeline,n=this._startTime;return!t||!this._gc&&!this._paused&&t.isActive()&&(e=t.rawTime())>=n&&n+this.totalDuration()/this._timeScale>e},o._enabled=function(e,t){return g||m.wake(),this._gc=!e,this._active=this.isActive(),!0!==t&&(e&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!e&&this.timeline&&this._timeline._remove(this,!0)),!1},o._kill=function(){return this._enabled(!1,!1)},o.kill=function(e,t){return this._kill(e,t),this},o._uncache=function(e){for(var t=e?this:this.timeline;t;)t._dirty=!0,t=t.timeline;return this},o._swapSelfInParams=function(e){for(var t=e.length,n=e.concat();-1<--t;)"{self}"===e[t]&&(n[t]=this);return n},o.eventCallback=function(e,t,n,i){if("on"===(e||"").substr(0,2)){var o=this.vars;if(1===arguments.length)return o[e];null==t?delete o[e]:(o[e]=t,o[e+"Params"]=E(n)&&-1!==n.join("").indexOf("{self}")?this._swapSelfInParams(n):n,o[e+"Scope"]=i),"onUpdate"===e&&(this._onUpdate=t)}return this},o.delay=function(e){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+e-this._delay),this._delay=e,this):this._delay},o.duration=function(e){return arguments.length?(this._duration=this._totalDuration=e,this._uncache(!0),this._timeline.smoothChildTiming&&0<this._time&&this._time<this._duration&&0!==e&&this.totalTime(this._totalTime*(e/this._duration),!0),this):(this._dirty=!1,this._duration)},o.totalDuration=function(e){return this._dirty=!1,arguments.length?this.duration(e):this._totalDuration},o.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(e>this._duration?this._duration:e,t)):this._time},o.totalTime=function(e,t,n){if(g||m.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(e<0&&!n&&(e+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var i=this._totalDuration,o=this._timeline;if(i<e&&!n&&(e=i),this._startTime=(this._paused?this._pauseTime:o._time)-(this._reversed?i-e:e)/this._timeScale,o._dirty||this._uncache(!1),o._timeline)for(;o._timeline;)o._timeline._time!==(o._startTime+o._totalTime)/o._timeScale&&o.totalTime(o._totalTime,!0),o=o._timeline}this._gc&&this._enabled(!0,!1),(this._totalTime!==e||0===this._duration)&&(this.render(e,t,!1),P.length&&U())}return this},o.progress=o.totalProgress=function(e,t){return arguments.length?this.totalTime(this.duration()*e,t):this._time/this.duration()},o.startTime=function(e){return arguments.length?(e!==this._startTime&&(this._startTime=e,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,e-this._delay)),this):this._startTime},o.endTime=function(e){return this._startTime+(0!=e?this.totalDuration():this.duration())/this._timeScale},o.timeScale=function(e){if(!arguments.length)return this._timeScale;if(e=e||T,this._timeline&&this._timeline.smoothChildTiming){var t=this._pauseTime,n=t||0===t?t:this._timeline.totalTime();this._startTime=n-(n-this._startTime)*this._timeScale/e}return this._timeScale=e,this._uncache(!1)},o.reversed=function(e){return arguments.length?(e!=this._reversed&&(this._reversed=e,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},o.paused=function(e){if(!arguments.length)return this._paused;if(e!=this._paused&&this._timeline){g||e||m.wake();var t=this._timeline,n=t.rawTime(),i=n-this._pauseTime;!e&&t.smoothChildTiming&&(this._startTime+=i,this._uncache(!1)),this._pauseTime=e?n:null,this._paused=e,this._active=this.isActive(),!e&&0!==i&&this._initted&&this.duration()&&this.render(t.smoothChildTiming?this._totalTime:(n-this._startTime)/this._timeScale,!0,!0)}return this._gc&&!e&&this._enabled(!0,!1),this};var K=_("core.SimpleTimeline",function(e){c.call(this,0,e),this.autoRemoveChildren=this.smoothChildTiming=!0});(o=K.prototype=new c).constructor=K,o.kill()._gc=!1,o._first=o._last=o._recent=null,o._sortChildren=!1,o.add=o.insert=function(e,t){var n,i;if(e._startTime=Number(t||0)+e._delay,e._paused&&this!==e._timeline&&(e._pauseTime=e._startTime+(this.rawTime()-e._startTime)/e._timeScale),e.timeline&&e.timeline._remove(e,!0),e.timeline=e._timeline=this,e._gc&&e._enabled(!0,!0),n=this._last,this._sortChildren)for(i=e._startTime;n&&n._startTime>i;)n=n._prev;return n?(e._next=n._next,n._next=e):(e._next=this._first,this._first=e),e._next?e._next._prev=e:this._last=e,e._prev=n,this._recent=e,this._timeline&&this._uncache(!0),this},o._remove=function(e,t){return e.timeline===this&&(t||e._enabled(!1,!0),e._prev?e._prev._next=e._next:this._first===e&&(this._first=e._next),e._next?e._next._prev=e._prev:this._last===e&&(this._last=e._prev),e._next=e._prev=e.timeline=null,e===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},o.render=function(e,t,n){var i,o=this._first;for(this._totalTime=this._time=this._rawPrevTime=e;o;)i=o._next,(o._active||e>=o._startTime&&!o._paused)&&(o._reversed?o.render((o._dirty?o.totalDuration():o._totalDuration)-(e-o._startTime)*o._timeScale,t,n):o.render((e-o._startTime)*o._timeScale,t,n)),o=i},o.rawTime=function(){return g||m.wake(),this._totalTime};var N=_("TweenLite",function(e,t,n){if(c.call(this,t,n),this.render=N.prototype.render,null==e)throw"Cannot tween a null target.";this.target=e="string"!=typeof e?e:N.selector(e)||e;var i,o,r,a=e.jquery||e.length&&e!==h&&e[0]&&(e[0]===h||e[0].nodeType&&e[0].style&&!e.nodeType),s=this.vars.overwrite;if(this._overwrite=s=null==s?q[N.defaultOverwrite]:"number"==typeof s?s>>0:q[s],(a||e instanceof Array||e.push&&E(e))&&"number"!=typeof e[0])for(this._targets=r=l(e),this._propLookup=[],this._siblings=[],i=0;r.length>i;i++)(o=r[i])?"string"!=typeof o?o.length&&o!==h&&o[0]&&(o[0]===h||o[0].nodeType&&o[0].style&&!o.nodeType)?(r.splice(i--,1),this._targets=r=r.concat(l(o))):(this._siblings[i]=V(o,this,!1),1===s&&1<this._siblings[i].length&&Y(o,this,null,1,this._siblings[i])):"string"==typeof(o=r[i--]=N.selector(o))&&r.splice(i+1,1):r.splice(i--,1);else this._propLookup={},this._siblings=V(e,this,!1),1===s&&1<this._siblings.length&&Y(e,this,null,1,this._siblings);(this.vars.immediateRender||0===t&&0===this._delay&&!1!==this.vars.immediateRender)&&(this._time=-T,this.render(-this._delay))},!0),A=function(e){return e&&e.length&&e!==h&&e[0]&&(e[0]===h||e[0].nodeType&&e[0].style&&!e.nodeType)},L=function(e,t){var n,i={};for(n in e)z[n]||n in t&&"transform"!==n&&"x"!==n&&"y"!==n&&"width"!==n&&"height"!==n&&"className"!==n&&"border"!==n||!(!B[n]||B[n]&&B[n]._autoCSS)||(i[n]=e[n],delete e[n]);e.css=i};(o=N.prototype=new c).constructor=N,o.kill()._gc=!1,o.ratio=0,o._firstPT=o._targets=o._overwrittenProps=o._startAt=null,o._notifyPluginsOfEnabled=o._lazy=!1,N.version="1.14.2",N.defaultEase=o._ease=new d(null,null,1,1),N.defaultOverwrite="auto",N.ticker=m,N.autoSleep=!0,N.lagSmoothing=function(e,t){m.lagSmoothing(e,t)},N.selector=h.$||h.jQuery||function(e){var t=h.$||h.jQuery;return t?(N.selector=t)(e):"undefined"==typeof document?e:document.querySelectorAll?document.querySelectorAll(e):document.getElementById("#"===e.charAt(0)?e.substr(1):e)};var P=[],M={},F=N._internals={isArray:E,isSelector:A,lazyTweens:P},B=N._plugins={},$=F.tweenLookup={},H=0,z=F.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1},q={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},j=c._rootFramesTimeline=new K,W=c._rootTimeline=new K,U=F.lazyRender=function(){var e,t=P.length;for(M={};-1<--t;)(e=P[t])&&!1!==e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0),e._lazy=!1);P.length=0};W._startTime=m.time,j._startTime=m.frame,W._active=j._active=!0,setTimeout(U,1),c._updateRoot=N.render=function(){var e,t,n;if(P.length&&U(),W.render((m.time-W._startTime)*W._timeScale,!1,!1),j.render((m.frame-j._startTime)*j._timeScale,!1,!1),P.length&&U(),!(m.frame%120)){for(n in $){for(e=(t=$[n].tweens).length;-1<--e;)t[e]._gc&&t.splice(e,1);0===t.length&&delete $[n]}if((!(n=W._first)||n._paused)&&N.autoSleep&&!j._first&&1===m._listeners.tick.length){for(;n&&n._paused;)n=n._next;n||m.sleep()}}},m.addEventListener("tick",c._updateRoot);var V=function(e,t,n){var i,o,r=e._gsTweenID;if($[r||(e._gsTweenID=r="t"+H++)]||($[r]={target:e,tweens:[]}),t&&((i=$[r].tweens)[o=i.length]=t,n))for(;-1<--o;)i[o]===t&&i.splice(o,1);return $[r].tweens},X=function(e,t,n,i){var o,r,a=e.vars.onOverwrite;return a&&(o=a(e,t,n,i)),(a=N.onOverwrite)&&(r=a(e,t,n,i)),!1!==o&&!1!==r},Y=function(e,t,n,i,o){var r,a,s,l;if(1===i||4<=i){for(l=o.length,r=0;r<l;r++)if((s=o[r])!==t)s._gc||X(s,t)&&s._enabled(!1,!1)&&(a=!0);else if(5===i)break;return a}var c,d=t._startTime+T,u=[],h=0,p=0===t._duration;for(r=o.length;-1<--r;)(s=o[r])===t||s._gc||s._paused||(s._timeline!==t._timeline?(c=c||G(t,0,p),0===G(s,c,p)&&(u[h++]=s)):d>=s._startTime&&s._startTime+s.totalDuration()/s._timeScale>d&&((p||!s._initted)&&d-s._startTime<=2e-10||(u[h++]=s)));for(r=h;-1<--r;)if(s=u[r],2===i&&s._kill(n,e,t)&&(a=!0),2!==i||!s._firstPT&&s._initted){if(2!==i&&!X(s,t))continue;s._enabled(!1,!1)&&(a=!0)}return a},G=function(e,t,n){for(var i=e._timeline,o=i._timeScale,r=e._startTime;i._timeline;){if(r+=i._startTime,o*=i._timeScale,i._paused)return-100;i=i._timeline}return t<(r/=o)?r-t:n&&r===t||!e._initted&&r-t<2*T?T:(r+=e.totalDuration()/e._timeScale/o)>t+T?0:r-t-T};o._init=function(){var e,t,n,i,o,r=this.vars,a=this._overwrittenProps,s=this._duration,l=!!r.immediateRender,c=r.ease;if(r.startAt){for(i in this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),o={},r.startAt)o[i]=r.startAt[i];if(o.overwrite=!1,o.immediateRender=!0,o.lazy=l&&!1!==r.lazy,o.startAt=o.delay=null,this._startAt=N.to(this.target,0,o),l)if(0<this._time)this._startAt=null;else if(0!==s)return}else if(r.runBackwards&&0!==s)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{for(i in 0!==this._time&&(l=!1),n={},r)z[i]&&"autoCSS"!==i||(n[i]=r[i]);if(n.overwrite=0,n.data="isFromStart",n.lazy=l&&!1!==r.lazy,n.immediateRender=l,this._startAt=N.to(this.target,0,n),l){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=c=c?c instanceof d?c:"function"==typeof c?new d(c,r.easeParams):I[c]||N.defaultEase:N.defaultEase,r.easeParams instanceof Array&&c.config&&(this._ease=c.config.apply(c,r.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(e=this._targets.length;-1<--e;)this._initProps(this._targets[e],this._propLookup[e]={},this._siblings[e],a?a[e]:null)&&(t=!0);else t=this._initProps(this.target,this._propLookup,this._siblings,a);if(t&&N._onPluginEvent("_onInitAllProps",this),a&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),r.runBackwards)for(n=this._firstPT;n;)n.s+=n.c,n.c=-n.c,n=n._next;this._onUpdate=r.onUpdate,this._initted=!0},o._initProps=function(e,t,n,i){var o,r,a,s,l,c;if(null==e)return!1;for(o in M[e._gsTweenID]&&U(),this.vars.css||e.style&&e!==h&&e.nodeType&&B.css&&!1!==this.vars.autoCSS&&L(this.vars,e),this.vars){if(c=this.vars[o],z[o])c&&(c instanceof Array||c.push&&E(c))&&-1!==c.join("").indexOf("{self}")&&(this.vars[o]=c=this._swapSelfInParams(c,this));else if(B[o]&&(s=new B[o])._onInitTween(e,this.vars[o],this)){for(this._firstPT=l={_next:this._firstPT,t:s,p:"setRatio",s:0,c:1,f:!0,n:o,pg:!0,pr:s._priority},r=s._overwriteProps.length;-1<--r;)t[s._overwriteProps[r]]=this._firstPT;(s._priority||s._onInitAllProps)&&(a=!0),(s._onDisable||s._onEnable)&&(this._notifyPluginsOfEnabled=!0)}else this._firstPT=t[o]=l={_next:this._firstPT,t:e,p:o,f:"function"==typeof e[o],n:o,pg:!1,pr:0},l.s=l.f?e[o.indexOf("set")||"function"!=typeof e["get"+o.substr(3)]?o:"get"+o.substr(3)]():parseFloat(e[o]),l.c="string"==typeof c&&"="===c.charAt(1)?parseInt(c.charAt(0)+"1",10)*Number(c.substr(2)):Number(c)-l.s||0;l&&l._next&&(l._next._prev=l)}return i&&this._kill(i,e)?this._initProps(e,t,n,i):1<this._overwrite&&this._firstPT&&1<n.length&&Y(e,this,t,this._overwrite,n)?(this._kill(t,e),this._initProps(e,t,n,i)):(this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration)&&(M[e._gsTweenID]=!0),a)},o.render=function(e,t,n){var i,o,r,a,s=this._time,l=this._duration,c=this._rawPrevTime;if(l<=e)this._totalTime=this._time=l,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(i=!0,o="onComplete"),0===l&&(this._initted||!this.vars.lazy||n)&&(this._startTime===this._timeline._duration&&(e=0),(0===e||c<0||c===T)&&c!==e&&(n=!0,T<c&&(o="onReverseComplete")),this._rawPrevTime=a=!t||e||c===e?e:T);else if(e<1e-7)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==s||0===l&&0<c&&c!==T)&&(o="onReverseComplete",i=this._reversed),e<0&&(this._active=!1,0===l&&(this._initted||!this.vars.lazy||n)&&(0<=c&&(n=!0),this._rawPrevTime=a=!t||e||c===e?e:T)),this._initted||(n=!0);else if(this._totalTime=this._time=e,this._easeType){var d=e/l,u=this._easeType,h=this._easePower;(1===u||3===u&&.5<=d)&&(d=1-d),3===u&&(d*=2),1===h?d*=d:2===h?d*=d*d:3===h?d*=d*d*d:4===h&&(d*=d*d*d*d),this.ratio=1===u?1-d:2===u?d:e/l<.5?d/2:1-d/2}else this.ratio=this._ease.getRatio(e/l);if(this._time!==s||n){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!n&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=s,this._rawPrevTime=c,P.push(this),void(this._lazy=[e,t]);this._time&&!i?this.ratio=this._ease.getRatio(this._time/l):i&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==s&&0<=e&&(this._active=!0),0===s&&(this._startAt&&(0<=e?this._startAt.render(e,t,n):o||(o="_dummyGS")),this.vars.onStart&&(0!==this._time||0===l)&&(t||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||O))),r=this._firstPT;r;)r.f?r.t[r.p](r.c*this.ratio+r.s):r.t[r.p]=r.c*this.ratio+r.s,r=r._next;this._onUpdate&&(e<0&&this._startAt&&-1e-4!==e&&this._startAt.render(e,t,n),t||(this._time!==s||i)&&this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||O)),o&&(!this._gc||n)&&(e<0&&this._startAt&&!this._onUpdate&&-1e-4!==e&&this._startAt.render(e,t,n),i&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[o]&&this.vars[o].apply(this.vars[o+"Scope"]||this,this.vars[o+"Params"]||O),0===l&&this._rawPrevTime===T&&a!==T&&(this._rawPrevTime=0))}},o._kill=function(e,t,n){if("all"===e&&(e=null),null==e&&(null==t||t===this.target))return this._lazy=!1,this._enabled(!1,!1);var i,o,r,a,s,l,c,d,u;if(t="string"!=typeof t?t||this._targets||this.target:N.selector(t)||t,(E(t)||A(t))&&"number"!=typeof t[0])for(i=t.length;-1<--i;)this._kill(e,t[i])&&(l=!0);else{if(this._targets){for(i=this._targets.length;-1<--i;)if(t===this._targets[i]){s=this._propLookup[i]||{},this._overwrittenProps=this._overwrittenProps||[],o=this._overwrittenProps[i]=e?this._overwrittenProps[i]||{}:"all";break}}else{if(t!==this.target)return!1;s=this._propLookup,o=this._overwrittenProps=e?this._overwrittenProps||{}:"all"}if(s){if(c=e||s,d=e!==o&&"all"!==o&&e!==s&&("object"!=typeof e||!e._tempKill),n&&(N.onOverwrite||this.vars.onOverwrite)){for(r in c)s[r]&&(u||(u=[]),u.push(r));if(!X(this,n,t,u))return!1}for(r in c)(a=s[r])&&(a.pg&&a.t._kill(c)&&(l=!0),a.pg&&0!==a.t._overwriteProps.length||(a._prev?a._prev._next=a._next:a===this._firstPT&&(this._firstPT=a._next),a._next&&(a._next._prev=a._prev),a._next=a._prev=null),delete s[r]),d&&(o[r]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return l},o.invalidate=function(){return this._notifyPluginsOfEnabled&&N._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],c.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-T,this.render(-this._delay)),this},o._enabled=function(e,t){if(g||m.wake(),e&&this._gc){var n,i=this._targets;if(i)for(n=i.length;-1<--n;)this._siblings[n]=V(i[n],this,!0);else this._siblings=V(this.target,this,!0)}return c.prototype._enabled.call(this,e,t),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&N._onPluginEvent(e?"_onEnable":"_onDisable",this)},N.to=function(e,t,n){return new N(e,t,n)},N.from=function(e,t,n){return n.runBackwards=!0,n.immediateRender=0!=n.immediateRender,new N(e,t,n)},N.fromTo=function(e,t,n,i){return i.startAt=n,i.immediateRender=0!=i.immediateRender&&0!=n.immediateRender,new N(e,t,i)},N.delayedCall=function(e,t,n,i,o){return new N(t,0,{delay:e,onComplete:t,onCompleteParams:n,onCompleteScope:i,onReverseComplete:t,onReverseCompleteParams:n,onReverseCompleteScope:i,immediateRender:!1,useFrames:o,overwrite:0})},N.set=function(e,t){return new N(e,0,t)},N.getTweensOf=function(e,t){if(null==e)return[];var n,i,o,r;if(e="string"!=typeof e?e:N.selector(e)||e,(E(e)||A(e))&&"number"!=typeof e[0]){for(n=e.length,i=[];-1<--n;)i=i.concat(N.getTweensOf(e[n],t));for(n=i.length;-1<--n;)for(r=i[n],o=n;-1<--o;)r===i[o]&&i.splice(n,1)}else for(n=(i=V(e).concat()).length;-1<--n;)(i[n]._gc||t&&!i[n].isActive())&&i.splice(n,1);return i},N.killTweensOf=N.killDelayedCallsTo=function(e,t,n){"object"==typeof t&&(n=t,t=!1);for(var i=N.getTweensOf(e,t),o=i.length;-1<--o;)i[o]._kill(n,e)};var Q=_("plugins.TweenPlugin",function(e,t){this._overwriteProps=(e||"").split(","),this._propName=this._overwriteProps[0],this._priority=t||0,this._super=Q.prototype},!0);if(o=Q.prototype,Q.version="1.10.1",Q.API=2,o._firstPT=null,o._addTween=function(e,t,n,i,o,r){var a,s;return null!=i&&(a="number"==typeof i||"="!==i.charAt(1)?Number(i)-n:parseInt(i.charAt(0)+"1",10)*Number(i.substr(2)))?(this._firstPT=s={_next:this._firstPT,t:e,p:t,s:n,c:a,f:"function"==typeof e[t],n:o||t,r:r},s._next&&(s._next._prev=s),s):void 0},o.setRatio=function(e){for(var t,n=this._firstPT,i=1e-6;n;)t=n.c*e+n.s,n.r?t=Math.round(t):t<i&&-i<t&&(t=0),n.f?n.t[n.p](t):n.t[n.p]=t,n=n._next},o._kill=function(e){var t,n=this._overwriteProps,i=this._firstPT;if(null!=e[this._propName])this._overwriteProps=[];else for(t=n.length;-1<--t;)null!=e[n[t]]&&n.splice(t,1);for(;i;)null!=e[i.n]&&(i._next&&(i._next._prev=i._prev),i._prev?(i._prev._next=i._next,i._prev=null):this._firstPT===i&&(this._firstPT=i._next)),i=i._next;return!1},o._roundProps=function(e,t){for(var n=this._firstPT;n;)(e[this._propName]||null!=n.n&&e[n.n.split(this._propName+"_").join("")])&&(n.r=t),n=n._next},N._onPluginEvent=function(e,t){var n,i,o,r,a,s=t._firstPT;if("_onInitAllProps"===e){for(;s;){for(a=s._next,i=o;i&&i.pr>s.pr;)i=i._next;(s._prev=i?i._prev:r)?s._prev._next=s:o=s,(s._next=i)?i._prev=s:r=s,s=a}s=t._firstPT=o}for(;s;)s.pg&&"function"==typeof s.t[e]&&s.t[e]()&&(n=!0),s=s._next;return n},Q.activate=function(e){for(var t=e.length;-1<--t;)e[t].API===Q.API&&(B[(new e[t])._propName]=e[t]);return!0},r.plugin=function(e){if(!(e&&e.propName&&e.init&&e.API))throw"illegal plugin definition.";var t,n=e.propName,i=e.priority||0,o=e.overwriteProps,r={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_roundProps",initAll:"_onInitAllProps"},a=_("plugins."+n.charAt(0).toUpperCase()+n.substr(1)+"Plugin",function(){Q.call(this,n,i),this._overwriteProps=o||[]},!0===e.global),s=a.prototype=new Q(n);for(t in(s.constructor=a).API=e.API,r)"function"==typeof e[t]&&(s[r[t]]=e[t]);return a.version=e.version,Q.activate([a]),a},e=h._gsQueue){for(i=0;e.length>i;i++)e[i]();for(o in b)b[o].func||h.console.log("GSAP encountered missing dependency: com.greensock."+o)}g=!1}}("undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window,"TweenLite"),((_gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window)._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(d,u,h){var p=function(e){u.call(this,e),this._labels={},this.autoRemoveChildren=!0===this.vars.autoRemoveChildren,this.smoothChildTiming=!0===this.vars.smoothChildTiming,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var t,n,i=this.vars;for(n in i)t=i[n],g(t)&&-1!==t.join("").indexOf("{self}")&&(i[n]=this._swapSelfInParams(t));g(i.tweens)&&this.add(i.tweens,0,i.align,i.stagger)},f=1e-10,e=h._internals,m=e.isSelector,g=e.isArray,v=e.lazyTweens,T=e.lazyRender,y=[],a=_gsScope._gsDefine.globals,E=function(e){var t,n={};for(t in e)n[t]=e[t];return n},o=function(e,t,n,i){var o=e._timeline._totalTime;(t||!this._forcingPlayhead)&&(e._timeline.pause(e._startTime),t&&t.apply(i||e._timeline,n||y),this._forcingPlayhead&&e._timeline.seek(o))},b=function(e){var t,n=[],i=e.length;for(t=0;t!==i;n.push(e[t++]));return n},t=p.prototype=new u;return p.version="1.14.2",t.constructor=p,t.kill()._gc=t._forcingPlayhead=!1,t.to=function(e,t,n,i){var o=n.repeat&&a.TweenMax||h;return t?this.add(new o(e,t,n),i):this.set(e,n,i)},t.from=function(e,t,n,i){return this.add((n.repeat&&a.TweenMax||h).from(e,t,n),i)},t.fromTo=function(e,t,n,i,o){var r=i.repeat&&a.TweenMax||h;return t?this.add(r.fromTo(e,t,n,i),o):this.set(e,i,o)},t.staggerTo=function(e,t,n,i,o,r,a,s){var l,c=new p({onComplete:r,onCompleteParams:a,onCompleteScope:s,smoothChildTiming:this.smoothChildTiming});for("string"==typeof e&&(e=h.selector(e)||e),m(e=e||[])&&(e=b(e)),(i=i||0)<0&&((e=b(e)).reverse(),i*=-1),l=0;e.length>l;l++)n.startAt&&(n.startAt=E(n.startAt)),c.to(e[l],t,E(n),l*i);return this.add(c,o)},t.staggerFrom=function(e,t,n,i,o,r,a,s){return n.immediateRender=0!=n.immediateRender,n.runBackwards=!0,this.staggerTo(e,t,n,i,o,r,a,s)},t.staggerFromTo=function(e,t,n,i,o,r,a,s,l){return i.startAt=n,i.immediateRender=0!=i.immediateRender&&0!=n.immediateRender,this.staggerTo(e,t,i,o,r,a,s,l)},t.call=function(e,t,n,i){return this.add(h.delayedCall(0,e,t,n),i)},t.set=function(e,t,n){return n=this._parseTimeOrLabel(n,0,!0),null==t.immediateRender&&(t.immediateRender=n===this._time&&!this._paused),this.add(new h(e,0,t),n)},p.exportRoot=function(e,t){null==(e=e||{}).smoothChildTiming&&(e.smoothChildTiming=!0);var n,i,o=new p(e),r=o._timeline;for(null==t&&(t=!0),r._remove(o,!0),o._startTime=0,o._rawPrevTime=o._time=o._totalTime=r._time,n=r._first;n;)i=n._next,t&&n instanceof h&&n.target===n.vars.onComplete||o.add(n,n._startTime-n._delay),n=i;return r.add(o,0),o},t.add=function(e,t,n,i){var o,r,a,s,l,c;if("number"!=typeof t&&(t=this._parseTimeOrLabel(t,0,!0,e)),!(e instanceof d)){if(e instanceof Array||e&&e.push&&g(e)){for(n=n||"normal",i=i||0,o=t,r=e.length,a=0;a<r;a++)g(s=e[a])&&(s=new p({tweens:s})),this.add(s,o),"string"!=typeof s&&"function"!=typeof s&&("sequence"===n?o=s._startTime+s.totalDuration()/s._timeScale:"start"===n&&(s._startTime-=s.delay())),o+=i;return this._uncache(!0)}if("string"==typeof e)return this.addLabel(e,t);if("function"!=typeof e)throw"Cannot add "+e+" into the timeline; it is not a tween, timeline, function, or string.";e=h.delayedCall(0,e)}if(u.prototype.add.call(this,e,t),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(c=(l=this).rawTime()>e._startTime;l._timeline;)c&&l._timeline.smoothChildTiming?l.totalTime(l._totalTime,!0):l._gc&&l._enabled(!0,!1),l=l._timeline;return this},t.remove=function(e){if(e instanceof d)return this._remove(e,!1);if(e instanceof Array||e&&e.push&&g(e)){for(var t=e.length;-1<--t;)this.remove(e[t]);return this}return"string"==typeof e?this.removeLabel(e):this.kill(null,e)},t._remove=function(e,t){u.prototype._remove.call(this,e,t);var n=this._last;return n?this._time>n._startTime+n._totalDuration/n._timeScale&&(this._time=this.duration(),this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},t.append=function(e,t){return this.add(e,this._parseTimeOrLabel(null,t,!0,e))},t.insert=t.insertMultiple=function(e,t,n,i){return this.add(e,t||0,n,i)},t.appendMultiple=function(e,t,n,i){return this.add(e,this._parseTimeOrLabel(null,t,!0,e),n,i)},t.addLabel=function(e,t){return this._labels[e]=this._parseTimeOrLabel(t),this},t.addPause=function(e,t,n,i){return this.call(o,["{self}",t,n,i],this,e)},t.removeLabel=function(e){return delete this._labels[e],this},t.getLabelTime=function(e){return null!=this._labels[e]?this._labels[e]:-1},t._parseTimeOrLabel=function(e,t,n,i){var o;if(i instanceof d&&i.timeline===this)this.remove(i);else if(i&&(i instanceof Array||i.push&&g(i)))for(o=i.length;-1<--o;)i[o]instanceof d&&i[o].timeline===this&&this.remove(i[o]);if("string"==typeof t)return this._parseTimeOrLabel(t,n&&"number"==typeof e&&null==this._labels[t]?e-this.duration():0,n);if(t=t||0,"string"!=typeof e||!isNaN(e)&&null==this._labels[e])null==e&&(e=this.duration());else{if(-1===(o=e.indexOf("=")))return null==this._labels[e]?n?this._labels[e]=this.duration()+t:t:this._labels[e]+t;t=parseInt(e.charAt(o-1)+"1",10)*Number(e.substr(o+1)),e=1<o?this._parseTimeOrLabel(e.substr(0,o-1),0,n):this.duration()}return Number(e)+t},t.seek=function(e,t){return this.totalTime("number"==typeof e?e:this._parseTimeOrLabel(e),!1!==t)},t.stop=function(){return this.paused(!0)},t.gotoAndPlay=function(e,t){return this.play(e,t)},t.gotoAndStop=function(e,t){return this.pause(e,t)},t.render=function(e,t,n){this._gc&&this._enabled(!0,!1);var i,o,r,a,s,l=this._dirty?this.totalDuration():this._totalDuration,c=this._time,d=this._startTime,u=this._timeScale,h=this._paused;if(l<=e?(
this._totalTime=this._time=l,this._reversed||this._hasPausedChild()||(o=!0,a="onComplete",0===this._duration&&(0===e||this._rawPrevTime<0||this._rawPrevTime===f)&&this._rawPrevTime!==e&&this._first&&(s=!0,this._rawPrevTime>f&&(a="onReverseComplete"))),this._rawPrevTime=this._duration||!t||e||this._rawPrevTime===e?e:f,e=l+1e-4):e<1e-7?(this._totalTime=this._time=0,(0!==c||0===this._duration&&this._rawPrevTime!==f&&(0<this._rawPrevTime||e<0&&0<=this._rawPrevTime))&&(a="onReverseComplete",o=this._reversed),e<0?(this._active=!1,0<=this._rawPrevTime&&this._first&&(s=!0),this._rawPrevTime=e):(this._rawPrevTime=this._duration||!t||e||this._rawPrevTime===e?e:f,e=0,this._initted||(s=!0))):this._totalTime=this._time=this._rawPrevTime=e,this._time!==c&&this._first||n||s){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==c&&0<e&&(this._active=!0),0===c&&this.vars.onStart&&0!==this._time&&(t||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||y)),this._time>=c)for(i=this._first;i&&(r=i._next,!this._paused||h);)(i._active||i._startTime<=this._time&&!i._paused&&!i._gc)&&(i._reversed?i.render((i._dirty?i.totalDuration():i._totalDuration)-(e-i._startTime)*i._timeScale,t,n):i.render((e-i._startTime)*i._timeScale,t,n)),i=r;else for(i=this._last;i&&(r=i._prev,!this._paused||h);)(i._active||c>=i._startTime&&!i._paused&&!i._gc)&&(i._reversed?i.render((i._dirty?i.totalDuration():i._totalDuration)-(e-i._startTime)*i._timeScale,t,n):i.render((e-i._startTime)*i._timeScale,t,n)),i=r;this._onUpdate&&(t||(v.length&&T(),this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||y))),a&&(this._gc||(d===this._startTime||u!==this._timeScale)&&(0===this._time||l>=this.totalDuration())&&(o&&(v.length&&T(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[a]&&this.vars[a].apply(this.vars[a+"Scope"]||this,this.vars[a+"Params"]||y)))}},t._hasPausedChild=function(){for(var e=this._first;e;){if(e._paused||e instanceof p&&e._hasPausedChild())return!0;e=e._next}return!1},t.getChildren=function(e,t,n,i){i=i||-9999999999;for(var o=[],r=this._first,a=0;r;)i>r._startTime||(r instanceof h?!1!==t&&(o[a++]=r):(!1!==n&&(o[a++]=r),!1!==e&&(a=(o=o.concat(r.getChildren(!0,t,n))).length))),r=r._next;return o},t.getTweensOf=function(e,t){var n,i,o=this._gc,r=[],a=0;for(o&&this._enabled(!0,!0),i=(n=h.getTweensOf(e)).length;-1<--i;)(n[i].timeline===this||t&&this._contains(n[i]))&&(r[a++]=n[i]);return o&&this._enabled(!1,!0),r},t.recent=function(){return this._recent},t._contains=function(e){for(var t=e.timeline;t;){if(t===this)return!0;t=t.timeline}return!1},t.shiftChildren=function(e,t,n){n=n||0;for(var i,o=this._first,r=this._labels;o;)o._startTime>=n&&(o._startTime+=e),o=o._next;if(t)for(i in r)r[i]>=n&&(r[i]+=e);return this._uncache(!0)},t._kill=function(e,t){if(!e&&!t)return this._enabled(!1,!1);for(var n=t?this.getTweensOf(t):this.getChildren(!0,!0,!1),i=n.length,o=!1;-1<--i;)n[i]._kill(e,t)&&(o=!0);return o},t.clear=function(e){var t=this.getChildren(!1,!0,!0),n=t.length;for(this._time=this._totalTime=0;-1<--n;)t[n]._enabled(!1,!1);return!1!==e&&(this._labels={}),this._uncache(!0)},t.invalidate=function(){for(var e=this._first;e;)e.invalidate(),e=e._next;return d.prototype.invalidate.call(this)},t._enabled=function(e,t){if(e===this._gc)for(var n=this._first;n;)n._enabled(e,!0),n=n._next;return u.prototype._enabled.call(this,e,t)},t.totalTime=function(){this._forcingPlayhead=!0;var e=d.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,e},t.duration=function(e){return arguments.length?(0!==this.duration()&&0!==e&&this.timeScale(this._duration/e),this):(this._dirty&&this.totalDuration(),this._duration)},t.totalDuration=function(e){if(arguments.length)return 0!==this.totalDuration()&&0!==e&&this.timeScale(this._totalDuration/e),this;if(this._dirty){for(var t,n,i=0,o=this._last,r=999999999999;o;)t=o._prev,o._dirty&&o.totalDuration(),o._startTime>r&&this._sortChildren&&!o._paused?this.add(o,o._startTime-o._delay):r=o._startTime,o._startTime<0&&!o._paused&&(i-=o._startTime,this._timeline.smoothChildTiming&&(this._startTime+=o._startTime/this._timeScale),this.shiftChildren(-o._startTime,!1,-9999999999),r=0),i<(n=o._startTime+o._totalDuration/o._timeScale)&&(i=n),o=t;this._duration=this._totalDuration=i,this._dirty=!1}return this._totalDuration},t.usesFrames=function(){for(var e=this._timeline;e._timeline;)e=e._timeline;return e===d._rootFramesTimeline},t.rawTime=function(){return this._paused?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale},p},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(e){"use strict";var t=function(){return(_gsScope.GreenSockGlobals||_gsScope)[e]};"function"==typeof define&&define.amd?define(["TweenLite"],t):"undefined"!=typeof module&&module.exports&&(require("./TweenLite.js"),module.exports=t())}("TimelineLite"),((_gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window)._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("easing.Back",["easing.Ease"],function(g){var t,n,e,i=_gsScope.GreenSockGlobals||_gsScope,o=i.com.greensock,r=2*Math.PI,a=Math.PI/2,s=o._class,l=function(e,t){var n=s("easing."+e,function(){},!0),i=n.prototype=new g;return i.constructor=n,i.getRatio=t,n},c=g.register||function(){},d=function(e,t,n,i){var o=s("easing."+e,{easeOut:new t,easeIn:new n,easeInOut:new i},!0);return c(o,e),o},v=function(e,t,n){this.t=e,this.v=t,n&&(((this.next=n).prev=this).c=n.v-t,this.gap=n.t-e)},u=function(e,t){var n=s("easing."+e,function(e){this._p1=e||0===e?e:1.70158,this._p2=1.525*this._p1},!0),i=n.prototype=new g;return i.constructor=n,i.getRatio=t,i.config=function(e){return new n(e)},n},h=d("Back",u("BackOut",function(e){return(e-=1)*e*((this._p1+1)*e+this._p1)+1}),u("BackIn",function(e){return e*e*((this._p1+1)*e-this._p1)}),u("BackInOut",function(e){return(e*=2)<1?.5*e*e*((this._p2+1)*e-this._p2):.5*((e-=2)*e*((this._p2+1)*e+this._p2)+2)})),p=s("easing.SlowMo",function(e,t,n){t=t||0===t?t:.7,null==e?e=.7:1<e&&(e=1),this._p=1!==e?t:0,this._p1=(1-e)/2,this._p2=e,this._p3=this._p1+this._p2,this._calcEnd=!0===n},!0),f=p.prototype=new g;return f.constructor=p,f.getRatio=function(e){var t=e+(.5-e)*this._p;return this._p1>e?this._calcEnd?1-(e=1-e/this._p1)*e:t-(e=1-e/this._p1)*e*e*e*t:e>this._p3?this._calcEnd?1-(e=(e-this._p3)/this._p1)*e:t+(e-t)*(e=(e-this._p3)/this._p1)*e*e*e:this._calcEnd?1:t},p.ease=new p(.7,.7),f.config=p.config=function(e,t,n){return new p(e,t,n)},(f=(t=s("easing.SteppedEase",function(e){e=e||1,this._p1=1/e,this._p2=e+1},!0)).prototype=new g).constructor=t,f.getRatio=function(e){return e<0?e=0:1<=e&&(e=.999999999),(this._p2*e>>0)*this._p1},f.config=t.config=function(e){return new t(e)},(f=(n=s("easing.RoughEase",function(e){for(var t,n,i,o,r,a,s=(e=e||{}).taper||"none",l=[],c=0,d=0|(e.points||20),u=d,h=!1!==e.randomize,p=!0===e.clamp,f=e.template instanceof g?e.template:null,m="number"==typeof e.strength?.4*e.strength:.4;-1<--u;)t=h?Math.random():1/d*u,n=f?f.getRatio(t):t,i="none"===s?m:"out"===s?(o=1-t)*o*m:"in"===s?t*t*m:.5*(o=t<.5?2*t:2*(1-t))*o*m,h?n+=Math.random()*i-.5*i:u%2?n+=.5*i:n-=.5*i,p&&(1<n?n=1:n<0&&(n=0)),l[c++]={x:t,y:n};for(l.sort(function(e,t){return e.x-t.x}),a=new v(1,1,null),u=d;-1<--u;)r=l[u],a=new v(r.x,r.y,a);this._prev=new v(0,0,0!==a.t?a:a.next)},!0)).prototype=new g).constructor=n,f.getRatio=function(e){var t=this._prev;if(e>t.t){for(;t.next&&e>=t.t;)t=t.next;t=t.prev}else for(;t.prev&&t.t>=e;)t=t.prev;return(this._prev=t).v+(e-t.t)/t.gap*t.c},f.config=function(e){return new n(e)},n.ease=new n,d("Bounce",l("BounceOut",function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}),l("BounceIn",function(e){return 1/2.75>(e=1-e)?1-7.5625*e*e:e<2/2.75?1-(7.5625*(e-=1.5/2.75)*e+.75):e<2.5/2.75?1-(7.5625*(e-=2.25/2.75)*e+.9375):1-(7.5625*(e-=2.625/2.75)*e+.984375)}),l("BounceInOut",function(e){var t=e<.5;return e=(e=t?1-2*e:2*e-1)<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,t?.5*(1-e):.5*e+.5})),d("Circ",l("CircOut",function(e){return Math.sqrt(1-(e-=1)*e)}),l("CircIn",function(e){return-(Math.sqrt(1-e*e)-1)}),l("CircInOut",function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)})),d("Elastic",(e=function(e,t,n){var i=s("easing."+e,function(e,t){this._p1=e||1,this._p2=t||n,this._p3=this._p2/r*(Math.asin(1/this._p1)||0)},!0),o=i.prototype=new g;return o.constructor=i,o.getRatio=t,o.config=function(e,t){return new i(e,t)},i})("ElasticOut",function(e){return this._p1*Math.pow(2,-10*e)*Math.sin((e-this._p3)*r/this._p2)+1},.3),e("ElasticIn",function(e){return-this._p1*Math.pow(2,10*(e-=1))*Math.sin((e-this._p3)*r/this._p2)},.3),e("ElasticInOut",function(e){return(e*=2)<1?-.5*this._p1*Math.pow(2,10*(e-=1))*Math.sin((e-this._p3)*r/this._p2):.5*this._p1*Math.pow(2,-10*(e-=1))*Math.sin((e-this._p3)*r/this._p2)+1},.45)),d("Expo",l("ExpoOut",function(e){return 1-Math.pow(2,-10*e)}),l("ExpoIn",function(e){return Math.pow(2,10*(e-1))-.001}),l("ExpoInOut",function(e){return(e*=2)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*(e-1)))})),d("Sine",l("SineOut",function(e){return Math.sin(e*a)}),l("SineIn",function(e){return 1-Math.cos(e*a)}),l("SineInOut",function(e){return-.5*(Math.cos(Math.PI*e)-1)})),s("easing.EaseLookup",{find:function(e){return g.map[e]}},!0),c(i.SlowMo,"SlowMo","ease,"),c(n,"RoughEase","ease,"),c(t,"SteppedEase","ease,"),h},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),((_gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window)._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(r,h){var f,_,ee,p,te=function(){r.call(this,"css"),this._overwriteProps.length=0,this.setRatio=te.prototype.setRatio},m={},e=te.prototype=new r("css");(e.constructor=te).version="1.14.2",te.API=2,te.defaultTransformPerspective=0,te.defaultSkewType="compensated",e="px",te.suffixMap={top:e,right:e,bottom:e,left:e,width:e,height:e,fontSize:e,padding:e,margin:e,perspective:e,lineHeight:""};var D,g,v,L,T,I,t,n,i,w=/(?:\d|\-\d|\.\d|\-\.\d)+/g,R=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,y=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,d=/(?![+-]?\d*\.?\d+|e[+-]\d+)[^0-9]/g,k=/(?:\d|\-|\+|=|#|\.)*/g,x=/opacity *= *([^)]*)/i,E=/opacity:([^;]*)/i,a=/alpha\(opacity *=.+?\)/i,S=/^(rgb|hsl)/,s=/([A-Z])/g,l=/-([a-z])/gi,b=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,c=function(e,t){return t.toUpperCase()},C=/(?:Left|Right|Width)/i,ne=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,K=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,N=/,(?=[^\)]*(?:\(|$))/gi,ie=Math.PI/180,oe=180/Math.PI,O={},A=document,P=A.createElement("div"),M=A.createElement("img"),o=te._internals={_specialProps:m},u=navigator.userAgent,F=(n=u.indexOf("Android"),i=A.createElement("div"),v=-1!==u.indexOf("Safari")&&-1===u.indexOf("Chrome")&&(-1===n||3<Number(u.substr(n+8,1))),T=v&&Number(u.substr(u.indexOf("Version/")+8,1))<6,L=-1!==u.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(u)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(u))&&(I=parseFloat(RegExp.$1)),i.innerHTML="<a style='top:1px;opacity:.55;'>a</a>",!!(t=i.getElementsByTagName("a")[0])&&/^0.55/.test(t.style.opacity)),B=function(e){return x.test("string"==typeof e?e:(e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?parseFloat(RegExp.$1)/100:1},$=function(e){window.console&&console.log(e)},H="",z="",q=function(e,t){var n,i,o=(t=t||P).style;if(void 0!==o[e])return e;for(e=e.charAt(0).toUpperCase()+e.substr(1),n=["O","Moz","ms","Ms","Webkit"],i=5;-1<--i&&void 0===o[n[i]+e];);return 0<=i?(z=3===i?"ms":n[i],H="-"+z.toLowerCase()+"-",z+e):null},j=A.defaultView?A.defaultView.getComputedStyle:function(){},re=te.getStyle=function(e,t,n,i,o){var r;return F||"opacity"!==t?(!i&&e.style[t]?r=e.style[t]:(n=n||j(e))?r=n[t]||n.getPropertyValue(t)||n.getPropertyValue(t.replace(s,"-$1").toLowerCase()):e.currentStyle&&(r=e.currentStyle[t]),null==o||r&&"none"!==r&&"auto"!==r&&"auto auto"!==r?r:o):B(e)},W=o.convertToPixels=function(e,t,n,i,o){if("px"===i||!i)return n;if("auto"===i||!n)return 0;var r,a,s,l=C.test(t),c=e,d=P.style,u=n<0;if(u&&(n=-n),"%"===i&&-1!==t.indexOf("border"))r=n/100*(l?e.clientWidth:e.clientHeight);else{if(d.cssText="border:0 solid red;position:"+re(e,"position")+";line-height:0;","%"!==i&&c.appendChild)d[l?"borderLeftWidth":"borderTopWidth"]=n+i;else{if(a=(c=e.parentNode||A.body)._gsCache,s=h.ticker.frame,a&&l&&a.time===s)return a.width*n/100;d[l?"width":"height"]=n+i}c.appendChild(P),r=parseFloat(P[l?"offsetWidth":"offsetHeight"]),c.removeChild(P),l&&"%"===i&&!1!==te.cacheWidths&&((a=c._gsCache=c._gsCache||{}).time=s,a.width=r/n*100),0!==r||o||(r=W(e,t,n,i,!0))}return u?-r:r},U=o.calculateOffset=function(e,t,n){if("absolute"!==re(e,"position",n))return 0;var i="left"===t?"Left":"Top",o=re(e,"margin"+i,n);return e["offset"+i]-(W(e,t,parseFloat(o),o.replace(k,""))||0)},V=function(e,t){var n,i,o={};if(t=t||j(e,null))if(n=t.length)for(;-1<--n;)o[t[n].replace(l,c)]=t.getPropertyValue(t[n]);else for(n in t)o[n]=t[n];else if(t=e.currentStyle||e.style)for(n in t)"string"==typeof n&&void 0===o[n]&&(o[n.replace(l,c)]=t[n]);return F||(o.opacity=B(e)),i=Me(e,t,!1),o.rotation=i.rotation,o.skewX=i.skewX,o.scaleX=i.scaleX,o.scaleY=i.scaleY,o.x=i.x,o.y=i.y,xe&&(o.z=i.z,o.rotationX=i.rotationX,o.rotationY=i.rotationY,o.scaleZ=i.scaleZ),o.filters&&delete o.filters,o},X=function(e,t,n,i,o){var r,a,s,l={},c=e.style;for(a in n)"cssText"!==a&&"length"!==a&&isNaN(a)&&(t[a]!==(r=n[a])||o&&o[a])&&-1===a.indexOf("Origin")&&("number"==typeof r||"string"==typeof r)&&(l[a]="auto"!==r||"left"!==a&&"top"!==a?""!==r&&"auto"!==r&&"none"!==r||"string"!=typeof t[a]||""===t[a].replace(d,"")?r:0:U(e,a),void 0!==c[a]&&(s=new fe(c,a,c[a],s)));if(i)for(a in i)"className"!==a&&(l[a]=i[a]);return{difs:l,firstMPT:s}},Y={width:["Left","Right"],height:["Top","Bottom"]},G=["marginLeft","marginRight","marginTop","marginBottom"],Q=function(e,t,n){var i=parseFloat("width"===t?e.offsetWidth:e.offsetHeight),o=Y[t],r=o.length;for(n=n||j(e,null);-1<--r;)i-=parseFloat(re(e,"padding"+o[r],n,!0))||0,i-=parseFloat(re(e,"border"+o[r]+"Width",n,!0))||0;return i},Z=function(e,t){(null==e||""===e||"auto"===e||"auto auto"===e)&&(e="0 0");var n=e.split(" "),i=-1!==e.indexOf("left")?"0%":-1!==e.indexOf("right")?"100%":n[0],o=-1!==e.indexOf("top")?"0%":-1!==e.indexOf("bottom")?"100%":n[1];return null==o?o="0":"center"===o&&(o="50%"),("center"===i||isNaN(parseFloat(i))&&-1===(i+"").indexOf("="))&&(i="50%"),t&&(t.oxp=-1!==i.indexOf("%"),t.oyp=-1!==o.indexOf("%"),t.oxr="="===i.charAt(1),t.oyr="="===o.charAt(1),t.ox=parseFloat(i.replace(d,"")),t.oy=parseFloat(o.replace(d,""))),i+" "+o+(2<n.length?" "+n[2]:"")},J=function(e,t){return"string"==typeof e&&"="===e.charAt(1)?parseInt(e.charAt(0)+"1",10)*parseFloat(e.substr(2)):parseFloat(e)-parseFloat(t)},ae=function(e,t){return null==e?t:"string"==typeof e&&"="===e.charAt(1)?parseInt(e.charAt(0)+"1",10)*parseFloat(e.substr(2))+t:parseFloat(e)},se=function(e,t,n,i){var o,r,a,s,l=1e-6;return(s=null==e?t:"number"==typeof e?e:(o=360,r=e.split("_"),a=Number(r[0].replace(d,""))*(-1===e.indexOf("rad")?1:oe)-("="===e.charAt(1)?0:t),r.length&&(i&&(i[n]=t+a),-1!==e.indexOf("short")&&((a%=o)!==a%(o/2)&&(a=a<0?a+o:a-o)),-1!==e.indexOf("_cw")&&a<0?a=(a+9999999999*o)%o-(0|a/o)*o:-1!==e.indexOf("ccw")&&0<a&&(a=(a-9999999999*o)%o-(0|a/o)*o)),t+a))<l&&-l<s&&(s=0),s},le={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},ce=function(e,t,n){return 0|255*(6*(e=e<0?e+1:1<e?e-1:e)<1?t+6*(n-t)*e:e<.5?n:3*e<2?t+6*(n-t)*(2/3-e):t)+.5},de=te.parseColor=function(e){var t,n,i,o,r,a;return e&&""!==e?"number"==typeof e?[e>>16,255&e>>8,255&e]:(","===e.charAt(e.length-1)&&(e=e.substr(0,e.length-1)),le[e]?le[e]:"#"===e.charAt(0)?(4===e.length&&(e="#"+(t=e.charAt(1))+t+(n=e.charAt(2))+n+(i=e.charAt(3))+i),[(e=parseInt(e.substr(1),16))>>16,255&e>>8,255&e]):("hsl"===e.substr(0,3)?(e=e.match(w),o=Number(e[0])%360/360,r=Number(e[1])/100,t=2*(a=Number(e[2])/100)-(n=a<=.5?a*(r+1):a+r-a*r),3<e.length&&(e[3]=Number(e[3])),e[0]=ce(o+1/3,t,n),e[1]=ce(o,t,n),e[2]=ce(o-1/3,t,n)):((e=e.match(w)||le.transparent)[0]=Number(e[0]),e[1]=Number(e[1]),e[2]=Number(e[2]),3<e.length&&(e[3]=Number(e[3]))),e)):le.black},ue="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#.+?\\b";for(e in le)ue+="|"+e+"\\b";ue=RegExp(ue+")","gi");var he=function(e,t,r,a){if(null==e)return function(e){return e};var s,l=t?(e.match(ue)||[""])[0]:"",c=e.split(l).join("").match(y)||[],d=e.substr(0,e.indexOf(c[0])),u=")"===e.charAt(e.length-1)?")":"",h=-1!==e.indexOf(" ")?" ":",",p=c.length,f=0<p?c[0].replace(w,""):"";return p?s=t?function(e){var t,n,i,o;if("number"==typeof e)e+=f;else if(a&&N.test(e)){for(o=e.replace(N,"|").split("|"),i=0;o.length>i;i++)o[i]=s(o[i]);return o.join(",")}if(t=(e.match(ue)||[l])[0],i=(n=e.split(t).join("").match(y)||[]).length,p>i--)for(;p>++i;)n[i]=r?n[0|(i-1)/2]:c[i];return d+n.join(h)+h+t+u+(-1!==e.indexOf("inset")?" inset":"")}:function(e){var t,n,i;if("number"==typeof e)e+=f;else if(a&&N.test(e)){for(n=e.replace(N,"|").split("|"),i=0;n.length>i;i++)n[i]=s(n[i]);return n.join(",")}if(i=(t=e.match(y)||[]).length,p>i--)for(;p>++i;)t[i]=r?t[0|(i-1)/2]:c[i];return d+t.join(h)+u}:function(e){return e}},pe=function(c){return c=c.split(","),function(e,t,n,i,o,r,a){var s,l=(t+"").split(" ");for(a={},s=0;s<4;s++)a[c[s]]=l[s]=l[s]||l[(s-1)/2>>0];return i.parse(e,a,o,r)}},fe=(o._setPluginRatio=function(e){this.plugin.setRatio(e);for(var t,n,i,o,r=this.data,a=r.proxy,s=r.firstMPT,l=1e-6;s;)t=a[s.v],s.r?t=Math.round(t):t<l&&-l<t&&(t=0),s.t[s.p]=t,s=s._next;if(r.autoRotate&&(r.autoRotate.rotation=a.rotation),1===e)for(s=r.firstMPT;s;){if((n=s.t).type){if(1===n.type){for(o=n.xs0+n.s+n.xs1,i=1;n.l>i;i++)o+=n["xn"+i]+n["xs"+(i+1)];n.e=o}}else n.e=n.s+n.xs0;s=s._next}},function(e,t,n,i,o){this.t=e,this.p=t,this.v=n,this.r=o,i&&((i._prev=this)._next=i)}),me=(o._parseToProxy=function(e,t,n,i,o,r){var a,s,l,c,d,u=i,h={},p={},f=n._transform,m=O;for(n._transform=null,O=t,i=d=n.parse(e,t,i,o),O=m,r&&(n._transform=f,u&&(u._prev=null,u._prev&&(u._prev._next=null)));i&&i!==u;){if(i.type<=1&&(p[s=i.p]=i.s+i.c,h[s]=i.s,r||(c=new fe(i,"s",s,c,i.r),i.c=0),1===i.type))for(a=i.l;0<--a;)l="xn"+a,p[s=i.p+"_"+l]=i.data[l],h[s]=i[l],r||(c=new fe(i,l,s,c,i.rxp[l]));i=i._next}return{proxy:h,end:p,firstMPT:c,pt:d}},o.CSSPropTween=function(e,t,n,i,o,r,a,s,l,c,d){this.t=e,this.p=t,this.s=n,this.c=i,this.n=a||t,e instanceof me||p.push(this.n),this.r=s,this.type=r||0,l&&(this.pr=l,f=!0),this.b=void 0===c?n:c,this.e=void 0===d?n+i:d,o&&((this._next=o)._prev=this)}),ge=te.parseComplex=function(e,t,n,i,o,r,a,s,l,c){a=new me(e,t,0,0,a,c?2:1,null,!1,s,n=n||r||"",i),i+="";var d,u,h,p,f,m,g,v,T,y,E,b,C=n.split(", ").join(",").split(" "),_=i.split(", ").join(",").split(" "),O=C.length,I=!1!==D;for((-1!==i.indexOf(",")||-1!==n.indexOf(","))&&(C=C.join(" ").replace(N,", ").split(" "),_=_.join(" ").replace(N,", ").split(" "),O=C.length),O!==_.length&&(O=(C=(r||"").split(" ")).length),a.plugin=l,a.setRatio=c,d=0;d<O;d++)if(p=C[d],f=_[d],(v=parseFloat(p))||0===v)a.appendXtra("",v,J(f,v),f.replace(R,""),I&&-1!==f.indexOf("px"),!0);else if(o&&("#"===p.charAt(0)||le[p]||S.test(p)))b=","===f.charAt(f.length-1)?"),":")",p=de(p),f=de(f),(T=6<p.length+f.length)&&!F&&0===f[3]?(a["xs"+a.l]+=a.l?" transparent":"transparent",a.e=a.e.split(_[d]).join("transparent")):(F||(T=!1),a.appendXtra(T?"rgba(":"rgb(",p[0],f[0]-p[0],",",!0,!0).appendXtra("",p[1],f[1]-p[1],",",!0).appendXtra("",p[2],f[2]-p[2],T?",":b,!0),T&&(p=p.length<4?1:p[3],a.appendXtra("",p,(f.length<4?1:f[3])-p,b,!1)));else if(m=p.match(w)){if(!(g=f.match(R))||g.length!==m.length)return a;for(u=h=0;m.length>u;u++)E=m[u],y=p.indexOf(E,h),a.appendXtra(p.substr(h,y-h),Number(E),J(g[u],E),"",I&&"px"===p.substr(y+E.length,2),0===u),h=y+E.length;a["xs"+a.l]+=p.substr(h)}else a["xs"+a.l]+=a.l?" "+p:p;if(-1!==i.indexOf("=")&&a.data){for(b=a.xs0+a.data.s,d=1;a.l>d;d++)b+=a["xs"+d]+a.data["xn"+d];a.e=b+a["xs"+d]}return a.l||(a.type=-1,a.xs0=a.e),a.xfirst||a},ve=9;for((e=me.prototype).l=e.pr=0;0<--ve;)e["xn"+ve]=0,e["xs"+ve]="";e.xs0="",e._next=e._prev=e.xfirst=e.data=e.plugin=e.setRatio=e.rxp=null,e.appendXtra=function(e,t,n,i,o,r){var a=this,s=a.l;return a["xs"+s]+=r&&s?" "+e:e||"",n||0===s||a.plugin?(a.l++,a.type=a.setRatio?2:1,a["xs"+a.l]=i||"",0<s?(a.data["xn"+s]=t+n,a.rxp["xn"+s]=o,a["xn"+s]=t,a.plugin||(a.xfirst=new me(a,"xn"+s,t,n,a.xfirst||a,0,a.n,o,a.pr),a.xfirst.xs0=0)):(a.data={s:t+n},a.rxp={},a.s=t,a.c=n,a.r=o)):a["xs"+s]+=t+(i||""),a};var Te=function(e,t){t=t||{},this.p=t.prefix&&q(e)||e,m[e]=m[this.p]=this,this.format=t.formatter||he(t.defaultValue,t.color,t.collapsible,t.multi),t.parser&&(this.parse=t.parser),this.clrs=t.color,this.multi=t.multi,this.keyword=t.keyword,this.dflt=t.defaultValue,this.pr=t.priority||0},ye=o._registerComplexSpecialProp=function(e,t,n){"object"!=typeof t&&(t={parser:n});var i,o=e.split(","),r=t.defaultValue;for(n=n||[r],i=0;o.length>i;i++)t.prefix=0===i&&t.prefix,t.defaultValue=n[i]||r,new Te(o[i],t)},Ee=function(e){if(!m[e]){var l=e.charAt(0).toUpperCase()+e.substr(1)+"Plugin";ye(e,{parser:function(e,t,n,i,o,r,a){var s=(_gsScope.GreenSockGlobals||_gsScope).com.greensock.plugins[l];return s?(s._cssRegister(),m[n].parse(e,t,n,i,o,r,a)):($("Error: "+l+" js file not loaded."),o)}})}};(e=Te.prototype).parseComplex=function(e,t,n,i,o,r){var a,s,l,c,d,u=this.keyword;if(this.multi&&(N.test(n)||N.test(t)?(s=t.replace(N,"|").split("|"),l=n.replace(N,"|").split("|")):u&&(s=[t],l=[n])),l){for(c=l.length>s.length?l.length:s.length,a=0;a<c;a++)t=s[a]=s[a]||this.dflt,n=l[a]=l[a]||this.dflt,u&&(t.indexOf(u)!==(d=n.indexOf(u))&&((n=-1===d?l:s)[a]+=" "+u));t=s.join(", "),n=l.join(", ")}return ge(e,this.p,t,n,this.clrs,this.dflt,i,this.pr,o,r)},e.parse=function(e,t,n,i,o,r){return this.parseComplex(e.style,this.format(re(e,this.p,ee,!1,this.dflt)),this.format(t),o,r)},te.registerSpecialProp=function(e,s,l){ye(e,{parser:function(e,t,n,i,o,r){var a=new me(e,n,0,0,o,2,n,!1,l);return a.plugin=r,a.setRatio=s(e,t,i._tween,n),a},priority:l})};var be,Ce,_e,Oe,Ie,De="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),we=q("transform"),Re=H+"transform",ke=q("transformOrigin"),xe=null!==q("perspective"),Se=o.Transform=function(){this.skewY=0},Ke=window.SVGElement,Ne=function(e,t,n){var i,o=A.createElementNS("http://www.w3.org/2000/svg",e),r=/([a-z])([A-Z])/g;for(i in n)o.setAttributeNS(null,i.replace(r,"$1-$2").toLowerCase(),n[i]);return t.appendChild(o),o},Ae=document.documentElement,Le=(Ie=I||/Android/i.test(u)&&!window.chrome,A.createElementNS&&!Ie&&(Ce=Ne("svg",Ae),Oe=(_e=Ne("rect",Ce,{width:100,height:50,x:100})).getBoundingClientRect().left,_e.style[ke]="50% 50%",_e.style[we]="scale(0.5,0.5)",Ie=Oe===_e.getBoundingClientRect().left,Ae.removeChild(Ce)),Ie),Pe=function(e,t,n){var i=e.getBBox();t=Z(t).split(" "),n.xOrigin=(-1!==t[0].indexOf("%")?parseFloat(t[0])/100*i.width:parseFloat(t[0]))+i.x,n.yOrigin=(-1!==t[1].indexOf("%")?parseFloat(t[1])/100*i.height:parseFloat(t[1]))+i.y},Me=o.getTransform=function(e,t,n,i){if(e._gsTransform&&n&&!i)return e._gsTransform;var o,r,a,s,l,c,d,u,h,p,f,m,g,v=n&&e._gsTransform||new Se,T=v.scaleX<0,y=2e-5,E=1e5,b=179.99,C=b*ie,_=xe&&(parseFloat(re(e,ke,t,!1,"0 0 0").split(" ")[2])||v.zOrigin)||0,O=parseFloat(te.defaultTransformPerspective)||0;if(we?o=re(e,Re,t,!0):e.currentStyle&&(o=(o=e.currentStyle.filter.match(ne))&&4===o.length?[o[0].substr(4),Number(o[2].substr(4)),Number(o[1].substr(4)),o[3].substr(4),v.x||0,v.y||0].join(","):""),o&&"none"!==o&&"matrix(1, 0, 0, 1, 0, 0)"!==o){for(a=(r=(o||"").match(/(?:\-|\b)[\d\-\.e]+\b/gi)||[]).length;-1<--a;)s=Number(r[a]),r[a]=(l=s-(s|=0))?(0|l*E+(l<0?-.5:.5))/E+s:s;if(16===r.length){var I=r[8],D=r[9],w=r[10],R=r[12],k=r[13],x=r[14];if(v.zOrigin&&(R=I*(x=-v.zOrigin)-r[12],k=D*x-r[13],x=w*x+v.zOrigin-r[14]),!n||i||null==v.rotationX){var S,K,N,A,L,P,M,F=r[0],B=r[1],$=r[2],H=r[3],z=r[4],q=r[5],j=r[6],W=r[7],U=r[11],V=Math.atan2(j,w),X=V<-C||C<V;v.rotationX=V*oe,V&&(S=z*(A=Math.cos(-V))+I*(L=Math.sin(-V)),K=q*A+D*L,N=j*A+w*L,I=z*-L+I*A,D=q*-L+D*A,w=j*-L+w*A,U=W*-L+U*A,z=S,q=K,j=N),V=Math.atan2(I,F),v.rotationY=V*oe,V&&(P=V<-C||C<V,K=B*(A=Math.cos(-V))-D*(L=Math.sin(-V)),N=$*A-w*L,D=B*L+D*A,w=$*L+w*A,U=H*L+U*A,F=S=F*A-I*L,B=K,$=N),V=Math.atan2(B,q),v.rotation=V*oe,V&&(M=V<-C||C<V,F=F*(A=Math.cos(-V))+z*(L=Math.sin(-V)),K=B*A+q*L,q=B*-L+q*A,j=$*-L+j*A,B=K),M&&X?v.rotation=v.rotationX=0:M&&P?v.rotation=v.rotationY=0:P&&X&&(v.rotationY=v.rotationX=0),v.scaleX=(0|Math.sqrt(F*F+B*B)*E+.5)/E,v.scaleY=(0|Math.sqrt(q*q+D*D)*E+.5)/E,v.scaleZ=(0|Math.sqrt(j*j+w*w)*E+.5)/E,v.skewX=0,v.perspective=U?1/(U<0?-U:U):0,v.x=R,v.y=k,v.z=x}}else if(!(xe&&!i&&r.length&&v.x===r[4]&&v.y===r[5]&&(v.rotationX||v.rotationY)||void 0!==v.x&&"none"===re(e,"display",t))){var Y=6<=r.length,G=Y?r[0]:1,Q=r[1]||0,Z=r[2]||0,J=Y?r[3]:1;v.x=r[4]||0,v.y=r[5]||0,c=Math.sqrt(G*G+Q*Q),d=Math.sqrt(J*J+Z*Z),u=G||Q?Math.atan2(Q,G)*oe:v.rotation||0,h=Z||J?Math.atan2(Z,J)*oe+u:v.skewX||0,p=c-Math.abs(v.scaleX||0),f=d-Math.abs(v.scaleY||0),90<Math.abs(h)&&Math.abs(h)<270&&(T?(c*=-1,h+=u<=0?180:-180,u+=u<=0?180:-180):(d*=-1,h+=h<=0?180:-180)),m=(u-v.rotation)%180,g=(h-v.skewX)%180,(void 0===v.skewX||y<p||p<-y||y<f||f<-y||-b<m&&m<b&&!1|m*E||-b<g&&g<b&&!1|g*E)&&(v.scaleX=c,v.scaleY=d,v.rotation=u,v.skewX=h),xe&&(v.rotationX=v.rotationY=v.z=0,v.perspective=O,v.scaleZ=1)}for(a in v.zOrigin=_,v)y>v[a]&&v[a]>-y&&(v[a]=0)}else v={x:0,y:0,z:0,scaleX:1,scaleY:1,scaleZ:1,skewX:0,skewY:0,perspective:O,rotation:0,rotationX:0,rotationY:0,zOrigin:0};return n&&(e._gsTransform=v),v.svg=Ke&&e instanceof Ke&&e.parentNode instanceof Ke,v.svg&&(Pe(e,re(e,ke,ee,!1,"50% 50%")+"",v),be=te.useSVGTransformAttr||Le),v.xPercent=v.yPercent=0,v},Fe=function(e){var t,n,i=this.data,o=-i.rotation*ie,r=o+i.skewX*ie,a=1e5,s=(0|Math.cos(o)*i.scaleX*a)/a,l=(0|Math.sin(o)*i.scaleX*a)/a,c=(0|Math.sin(r)*-i.scaleY*a)/a,d=(0|Math.cos(r)*i.scaleY*a)/a,u=this.t.style,h=this.t.currentStyle;if(h){n=l,l=-c,c=-n,t=h.filter,u.filter="";var p,f,m=this.t.offsetWidth,g=this.t.offsetHeight,v="absolute"!==h.position,T="progid:DXImageTransform.Microsoft.Matrix(M11="+s+", M12="+l+", M21="+c+", M22="+d,y=i.x+m*i.xPercent/100,E=i.y+g*i.yPercent/100;if(null!=i.ox&&(y+=(p=(i.oxp?.01*m*i.ox:i.ox)-m/2)-(p*s+(f=(i.oyp?.01*g*i.oy:i.oy)-g/2)*l),E+=f-(p*c+f*d)),v?T+=", Dx="+((p=m/2)-(p*s+(f=g/2)*l)+y)+", Dy="+(f-(p*c+f*d)+E)+")":T+=", sizingMethod='auto expand')",u.filter=-1!==t.indexOf("DXImageTransform.Microsoft.Matrix(")?t.replace(K,T):T+" "+t,(0===e||1===e)&&1===s&&0===l&&0===c&&1===d&&(v&&-1===T.indexOf("Dx=0, Dy=0")||x.test(t)&&100!==parseFloat(RegExp.$1)||-1===t.indexOf(t.indexOf("Alpha"))&&u.removeAttribute("filter")),!v){var b,C,_,O=I<8?1:-1;for(p=i.ieOffsetX||0,f=i.ieOffsetY||0,i.ieOffsetX=Math.round((m-((s<0?-s:s)*m+(l<0?-l:l)*g))/2+y),i.ieOffsetY=Math.round((g-((d<0?-d:d)*g+(c<0?-c:c)*m))/2+E),ve=0;ve<4;ve++)_=(n=-1!==(b=h[C=G[ve]]).indexOf("px")?parseFloat(b):W(this.t,C,parseFloat(b),b.replace(k,""))||0)!==i[C]?ve<2?-i.ieOffsetX:-i.ieOffsetY:ve<2?p-i.ieOffsetX:f-i.ieOffsetY,u[C]=(i[C]=Math.round(n-_*(0===ve||2===ve?1:O)))+"px"}}},Be=o.set3DTransformRatio=function(e){var t,n,i,o,r,a,s,l,c,d,u,h,p,f,m,g,v,T,y,E,b,C,_,O=this.data,I=this.t.style,D=O.rotation*ie,w=O.scaleX,R=O.scaleY,k=O.scaleZ,x=O.x,S=O.y,K=O.z,N=O.perspective;if(1!==e&&0!==e||"auto"!==O.force3D||O.rotationY||O.rotationX||1!==k||N||K){if(L){var A=1e-4;w<A&&-A<w&&(w=k=2e-5),R<A&&-A<R&&(R=k=2e-5),!N||O.z||O.rotationX||O.rotationY||(N=0)}if(D||O.skewX)t=T=Math.cos(D),r=y=Math.sin(D),O.skewX&&(D-=O.skewX*ie,T=Math.cos(D),y=Math.sin(D),"simple"===O.skewType&&(E=Math.tan(O.skewX*ie),T*=E=Math.sqrt(1+E*E),y*=E)),n=-y,a=T;else{if(!(O.rotationY||O.rotationX||1!==k||N||O.svg))return void(I[we]=(O.xPercent||O.yPercent?"translate("+O.xPercent+"%,"+O.yPercent+"%) translate3d(":"translate3d(")+x+"px,"+S+"px,"+K+"px)"+(1!==w||1!==R?" scale("+w+","+R+")":""));t=a=1,n=r=0}u=1,i=o=s=l=c=d=h=p=f=0,m=N?-1/N:0,g=O.zOrigin,v=1e5,(D=O.rotationY*ie)&&(T=Math.cos(D),c=u*-(y=Math.sin(D)),p=m*-y,i=t*y,s=r*y,u*=T,m*=T,t*=T,r*=T),(D=O.rotationX*ie)&&(E=n*(T=Math.cos(D))+i*(y=Math.sin(D)),b=a*T+s*y,C=d*T+u*y,_=f*T+m*y,i=n*-y+i*T,s=a*-y+s*T,u=d*-y+u*T,m=f*-y+m*T,n=E,a=b,d=C,f=_),1!==k&&(i*=k,s*=k,u*=k,m*=k),1!==R&&(n*=R,a*=R,d*=R,f*=R),1!==w&&(t*=w,r*=w,c*=w,p*=w),g&&(o=i*(h-=g),l=s*h,h=u*h+g),O.svg&&(o+=O.xOrigin-(O.xOrigin*t+O.yOrigin*n),l+=O.yOrigin-(O.xOrigin*r+O.yOrigin*a)),o=(E=(o+=x)-(o|=0))?(0|E*v+(E<0?-.5:.5))/v+o:o,l=(E=(l+=S)-(l|=0))?(0|E*v+(E<0?-.5:.5))/v+l:l,h=(E=(h+=K)-(h|=0))?(0|E*v+(E<0?-.5:.5))/v+h:h,I[we]=(O.xPercent||O.yPercent?"translate("+O.xPercent+"%,"+O.yPercent+"%) matrix3d(":"matrix3d(")+[(0|t*v)/v,(0|r*v)/v,(0|c*v)/v,(0|p*v)/v,(0|n*v)/v,(0|a*v)/v,(0|d*v)/v,(0|f*v)/v,(0|i*v)/v,(0|s*v)/v,(0|u*v)/v,(0|m*v)/v,o,l,h,N?1+-h/N:1].join(",")+")"}else $e.call(this,e)},$e=o.set2DTransformRatio=function(e){var t,n,i,o,r,a,s,l,c,d,u,h=this.data,p=this.t,f=p.style,m=h.x,g=h.y;return!(h.rotationX||h.rotationY||h.z||!0===h.force3D||"auto"===h.force3D&&1!==e&&0!==e)||h.svg&&be||!xe?(o=h.scaleX,r=h.scaleY,void(h.rotation||h.skewX||h.svg?(n=(t=h.rotation*ie)-h.skewX*ie,i=1e5,a=Math.cos(t)*o,s=Math.sin(t)*o,l=Math.sin(n)*-r,c=Math.cos(n)*r,h.svg&&((m+=h.xOrigin-(h.xOrigin*a+h.yOrigin*l))<(u=1e-6)&&-u<m&&(m=0),(g+=h.yOrigin-(h.xOrigin*s+h.yOrigin*c))<u&&-u<g&&(g=0)),d=(0|a*i)/i+","+(0|s*i)/i+","+(0|l*i)/i+","+(0|c*i)/i+","+m+","+g+")",h.svg&&be?p.setAttribute("transform","matrix("+d):f[we]=(h.xPercent||h.yPercent?"translate("+h.xPercent+"%,"+h.yPercent+"%) matrix(":"matrix(")+d):f[we]=(h.xPercent||h.yPercent?"translate("+h.xPercent+"%,"+h.yPercent+"%) matrix(":"matrix(")+o+",0,0,"+r+","+m+","+g+")")):void(this.setRatio=Be).call(this,e)};ye("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent",{parser:function(e,t,n,i,o,r,a){if(i._transform)return o;var s,l,c,d,u,h,p,f=i._transform=Me(e,ee,!0,a.parseTransform),m=e.style,g=1e-6,v=De.length,T=a,y={};if("string"==typeof T.transform&&we)(c=P.style)[we]=T.transform,c.display="block",c.position="absolute",A.body.appendChild(P),s=Me(P,null,!1),A.body.removeChild(P);else if("object"==typeof T){if(s={scaleX:ae(null!=T.scaleX?T.scaleX:T.scale,f.scaleX),scaleY:ae(null!=T.scaleY?T.scaleY:T.scale,f.scaleY),scaleZ:ae(T.scaleZ,f.scaleZ),x:ae(T.x,f.x),y:ae(T.y,f.y),z:ae(T.z,f.z),xPercent:ae(T.xPercent,f.xPercent),yPercent:ae(T.yPercent,f.yPercent),perspective:ae(T.transformPerspective,f.perspective)},null!=(p=T.directionalRotation))if("object"==typeof p)for(c in p)T[c]=p[c];else T.rotation=p;"string"==typeof T.x&&-1!==T.x.indexOf("%")&&(s.x=0,s.xPercent=ae(T.x,f.xPercent)),"string"==typeof T.y&&-1!==T.y.indexOf("%")&&(s.y=0,s.yPercent=ae(T.y,f.yPercent)),s.rotation=se("rotation"in T?T.rotation:"shortRotation"in T?T.shortRotation+"_short":"rotationZ"in T?T.rotationZ:f.rotation,f.rotation,"rotation",y),xe&&(s.rotationX=se("rotationX"in T?T.rotationX:"shortRotationX"in T?T.shortRotationX+"_short":f.rotationX||0,f.rotationX,"rotationX",y),s.rotationY=se("rotationY"in T?T.rotationY:"shortRotationY"in T?T.shortRotationY+"_short":f.rotationY||0,f.rotationY,"rotationY",y)),s.skewX=null==T.skewX?f.skewX:se(T.skewX,f.skewX),s.skewY=null==T.skewY?f.skewY:se(T.skewY,f.skewY),(l=s.skewY-f.skewY)&&(s.skewX+=l,s.rotation+=l)}for(xe&&null!=T.force3D&&(f.force3D=T.force3D,h=!0),f.skewType=T.skewType||f.skewType||te.defaultSkewType,(u=f.force3D||f.z||f.rotationX||f.rotationY||s.z||s.rotationX||s.rotationY||s.perspective)||null==T.scale||(s.scaleZ=1);-1<--v;)(g<(d=s[n=De[v]]-f[n])||d<-g||null!=T[n]||null!=O[n])&&(h=!0,o=new me(f,n,f[n],d,o),n in y&&(o.e=y[n]),o.xs0=0,o.plugin=r,i._overwriteProps.push(o.n));return(d=T.transformOrigin)&&f.svg&&(Pe(e,d,s),(o=new me(f,"xOrigin",f.xOrigin,s.xOrigin-f.xOrigin,o,-1,"transformOrigin")).b=f.xOrigin,o.e=o.xs0=s.xOrigin,(o=new me(f,"yOrigin",f.yOrigin,s.yOrigin-f.yOrigin
,o,-1,"transformOrigin")).b=f.yOrigin,o.e=o.xs0=s.yOrigin,d="0px 0px"),(d||xe&&u&&f.zOrigin)&&(we?(h=!0,n=ke,d=(d||re(e,n,ee,!1,"50% 50%"))+"",(o=new me(m,n,0,0,o,-1,"transformOrigin")).b=m[n],o.plugin=r,o.xs0=o.e=xe?(c=f.zOrigin,d=d.split(" "),f.zOrigin=(2<d.length&&(0===c||"0px"!==d[2])?parseFloat(d[2]):c)||0,o.xs0=o.e=d[0]+" "+(d[1]||"50%")+" 0px",(o=new me(f,"zOrigin",0,0,o,-1,o.n)).b=c,f.zOrigin):d):Z(d+"",f)),h&&(i._transformType=f.svg&&be||!u&&3!==this._transformType?2:3),o},prefix:!0}),ye("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),ye("borderRadius",{defaultValue:"0px",parser:function(e,t,n,i,o){t=this.format(t);var r,a,s,l,c,d,u,h,p,f,m,g,v,T,y,E,b=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],C=e.style;for(p=parseFloat(e.offsetWidth),f=parseFloat(e.offsetHeight),r=t.split(" "),a=0;b.length>a;a++)this.p.indexOf("border")&&(b[a]=q(b[a])),-1!==(c=l=re(e,b[a],ee,!1,"0px")).indexOf(" ")&&(c=(l=c.split(" "))[0],l=l[1]),d=s=r[a],u=parseFloat(c),g=c.substr((u+"").length),""===(m=(v="="===d.charAt(1))?(h=parseInt(d.charAt(0)+"1",10),d=d.substr(2),h*=parseFloat(d),d.substr((h+"").length-(h<0?1:0))||""):(h=parseFloat(d),d.substr((h+"").length)))&&(m=_[n]||g),m!==g&&(T=W(e,"borderLeft",u,g),y=W(e,"borderTop",u,g),l="%"===m?(c=T/p*100+"%",y/f*100+"%"):"em"===m?(c=T/(E=W(e,"borderLeft",1,"em"))+"em",y/E+"em"):(c=T+"px",y+"px"),v&&(d=parseFloat(c)+h+m,s=parseFloat(l)+h+m)),o=ge(C,b[a],c+" "+l,d+" "+s,!1,"0px",o);return o},prefix:!0,formatter:he("0px 0px 0px 0px",!1,!0)}),ye("backgroundPosition",{defaultValue:"0 0",parser:function(e,t,n,i,o,r){var a,s,l,c,d,u,h="background-position",p=ee||j(e,null),f=this.format((p?I?p.getPropertyValue(h+"-x")+" "+p.getPropertyValue(h+"-y"):p.getPropertyValue(h):e.currentStyle.backgroundPositionX+" "+e.currentStyle.backgroundPositionY)||"0 0"),m=this.format(t);if(-1!==f.indexOf("%")!=(-1!==m.indexOf("%"))&&((u=re(e,"backgroundImage").replace(b,""))&&"none"!==u)){for(a=f.split(" "),s=m.split(" "),M.setAttribute("src",u),l=2;-1<--l;)(c=-1!==(f=a[l]).indexOf("%"))!==(-1!==s[l].indexOf("%"))&&(d=0===l?e.offsetWidth-M.width:e.offsetHeight-M.height,a[l]=c?parseFloat(f)/100*d+"px":parseFloat(f)/d*100+"%");f=a.join(" ")}return this.parseComplex(e.style,f,m,o,r)},formatter:Z}),ye("backgroundSize",{defaultValue:"0 0",formatter:Z}),ye("perspective",{defaultValue:"0px",prefix:!0}),ye("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),ye("transformStyle",{prefix:!0}),ye("backfaceVisibility",{prefix:!0}),ye("userSelect",{prefix:!0}),ye("margin",{parser:pe("marginTop,marginRight,marginBottom,marginLeft")}),ye("padding",{parser:pe("paddingTop,paddingRight,paddingBottom,paddingLeft")}),ye("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(e,t,n,i,o,r){var a,s,l;return t=I<9?(s=e.currentStyle,l=I<8?" ":",",a="rect("+s.clipTop+l+s.clipRight+l+s.clipBottom+l+s.clipLeft+")",this.format(t).split(",").join(l)):(a=this.format(re(e,this.p,ee,!1,this.dflt)),this.format(t)),this.parseComplex(e.style,a,t,o,r)}}),ye("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),ye("autoRound,strictUnits",{parser:function(e,t,n,i,o){return o}}),ye("border",{defaultValue:"0px solid #000",parser:function(e,t,n,i,o,r){return this.parseComplex(e.style,this.format(re(e,"borderTopWidth",ee,!1,"0px")+" "+re(e,"borderTopStyle",ee,!1,"solid")+" "+re(e,"borderTopColor",ee,!1,"#000")),this.format(t),o,r)},color:!0,formatter:function(e){var t=e.split(" ");return t[0]+" "+(t[1]||"solid")+" "+(e.match(ue)||["#000"])[0]}}),ye("borderWidth",{parser:pe("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),ye("float,cssFloat,styleFloat",{parser:function(e,t,n,i,o){var r=e.style,a="cssFloat"in r?"cssFloat":"styleFloat";return new me(r,a,0,0,o,-1,n,!1,0,r[a],t)}});var He=function(e){var t,n=this.t,i=n.filter||re(this.data,"filter")||"",o=0|this.s+this.c*e;100===o&&(t=-1===i.indexOf("atrix(")&&-1===i.indexOf("radient(")&&-1===i.indexOf("oader(")?(n.removeAttribute("filter"),!re(this.data,"filter")):(n.filter=i.replace(a,""),!0)),t||(this.xn1&&(n.filter=i=i||"alpha(opacity="+o+")"),-1===i.indexOf("pacity")?0===o&&this.xn1||(n.filter=i+" alpha(opacity="+o+")"):n.filter=i.replace(x,"opacity="+o))};ye("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(e,t,n,i,o,r){var a=parseFloat(re(e,"opacity",ee,!1,"1")),s=e.style,l="autoAlpha"===n;return"string"==typeof t&&"="===t.charAt(1)&&(t=("-"===t.charAt(0)?-1:1)*parseFloat(t.substr(2))+a),l&&1===a&&"hidden"===re(e,"visibility",ee)&&0!==t&&(a=0),F?o=new me(s,"opacity",a,t-a,o):((o=new me(s,"opacity",100*a,100*(t-a),o)).xn1=l?1:0,s.zoom=1,o.type=2,o.b="alpha(opacity="+o.s+")",o.e="alpha(opacity="+(o.s+o.c)+")",o.data=e,o.plugin=r,o.setRatio=He),l&&((o=new me(s,"visibility",0,0,o,-1,null,!1,0,0!==a?"inherit":"hidden",0===t?"hidden":"inherit")).xs0="inherit",i._overwriteProps.push(o.n),i._overwriteProps.push(n)),o}});var ze=function(e,t){t&&(e.removeProperty?("ms"===t.substr(0,2)&&(t="M"+t.substr(1)),e.removeProperty(t.replace(s,"-$1").toLowerCase())):e.removeAttribute(t))},qe=function(e){if(this.t._gsClassPT=this,1===e||0===e){this.t.setAttribute("class",0===e?this.b:this.e);for(var t=this.data,n=this.t.style;t;)t.v?n[t.p]=t.v:ze(n,t.p),t=t._next;1===e&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};ye("className",{parser:function(e,t,n,i,o,r,a){var s,l,c,d,u,h=e.getAttribute("class")||"",p=e.style.cssText;if((o=i._classNamePT=new me(e,n,0,0,o,2)).setRatio=qe,o.pr=-11,f=!0,o.b=h,l=V(e,ee),c=e._gsClassPT){for(d={},u=c.data;u;)d[u.p]=1,u=u._next;c.setRatio(1)}return(e._gsClassPT=o).e="="!==t.charAt(1)?t:h.replace(RegExp("\\s*\\b"+t.substr(2)+"\\b"),"")+("+"===t.charAt(0)?" "+t.substr(2):""),i._tween._duration&&(e.setAttribute("class",o.e),s=X(e,l,V(e),a,d),e.setAttribute("class",h),o.data=s.firstMPT,e.style.cssText=p,o=o.xfirst=i.parse(e,s.difs,o,r)),o}});var je=function(e){if((1===e||0===e)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var t,n,i,o,r=this.t.style,a=m.transform.parse;if("all"===this.e)o=!(r.cssText="");else for(i=(t=this.e.split(" ").join("").split(",")).length;-1<--i;)n=t[i],m[n]&&(m[n].parse===a?o=!0:n="transformOrigin"===n?ke:m[n].p),ze(r,n);o&&(ze(r,we),this.t._gsTransform&&delete this.t._gsTransform)}};for(ye("clearProps",{parser:function(e,t,n,i,o){return(o=new me(e,n,0,0,o,2)).setRatio=je,o.e=t,o.pr=-10,o.data=i._tween,f=!0,o}}),e="bezier,throwProps,physicsProps,physics2D".split(","),ve=e.length;ve--;)Ee(e[ve]);(e=te.prototype)._firstPT=null,e._onInitTween=function(e,t,n){if(!e.nodeType)return!1;this._target=e,this._tween=n,this._vars=t,D=t.autoRound,f=!1,_=t.suffixMap||te.suffixMap,ee=j(e,""),p=this._overwriteProps;var i,o,r,a,s,l,c,d,u,h=e.style;if(g&&""===h.zIndex&&(("auto"===(i=re(e,"zIndex",ee))||""===i)&&this._addLazySet(h,"zIndex",0)),"string"==typeof t&&(a=h.cssText,i=V(e,ee),h.cssText=a+";"+t,i=X(e,i,V(e)).difs,!F&&E.test(t)&&(i.opacity=parseFloat(RegExp.$1)),t=i,h.cssText=a),this._firstPT=o=this.parse(e,t,null),this._transformType){for(u=3===this._transformType,we?v&&(g=!0,""===h.zIndex&&(("auto"===(c=re(e,"zIndex",ee))||""===c)&&this._addLazySet(h,"zIndex",0)),T&&this._addLazySet(h,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(u?"visible":"hidden"))):h.zoom=1,r=o;r&&r._next;)r=r._next;d=new me(e,"transform",0,0,null,2),this._linkCSSP(d,null,r),d.setRatio=u&&xe?Be:we?$e:Fe,d.data=this._transform||Me(e,ee,!0),p.pop()}if(f){for(;o;){for(l=o._next,r=a;r&&r.pr>o.pr;)r=r._next;(o._prev=r?r._prev:s)?o._prev._next=o:a=o,(o._next=r)?r._prev=o:s=o,o=l}this._firstPT=a}return!0},e.parse=function(e,t,n,i){var o,r,a,s,l,c,d,u,h,p,f=e.style;for(o in t)c=t[o],(r=m[o])?n=r.parse(e,c,o,this,n,i,t):(l=re(e,o,ee)+"",h="string"==typeof c,"color"===o||"fill"===o||"stroke"===o||-1!==o.indexOf("Color")||h&&S.test(c)?(h||(c=(3<(c=de(c)).length?"rgba(":"rgb(")+c.join(",")+")"),n=ge(f,o,l,c,!0,"transparent",n,0,i)):!h||-1===c.indexOf(" ")&&-1===c.indexOf(",")?(d=(a=parseFloat(l))||0===a?l.substr((a+"").length):"",(""===l||"auto"===l)&&(d="width"===o||"height"===o?(a=Q(e,o,ee),"px"):"left"===o||"top"===o?(a=U(e,o,ee),"px"):(a="opacity"!==o?0:1,"")),""===(u=(p=h&&"="===c.charAt(1))?(s=parseInt(c.charAt(0)+"1",10),c=c.substr(2),s*=parseFloat(c),c.replace(k,"")):(s=parseFloat(c),h&&c.substr((s+"").length)||""))&&(u=o in _?_[o]:d),c=s||0===s?(p?s+a:s)+u:t[o],d!==u&&""!==u&&(s||0===s)&&a&&(a=W(e,o,a,d),"%"===u?(a/=W(e,o,100,"%")/100,!0!==t.strictUnits&&(l=a+"%")):"em"===u?a/=W(e,o,1,"em"):"px"!==u&&(s=W(e,o,s,u),u="px"),p&&(s||0===s)&&(c=s+a+u)),p&&(s+=a),!a&&0!==a||!s&&0!==s?void 0!==f[o]&&(c||"NaN"!=c+""&&null!=c)?(n=new me(f,o,s||a||0,0,n,-1,o,!1,0,l,c)).xs0="none"!==c||"display"!==o&&-1===o.indexOf("Style")?c:l:$("invalid "+o+" tween value: "+t[o]):(n=new me(f,o,a,s-a,n,0,o,!1!==D&&("px"===u||"zIndex"===o),0,l,c)).xs0=u):n=ge(f,o,l,c,!0,null,n,0,i)),i&&n&&!n.plugin&&(n.plugin=i);return n},e.setRatio=function(e){var t,n,i,o=this._firstPT,r=1e-6;if(1!==e||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(e||this._tween._time!==this._tween._duration&&0!==this._tween._time||-1e-6===this._tween._rawPrevTime)for(;o;){if(t=o.c*e+o.s,o.r?t=Math.round(t):t<r&&-r<t&&(t=0),o.type)if(1===o.type)if(2===(i=o.l))o.t[o.p]=o.xs0+t+o.xs1+o.xn1+o.xs2;else if(3===i)o.t[o.p]=o.xs0+t+o.xs1+o.xn1+o.xs2+o.xn2+o.xs3;else if(4===i)o.t[o.p]=o.xs0+t+o.xs1+o.xn1+o.xs2+o.xn2+o.xs3+o.xn3+o.xs4;else if(5===i)o.t[o.p]=o.xs0+t+o.xs1+o.xn1+o.xs2+o.xn2+o.xs3+o.xn3+o.xs4+o.xn4+o.xs5;else{for(n=o.xs0+t+o.xs1,i=1;o.l>i;i++)n+=o["xn"+i]+o["xs"+(i+1)];o.t[o.p]=n}else-1===o.type?o.t[o.p]=o.xs0:o.setRatio&&o.setRatio(e);else o.t[o.p]=t+o.xs0;o=o._next}else for(;o;)2!==o.type?o.t[o.p]=o.b:o.setRatio(e),o=o._next;else for(;o;)2!==o.type?o.t[o.p]=o.e:o.setRatio(e),o=o._next},e._enableTransforms=function(e){this._transform=this._transform||Me(this._target,ee,!0),this._transformType=this._transform.svg&&be||!e&&3!==this._transformType?2:3};var We=function(){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};e._addLazySet=function(e,t,n){var i=this._firstPT=new me(e,t,0,0,this._firstPT,2);i.e=n,i.setRatio=We,i.data=this},e._linkCSSP=function(e,t,n,i){return e&&(t&&(t._prev=e),e._next&&(e._next._prev=e._prev),e._prev?e._prev._next=e._next:this._firstPT===e&&(this._firstPT=e._next,i=!0),n?n._next=e:i||null!==this._firstPT||(this._firstPT=e),e._next=t,e._prev=n),e},e._kill=function(e){var t,n,i,o=e;if(e.autoAlpha||e.alpha){for(n in o={},e)o[n]=e[n];o.opacity=1,o.autoAlpha&&(o.visibility=1)}return e.className&&(t=this._classNamePT)&&((i=t.xfirst)&&i._prev?this._linkCSSP(i._prev,t._next,i._prev._prev):i===this._firstPT&&(this._firstPT=t._next),t._next&&this._linkCSSP(t._next,t._next._next,i._prev),this._classNamePT=null),r.prototype._kill.call(this,o)};var Ue=function(e,t,n){var i,o,r,a;if(e.slice)for(o=e.length;-1<--o;)Ue(e[o],t,n);else for(o=(i=e.childNodes).length;-1<--o;)a=(r=i[o]).type,r.style&&(t.push(V(r)),n&&n.push(r)),1!==a&&9!==a&&11!==a||!r.childNodes.length||Ue(r,t,n)};return te.cascadeTo=function(e,t,n){var i,o,r,a=h.to(e,t,n),s=[a],l=[],c=[],d=[],u=h._internals.reservedProps;for(e=a._targets||a.target,Ue(e,l,d),a.render(t,!0),Ue(e,c),a.render(0,!0),a._enabled(!0),i=d.length;-1<--i;)if((o=X(d[i],l[i],c[i])).firstMPT){for(r in o=o.difs,n)u[r]&&(o[r]=n[r]);s.push(h.to(d[i],t,o))}return s},r.activate([te]),te},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(e){"use strict";var t=function(){return(_gsScope.GreenSockGlobals||_gsScope)[e]};"function"==typeof define&&define.amd?define(["TweenLite"],t):"undefined"!=typeof module&&module.exports&&(require("../TweenLite.js"),module.exports=t())}("CSSPlugin"),function(n){"use strict";var o=n.GreenSockGlobals||n,e=function(e){var t,n=e.split("."),i=o;for(t=0;n.length>t;t++)i[n[t]]=i=i[n[t]]||{};return i}("com.greensock.utils"),U=function(e){var t=e.nodeType,n="";if(1===t||9===t||11===t){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=U(e)}else if(3===t||4===t)return e.nodeValue;return n},V=document,X=V.defaultView?V.defaultView.getComputedStyle:function(){},r=/([A-Z])/g,Y=function(e,t,n,i){var o;return(n=n||X(e,null))?o=(e=n.getPropertyValue(t.replace(r,"-$1").toLowerCase()))||n.length?e:n[t]:e.currentStyle&&(o=(n=e.currentStyle)[t]),i?o:parseInt(o,10)||0},a=function(e){return!!(e.length&&e[0]&&(e[0].nodeType&&e[0].style&&!e.nodeType||e[0].length&&e[0][0]))},i=function(e){var t,n,i,o=[],r=e.length;for(t=0;t<r;t++)if(n=e[t],a(n))for(i=n.length,i=0;n.length>i;i++)o.push(n[i]);else o.push(n);return o},G=")eefec303079ad17405c",Q=/(?:<br>|<br\/>|<br \/>)/gi,s="<div style='position:relative;display:inline-block;"+(V.all&&!V.addEventListener?"*display:inline;*zoom:1;'":"'"),Z=function(e){var t=-1!==(e=e||"").indexOf("++"),n=1;return t&&(e=e.split("++").join("")),function(){return s+(e?" class='"+e+(t?n++:"")+"'>":">")}},l=e.SplitText=o.SplitText=function(e,t){if("string"==typeof e&&(e=l.selector(e)),!e)throw"cannot split a null element.";this.elements=a(e)?i(e):[e],this.chars=[],this.words=[],this.lines=[],this._originals=[],this.vars=t||{},this.split(t)},J=function(e,t,n){var i=e.nodeType;if(1===i||9===i||11===i)for(e=e.firstChild;e;e=e.nextSibling)J(e,t,n);else(3===i||4===i)&&(e.nodeValue=e.nodeValue.split(t).join(n))},ee=function(e,t){for(var n=t.length;-1<--n;)e.push(t[n])},c=function(e,t,n,i,o){Q.test(e.innerHTML)&&(e.innerHTML=e.innerHTML.replace(Q,G));var r,a,s,l,c,d,u,h,p,f,m,g,v,T,y=U(e),E=t.type||t.split||"chars,words,lines",b=-1!==E.indexOf("lines")?[]:null,C=-1!==E.indexOf("words"),_=-1!==E.indexOf("chars"),O="absolute"===t.position||!0===t.absolute,I=O?"&#173; ":" ",D=-999,w=X(e),R=Y(e,"paddingLeft",w),k=Y(e,"borderBottomWidth",w)+Y(e,"borderTopWidth",w),x=Y(e,"borderLeftWidth",w)+Y(e,"borderRightWidth",w),S=Y(e,"paddingTop",w)+Y(e,"paddingBottom",w),K=Y(e,"paddingLeft",w)+Y(e,"paddingRight",w),N=Y(e,"textAlign",w,!0),A=e.clientHeight,L=e.clientWidth,P="</div>",M=Z(t.wordsClass),F=Z(t.charsClass),B=-1!==(t.linesClass||"").indexOf("++"),$=t.linesClass,H=-1!==y.indexOf("<"),z=!0,q=[],j=[],W=[];for(B&&($=$.split("++").join("")),H&&(y=y.split("<").join("{{LT}}")),r=y.length,l=M(),c=0;c<r;c++)if(")"===(u=y.charAt(c))&&y.substr(c,20)===G)l+=(z?P:"")+"<BR/>",z=!1,c!==r-20&&y.substr(c+20,20)!==G&&(l+=" "+M(),z=!0),c+=19;else if(" "===u&&" "!==y.charAt(c-1)&&c!==r-1&&y.substr(c-20,20)!==G){for(l+=z?P:"",z=!1;" "===y.charAt(c+1);)l+=I,c++;(")"!==y.charAt(c+1)||y.substr(c+1,20)!==G)&&(l+=I+M(),z=!0)}else l+=_&&" "!==u?F()+u+"</div>":u;for(e.innerHTML=l+(z?P:""),H&&J(e,"{{LT}}","<"),r=(d=e.getElementsByTagName("*")).length,h=[],c=0;c<r;c++)h[c]=d[c];if(b||O)for(c=0;c<r;c++)((s=(p=h[c]).parentNode===e)||O||_&&!C)&&(f=p.offsetTop,b&&s&&f!==D&&"BR"!==p.nodeName&&(a=[],b.push(a),D=f),O&&(p._x=p.offsetLeft,p._y=f,p._w=p.offsetWidth,p._h=p.offsetHeight),b&&(C!==s&&_||(a.push(p),p._x-=R),s&&c&&(h[c-1]._wordEnd=!0),"BR"===p.nodeName&&p.nextSibling&&"BR"===p.nextSibling.nodeName&&b.push([])));for(c=0;c<r;c++)s=(p=h[c]).parentNode===e,"BR"!==p.nodeName?(O&&(g=p.style,C||s||(p._x+=p.parentNode._x,p._y+=p.parentNode._y),g.left=p._x+"px",g.top=p._y+"px",g.position="absolute",g.display="block",g.width=p._w+1+"px",g.height=p._h+"px"),C?s&&""!==p.innerHTML?j.push(p):_&&q.push(p):s?(e.removeChild(p),h.splice(c--,1),r--):!s&&_&&(f=!b&&!O&&p.nextSibling,e.appendChild(p),f||e.appendChild(V.createTextNode(" ")),q.push(p))):b||O?(e.removeChild(p),h.splice(c--,1),r--):C||e.appendChild(p);if(b){for(O&&(m=V.createElement("div"),e.appendChild(m),v=m.offsetWidth+"px",f=m.offsetParent===e?0:e.offsetLeft,e.removeChild(m)),g=e.style.cssText,e.style.cssText="display:none;";e.firstChild;)e.removeChild(e.firstChild);for(T=!O||!C&&!_,c=0;b.length>c;c++){for(a=b[c],(m=V.createElement("div")).style.cssText="display:block;text-align:"+N+";position:"+(O?"absolute;":"relative;"),$&&(m.className=$+(B?c+1:"")),W.push(m),r=a.length,d=0;d<r;d++)"BR"!==a[d].nodeName&&(p=a[d],m.appendChild(p),T&&(p._wordEnd||C)&&m.appendChild(V.createTextNode(" ")),O&&(0===d&&(m.style.top=p._y+"px",m.style.left=R+f+"px"),p.style.top="0px",f&&(p.style.left=p._x-f+"px")));0===r&&(m.innerHTML="&nbsp;"),C||_||(m.innerHTML=U(m).split(String.fromCharCode(160)).join(" ")),O&&(m.style.width=v,m.style.height=p._h+"px"),e.appendChild(m)}e.style.cssText=g}O&&(A>e.clientHeight&&(e.style.height=A-S+"px",A>e.clientHeight&&(e.style.height=A+k+"px")),L>e.clientWidth&&(e.style.width=L-K+"px",L>e.clientWidth&&(e.style.width=L+x+"px"))),ee(n,q),ee(i,j),ee(o,W)},t=l.prototype;t.split=function(e){this.isSplit&&this.revert(),this.vars=e||this.vars,this._originals.length=this.chars.length=this.words.length=this.lines.length=0;for(var t=this.elements.length;-1<--t;)this._originals[t]=this.elements[t].innerHTML,c(this.elements[t],this.vars,this.chars,this.words,this.lines);return this.chars.reverse(),this.words.reverse(),this.lines.reverse(),this.isSplit=!0,this},t.revert=function(){if(!this._originals)throw"revert() call wasn't scoped properly.";for(var e=this._originals.length;-1<--e;)this.elements[e].innerHTML=this._originals[e];return this.chars=[],this.words=[],this.lines=[],this.isSplit=!1,this},l.selector=n.$||n.jQuery||function(e){var t=n.$||n.jQuery;return t?(l.selector=t)(e):"undefined"==typeof document?e:document.querySelectorAll?document.querySelectorAll(e):document.getElementById("#"===e.charAt(0)?e.substr(1):e)},l.version="0.3.3"}(_gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window),function(e){"use strict";var t=function(){return(_gsScope.GreenSockGlobals||_gsScope)[e]};"function"==typeof define&&define.amd?define(["TweenLite"],t):"undefined"!=typeof module&&module.exports&&(module.exports=t())}("SplitText");try{window.GreenSockGlobals=null,window._gsQueue=null,window._gsDefine=null,delete window.GreenSockGlobals,delete window._gsQueue,delete window._gsDefine}catch(e){}try{window.GreenSockGlobals=oldgs,window._gsQueue=oldgs_queue}catch(e){}if(1==window.tplogs)try{console.groupEnd()}catch(e){}!function(d){d.waitForImages={hasImageProperties:["backgroundImage","listStyleImage","borderImage","borderCornerImage"]},d.expr[":"].uncached=function(e){var t=document.createElement("img");return t.src=e.src,d(e).is('img[src!=""]')&&!t.complete},d.fn.waitForImages=function(l,c,t){if(d.isPlainObject(l)&&(c=l.each,t=l.waitForAll,l=l.finished),l=l||d.noop,c=c||d.noop,t=!!t,!d.isFunction(l)||!d.isFunction(c))throw new TypeError("An invalid callback was supplied.");return this.each(function(){var i=d(this),r=[];if(t){var e=d.waitForImages.hasImageProperties||[],a=/url\((['"]?)(.*?)\1\)/g;i.find("*").each(function(){var o=d(this);o.is("img:uncached")&&r.push({src:o.attr("src"),element:o[0]}),d.each(e,function(e,t){var n,i=o.css(t);if(!i)return!0;for(;n=a.exec(i);)r.push({src:n[2],element:o[0]})})})}else i.find("img:uncached").each(function(){r.push({src:this.src,element:this})});var o=r.length,s=0;0==o&&l.call(i[0]),d.each(r,function(e,t){var n=new Image;d(n).bind("load error",function(e){if(s++,c.call(t.element,s,o,"load"==e.type),s==o)return l.call(i[0]),!1}),n.src=t.src})})}}(jQuery),function(e,t){"use strict";"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.Headroom=t()}(this,function(){"use strict";function e(e){this.callback=e,this.ticking=!1}function r(e){return e&&"undefined"!=typeof window&&(e===window||e.nodeType)}function a(e){if(arguments.length<=0)throw new Error("Missing arguments in extend function");var t,n,i=e||{};for(n=1;n<arguments.length;n++){var o=arguments[n]||{};for(t in o)"object"!=typeof i[t]||r(i[t])?i[t]=i[t]||o[t]:i[t]=a(i[t],o[t])}return i}function n(e){return e===Object(e)?e:{down:e,up:e}}function i(e,t){t=a(t,i.options),this.lastKnownScrollY=0,this.elem=e,this.tolerance=n(t.tolerance),this.classes=t.classes,this.offset=t.offset,this.scroller=t.scroller,this.initialised=!1,this.onPin=t.onPin,this.onUnpin=t.onUnpin,this.onTop=t.onTop,this.onNotTop=t.onNotTop,this.onBottom=t.onBottom,this.onNotBottom=t.onNotBottom}var t={bind:!!function(){}.bind,classList:"classList"in document.documentElement,rAF:!!(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame)};return window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame,e.prototype={constructor:e,update:function(){this.callback&&this.callback(),this.ticking=!1},requestTick:function(){this.ticking||(requestAnimationFrame(this.rafCallback||(this.rafCallback=this.update.bind(this))),this.ticking=!0)},handleEvent:function(){this.requestTick()}},i.prototype={constructor:i,init:function(){return i.cutsTheMustard?(this.debouncer=new e(this.update.bind(this)),this.elem.classList.add(this.classes.initial),setTimeout(this.attachEvent.bind(this),100),this):void 0},destroy:function(){var e=this.classes;this.initialised=!1,this.elem.classList.remove(e.unpinned,e.pinned,e.top,e.notTop,e.initial),this.scroller.removeEventListener("scroll",this.debouncer,!1)},attachEvent:function(){this.initialised||(this.lastKnownScrollY=this.getScrollY(),this.initialised=!0,this.scroller.addEventListener("scroll",this.debouncer,!1),this.debouncer.handleEvent())},unpin:function(){var e=this.elem.classList,t=this.classes;!e.contains(t.pinned)&&e.contains(t.unpinned)||(e.add(t.unpinned),e.remove(t.pinned),this.onUnpin&&this.onUnpin.call(this))},pin:function(){var e=this.elem.classList,t=this.classes;e.contains(t.unpinned)&&(e.remove(t.unpinned),e.add(t.pinned),this.onPin&&this.onPin.call(this))},top:function(){var e=this.elem.classList,t=this.classes;e.contains(t.top)||(e.add(t.top),e.remove(t.notTop),this.onTop&&this.onTop.call(this))},notTop:function(){var e=this.elem.classList,t=this.classes;e.contains(t.notTop)||(e.add(t.notTop),e.remove(t.top),this.onNotTop&&this.onNotTop.call(this))},bottom:function(){var e=this.elem.classList,t=this.classes;e.contains(t.bottom)||(e.add(t.bottom),e.remove(t.notBottom),this.onBottom&&this.onBottom.call(this))},notBottom:function(){var e=this.elem.classList,t=this.classes;e.contains(t.notBottom)||(e.add(t.notBottom),e.remove(t.bottom),this.onNotBottom&&this.onNotBottom.call(this))},getScrollY:function(){return void 0!==this.scroller.pageYOffset?this.scroller.pageYOffset:void 0!==this.scroller.scrollTop?this.scroller.scrollTop:(document.documentElement||document.body.parentNode||document.body).scrollTop},getViewportHeight:function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},getElementPhysicalHeight:function(e){return Math.max(e.offsetHeight,e.clientHeight)},getScrollerPhysicalHeight:function(){return this.scroller===window||this.scroller===document.body?this.getViewportHeight():this.getElementPhysicalHeight(this.scroller)},getDocumentHeight:function(){var e=document.body,t=document.documentElement;return Math.max(e.scrollHeight,t.scrollHeight,e.offsetHeight,t.offsetHeight,e.clientHeight,t.clientHeight)},getElementHeight:function(e){return Math.max(e.scrollHeight,e.offsetHeight,e.clientHeight)},getScrollerHeight:function(){return this.scroller===window||this.scroller===document.body?this.getDocumentHeight():this.getElementHeight(this.scroller)},isOutOfBounds:function(e){var t=e<0,n=e+this.getScrollerPhysicalHeight()>this.getScrollerHeight();return t||n},toleranceExceeded:function(e,t){return Math.abs(e-this.lastKnownScrollY)>=this.tolerance[t]},shouldUnpin:function(e,t){var n=e>this.lastKnownScrollY,i=e>=this.offset;return n&&i&&t},shouldPin:function(e,t){var n=e<this.lastKnownScrollY,i=e<=this.offset;return n&&t||i},update:function(){var e=this.getScrollY(),t=e>this.lastKnownScrollY?"down":"up",n=this.toleranceExceeded(e,t);this.isOutOfBounds(e)||(e<=this.offset?this.top():this.notTop(),e+this.getViewportHeight()>=this.getScrollerHeight()?this.bottom():this.notBottom(),this.shouldUnpin(e,n)?this.unpin():this.shouldPin(e,n)&&this.pin(),this.lastKnownScrollY=e)}},i.options={tolerance:{up:0,down:0},offset:0,scroller:window,classes:{pinned:"headroom--pinned",unpinned:"headroom--unpinned",top:"headroom--top",notTop:"headroom--not-top",bottom:"headroom--bottom",notBottom:"headroom--not-bottom",initial:"headroom"}},i.cutsTheMustard=void 0!==t&&t.rAF&&t.bind&&t.classList,i}),function(h){h.fn.hoverIntent=function(e,t,n){var i,o,r,a,s={interval:50,sensitivity:7,timeout:0};s="object"==typeof e?h.extend(s,e):h.isFunction(t)?h.extend(s,{over:e,out:t,selector:n}):h.extend(s,{over:e,out:e,selector:t});var l=function(e){i=e.pageX,o=e.pageY},c=function(e,t){if(t.hoverIntent_t=clearTimeout(t.hoverIntent_t),Math.abs(r-i)+Math.abs(a-o)<s.sensitivity)return h(t).off("mousemove.hoverIntent",l),t.hoverIntent_s=1,s.over.apply(t,[e]);r=i,a=o,t.hoverIntent_t=setTimeout(function(){c(e,t)},s.interval)},d=function(e,t){return t.hoverIntent_t=clearTimeout(t.hoverIntent_t),t.hoverIntent_s=0,s.out.apply(t,[e])},u=function(e){var t=jQuery.extend({},e),n=this;n.hoverIntent_t&&(n.hoverIntent_t=clearTimeout(n.hoverIntent_t)),"mouseenter"==e.type?(r=t.pageX,a=t.pageY,h(n).on("mousemove.hoverIntent",l),1!=n.hoverIntent_s&&(n.hoverIntent_t=setTimeout(function(){c(t,n)},s.interval))):(h(n).off("mousemove.hoverIntent",l),1==n.hoverIntent_s&&(n.hoverIntent_t=setTimeout(function(){d(t,n)},s.timeout)))};return this.on({"mouseenter.hoverIntent":u,"mouseleave.hoverIntent":u},s.selector)}}(jQuery),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(d){"use strict";var s=window.Slick||{};(s=function(){function e(e,t){var n,i=this;i.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:d(e),appendDots:d(e),arrows:!0,asNavFor:null,prevArrow:'<button type="button" data-role="none" class="slick-prev" aria-label="Previous" tabindex="0" role="button">Previous</button>',nextArrow:'<button type="button" data-role="none" class="slick-next" aria-label="Next" tabindex="0" role="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(e,t){return d('<button type="button" data-role="none" role="button" tabindex="0" />').text(t+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},i.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},d.extend(i,i.initials),i.activeBreakpoint=null,i.animType=null,i.animProp=null,i.breakpoints=[],i.breakpointSettings=[],i.cssTransitions=!1,i.focussed=!1,i.interrupted=!1,i.hidden="hidden",i.paused=!0,i.positionProp=null,i.respondTo=null,i.rowCount=1,i.shouldClick=!0,i.$slider=d(e),i.$slidesCache=null,i.transformType=null,i.transitionType=null,i.visibilityChange="visibilitychange",i.windowWidth=0,i.windowTimer=null,n=d(e).data("slick")||{},i.options=d.extend({},i.defaults,t,n),i.currentSlide=i.options.initialSlide,i.originalSettings=i.options,"undefined"!=typeof document.mozHidden?(i.hidden="mozHidden",i.visibilityChange="mozvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(i.hidden="webkitHidden",i.visibilityChange="webkitvisibilitychange"),i.autoPlay=d.proxy(i.autoPlay,i),i.autoPlayClear=d.proxy(i.autoPlayClear,i),i.autoPlayIterator=d.proxy(i.autoPlayIterator,i),i.changeSlide=d.proxy(i.changeSlide,i),i.clickHandler=d.proxy(i.clickHandler,i),i.selectHandler=d.proxy(i.selectHandler,i),i.setPosition=d.proxy(i.setPosition,i),i.swipeHandler=d.proxy(i.swipeHandler,i),i.dragHandler=d.proxy(i.dragHandler,i),i.keyHandler=d.proxy(i.keyHandler,i),i.instanceUid=o++,i.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,i.registerBreakpoints(),i.init(!0)}var o=0;return e}()).prototype.activateADA=function(){this.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},s.prototype.addSlide=s.prototype.slickAdd=function(e,t,n){var i=this;if("boolean"==typeof t)n=t,t=null;else if(t<0||t>=i.slideCount)return!1;i.unload(),"number"==typeof t?0===t&&0===i.$slides.length?d(e).appendTo(i.$slideTrack):n?d(e).insertBefore(i.$slides.eq(t)):d(e).insertAfter(i.$slides.eq(t)):!0===n?d(e).prependTo(i.$slideTrack):d(e).appendTo(i.$slideTrack),i.$slides=i.$slideTrack.children(this.options.slide),i.$slideTrack.children(this.options.slide).detach(),i.$slideTrack.append(i.$slides),i.$slides.each(function(e,t){d(t).attr("data-slick-index",e)}),i.$slidesCache=i.$slides,i.reinit()},s.prototype.animateHeight=function(){var e=this;if(1===e.options.slidesToShow&&!0===e.options.adaptiveHeight&&!1===e.options.vertical){var t=e.$slides.eq(e.currentSlide).outerHeight(!0);e.$list.animate({height:t},e.options.speed)}},s.prototype.animateSlide=function(e,t){var n={},i=this;i.animateHeight(),!0===i.options.rtl&&!1===i.options.vertical&&(e=-e),!1===i.transformsEnabled?!1===i.options.vertical?i.$slideTrack.animate({left:e},i.options.speed,i.options.easing,t):i.$slideTrack.animate({top:e},i.options.speed,i.options.easing,t):!1===i.cssTransitions?(!0===i.options.rtl&&(i.currentLeft=-i.currentLeft),d({animStart:i.currentLeft}).animate({animStart:e},{duration:i.options.speed,easing:i.options.easing,step:function(e){e=Math.ceil(e),!1===i.options.vertical?n[i.animType]="translate("+e+"px, 0px)":n[i.animType]="translate(0px,"+e+"px)",i.$slideTrack.css(n)},complete:function(){t&&t.call()}})):(i.applyTransition(),e=Math.ceil(e),!1===i.options.vertical?n[i.animType]="translate3d("+e+"px, 0px, 0px)":n[i.animType]="translate3d(0px,"+e+"px, 0px)",i.$slideTrack.css(n),t&&setTimeout(function(){i.disableTransition(),t.call()},i.options.speed))},s.prototype.getNavTarget=function(){var e=this,t=e.options.asNavFor;return t&&null!==t&&(t=d(t).not(e.$slider)),t},s.prototype.asNavFor=function(t){var e=this.getNavTarget();null!==e&&"object"==typeof e&&e.each(function(){var e=d(this).slick("getSlick");e.unslicked||e.slideHandler(t,!0)})},s.prototype.applyTransition=function(e){var t=this,n={};!1===t.options.fade?n[t.transitionType]=t.transformType+" "+t.options.speed+"ms "+t.options.cssEase:n[t.transitionType]="opacity "+t.options.speed+"ms "+t.options.cssEase,!1===t.options.fade?t.$slideTrack.css(n):t.$slides.eq(e).css(n)},s.prototype.autoPlay=function(){var e=this;e.autoPlayClear(),e.slideCount>e.options.slidesToShow&&(e.autoPlayTimer=setInterval(e.autoPlayIterator,e.options.autoplaySpeed))},s.prototype.autoPlayClear=function(){var e=this;e.autoPlayTimer&&clearInterval(e.autoPlayTimer)},s.prototype.autoPlayIterator=function(){var e=this,t=e.currentSlide+e.options.slidesToScroll;e.paused||e.interrupted||e.focussed||(!1===e.options.infinite&&(1===e.direction&&e.currentSlide+1===e.slideCount-1?e.direction=0:0===e.direction&&(t=e.currentSlide-e.options.slidesToScroll,e.currentSlide-1==0&&(e.direction=1))),e.slideHandler(t))},s.prototype.buildArrows=function(){var e=this;!0===e.options.arrows&&(e.$prevArrow=d(e.options.prevArrow).addClass("slick-arrow"),e.$nextArrow=d(e.options.nextArrow).addClass("slick-arrow"),e.slideCount>e.options.slidesToShow?(e.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.prependTo(e.options.appendArrows),e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.appendTo(e.options.appendArrows),!0!==e.options.infinite&&e.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):e.$prevArrow.add(e.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},s.prototype.buildDots=function(){var e,t,n=this;if(!0===n.options.dots&&n.slideCount>n.options.slidesToShow){for(n.$slider.addClass("slick-dotted"),t=d("<ul />").addClass(n.options.dotsClass),e=0;e<=n.getDotCount();e+=1)t.append(d("<li />").append(n.options.customPaging.call(this,n,e)));n.$dots=t.appendTo(n.options.appendDots),n.$dots.find("li").first().addClass(
"slick-active").attr("aria-hidden","false")}},s.prototype.buildOut=function(){var e=this;e.$slides=e.$slider.children(e.options.slide+":not(.slick-cloned)").addClass("slick-slide"),e.slideCount=e.$slides.length,e.$slides.each(function(e,t){d(t).attr("data-slick-index",e).data("originalStyling",d(t).attr("style")||"")}),e.$slider.addClass("slick-slider"),e.$slideTrack=0===e.slideCount?d('<div class="slick-track"/>').appendTo(e.$slider):e.$slides.wrapAll('<div class="slick-track"/>').parent(),e.$list=e.$slideTrack.wrap('<div aria-live="polite" class="slick-list"/>').parent(),e.$slideTrack.css("opacity",0),(!0===e.options.centerMode||!0===e.options.swipeToSlide)&&(e.options.slidesToScroll=1),d("img[data-lazy]",e.$slider).not("[src]").addClass("slick-loading"),e.setupInfinite(),e.buildArrows(),e.buildDots(),e.updateDots(),e.setSlideClasses("number"==typeof e.currentSlide?e.currentSlide:0),!0===e.options.draggable&&e.$list.addClass("draggable")},s.prototype.buildRows=function(){var e,t,n,i,o,r,a,s=this;if(i=document.createDocumentFragment(),r=s.$slider.children(),1<s.options.rows){for(a=s.options.slidesPerRow*s.options.rows,o=Math.ceil(r.length/a),e=0;e<o;e++){var l=document.createElement("div");for(t=0;t<s.options.rows;t++){var c=document.createElement("div");for(n=0;n<s.options.slidesPerRow;n++){var d=e*a+(t*s.options.slidesPerRow+n);r.get(d)&&c.appendChild(r.get(d))}l.appendChild(c)}i.appendChild(l)}s.$slider.empty().append(i),s.$slider.children().children().children().css({width:100/s.options.slidesPerRow+"%",display:"inline-block"})}},s.prototype.checkResponsive=function(e,t){var n,i,o,r=this,a=!1,s=r.$slider.width(),l=window.innerWidth||d(window).width();if("window"===r.respondTo?o=l:"slider"===r.respondTo?o=s:"min"===r.respondTo&&(o=Math.min(l,s)),r.options.responsive&&r.options.responsive.length&&null!==r.options.responsive){for(n in i=null,r.breakpoints)r.breakpoints.hasOwnProperty(n)&&(!1===r.originalSettings.mobileFirst?o<r.breakpoints[n]&&(i=r.breakpoints[n]):o>r.breakpoints[n]&&(i=r.breakpoints[n]));null!==i?null!==r.activeBreakpoint?(i!==r.activeBreakpoint||t)&&(r.activeBreakpoint=i,"unslick"===r.breakpointSettings[i]?r.unslick(i):(r.options=d.extend({},r.originalSettings,r.breakpointSettings[i]),!0===e&&(r.currentSlide=r.options.initialSlide),r.refresh(e)),a=i):(r.activeBreakpoint=i,"unslick"===r.breakpointSettings[i]?r.unslick(i):(r.options=d.extend({},r.originalSettings,r.breakpointSettings[i]),!0===e&&(r.currentSlide=r.options.initialSlide),r.refresh(e)),a=i):null!==r.activeBreakpoint&&(r.activeBreakpoint=null,r.options=r.originalSettings,!0===e&&(r.currentSlide=r.options.initialSlide),r.refresh(e),a=i),e||!1===a||r.$slider.trigger("breakpoint",[r,a])}},s.prototype.changeSlide=function(e,t){var n,i,o=this,r=d(e.currentTarget);switch(r.is("a")&&e.preventDefault(),r.is("li")||(r=r.closest("li")),n=o.slideCount%o.options.slidesToScroll!=0?0:(o.slideCount-o.currentSlide)%o.options.slidesToScroll,e.data.message){case"previous":i=0===n?o.options.slidesToScroll:o.options.slidesToShow-n,o.slideCount>o.options.slidesToShow&&o.slideHandler(o.currentSlide-i,!1,t);break;case"next":i=0===n?o.options.slidesToScroll:n,o.slideCount>o.options.slidesToShow&&o.slideHandler(o.currentSlide+i,!1,t);break;case"index":var a=0===e.data.index?0:e.data.index||r.index()*o.options.slidesToScroll;o.slideHandler(o.checkNavigable(a),!1,t),r.children().trigger("focus");break;default:return}},s.prototype.checkNavigable=function(e){var t,n;if(n=0,e>(t=this.getNavigableIndexes())[t.length-1])e=t[t.length-1];else for(var i in t){if(e<t[i]){e=n;break}n=t[i]}return e},s.prototype.cleanUpEvents=function(){var e=this;e.options.dots&&null!==e.$dots&&d("li",e.$dots).off("click.slick",e.changeSlide).off("mouseenter.slick",d.proxy(e.interrupt,e,!0)).off("mouseleave.slick",d.proxy(e.interrupt,e,!1)),e.$slider.off("focus.slick blur.slick"),!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow&&e.$prevArrow.off("click.slick",e.changeSlide),e.$nextArrow&&e.$nextArrow.off("click.slick",e.changeSlide)),e.$list.off("touchstart.slick mousedown.slick",e.swipeHandler),e.$list.off("touchmove.slick mousemove.slick",e.swipeHandler),e.$list.off("touchend.slick mouseup.slick",e.swipeHandler),e.$list.off("touchcancel.slick mouseleave.slick",e.swipeHandler),e.$list.off("click.slick",e.clickHandler),d(document).off(e.visibilityChange,e.visibility),e.cleanUpSlideEvents(),!0===e.options.accessibility&&e.$list.off("keydown.slick",e.keyHandler),!0===e.options.focusOnSelect&&d(e.$slideTrack).children().off("click.slick",e.selectHandler),d(window).off("orientationchange.slick.slick-"+e.instanceUid,e.orientationChange),d(window).off("resize.slick.slick-"+e.instanceUid,e.resize),d("[draggable!=true]",e.$slideTrack).off("dragstart",e.preventDefault),d(window).off("load.slick.slick-"+e.instanceUid,e.setPosition),d(document).off("ready.slick.slick-"+e.instanceUid,e.setPosition)},s.prototype.cleanUpSlideEvents=function(){var e=this;e.$list.off("mouseenter.slick",d.proxy(e.interrupt,e,!0)),e.$list.off("mouseleave.slick",d.proxy(e.interrupt,e,!1))},s.prototype.cleanUpRows=function(){var e,t=this;1<t.options.rows&&((e=t.$slides.children().children()).removeAttr("style"),t.$slider.empty().append(e))},s.prototype.clickHandler=function(e){!1===this.shouldClick&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault())},s.prototype.destroy=function(e){var t=this;t.autoPlayClear(),t.touchObject={},t.cleanUpEvents(),d(".slick-cloned",t.$slider).detach(),t.$dots&&t.$dots.remove(),t.$prevArrow&&t.$prevArrow.length&&(t.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.remove()),t.$nextArrow&&t.$nextArrow.length&&(t.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.remove()),t.$slides&&(t.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){d(this).attr("style",d(this).data("originalStyling"))}),t.$slideTrack.children(this.options.slide).detach(),t.$slideTrack.detach(),t.$list.detach(),t.$slider.append(t.$slides)),t.cleanUpRows(),t.$slider.removeClass("slick-slider"),t.$slider.removeClass("slick-initialized"),t.$slider.removeClass("slick-dotted"),t.unslicked=!0,e||t.$slider.trigger("destroy",[t])},s.prototype.disableTransition=function(e){var t=this,n={};n[t.transitionType]="",!1===t.options.fade?t.$slideTrack.css(n):t.$slides.eq(e).css(n)},s.prototype.fadeSlide=function(e,t){var n=this;!1===n.cssTransitions?(n.$slides.eq(e).css({zIndex:n.options.zIndex}),n.$slides.eq(e).animate({opacity:1},n.options.speed,n.options.easing,t)):(n.applyTransition(e),n.$slides.eq(e).css({opacity:1,zIndex:n.options.zIndex}),t&&setTimeout(function(){n.disableTransition(e),t.call()},n.options.speed))},s.prototype.fadeSlideOut=function(e){var t=this;!1===t.cssTransitions?t.$slides.eq(e).animate({opacity:0,zIndex:t.options.zIndex-2},t.options.speed,t.options.easing):(t.applyTransition(e),t.$slides.eq(e).css({opacity:0,zIndex:t.options.zIndex-2}))},s.prototype.filterSlides=s.prototype.slickFilter=function(e){var t=this;null!==e&&(t.$slidesCache=t.$slides,t.unload(),t.$slideTrack.children(this.options.slide).detach(),t.$slidesCache.filter(e).appendTo(t.$slideTrack),t.reinit())},s.prototype.focusHandler=function(){var n=this;n.$slider.off("focus.slick blur.slick").on("focus.slick blur.slick","*:not(.slick-arrow)",function(e){e.stopImmediatePropagation();var t=d(this);setTimeout(function(){n.options.pauseOnFocus&&(n.focussed=t.is(":focus"),n.autoPlay())},0)})},s.prototype.getCurrent=s.prototype.slickCurrentSlide=function(){return this.currentSlide},s.prototype.getDotCount=function(){var e=this,t=0,n=0,i=0;if(!0===e.options.infinite)for(;t<e.slideCount;)++i,t=n+e.options.slidesToScroll,n+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;else if(!0===e.options.centerMode)i=e.slideCount;else if(e.options.asNavFor)for(;t<e.slideCount;)++i,t=n+e.options.slidesToScroll,n+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;else i=1+Math.ceil((e.slideCount-e.options.slidesToShow)/e.options.slidesToScroll);return i-1},s.prototype.getLeft=function(e){var t,n,i,o=this,r=0;return o.slideOffset=0,n=o.$slides.first().outerHeight(!0),!0===o.options.infinite?(o.slideCount>o.options.slidesToShow&&(o.slideOffset=o.slideWidth*o.options.slidesToShow*-1,r=n*o.options.slidesToShow*-1),o.slideCount%o.options.slidesToScroll!=0&&e+o.options.slidesToScroll>o.slideCount&&o.slideCount>o.options.slidesToShow&&(r=e>o.slideCount?(o.slideOffset=(o.options.slidesToShow-(e-o.slideCount))*o.slideWidth*-1,(o.options.slidesToShow-(e-o.slideCount))*n*-1):(o.slideOffset=o.slideCount%o.options.slidesToScroll*o.slideWidth*-1,o.slideCount%o.options.slidesToScroll*n*-1))):e+o.options.slidesToShow>o.slideCount&&(o.slideOffset=(e+o.options.slidesToShow-o.slideCount)*o.slideWidth,r=(e+o.options.slidesToShow-o.slideCount)*n),o.slideCount<=o.options.slidesToShow&&(r=o.slideOffset=0),!0===o.options.centerMode&&!0===o.options.infinite?o.slideOffset+=o.slideWidth*Math.floor(o.options.slidesToShow/2)-o.slideWidth:!0===o.options.centerMode&&(o.slideOffset=0,o.slideOffset+=o.slideWidth*Math.floor(o.options.slidesToShow/2)),t=!1===o.options.vertical?e*o.slideWidth*-1+o.slideOffset:e*n*-1+r,!0===o.options.variableWidth&&(i=o.slideCount<=o.options.slidesToShow||!1===o.options.infinite?o.$slideTrack.children(".slick-slide").eq(e):o.$slideTrack.children(".slick-slide").eq(e+o.options.slidesToShow),t=!0===o.options.rtl?i[0]?-1*(o.$slideTrack.width()-i[0].offsetLeft-i.width()):0:i[0]?-1*i[0].offsetLeft:0,!0===o.options.centerMode&&(i=o.slideCount<=o.options.slidesToShow||!1===o.options.infinite?o.$slideTrack.children(".slick-slide").eq(e):o.$slideTrack.children(".slick-slide").eq(e+o.options.slidesToShow+1),t=!0===o.options.rtl?i[0]?-1*(o.$slideTrack.width()-i[0].offsetLeft-i.width()):0:i[0]?-1*i[0].offsetLeft:0,t+=(o.$list.width()-i.outerWidth())/2)),t},s.prototype.getOption=s.prototype.slickGetOption=function(e){return this.options[e]},s.prototype.getNavigableIndexes=function(){var e,t=this,n=0,i=0,o=[];for(e=!1===t.options.infinite?t.slideCount:(n=-1*t.options.slidesToScroll,i=-1*t.options.slidesToScroll,2*t.slideCount);n<e;)o.push(n),n=i+t.options.slidesToScroll,i+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;return o},s.prototype.getSlick=function(){return this},s.prototype.getSlideCount=function(){var n,i,o=this;return i=!0===o.options.centerMode?o.slideWidth*Math.floor(o.options.slidesToShow/2):0,!0===o.options.swipeToSlide?(o.$slideTrack.find(".slick-slide").each(function(e,t){return t.offsetLeft-i+d(t).outerWidth()/2>-1*o.swipeLeft?(n=t,!1):void 0}),Math.abs(d(n).attr("data-slick-index")-o.currentSlide)||1):o.options.slidesToScroll},s.prototype.goTo=s.prototype.slickGoTo=function(e,t){this.changeSlide({data:{message:"index",index:parseInt(e)}},t)},s.prototype.init=function(e){var t=this;d(t.$slider).hasClass("slick-initialized")||(d(t.$slider).addClass("slick-initialized"),t.buildRows(),t.buildOut(),t.setProps(),t.startLoad(),t.loadSlider(),t.initializeEvents(),t.updateArrows(),t.updateDots(),t.checkResponsive(!0),t.focusHandler()),e&&t.$slider.trigger("init",[t]),!0===t.options.accessibility&&t.initADA(),t.options.autoplay&&(t.paused=!1,t.autoPlay())},s.prototype.initADA=function(){var t=this;t.$slides.add(t.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),t.$slideTrack.attr("role","listbox"),t.$slides.not(t.$slideTrack.find(".slick-cloned")).each(function(e){d(this).attr({role:"option","aria-describedby":"slick-slide"+t.instanceUid+e})}),null!==t.$dots&&t.$dots.attr("role","tablist").find("li").each(function(e){d(this).attr({role:"presentation","aria-selected":"false","aria-controls":"navigation"+t.instanceUid+e,id:"slick-slide"+t.instanceUid+e})}).first().attr("aria-selected","true").end().find("button").attr("role","button").end().closest("div").attr("role","toolbar"),t.activateADA()},s.prototype.initArrowEvents=function(){var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.off("click.slick").on("click.slick",{message:"previous"},e.changeSlide),e.$nextArrow.off("click.slick").on("click.slick",{message:"next"},e.changeSlide))},s.prototype.initDotEvents=function(){var e=this;!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&d("li",e.$dots).on("click.slick",{message:"index"},e.changeSlide),!0===e.options.dots&&!0===e.options.pauseOnDotsHover&&d("li",e.$dots).on("mouseenter.slick",d.proxy(e.interrupt,e,!0)).on("mouseleave.slick",d.proxy(e.interrupt,e,!1))},s.prototype.initSlideEvents=function(){var e=this;e.options.pauseOnHover&&(e.$list.on("mouseenter.slick",d.proxy(e.interrupt,e,!0)),e.$list.on("mouseleave.slick",d.proxy(e.interrupt,e,!1)))},s.prototype.initializeEvents=function(){var e=this;e.initArrowEvents(),e.initDotEvents(),e.initSlideEvents(),e.$list.on("touchstart.slick mousedown.slick",{action:"start"},e.swipeHandler),e.$list.on("touchmove.slick mousemove.slick",{action:"move"},e.swipeHandler),e.$list.on("touchend.slick mouseup.slick",{action:"end"},e.swipeHandler),e.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},e.swipeHandler),e.$list.on("click.slick",e.clickHandler),d(document).on(e.visibilityChange,d.proxy(e.visibility,e)),!0===e.options.accessibility&&e.$list.on("keydown.slick",e.keyHandler),!0===e.options.focusOnSelect&&d(e.$slideTrack).children().on("click.slick",e.selectHandler),d(window).on("orientationchange.slick.slick-"+e.instanceUid,d.proxy(e.orientationChange,e)),d(window).on("resize.slick.slick-"+e.instanceUid,d.proxy(e.resize,e)),d("[draggable!=true]",e.$slideTrack).on("dragstart",e.preventDefault),d(window).on("load.slick.slick-"+e.instanceUid,e.setPosition),d(document).on("ready.slick.slick-"+e.instanceUid,e.setPosition)},s.prototype.initUI=function(){var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.show(),e.$nextArrow.show()),!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&e.$dots.show()},s.prototype.keyHandler=function(e){var t=this;e.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===e.keyCode&&!0===t.options.accessibility?t.changeSlide({data:{message:!0===t.options.rtl?"next":"previous"}}):39===e.keyCode&&!0===t.options.accessibility&&t.changeSlide({data:{message:!0===t.options.rtl?"previous":"next"}}))},s.prototype.lazyLoad=function(){function e(e){d("img[data-lazy]",e).each(function(){var e=d(this),t=d(this).attr("data-lazy"),n=document.createElement("img");n.onload=function(){e.animate({opacity:0},100,function(){e.attr("src",t).animate({opacity:1},200,function(){e.removeAttr("data-lazy").removeClass("slick-loading")}),i.$slider.trigger("lazyLoaded",[i,e,t])})},n.onerror=function(){e.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),i.$slider.trigger("lazyLoadError",[i,e,t])},n.src=t})}var t,n,i=this;!0===i.options.centerMode?n=!0===i.options.infinite?(t=i.currentSlide+(i.options.slidesToShow/2+1))+i.options.slidesToShow+2:(t=Math.max(0,i.currentSlide-(i.options.slidesToShow/2+1)),i.options.slidesToShow/2+1+2+i.currentSlide):(t=i.options.infinite?i.options.slidesToShow+i.currentSlide:i.currentSlide,n=Math.ceil(t+i.options.slidesToShow),!0===i.options.fade&&(0<t&&t--,n<=i.slideCount&&n++)),e(i.$slider.find(".slick-slide").slice(t,n)),i.slideCount<=i.options.slidesToShow?e(i.$slider.find(".slick-slide")):i.currentSlide>=i.slideCount-i.options.slidesToShow?e(i.$slider.find(".slick-cloned").slice(0,i.options.slidesToShow)):0===i.currentSlide&&e(i.$slider.find(".slick-cloned").slice(-1*i.options.slidesToShow))},s.prototype.loadSlider=function(){var e=this;e.setPosition(),e.$slideTrack.css({opacity:1}),e.$slider.removeClass("slick-loading"),e.initUI(),"progressive"===e.options.lazyLoad&&e.progressiveLazyLoad()},s.prototype.next=s.prototype.slickNext=function(){this.changeSlide({data:{message:"next"}})},s.prototype.orientationChange=function(){var e=this;e.checkResponsive(),e.setPosition()},s.prototype.pause=s.prototype.slickPause=function(){var e=this;e.autoPlayClear(),e.paused=!0},s.prototype.play=s.prototype.slickPlay=function(){var e=this;e.autoPlay(),e.options.autoplay=!0,e.paused=!1,e.focussed=!1,e.interrupted=!1},s.prototype.postSlide=function(e){var t=this;t.unslicked||(t.$slider.trigger("afterChange",[t,e]),t.animating=!1,t.setPosition(),t.swipeLeft=null,t.options.autoplay&&t.autoPlay(),!0===t.options.accessibility&&t.initADA())},s.prototype.prev=s.prototype.slickPrev=function(){this.changeSlide({data:{message:"previous"}})},s.prototype.preventDefault=function(e){e.preventDefault()},s.prototype.progressiveLazyLoad=function(e){e=e||1;var t,n,i,o=this,r=d("img[data-lazy]",o.$slider);r.length?(t=r.first(),n=t.attr("data-lazy"),(i=document.createElement("img")).onload=function(){t.attr("src",n).removeAttr("data-lazy").removeClass("slick-loading"),!0===o.options.adaptiveHeight&&o.setPosition(),o.$slider.trigger("lazyLoaded",[o,t,n]),o.progressiveLazyLoad()},i.onerror=function(){e<3?setTimeout(function(){o.progressiveLazyLoad(e+1)},500):(t.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),o.$slider.trigger("lazyLoadError",[o,t,n]),o.progressiveLazyLoad())},i.src=n):o.$slider.trigger("allImagesLoaded",[o])},s.prototype.refresh=function(e){var t,n,i=this;n=i.slideCount-i.options.slidesToShow,!i.options.infinite&&i.currentSlide>n&&(i.currentSlide=n),i.slideCount<=i.options.slidesToShow&&(i.currentSlide=0),t=i.currentSlide,i.destroy(!0),d.extend(i,i.initials,{currentSlide:t}),i.init(),e||i.changeSlide({data:{message:"index",index:t}},!1)},s.prototype.registerBreakpoints=function(){var e,t,n,i=this,o=i.options.responsive||null;if("array"===d.type(o)&&o.length){for(e in i.respondTo=i.options.respondTo||"window",o)if(n=i.breakpoints.length-1,t=o[e].breakpoint,o.hasOwnProperty(e)){for(;0<=n;)i.breakpoints[n]&&i.breakpoints[n]===t&&i.breakpoints.splice(n,1),n--;i.breakpoints.push(t),i.breakpointSettings[t]=o[e].settings}i.breakpoints.sort(function(e,t){return i.options.mobileFirst?e-t:t-e})}},s.prototype.reinit=function(){var e=this;e.$slides=e.$slideTrack.children(e.options.slide).addClass("slick-slide"),e.slideCount=e.$slides.length,e.currentSlide>=e.slideCount&&0!==e.currentSlide&&(e.currentSlide=e.currentSlide-e.options.slidesToScroll),e.slideCount<=e.options.slidesToShow&&(e.currentSlide=0),e.registerBreakpoints(),e.setProps(),e.setupInfinite(),e.buildArrows(),e.updateArrows(),e.initArrowEvents(),e.buildDots(),e.updateDots(),e.initDotEvents(),e.cleanUpSlideEvents(),e.initSlideEvents(),e.checkResponsive(!1,!0),!0===e.options.focusOnSelect&&d(e.$slideTrack).children().on("click.slick",e.selectHandler),e.setSlideClasses("number"==typeof e.currentSlide?e.currentSlide:0),e.setPosition(),e.focusHandler(),e.paused=!e.options.autoplay,e.autoPlay(),e.$slider.trigger("reInit",[e])},s.prototype.resize=function(){var e=this;d(window).width()!==e.windowWidth&&(clearTimeout(e.windowDelay),e.windowDelay=window.setTimeout(function(){e.windowWidth=d(window).width(),e.checkResponsive(),e.unslicked||e.setPosition()},50))},s.prototype.removeSlide=s.prototype.slickRemove=function(e,t,n){var i=this;return e="boolean"==typeof e?!0===(t=e)?0:i.slideCount-1:!0===t?--e:e,!(i.slideCount<1||e<0||e>i.slideCount-1)&&(i.unload(),!0===n?i.$slideTrack.children().remove():i.$slideTrack.children(this.options.slide).eq(e).remove(),i.$slides=i.$slideTrack.children(this.options.slide),i.$slideTrack.children(this.options.slide).detach(),i.$slideTrack.append(i.$slides),i.$slidesCache=i.$slides,void i.reinit())},s.prototype.setCSS=function(e){var t,n,i=this,o={};!0===i.options.rtl&&(e=-e),t="left"==i.positionProp?Math.ceil(e)+"px":"0px",n="top"==i.positionProp?Math.ceil(e)+"px":"0px",o[i.positionProp]=e,!1===i.transformsEnabled||(!(o={})===i.cssTransitions?o[i.animType]="translate("+t+", "+n+")":o[i.animType]="translate3d("+t+", "+n+", 0px)"),i.$slideTrack.css(o)},s.prototype.setDimensions=function(){var e=this;!1===e.options.vertical?!0===e.options.centerMode&&e.$list.css({padding:"0px "+e.options.centerPadding}):(e.$list.height(e.$slides.first().outerHeight(!0)*e.options.slidesToShow),!0===e.options.centerMode&&e.$list.css({padding:e.options.centerPadding+" 0px"})),e.listWidth=e.$list.width(),e.listHeight=e.$list.height(),!1===e.options.vertical&&!1===e.options.variableWidth?(e.slideWidth=Math.ceil(e.listWidth/e.options.slidesToShow),e.$slideTrack.width(Math.ceil(e.slideWidth*e.$slideTrack.children(".slick-slide").length))):!0===e.options.variableWidth?e.$slideTrack.width(5e3*e.slideCount):(e.slideWidth=Math.ceil(e.listWidth),e.$slideTrack.height(Math.ceil(e.$slides.first().outerHeight(!0)*e.$slideTrack.children(".slick-slide").length)));var t=e.$slides.first().outerWidth(!0)-e.$slides.first().width();!1===e.options.variableWidth&&e.$slideTrack.children(".slick-slide").width(e.slideWidth-t)},s.prototype.setFade=function(){var n,i=this;i.$slides.each(function(e,t){n=i.slideWidth*e*-1,!0===i.options.rtl?d(t).css({position:"relative",right:n,top:0,zIndex:i.options.zIndex-2,opacity:0}):d(t).css({position:"relative",left:n,top:0,zIndex:i.options.zIndex-2,opacity:0})}),i.$slides.eq(i.currentSlide).css({zIndex:i.options.zIndex-1,opacity:1})},s.prototype.setHeight=function(){var e=this;if(1===e.options.slidesToShow&&!0===e.options.adaptiveHeight&&!1===e.options.vertical){var t=e.$slides.eq(e.currentSlide).outerHeight(!0);e.$list.css("height",t)}},s.prototype.setOption=s.prototype.slickSetOption=function(e,t,n){var i,o,r,a,s,l=this,c=!1;if("object"===d.type(e)?(r=arguments[0],c=t,s="multiple"):"string"===d.type(arguments[0])&&(r=arguments[0],a=arguments[1],c=n,"responsive"===arguments[0]&&"array"===d.type(arguments[1])?s="responsive":"undefined"!=typeof arguments[1]&&(s="single")),"single"===s)l.options[r]=a;else if("multiple"===s)d.each(r,function(e,t){l.options[e]=t});else if("responsive"===s)for(o in a)if("array"!==d.type(l.options.responsive))l.options.responsive=[a[o]];else{for(i=l.options.responsive.length-1;0<=i;)l.options.responsive[i].breakpoint===a[o].breakpoint&&l.options.responsive.splice(i,1),i--;l.options.responsive.push(a[o])}c&&(l.unload(),l.reinit())},s.prototype.setPosition=function(){var e=this;e.setDimensions(),e.setHeight(),!1===e.options.fade?e.setCSS(e.getLeft(e.currentSlide)):e.setFade(),e.$slider.trigger("setPosition",[e])},s.prototype.setProps=function(){var e=this,t=document.body.style;e.positionProp=!0===e.options.vertical?"top":"left","top"===e.positionProp?e.$slider.addClass("slick-vertical"):e.$slider.removeClass("slick-vertical"),(void 0!==t.WebkitTransition||void 0!==t.MozTransition||void 0!==t.msTransition)&&!0===e.options.useCSS&&(e.cssTransitions=!0),e.options.fade&&("number"==typeof e.options.zIndex?e.options.zIndex<3&&(e.options.zIndex=3):e.options.zIndex=e.defaults.zIndex),void 0!==t.OTransform&&(e.animType="OTransform",e.transformType="-o-transform",e.transitionType="OTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.MozTransform&&(e.animType="MozTransform",e.transformType="-moz-transform",e.transitionType="MozTransition",void 0===t.perspectiveProperty&&void 0===t.MozPerspective&&(e.animType=!1)),void 0!==t.webkitTransform&&(e.animType="webkitTransform",e.transformType="-webkit-transform",e.transitionType="webkitTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.msTransform&&(e.animType="msTransform",e.transformType="-ms-transform",e.transitionType="msTransition",void 0===t.msTransform&&(e.animType=!1)),void 0!==t.transform&&!1!==e.animType&&(e.animType="transform",e.transformType="transform",e.transitionType="transition"),e.transformsEnabled=e.options.useTransform&&null!==e.animType&&!1!==e.animType},s.prototype.setSlideClasses=function(e){var t,n,i,o,r=this;n=r.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),r.$slides.eq(e).addClass("slick-current"),!0===r.options.centerMode?(t=Math.floor(r.options.slidesToShow/2),!0===r.options.infinite&&(t<=e&&e<=r.slideCount-1-t?r.$slides.slice(e-t,e+t+1).addClass("slick-active").attr("aria-hidden","false"):(i=r.options.slidesToShow+e,n.slice(i-t+1,i+t+2).addClass("slick-active").attr("aria-hidden","false")),0===e?n.eq(n.length-1-r.options.slidesToShow).addClass("slick-center"):e===r.slideCount-1&&n.eq(r.options.slidesToShow).addClass("slick-center")),r.$slides.eq(e).addClass("slick-center")):0<=e&&e<=r.slideCount-r.options.slidesToShow?r.$slides.slice(e,e+r.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):n.length<=r.options.slidesToShow?n.addClass("slick-active").attr("aria-hidden","false"):(o=r.slideCount%r.options.slidesToShow,i=!0===r.options.infinite?r.options.slidesToShow+e:e,r.options.slidesToShow==r.options.slidesToScroll&&r.slideCount-e<r.options.slidesToShow?n.slice(i-(r.options.slidesToShow-o),i+o).addClass("slick-active").attr("aria-hidden","false"):n.slice(i,i+r.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false")),"ondemand"===r.options.lazyLoad&&r.lazyLoad()},s.prototype.setupInfinite=function(){var e,t,n,i=this;if(!0===i.options.fade&&(i.options.centerMode=!1),!0===i.options.infinite&&!1===i.options.fade&&(t=null,i.slideCount>i.options.slidesToShow)){for(n=!0===i.options.centerMode?i.options.slidesToShow+1:i.options.slidesToShow,e=i.slideCount;e>i.slideCount-n;e-=1)t=e-1,d(i.$slides[t]).clone(!0).attr("id","").attr("data-slick-index",t-i.slideCount).prependTo(i.$slideTrack).addClass("slick-cloned");for(e=0;e<n;e+=1)t=e,d(i.$slides[t]).clone(!0).attr("id","").attr("data-slick-index",t+i.slideCount).appendTo(i.$slideTrack).addClass("slick-cloned");i.$slideTrack.find(".slick-cloned").find("[id]").each(function(){d(this).attr("id","")})}},s.prototype.interrupt=function(e){var t=this;e||t.autoPlay(),t.interrupted=e},s.prototype.selectHandler=function(e){var t=this,n=d(e.target).is(".slick-slide")?d(e.target):d(e.target).parents(".slick-slide"),i=parseInt(n.attr("data-slick-index"));return i||(i=0),t.slideCount<=t.options.slidesToShow?(t.setSlideClasses(i),void t.asNavFor(i)):void t.slideHandler(i)},s.prototype.slideHandler=function(e,t,n){var i,o,r,a,s,l=null,c=this;return t=t||!1,!0===c.animating&&!0===c.options.waitForAnimate||!0===c.options.fade&&c.currentSlide===e||c.slideCount<=c.options.slidesToShow?void 0:(!1===t&&c.asNavFor(e),i=e,l=c.getLeft(i),a=c.getLeft(c.currentSlide),c.currentLeft=null===c.swipeLeft?a:c.swipeLeft,!1===c.options.infinite&&!1===c.options.centerMode&&(e<0||e>c.getDotCount()*c.options.slidesToScroll)?void(!1===c.options.fade&&(i=c.currentSlide,!0!==n?c.animateSlide(a,function(){c.postSlide(i)}):c.postSlide(i))):!1===c.options.infinite&&!0===c.options.centerMode&&(e<0||e>c.slideCount-c.options.slidesToScroll)?void(!1===c.options.fade&&(i=c.currentSlide,!0!==n?c.animateSlide(a,function(){c.postSlide(i)}):c.postSlide(i))):(c.options.autoplay&&clearInterval(c.autoPlayTimer),o=i<0?c.slideCount%c.options.slidesToScroll!=0?c.slideCount-c.slideCount%c.options.slidesToScroll:c.slideCount+i:i>=c.slideCount?c.slideCount%c.options.slidesToScroll!=0?0:i-c.slideCount:i,c.animating=!0,c.$slider.trigger("beforeChange",[c,c.currentSlide,o]),r=c.currentSlide,c.currentSlide=o,c.setSlideClasses(c.currentSlide),c.options.asNavFor&&((s=(s=c.getNavTarget()).slick("getSlick")).slideCount<=s.options.slidesToShow&&s.setSlideClasses(c.currentSlide)),c.updateDots(),c.updateArrows(),!0===c.options.fade?(!0!==n?(c.fadeSlideOut(r),c.fadeSlide(o,function(){c.postSlide(o)})):c.postSlide(o),void c.animateHeight()):void(!0!==n?c.animateSlide(l,function(){c.postSlide(o)}):c.postSlide(o))))},s.prototype.startLoad=function(){var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.hide(),e.$nextArrow.hide()),!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&e.$dots.hide(),e.$slider.addClass("slick-loading")},s.prototype.swipeDirection=function(){var e,t,n,i,o=this;return e=o.touchObject.startX-o.touchObject.curX,t=o.touchObject.startY-o.touchObject.curY,n=Math.atan2(t,e),(i=Math.round(180*n/Math.PI))<0&&(i=360-Math.abs(i)),i<=45&&0<=i?!1===o.options.rtl?"left":"right":i<=360&&315<=i?!1===o.options.rtl?"left":"right":135<=i&&i<=225?!1===o.options.rtl?"right":"left":!0===o.options.verticalSwiping?35<=i&&i<=135?"down":"up":"vertical"},s.prototype.swipeEnd=function(){var e,t,n=this;if(n.dragging=!1,n.interrupted=!1,n.shouldClick=!(10<n.touchObject.swipeLength),void 0===n.touchObject.curX)return!1;if(!0===n.touchObject.edgeHit&&n.$slider.trigger("edge",[n,n.swipeDirection()]),n.touchObject.swipeLength>=n.touchObject.minSwipe){switch(t=n.swipeDirection()){case"left":case"down":e=n.options.swipeToSlide?n.checkNavigable(n.currentSlide+n.getSlideCount()):n.currentSlide+n.getSlideCount(),n.currentDirection=0;break;case"right":case"up":e=n.options.swipeToSlide?n.checkNavigable(n.currentSlide-n.getSlideCount()):n.currentSlide-n.getSlideCount(),n.currentDirection=1}"vertical"!=t&&(n.slideHandler(e),n.touchObject={},n.$slider.trigger("swipe",[n,t]))}else n.touchObject.startX!==n.touchObject.curX&&(n.slideHandler(n.currentSlide),n.touchObject={})},s.prototype.swipeHandler=function(e){var t=this;if(!(!1===t.options.swipe||"ontouchend"in document&&!1===t.options.swipe||!1===t.options.draggable&&-1!==e.type.indexOf("mouse")))switch(t.touchObject.fingerCount=e.originalEvent&&void 0!==e.originalEvent.touches?e.originalEvent.touches.length:1,t.touchObject.minSwipe=t.listWidth/t.options.touchThreshold,!0===t.options.verticalSwiping&&(t.touchObject.minSwipe=t.listHeight/t.options.touchThreshold),e.data.action){case"start":t.swipeStart(e);break;case"move":t.swipeMove(e);break;case"end":t.swipeEnd(e)}},s.prototype.swipeMove=function(e){var t,n,i,o,r,a=this;return r=void 0!==e.originalEvent?e.originalEvent.touches:null,!(!a.dragging||r&&1!==r.length)&&(t=a.getLeft(a.currentSlide),a.touchObject.curX=void 0!==r?r[0].pageX:e.clientX,a.touchObject.curY=void 0!==r?r[0].pageY:e.clientY,a.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(a.touchObject.curX-a.touchObject.startX,2))),!0===a.options.verticalSwiping&&(a.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(a.touchObject.curY-a.touchObject.startY,2)))),"vertical"!==(n=a.swipeDirection())?(void 0!==e.originalEvent&&4<a.touchObject.swipeLength&&e.preventDefault(),o=(!1===a.options.rtl?1:-1)*(a.touchObject.curX>a.touchObject.startX?1:-1),!0===a.options.verticalSwiping&&(o=a.touchObject.curY>a.touchObject.startY?1:-1),i=a.touchObject.swipeLength,(a.touchObject.edgeHit=!1)===a.options.infinite&&(0===a.currentSlide&&"right"===n||a.currentSlide>=a.getDotCount()&&"left"===n)&&(i=a.touchObject.swipeLength*a.options.edgeFriction,a.touchObject.edgeHit=!0),!1===a.options.vertical?a.swipeLeft=t+i*o:a.swipeLeft=t+i*(a.$list.height()/a.listWidth)*o,!0===a.options.verticalSwiping&&(a.swipeLeft=t+i*o),!0!==a.options.fade&&!1!==a.options.touchMove&&(!0===a.animating?(a.swipeLeft=null,!1):void a.setCSS(a.swipeLeft))):void 0)},s.prototype.swipeStart=function(e){var t,n=this;return n.interrupted=!0,1!==n.touchObject.fingerCount||n.slideCount<=n.options.slidesToShow?!(n.touchObject={}):(void 0!==e.originalEvent&&void 0!==e.originalEvent.touches&&(t=e.originalEvent.touches[0]),n.touchObject.startX=n.touchObject.curX=void 0!==t?t.pageX:e.clientX,n.touchObject.startY=n.touchObject.curY=void 0!==t?t.pageY:e.clientY,void(n.dragging=!0))},s.prototype.unfilterSlides=s.prototype.slickUnfilter=function(){var e=this;null!==e.$slidesCache&&(e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.appendTo(e.$slideTrack),e.reinit())},s.prototype.unload=function(){var e=this;d(".slick-cloned",e.$slider).remove(),e.$dots&&e.$dots.remove(),e.$prevArrow&&e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.remove(),e.$nextArrow&&e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.remove(),e.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},s.prototype.unslick=function(e){var t=this;t.$slider.trigger("unslick",[t,e]),t.destroy()},s.prototype.updateArrows=function(){var e=this;Math.floor(e.options.slidesToShow/2),!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&!e.options.infinite&&(
e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),e.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===e.currentSlide?(e.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),e.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):e.currentSlide>=e.slideCount-e.options.slidesToShow&&!1===e.options.centerMode?(e.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")):e.currentSlide>=e.slideCount-1&&!0===e.options.centerMode&&(e.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},s.prototype.updateDots=function(){var e=this;null!==e.$dots&&(e.$dots.find("li").removeClass("slick-active").attr("aria-hidden","true"),e.$dots.find("li").eq(Math.floor(e.currentSlide/e.options.slidesToScroll)).addClass("slick-active").attr("aria-hidden","false"))},s.prototype.visibility=function(){var e=this;e.options.autoplay&&(document[e.hidden]?e.interrupted=!0:e.interrupted=!1)},d.fn.slick=function(e){var t,n,i=this,o=e,r=Array.prototype.slice.call(arguments,1),a=i.length;for(t=0;t<a;t++)if("object"==typeof o||void 0===o?i[t].slick=new s(i[t],o):n=i[t].slick[o].apply(i[t].slick,r),void 0!==n)return n;return i}}),function(o){o.fn.stacktable=function(e){var t=this,n={id:"stacktable small-only",hideOriginal:!0},i=o.extend({},n,e);return t.each(function(){var e=o('<table class="'+i.id+'"><tbody></tbody></table>');typeof i.myClass!==undefined&&e.addClass(i.myClass);var t="";$table=o(this),$table.addClass("stacktable large-only"),$topRow=$table.find("tr").eq(0),$table.find("tr").each(function(e){0===e||o(this).find("td,th").each(function(e){0===e?t+='<tr class="st-space"><td></td><td></td></tr><tr class="st-new-item"><td class="st-key">'+$topRow.find("td,th").eq(e).html()+'</td><td class="st-val st-head-row">'+o(this).html()+"</td></tr>":""!==o(this).html()&&(t+="<tr>",$topRow.find("td,th").eq(e).html()?t+='<td class="st-key">'+$topRow.find("td,th").eq(e).html()+"</td>":t+='<td class="st-key"></td>',t+='<td class="st-val">'+o(this).html()+"</td>",t+="</tr>")})}),e.append(o(t)),$table.before(e),i.hideOriginal||$table.show()})}}(jQuery),function(){var t,n,e=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},y=[].slice;t=this,n=function(l,r){var t,a,s,c,n,d,u,o,h,i,p,f,m,g,v,T;return t=l(r),o=0<=e.call(r,"ontouchstart"),c={horizontal:{},vertical:{}},u={},d="waypoints-context-id",p="resize.waypoints",f="scroll.waypoints",m=n=1,g="waypoints-waypoint-ids",v="waypoint",T="waypoints",a=function(){function e(e){var t=this;this.$element=e,this.element=e[0],this.didResize=!1,this.didScroll=!1,this.id="context"+n++,this.oldScroll={x:e.scrollLeft(),y:e.scrollTop()},this.waypoints={horizontal:{},vertical:{}},e.data(d,this.id),u[this.id]=this,e.bind(f,function(){var e;if(!t.didScroll&&!o)return t.didScroll=!0,e=function(){return t.doScroll(),t.didScroll=!1},r.setTimeout(e,l[T].settings.scrollThrottle)}),e.bind(p,function(){var e;if(!t.didResize)return t.didResize=!0,e=function(){return l[T]("refresh"),t.didResize=!1},r.setTimeout(e,l[T].settings.resizeThrottle)})}return e.prototype.doScroll=function(){var e,i=this;return e={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}},!o||e.vertical.oldScroll&&e.vertical.newScroll||l[T]("refresh"),l.each(e,function(e,o){var n,t,r;return r=[],t=o.newScroll>o.oldScroll,n=t?o.forward:o.backward,l.each(i.waypoints[e],function(e,t){var n,i;return o.oldScroll<(n=t.offset)&&n<=o.newScroll?r.push(t):o.newScroll<(i=t.offset)&&i<=o.oldScroll?r.push(t):void 0}),r.sort(function(e,t){return e.offset-t.offset}),t||r.reverse(),l.each(r,function(e,t){if(t.options.continuous||e===r.length-1)return t.trigger([n])})}),this.oldScroll={x:e.horizontal.newScroll,y:e.vertical.newScroll}},e.prototype.refresh=function(){var e,t,n,i=this;return n=l.isWindow(this.element),t=this.$element.offset(),this.doScroll(),e={horizontal:{contextOffset:n?0:t.left,contextScroll:n?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:n?0:t.top,contextScroll:n?0:this.oldScroll.y,contextDimension:n?l[T]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}},l.each(e,function(e,s){return l.each(i.waypoints[e],function(e,t){var n,i,o,r,a;if(n=t.options.offset,o=t.offset,i=l.isWindow(t.element)?0:t.$element.offset()[s.offsetProp],l.isFunction(n)?n=n.apply(t.element):"string"==typeof n&&(n=parseFloat(n),-1<t.options.offset.indexOf("%")&&(n=Math.ceil(s.contextDimension*n/100))),t.offset=i-s.contextOffset+s.contextScroll-n,(!t.options.onlyOnScroll||null==o)&&t.enabled)return null!==o&&o<(r=s.oldScroll)&&r<=t.offset?t.trigger([s.backward]):null!==o&&o>(a=s.oldScroll)&&a>=t.offset?t.trigger([s.forward]):null===o&&s.oldScroll>=t.offset?t.trigger([s.forward]):void 0})})},e.prototype.checkEmpty=function(){if(l.isEmptyObject(this.waypoints.horizontal)&&l.isEmptyObject(this.waypoints.vertical))return this.$element.unbind([p,f].join(" ")),delete u[this.id]},e}(),s=function(){function e(e,t,n){var i,o;"bottom-in-view"===(n=l.extend({},l.fn[v].defaults,n)).offset&&(n.offset=function(){var e;return e=l[T]("viewportHeight"),l.isWindow(t.element)||(e=t.$element.height()),e-l(this).outerHeight()}),this.$element=e,this.element=e[0],this.axis=n.horizontal?"horizontal":"vertical",this.callback=n.handler,this.context=t,this.enabled=n.enabled,this.id="waypoints"+m++,this.offset=null,this.options=n,t.waypoints[this.axis][this.id]=this,c[this.axis][this.id]=this,(i=null!=(o=e.data(g))?o:[]).push(this.id),e.data(g,i)}return e.prototype.trigger=function(e){if(this.enabled)return null!=this.callback&&this.callback.apply(this.element,e),this.options.triggerOnce?this.destroy():void 0},e.prototype.disable=function(){return this.enabled=!1},e.prototype.enable=function(){return this.context.refresh(),this.enabled=!0},e.prototype.destroy=function(){return delete c[this.axis][this.id],delete this.context.waypoints[this.axis][this.id],this.context.checkEmpty()},e.getWaypointsByElement=function(e){var t,n;return(n=l(e).data(g))?(t=l.extend({},c.horizontal,c.vertical),l.map(n,function(e){return t[e]})):[]},e}(),i={init:function(e,o){return null==o&&(o={}),null==o.handler&&(o.handler=e),this.each(function(){var e,t,n,i;return e=l(this),n=null!=(i=o.context)?i:l.fn[v].defaults.context,l.isWindow(n)||(n=e.closest(n)),n=l(n),(t=u[n.data(d)])||(t=new a(n)),new s(e,t,o)}),l[T]("refresh"),this},disable:function(){return i._invoke(this,"disable")},enable:function(){return i._invoke(this,"enable")},destroy:function(){return i._invoke(this,"destroy")},prev:function(e,t){return i._traverse.call(this,e,t,function(e,t,n){if(0<t)return e.push(n[t-1])})},next:function(e,t){return i._traverse.call(this,e,t,function(e,t,n){if(t<n.length-1)return e.push(n[t+1])})},_traverse:function(t,e,n){var i,o;return null==t&&(t="vertical"),null==e&&(e=r),o=h.aggregate(e),i=[],this.each(function(){var e;return e=l.inArray(this,o[t]),n(i,e,o[t])}),this.pushStack(i)},_invoke:function(e,n){return e.each(function(){var e;return e=s.getWaypointsByElement(this),l.each(e,function(e,t){return t[n](),!0})}),this}},l.fn[v]=function(e){var t,n;return n=e,t=2<=arguments.length?y.call(arguments,1):[],i[n]?i[n].apply(this,t):l.isFunction(n)?i.init.apply(this,arguments):l.isPlainObject(n)?i.init.apply(this,[null,n]):n?l.error("The "+n+" method does not exist in jQuery Waypoints."):l.error("jQuery Waypoints needs a callback function or handler option.")},l.fn[v].defaults={context:r,continuous:!0,enabled:!0,horizontal:!1,offset:0,triggerOnce:!1},h={refresh:function(){return l.each(u,function(e,t){return t.refresh()})},viewportHeight:function(){var e;return null!=(e=r.innerHeight)?e:t.height()},aggregate:function(e){var t,i,n;return t=c,e&&(t=null!=(n=u[l(e).data(d)])?n.waypoints:void 0),t?(i={horizontal:[],vertical:[]},l.each(i,function(e,n){return l.each(t[e],function(e,t){return n.push(t)}),n.sort(function(e,t){return e.offset-t.offset}),i[e]=l.map(n,function(e){return e.element}),i[e]=l.unique(i[e])}),i):[]},above:function(e){return null==e&&(e=r),h._filter(e,"vertical",function(e,t){return t.offset<=e.oldScroll.y})},below:function(e){return null==e&&(e=r),h._filter(e,"vertical",function(e,t){return t.offset>e.oldScroll.y})},left:function(e){return null==e&&(e=r),h._filter(e,"horizontal",function(e,t){return t.offset<=e.oldScroll.x})},right:function(e){return null==e&&(e=r),h._filter(e,"horizontal",function(e,t){return t.offset>e.oldScroll.x})},enable:function(){return h._invoke("enable")},disable:function(){return h._invoke("disable")},destroy:function(){return h._invoke("destroy")},extendFn:function(e,t){return i[e]=t},_invoke:function(n){var e;return e=l.extend({},c.vertical,c.horizontal),l.each(e,function(e,t){return t[n](),!0})},_filter:function(e,t,n){var i,o;return(i=u[l(e).data(d)])?(o=[],l.each(i.waypoints[t],function(e,t){if(n(i,t))return o.push(t)}),o.sort(function(e,t){return e.offset-t.offset}),l.map(o,function(e){return e.element})):[]}},l[T]=function(e){var t,n;return n=e,t=2<=arguments.length?y.call(arguments,1):[],h[n]?h[n].apply(null,t):h.aggregate.call(null,n)},l[T].settings={resizeThrottle:100,scrollThrottle:30},t.load(function(){return l[T]("refresh")})},"function"==typeof define&&define.amd?define("waypoints",["jquery"],function(e){return n(e,t)}):n(t.jQuery,t)}.call(this),function(E){"use strict";E(document).on("turbolinks:load",function(){function e(){var e=E(window).width();e<973?(E("#navigation").removeClass("menu"),E("#navigation li").removeClass("dropdown"),E("header").removeClass("full-width"),E("#navigation").superfish("destroy")):(E("#navigation").addClass("menu"),"yes"===E("header").data("full")&&E("header").addClass("full-width"),E("#navigation").superfish({delay:300,animation:{opacity:"show"},speed:200,speedOut:50})),e<1272?E("header").addClass("alternative").removeClass("full-width"):"yes"===E("header").data("alt")||E("header").removeClass("alternative")}function t(){E(".flip-banner").prepend('<div class="flip-banner-overlay"></div>'),E(".flip-banner").each(function(){var e=E(this).attr("data-background"),t=E(this).attr("data-color"),n=E(this).attr("data-color-opacity");e!==undefined&&E(this).css("background-image","url("+e+")"),t!==undefined&&E(this).find(".flip-banner-overlay").css("background-color",""+t),n!==undefined&&E(this).find(".flip-banner-overlay").css("opacity",""+n)})}function n(){var e=E("body").height();E(".parallax-content").each(function(){E(this).innerHeight()>e&&E(this).closest(".fullscreen").addClass("overflow")})}function i(){var l=E(window).height();E(".background").each(function(){var e=E(this),t=e.width(),n=e.height(),i=e.attr("data-img-width"),o=e.attr("data-img-height"),r=i/o,a=parseFloat(e.attr("data-diff"));a=a||0;var s=0;if(e.hasClass("parallax")&&!E("html").hasClass("touch")){s=l-n}(i=(o=n+s+a)*r)<t&&(o=(i=t)/r),e.data("resized-imgW",i),e.data("resized-imgH",o),e.css("background-size",i+"px "+o+"px")})}function o(){var c=E(window).height(),d=E(window).scrollTop(),u=d+c,h=(d+u)/2;E(".parallax").each(function(){var e=E(this),t=e.height(),n=e.offset().top,i=n+t;if(n<u&&d<i){e.data("resized-imgW");var o=e.data("resized-imgH"),r=0,a=t<c?o-t:o-c,s=-100+r+(-o+c-r)*(h-(n-=a))/((i+=a)-n),l=e.attr("data-oriz-pos");l=l||"50%",E(this).css("background-position",l+" "+s+"px")}})}E("header").hasClass("full-width")&&E("header").attr("data-full","yes"),E("header").hasClass("alternative")&&E("header").attr("data-alt","yes"),E(window).resize(function(){e()}),e();var r=E.jPanelMenu({menu:"#responsive",animated:!1,duration:200,keyboardShortcuts:!1,closeOnContentClick:!0});E(".menu-trigger").click(function(){var e=E(this);return e.hasClass("active")?(r.off(),e.removeClass("active")):(r.on(),r.open(),e.addClass("active")),!1}),E("#jPanelMenu-menu").removeClass("sf-menu"),E("#jPanelMenu-menu li ul").removeAttr("style"),E(window).resize(function(){var e=E(window).width(),t=E(".menu-trigger");990<e&&(r.off(),t.removeClass("active"))}),E(".responsive-table").stacktable();var a=400,s=400,l=400,c=400;E(window).scroll(function(){E(window).scrollTop()>=a?E("#backtotop").fadeIn(s):E("#backtotop").fadeOut(l)}),E("#backtotop a").click(function(){return E("html, body").animate({scrollTop:0},c),!1}),E("#job-spotlight").showbizpro({dragAndScroll:"off",visibleElementsArray:[1,1,1,1],carousel:"off",entrySizeOffset:0,allEntryAtOnce:"off",rewindFromEnd:"off",autoPlay:"off",delay:2e3,speed:400,easing:"easeOut"}),E("#our-clients").showbizpro({dragAndScroll:"off",visibleElementsArray:[5,4,3,1],carousel:"off",entrySizeOffset:0,allEntryAtOnce:"off"}),E(".testimonial-carousel").slick({centerMode:!0,centerPadding:"34%",slidesToShow:1,dots:!0,arrows:!1,responsive:[{breakpoint:1025,settings:{centerPadding:"10px",slidesToShow:2}},{breakpoint:767,settings:{centerPadding:"10px",slidesToShow:1}}]}),t(),E(".img-box").each(function(){E(this).append('<div class="img-box-background"></div>'),E(this).children(".img-box-background").css({"background-image":"url("+E(this).attr("data-background-image")+")"})}),E(".fullwidthbanner").revolution({delay:9e3,startwidth:1180,startheight:640,onHoverStop:"on",navigationType:"none",navigationArrows:"verticalcentered",navigationStyle:"none",touchenabled:"on",navOffsetHorizontal:0,navOffsetVertical:20,stopAtSlide:-1,stopAfterLoops:-1,fullWidth:"on"}),E(".testimonials-slider").flexslider({animation:"fade",controlsContainer:E(".custom-controls-container"),customDirectionNav:E(".custom-navigation a")}),E(".counter").counterUp({delay:10,time:800});var d={".chosen-select":{disable_search_threshold:10,width:"100%"},".chosen-select-deselect":{allow_single_deselect:!0,width:"100%"},".chosen-select-no-single":{disable_search_threshold:10,width:"100%"},".chosen-select-no-results":{no_results_text:"Oops, nothing found!"},".chosen-select-width":{width:"95%"}};for(var u in d)E(u).chosen(d[u]);E(".checkboxes").find("input:first").addClass("first"),E(".checkboxes input").on("change",function(){E(this).hasClass("first")?(E(this).parents(".checkboxes").find("input").prop("checked",!1),E(this).prop("checked",!0)):E(this).parents(".checkboxes").find("input:first").not(this).prop("checked",!1)}),E("body").magnificPopup({type:"image",delegate:"a.mfp-gallery",fixedContentPos:!0,fixedBgPos:!0,overflowY:"auto",closeBtnInside:!0,preloader:!0,removalDelay:0,mainClass:"mfp-fade",gallery:{enabled:!0},callbacks:{buildControls:function(){console.log("inside"),this.contentContainer.append(this.arrowLeft.add(this.arrowRight))}}}),E(".popup-with-zoom-anim").magnificPopup({type:"inline",fixedContentPos:!1,fixedBgPos:!0,overflowY:"auto",closeBtnInside:!0,preloader:!1,midClick:!0,removalDelay:300,mainClass:"my-mfp-zoom-in"}),E(".mfp-image").magnificPopup({type:"image",closeOnContentClick:!0,mainClass:"mfp-fade",image:{verticalFit:!0}}),E(".popup-youtube, .popup-vimeo, .popup-gmaps").magnificPopup({disableOn:700,type:"iframe",mainClass:"mfp-fade",removalDelay:160,preloader:!1,fixedContentPos:!1}),E("#contactform .submit").click(function(e){e.preventDefault();var t=E("input[name=name]").val(),n=E("input[name=email]").val(),i=E("textarea[name=comment]").val(),o=!0;if(""===t&&(E("input[name=name]").addClass("error"),o=!1),""===n&&(E("input[name=email]").addClass("error"),o=!1),""===i&&(E("textarea[name=comment]").addClass("error"),o=!1),o){E(".hide").fadeIn(),E("#contactform .submit").fadeOut();var r={userName:t,userEmail:n,userComment:i};E.post("contact.php",r,function(e){var t;"error"==e.type?(t='<div class="error">'+e.text+"</div>",E(".hide").fadeOut(),E("#contactform .submit").fadeIn()):(t='<div class="success">'+e.text+"</div>",E("#contact div input").val(""),E("#contact textarea").val(""),E(".hide").fadeOut(),E("#contactform .submit").fadeIn().attr("disabled","disabled").css({backgroundColor:"#c0c0c0",cursor:"default"})),E("#result").hide().html(t).slideDown()},"json")}}),E("#contactform input, #contactform textarea").keyup(function(){E("#contactform input, #contactform textarea").removeClass("error"),E("#result").slideUp()});var h=E(".accordion");h.each(function(){E(this).addClass("ui-accordion ui-widget ui-helper-reset"),E(this).find("h3").addClass("ui-accordion-header ui-helper-reset ui-state-default ui-accordion-icons ui-corner-all"),E(this).find("div").addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom"),E(this).find("div").hide().first().show(),E(this).find("h3").first().removeClass("ui-accordion-header-active ui-state-active ui-corner-top").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),E(this).find("span").first().addClass("ui-accordion-icon-active")}),h.find("h3").on("click",function(e){var t=E(this).parent();if(E(this).next().is(":hidden")){var n=E("h3",t);n.removeClass("ui-accordion-header-active ui-state-active ui-corner-top").next().slideUp(300),n.find("span").removeClass("ui-accordion-icon-active"),E(this).find("span").addClass("ui-accordion-icon-active"),E(this).addClass("ui-accordion-header-active ui-state-active ui-corner-top").next().slideDown(300)}e.preventDefault()});var p=E(".app-link");E(".close-tab").hide(),E(".app-tabs div.app-tab-content").hide(),p.on("click",function(e){e.preventDefault(),E(this).parents("div.application").find(".close-tab").fadeOut();var t=E(this).attr("href");E(this).hasClass("opened")?(E(this).parents("div.application").find(".app-tabs div.app-tab-content").slideUp("fast"),E(this).parents("div.application").find(".close-tab").fadeOut(10),E(this).removeClass("opened")):(E(this).parents("div.application").find(".app-link").removeClass("opened"),E(this).addClass("opened"),E(this).parents("div.application").find(t).slideDown("fast").removeClass("closed").addClass("opened"),E(this).parents("div.application").find(".close-tab").fadeIn(10)),E(this).parents("div.application").find(".app-tabs div.app-tab-content").not(t).slideUp("fast").addClass("closed").removeClass("opened")}),E(".close-tab").on("click",function(e){E(this).fadeOut(),e.preventDefault(),E(this).parents("div.application").find(".app-link").removeClass("opened"),E(this).parents("div.application").find(".app-tabs div.app-tab-content").slideUp("fast").addClass("closed").removeClass("opened")}),E(".box-to-clone").hide(),E(".add-box").on("click",function(e){e.preventDefault();var t=E(this).parent().find(".box-to-clone:first").clone();t.find("input").val(""),t.prependTo(E(this).parent()).show();var n=E(this).prev(".box-to-clone").outerHeight(!0);E("html, body").stop().animate({scrollTop:E(this).offset().top-n},600)}),E("body").on("click",".remove-box",function(e){e.preventDefault(),E(this).parent().remove()});var f=E(".tabs-nav"),m=f.children("li");f.each(function(){var e=E(this);e.next().children(".tab-content").stop(!0,!0).hide().first().show(),e.children("li").first().addClass("active").stop(!0,!0).show()}),m.on("click",function(e){var t=E(this);t.siblings().removeClass("active").end().addClass("active"),t.parent().next().children(".tab-content").stop(!0,!0).hide().siblings(t.find("a").attr("href")).fadeIn(),e.preventDefault()});var g=window.location.hash,v=E('.tabs-nav a[href="'+g+'"]');0===v.length?(E(".tabs-nav li:first").addClass("active").show(),E(".tab-content:first").show()):(console.log(v),v.parent("li").click()),E(window).bind("load resize scroll",function(){var e=E(".search-container");E(e).css({transform:"translateY("+E(window).scrollTop()/-9+"px)"})}),"ontouchstart"in window&&(document.documentElement.className=document.documentElement.className+" touch"),E("html").hasClass("touch")||E(".parallax").css("background-attachment","fixed"),E(window).resize(n),n(),E(window).resize(i),E(window).focus(i),i(),E("html").hasClass("touch")||(E(window).resize(o),E(window).scroll(o),o()),E(".sticky-header").clone(!0).addClass("cloned").insertAfter(".sticky-header"),E(".sticky-header.cloned.transparent #logo a img").attr("src","/assets/logo-360fec10449408b298906ceba42734019c9ee9fb80b1e27711f64fe67434ae16.png"),E(".sticky-header.cloned.alternative").removeClass("alternative");var T=document.querySelector(".sticky-header.cloned"),y=new Headroom(T,{offset:E(".sticky-header").height(),tolerance:0});E(window).on("turbolinks:load resize",function(){E(".sticky-header.cloned").removeClass("transparent alternative");var e=E(window).width();1290<e?y.init():e<1290&&(y.destroy(),E(".sticky-header.cloned").remove())})})}(this.jQuery),window.GritterModernizr=function(e,l,i){function t(e,t){var n=e.charAt(0).toUpperCase()+e.substr(1);return o((e+" "+g.join(n+" ")+n).split(" "),t)}function o(e,t){for(var n in e)if(m[e[n]]!==i)return"pfx"!=t||e[n];return!1}function n(e,t){return!!~(""+e).indexOf(t)}function r(e,t){return typeof e===t}function a(e){m.cssText=e}var s,c,d="2.0.6",u={},h=l.documentElement,p=(l.head||l.getElementsByTagName("head")[0],"modernizr"),f=l.createElement(p),m=f.style,g=(Object.prototype.toString,"Webkit Moz O ms Khtml".split(" ")),v={},T=[],y=function(e,t,n,i){var o,r,a,s=l.createElement("div");if(parseInt(n,10))for(;n--;)(a=l.createElement("div")).id=i?i[n]:p+(n+1),s.appendChild(a);return o=["&shy;","<style>",e,"</style>"].join(""),s.id=p,s.innerHTML+=o,h.appendChild(s),r=t(s,e),s.parentNode.removeChild(s),!!r},E={}.hasOwnProperty;for(var b in c=r(E,i)||r(E.call,i)?function(e,t){return t in e&&r(e.constructor.prototype[t],i)}:function(e,t){return E.call(e,t)},v.rgba=function(){return a("background-color:rgba(150,255,150,.5)"),n(m.backgroundColor,"rgba")},v.borderradius=function(){return t("borderRadius")},v)c(v,b)&&(u[s=b.toLowerCase()]=v[b](),T.push((u[s]?"":"no-")+s));return a(""),f=null,u._version=d,u._domPrefixes=g,u.testProp=function(e){return o([e])},u.testAllProps=t,u.testStyles=y,u}(0,this.document),function(p){p.gritter={},p.gritter.options={position:"",fade_in_speed:"medium",fade_out_speed:1e3,time:6e3},p.gritter.add=function(t){try{return f.add(t||{})}catch(e){var n="Gritter Error: "+e;void 0!==console&&console.error?console.error(n,t):alert(n)}},p.gritter.remove=function(e,t){f.removeSpecific(e,t||{})},p.gritter.removeAll=function(e){f.stop(e||{})};var t='[[close]][[image]]<div class="[[class_name]]"><span class="gritter-title">[[username]]</span><p>[[text]]</p></div><div style="clear:both"></div>',f={position:"",fade_in_speed:"",fade_out_speed:"",time:"",_custom_timer:0,_item_count:0,_is_setup:0,_tpl_close:'<div class="gritter-close"></div>',_tpl_item:'<div id="gritter-item-[[number]]" class="gritter-item-wrapper [[item_class]]" style="display:none">'+(GritterModernizr.borderradius&&GritterModernizr.rgba?'<div class="gritter-item gritter-css3">'+t+"</div>":'<div class="gritter-top"></div><div class="gritter-item gritter-css2">'+t+'</div><div class="gritter-bottom"></div>')+"</div>",_tpl_wrap:'<div id="gritter-notice-wrapper"></div>',add:function(n){if(!n.title||!n.text)throw'You need to fill out the first 2 params: "title" and "text"';this._is_setup||this._runSetup();var e=n.title,t=n.text,i=n.image||"",o=n.sticky||!1,r=n.class_name||"",a=p.gritter.options.position,s=n.time||"";this._verifyWrapper(),this._item_count++;var l=this._item_count,c=this._tpl_item;p(["before_open","after_open","before_close","after_close","on_click"]).each(function(e,t){f["_"+t+"_"+l]=p.isFunction(n[t])?n[t]:function(){}}),this._custom_timer=0,s&&(this._custom_timer=s);var d=""!=i?'<img src="'+i+'" class="gritter-image" />':"",u=""!=i?"gritter-with-image":"gritter-without-image";c=this._str_replace(["[[username]]","[[text]]","[[close]]","[[image]]","[[number]]","[[class_name]]","[[item_class]]"],[e,t,this._tpl_close,d,this._item_count,u,r],c),this["_before_open_"+l](),p("#gritter-notice-wrapper").addClass(a).append(c);var h=p("#gritter-item-"+this._item_count);return h.fadeIn(this.fade_in_speed,function(){f["_after_open_"+l](p(this))}),o||this._setFadeTimer(h,l),p(h).click(function(){f["_on_click_"+l](p(this))}),p(h).find(".gritter-close").bind("mouseenter mouseleave",function(e){"mouseenter"==e.type?p(h).off("click"):p(h).on("click",function(){f["_on_click_"+l](p(this))})}),p(h).bind("mouseenter mouseleave",function(e){"mouseenter"==e.type?o||f._restoreItemIfFading(p(this),l):o||f._setFadeTimer(p(this),l),f._hoverState(p(this),e.type)}),l},_countRemoveWrapper:function(e,t,n){t.remove(),this["_after_close_"+e](t,n),0==p(".gritter-item-wrapper").length&&p("#gritter-notice-wrapper").remove()},_fade:function(e,t,n,i){var o="undefined"==typeof(n=n||{}).fade||n.fade;fade_out_speed=n.speed||this.fade_out_speed,manual_close=i,this["_before_close_"+t](e,manual_close),i&&e.unbind("mouseenter mouseleave"),o?e.fadeOut(fade_out_speed,function(){e.animate({height:0},300,function(){f._countRemoveWrapper(t,e,manual_close)})}):this._countRemoveWrapper(t,e)},_hoverState:function(t,e){"mouseenter"==e?(t.addClass("hover"),t.find(".gritter-close").show(),t.find(".gritter-close").click(function(){var e=t.attr("id").split("-")[2];f.removeSpecific(e,{},t,!0)})):(t.removeClass("hover"),t.find(".gritter-close").hide())},removeSpecific:function(e,t,n,i){if(!n)n=p("#gritter-item-"+e);this._fade(n,e,t||{},i)},_restoreItemIfFading:function(e,t){clearTimeout(this["_int_id_"+t]),e.stop().css({opacity:""})},_runSetup:function(){for(var e in p.gritter.options)this[e]=p.gritter.options[e];this._is_setup=1},_setFadeTimer:function(e,t){var n=this._custom_timer?this._custom_timer:this.time;this["_int_id_"+t]=setTimeout(function(){f._fade(e,t)},n)},stop:function(e){var t=p.isFunction(e.before_close)?e.before_close:function(){},n=p.isFunction(e.after_close)?e.after_close:function(){},i=p("#gritter-notice-wrapper");t(i),i.fadeOut(function(){p(this).remove(),n()})},_str_replace:function(e,t,n,i){var o=0,r=0,a="",s="",l=0,c=0,d=[].concat(e),u=[].concat(t),h=n,p=u instanceof Array,f=h instanceof Array;for(h=[].concat(h),i&&(this.window[i]=0),o=0,l=h.length;o<l;o++)if(""!==h[o])for(r=0,c=d.length;r<c;r++)a=h[o]+"",s=p?u[r]!==undefined?u[r]:"":u[0],h[o]=a.split(d[r]).join(s),i&&h[o]!==a&&(this.window[i]+=(a.length-h[o].length)/d[r].length);return f?h:h[0]},_verifyWrapper:function(){0==p("#gritter-notice-wrapper").length&&p("body").append(this._tpl_wrap)}}}(jQuery),function(m){var e=0,g=function(){return(new Date).getTime()+e++},v=function(e){return"["+e+"]$1"},T=function(e){return"_"+e+"_$1"},y=function(e,t,n){return e?"function"==typeof e?(t&&console.warn("association-insertion-traversal is ignored, because association-insertion-node is given as a function."),e(n)):"string"==typeof e?t?n[t](e):"this"==e?n:m(e):void 0:n.parent()};m(document).on("click",".add_fields",function(e){e.preventDefault();var t=m(this),n=t.data("association"),i=t.data("associations"),o=t.data("association-insertion-template"),r=t.data("association-insertion-method")||t.data("association-insertion-position")||"before",a=t.data("association-insertion-node"),s=t.data("association-insertion-traversal"),l=parseInt(t.data("count"),10),c=new RegExp("\\[new_"+n+"\\](.*?\\s)","g"),d=new RegExp("_new_"+n+"_(\\w*)","g"),u=g(),h=o.replace(c,v(u)),p=[];for(h==o&&(c=new RegExp("\\[new_"+i+"\\](.*?\\s)","g"),d=new RegExp("_new_"+i+"_(\\w*)","g"),h=o.replace(c,v(u))),p=[h=h.replace(d,T(u))],l=isNaN(l)?1:Math.max(l,1),l-=1;l;)u=g(),h=(h=o.replace(c,v(u))).replace(d,T(u)),p.push(h),l-=1;var f=y(a,s,t);f&&0!=f.length||console.warn("Couldn't find the element to insert the template. Make sure your `data-association-insertion-*` on `link_to_add_association` is correct."),m.each(p,function(e,t){var n=m(t),i=jQuery.Event("cocoon:before-insert");if(f.trigger(i,[n]),!i.isDefaultPrevented()){f[r](n);f.trigger("cocoon:after-insert",[n])}})}),m(document).on("click",".remove_fields.dynamic, .remove_fields.existing",function(e){var t=m(this),n=t.data("wrapper-class")||"nested-fields",i=t.closest("."+n),o=i.parent();e.preventDefault();var r=jQuery.Event("cocoon:before-remove");if(o.trigger(r,[i]),!r.isDefaultPrevented()){var a=o.data("remove-timeout")||0;setTimeout(function(){t.hasClass("dynamic")?i.remove():(t.prev("input[type=hidden]").val("1"),i.hide()),o.trigger("cocoon:after-remove",[i])},a)}}),m(document).on("ready page:load turbolinks:load",function(){m(".remove_fields.existing.destroyed").each(function(){var e=m(this),t=e.data("wrapper-class")||"nested-fields";e.closest("."+t).hide()})})}(jQuery),function(s){"use strict";var l={init:function(e){return this.each(function(){this.self=s(this),l.destroy.call(this.self),this.opt=s.extend(!0,{},s.fn.raty.defaults,e,this.self.data()),l._adjustCallback.call(this),l._adjustNumber.call(this),l._adjustHints.call(this),this.opt.score=l._adjustedScore.call(this,this.opt.score),"img"!==this.opt.starType&&l._adjustStarType.call(this),l._adjustPath.call(this),l._createStars.call(this),this.opt.cancel&&l._createCancel.call(this),this.opt.precision&&l._adjustPrecision.call(this),l._createScore.call(this),l._apply.call(this,this.opt.score),l._setTitle.call(this,this.opt.score),l._target.call(this,this.opt.score),this.opt.readOnly?l._lock.call(this):(this.style.cursor="pointer",l._binds.call(this))})},_adjustCallback:function(){for(var e=["number","readOnly","score","scoreName","target","path"],t=0;t<e.length;t++)"function"==typeof this.opt[e[t]]&&(this.opt[e[t]]=this.opt[e[t]].call(this))},_adjustedScore:function(e){return e?l._between(e,0,this.opt.number):e},_adjustHints:function(){if(this.opt.hints||(this.opt.hints=[]),this.opt.halfShow||this.opt.half)for(var e=this.opt.precision?10:2,t=0;t<this.opt.number;t++){var n=this.opt.hints[t];"[object Array]"!==Object.prototype.toString.call(n)&&(n=[n]),this.opt.hints[t]=[];for(var i=0;i<e;i++){var o=n[i],r=n[n.length-1];r===undefined&&(r=null),this.opt.hints[t][i]=o===undefined?r:o}}},_adjustNumber:function(){this.opt.number=l._between(this.opt.number,1,this.opt.numberMax)},_adjustPath:function(){this.opt.path=this.opt.path||"",this.opt.path&&"/"!==this.opt.path.charAt(this.opt.path.length-1)&&(this.opt.path+="/")},_adjustPrecision:function(){this.opt.half=!0},_adjustStarType:function(){var e=["cancelOff","cancelOn","starHalf","starOff","starOn"];this.opt.path="";for(var t=0;t<e.length;t++)this.opt[e[t]]=this.opt[e[t]].replace(".","-")},_apply:function(e){l._fill.call(this,e),e&&(0<e&&this.score.val(e),l._roundStars.call(this,e))},_between:function(e,t,n){return Math.min(Math.max(parseFloat(e),t),n)},_binds:function(){this.cancel&&(l._bindOverCancel.call(this),l._bindClickCancel.call(this),l._bindOutCancel.call(this)),l._bindOver.call(this),l._bindClick.call(this),l._bindOut.call(this)},_bindClick:function(){var i=this;i.stars.on("click.raty",function(e){var t=!0,n=i.opt.half||i.opt.precision?i.self.data("score"):this.alt||s(this).data("alt");i.opt.click&&(t=i.opt.click.call(i,+n,e)),(t||t===undefined)&&(i.opt.half&&!i.opt.precision&&(n=l._roundHalfScore.call(i,n)),l._apply.call(i,n))})},_bindClickCancel:function(){var t=this;t.cancel.on("click.raty",function(e){t.score.removeAttr("value"),t.opt.click&&t.opt.click.call(t,null,e)})},_bindOut:function(){var n=this;n.self.on("mouseleave.raty",function(e){var t=+n.score.val()||undefined;l._apply.call(n,t),l._target.call(n,t,e),l._resetTitle.call(n),n.opt.mouseout&&n.opt.mouseout.call(n,t,e)})},_bindOutCancel:function(){var i=this;i.cancel.on("mouseleave.raty",function(e){var t=i.opt.cancelOff;if("img"!==i.opt.starType&&(t=i.opt.cancelClass+" "+t),l._setIcon.call(i,this,t),i.opt.mouseout){var n=+i.score.val()||undefined;i.opt.mouseout.call(i,n,e)}})},_bindOver:function(){var n=this,e=n.opt.half?"mousemove.raty":"mouseover.raty";n.stars.on(e,function(e){var t=l._getScoreByPosition.call(n,e,this);l._fill.call(n,t),n.opt.half&&(l._roundStars.call(n,t,e),l._setTitle.call(n,t,e),n.self.data("score",t)),l._target.call(n,t,e),n.opt.mouseover&&n.opt.mouseover.call(n,t,e)})},_bindOverCancel:function(){var i=this;i.cancel.on("mouseover.raty",function(e){var t=i.opt.path+i.opt.starOff,n=i.opt.cancelOn;"img"===i.opt.starType?i.stars.attr("src",t):(n=i.opt.cancelClass+" "+n,i.stars.attr("class",t)),l._setIcon.call(i,this,n),l._target.call(i,null,e),i.opt.mouseover&&i.opt.mouseover.call(i,null)})},_buildScoreField:function(){return s("<input />",{name:this.opt.scoreName,type:"hidden"}).appendTo(this)},_createCancel:function(){var e=this.opt.path+this.opt.cancelOff,t=s("<"+this.opt.starType+" />",{title:this.opt.cancelHint,"class":this.opt.cancelClass});"img"===this.opt.starType?t.attr({src:e,alt:"x"}):t.attr("data-alt","x").addClass(e),
"left"===this.opt.cancelPlace?this.self.prepend("&#160;").prepend(t):this.self.append("&#160;").append(t),this.cancel=t},_createScore:function(){var e=s(this.opt.targetScore);this.score=e.length?e:l._buildScoreField.call(this)},_createStars:function(){for(var e=1;e<=this.opt.number;e++){var t=l._nameForIndex.call(this,e),n={alt:e,src:this.opt.path+this.opt[t]};"img"!==this.opt.starType&&(n={"data-alt":e,"class":n.src}),n.title=l._getHint.call(this,e),s("<"+this.opt.starType+" />",n).appendTo(this),this.opt.space&&this.self.append(e<this.opt.number?"&#160;":"")}this.stars=this.self.children(this.opt.starType)},_error:function(e){s(this).text(e),s.error(e)},_fill:function(e){for(var t=0,n=1;n<=this.stars.length;n++){var i,o=this.stars[n-1],r=l._turnOn.call(this,n,e);if(this.opt.iconRange&&this.opt.iconRange.length>t){var a=this.opt.iconRange[t];i=l._getRangeIcon.call(this,a,r),n<=a.range&&l._setIcon.call(this,o,i),n===a.range&&t++}else i=this.opt[r?"starOn":"starOff"],l._setIcon.call(this,o,i)}},_getFirstDecimal:function(e){var t=e.toString().split(".")[1],n=0;return t&&(n=parseInt(t.charAt(0),10),"9999"===t.slice(1,5)&&n++),n},_getRangeIcon:function(e,t){return t?e.on||this.opt.starOn:e.off||this.opt.starOff},_getScoreByPosition:function(e,t){var n=parseInt(t.alt||t.getAttribute("data-alt"),10);if(this.opt.half){var i=l._getWidth.call(this);n=n-1+parseFloat((e.pageX-s(t).offset().left)/i)}return n},_getHint:function(e,t){if(0!==e&&!e)return this.opt.noRatedMsg;var n=l._getFirstDecimal.call(this,e),i=Math.ceil(e),o=this.opt.hints[(i||1)-1],r=o,a=!t||this.move;return this.opt.precision?(a&&(n=0===n?9:n-1),r=o[n]):(this.opt.halfShow||this.opt.half)&&(r=o[n=a&&0===n?1:5<n?1:0]),""===r?"":r||e},_getWidth:function(){var e=this.stars[0].width||parseFloat(this.stars.eq(0).css("font-size"));return e||l._error.call(this,"Could not get the icon width!"),e},_lock:function(){var e=l._getHint.call(this,this.score.val());this.style.cursor="",this.title=e,this.score.prop("readonly",!0),this.stars.prop("title",e),this.cancel&&this.cancel.hide(),this.self.data("readonly",!0)},_nameForIndex:function(e){return this.opt.score&&this.opt.score>=e?"starOn":"starOff"},_resetTitle:function(){for(var e=0;e<this.opt.number;e++)this.stars[e].title=l._getHint.call(this,e+1)},_roundHalfScore:function(e){var t=parseInt(e,10),n=l._getFirstDecimal.call(this,e);return 0!==n&&(n=5<n?1:.5),t+n},_roundStars:function(e,t){var n,i=(e%1).toFixed(2);if(t||this.move?n=.5<i?"starOn":"starHalf":i>this.opt.round.down&&(n="starOn",this.opt.halfShow&&i<this.opt.round.up?n="starHalf":i<this.opt.round.full&&(n="starOff")),n){var o=this.opt[n],r=this.stars[Math.ceil(e)-1];l._setIcon.call(this,r,o)}},_setIcon:function(e,t){e["img"===this.opt.starType?"src":"className"]=this.opt.path+t},_setTarget:function(e,t){t&&(t=this.opt.targetFormat.toString().replace("{score}",t)),e.is(":input")?e.val(t):e.html(t)},_setTitle:function(e,t){if(e){var n=parseInt(Math.ceil(e),10);this.stars[n-1].title=l._getHint.call(this,e,t)}},_target:function(e,t){if(this.opt.target){var n=s(this.opt.target);n.length||l._error.call(this,"Target selector invalid or missing!");var i=t&&"mouseover"===t.type;if(e===undefined)e=this.opt.targetText;else if(null===e)e=i?this.opt.cancelHint:this.opt.targetText;else{"hint"===this.opt.targetType?e=l._getHint.call(this,e,t):this.opt.precision&&(e=parseFloat(e).toFixed(1));var o=t&&"mousemove"===t.type;i||o||this.opt.targetKeep||(e=this.opt.targetText)}l._setTarget.call(this,n,e)}},_turnOn:function(e,t){return this.opt.single?e===t:e<=t},_unlock:function(){this.style.cursor="pointer",this.removeAttribute("title"),this.score.removeAttr("readonly"),this.self.data("readonly",!1);for(var e=0;e<this.opt.number;e++)this.stars[e].title=l._getHint.call(this,e+1);this.cancel&&this.cancel.css("display","")},cancel:function(t){return this.each(function(){var e=s(this);!0!==e.data("readonly")&&(l[t?"click":"score"].call(e,null),this.score.removeAttr("value"))})},click:function(e){return this.each(function(){!0!==s(this).data("readonly")&&(e=l._adjustedScore.call(this,e),l._apply.call(this,e),this.opt.click&&this.opt.click.call(this,e,s.Event("click")),l._target.call(this,e))})},destroy:function(){return this.each(function(){var e=s(this),t=e.data("raw");t?e.off(".raty").empty().css({cursor:t.style.cursor}).removeData("readonly"):e.data("raw",e.clone()[0])})},getScore:function(){var e,t=[];return this.each(function(){e=this.score.val(),t.push(e?+e:undefined)}),1<t.length?t:t[0]},move:function(a){return this.each(function(){var e=parseInt(a,10),t=l._getFirstDecimal.call(this,a);e>=this.opt.number&&(e=this.opt.number-1,t=10);var n=l._getWidth.call(this)/10,i=s(this.stars[e]),o=i.offset().left+n*t,r=s.Event("mousemove",{pageX:o});this.move=!0,i.trigger(r),this.move=!1})},readOnly:function(t){return this.each(function(){var e=s(this);e.data("readonly")!==t&&(t?(e.off(".raty").children(this.opt.starType).off(".raty"),l._lock.call(this)):(l._binds.call(this),l._unlock.call(this)),e.data("readonly",t))})},reload:function(){return l.set.call(this,{})},score:function(){var e=s(this);return arguments.length?l.setScore.apply(e,arguments):l.getScore.call(e)},set:function(e){return this.each(function(){s(this).raty(s.extend({},this.opt,e))})},setScore:function(e){return this.each(function(){!0!==s(this).data("readonly")&&(e=l._adjustedScore.call(this,e),l._apply.call(this,e),l._target.call(this,e))})}};s.fn.raty=function(e){return l[e]?l[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void s.error("Method "+e+" does not exist!"):l.init.apply(this,arguments)},s.fn.raty.defaults={cancel:!1,cancelClass:"raty-cancel",cancelHint:"Cancel this rating!",cancelOff:"cancel-off.png",cancelOn:"cancel-on.png",cancelPlace:"left",click:undefined,half:!1,halfShow:!0,hints:["bad","poor","regular","good","gorgeous"],iconRange:undefined,mouseout:undefined,mouseover:undefined,noRatedMsg:"Not rated yet!",number:5,numberMax:20,path:undefined,precision:!1,readOnly:!1,round:{down:.25,full:.6,up:.76},score:undefined,scoreName:"score",single:!1,space:!0,starHalf:"star-half.png",starOff:"star-off.png",starOn:"star-on.png",starType:"img",target:undefined,targetFormat:"{score}",targetKeep:!1,targetScore:undefined,targetText:"",targetType:"hint"}}(jQuery),function(){var e=this;(function(){(function(){this.Turbolinks={supported:null!=window.history.pushState&&null!=window.requestAnimationFrame&&null!=window.addEventListener,visit:function(e,t){return d.controller.visit(e,t)},clearCache:function(){return d.controller.clearCache()},setProgressBarDelay:function(e){return d.controller.setProgressBarDelay(e)}}}).call(this)}).call(e);var d=e.Turbolinks;(function(){(function(){var n,i,l,e,t,o,r,a,s,c=[].slice;d.copyObject=function(e){var t,n,i;for(t in n={},e)i=e[t],n[t]=i;return n},d.closest=function(e,t){return n.call(e,t)},n=null!=(s=document.documentElement.closest)?s:function(e){var t;for(t=this;t;){if(t.nodeType===Node.ELEMENT_NODE&&i.call(t,e))return t;t=t.parentNode}},d.defer=function(e){return setTimeout(e,1)},d.throttle=function(n){var i;return i=null,function(){var e,t;return e=1<=arguments.length?c.call(arguments,0):[],null!=i?i:i=requestAnimationFrame((t=this,function(){return i=null,n.apply(t,e)}))}},d.dispatch=function(e,t){var n,i,o,r,a,s;return s=(a=null!=t?t:{}).target,n=a.cancelable,i=a.data,(o=document.createEvent("Events")).initEvent(e,!0,!0===n),o.data=null!=i?i:{},o.cancelable&&!l&&(r=o.preventDefault,o.preventDefault=function(){return this.defaultPrevented||Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}}),r.call(this)}),(null!=s?s:document).dispatchEvent(o),o},(a=document.createEvent("Events")).initEvent("test",!0,!0),a.preventDefault(),l=a.defaultPrevented,d.match=function(e,t){return i.call(e,t)},i=null!=(t=null!=(o=null!=(r=(e=document.documentElement).matchesSelector)?r:e.webkitMatchesSelector)?o:e.msMatchesSelector)?t:e.mozMatchesSelector,d.uuid=function(){var e,t,n;for(n="",e=t=1;t<=36;e=++t)n+=9===e||14===e||19===e||24===e?"-":15===e?"4":20===e?(Math.floor(4*Math.random())+8).toString(16):Math.floor(15*Math.random()).toString(16);return n}}).call(this),function(){d.Location=function(){function e(e){var t,n;null==e&&(e=""),(n=document.createElement("a")).href=e.toString(),this.absoluteURL=n.href,(t=n.hash.length)<2?this.requestURL=this.absoluteURL:(this.requestURL=this.absoluteURL.slice(0,-t),this.anchor=n.hash.slice(1))}var t,n,i,o;return e.wrap=function(e){return e instanceof this?e:new this(e)},e.prototype.getOrigin=function(){return this.absoluteURL.split("/",3).join("/")},e.prototype.getPath=function(){var e,t;return null!=(e=null!=(t=this.requestURL.match(/\/\/[^\/]*(\/[^?;]*)/))?t[1]:void 0)?e:"/"},e.prototype.getPathComponents=function(){return this.getPath().split("/").slice(1)},e.prototype.getLastPathComponent=function(){return this.getPathComponents().slice(-1)[0]},e.prototype.getExtension=function(){var e,t;return null!=(e=null!=(t=this.getLastPathComponent().match(/\.[^.]*$/))?t[0]:void 0)?e:""},e.prototype.isHTML=function(){return this.getExtension().match(/^(?:|\.(?:htm|html|xhtml))$/)},e.prototype.isPrefixedBy=function(e){var t;return t=n(e),this.isEqualTo(e)||o(this.absoluteURL,t)},e.prototype.isEqualTo=function(e){return this.absoluteURL===(null!=e?e.absoluteURL:void 0)},e.prototype.toCacheKey=function(){return this.requestURL},e.prototype.toJSON=function(){return this.absoluteURL},e.prototype.toString=function(){return this.absoluteURL},e.prototype.valueOf=function(){return this.absoluteURL},n=function(e){return t(e.getOrigin()+e.getPath())},t=function(e){return i(e,"/")?e:e+"/"},o=function(e,t){return e.slice(0,t.length)===t},i=function(e,t){return e.slice(-t.length)===t},e}()}.call(this),function(){var i=function(e,t){return function(){return e.apply(t,arguments)}};d.HttpRequest=function(){function e(e,t,n){this.delegate=e,this.requestCanceled=i(this.requestCanceled,this),this.requestTimedOut=i(this.requestTimedOut,this),this.requestFailed=i(this.requestFailed,this),this.requestLoaded=i(this.requestLoaded,this),this.requestProgressed=i(this.requestProgressed,this),this.url=d.Location.wrap(t).requestURL,this.referrer=d.Location.wrap(n).absoluteURL,this.createXHR()}return e.NETWORK_FAILURE=0,e.TIMEOUT_FAILURE=-1,e.timeout=60,e.prototype.send=function(){var e;return this.xhr&&!this.sent?(this.notifyApplicationBeforeRequestStart(),this.setProgress(0),this.xhr.send(),this.sent=!0,"function"==typeof(e=this.delegate).requestStarted?e.requestStarted():void 0):void 0},e.prototype.cancel=function(){return this.xhr&&this.sent?this.xhr.abort():void 0},e.prototype.requestProgressed=function(e){return e.lengthComputable?this.setProgress(e.loaded/e.total):void 0},e.prototype.requestLoaded=function(){return this.endRequest((t=this,function(){var e;return 200<=(e=t.xhr.status)&&e<300?t.delegate.requestCompletedWithResponse(t.xhr.responseText,t.xhr.getResponseHeader("Turbolinks-Location")):(t.failed=!0,t.delegate.requestFailedWithStatusCode(t.xhr.status,t.xhr.responseText))}));var t},e.prototype.requestFailed=function(){return this.endRequest((e=this,function(){return e.failed=!0,e.delegate.requestFailedWithStatusCode(e.constructor.NETWORK_FAILURE)}));var e},e.prototype.requestTimedOut=function(){return this.endRequest((e=this,function(){return e.failed=!0,e.delegate.requestFailedWithStatusCode(e.constructor.TIMEOUT_FAILURE)}));var e},e.prototype.requestCanceled=function(){return this.endRequest()},e.prototype.notifyApplicationBeforeRequestStart=function(){return d.dispatch("turbolinks:request-start",{data:{url:this.url,xhr:this.xhr}})},e.prototype.notifyApplicationAfterRequestEnd=function(){return d.dispatch("turbolinks:request-end",{data:{url:this.url,xhr:this.xhr}})},e.prototype.createXHR=function(){return this.xhr=new XMLHttpRequest,this.xhr.open("GET",this.url,!0),this.xhr.timeout=1e3*this.constructor.timeout,this.xhr.setRequestHeader("Accept","text/html, application/xhtml+xml"),this.xhr.setRequestHeader("Turbolinks-Referrer",this.referrer),this.xhr.onprogress=this.requestProgressed,this.xhr.onload=this.requestLoaded,this.xhr.onerror=this.requestFailed,this.xhr.ontimeout=this.requestTimedOut,this.xhr.onabort=this.requestCanceled},e.prototype.endRequest=function(e){return this.xhr?(this.notifyApplicationAfterRequestEnd(),null!=e&&e.call(this),this.destroy()):void 0},e.prototype.setProgress=function(e){var t;return this.progress=e,"function"==typeof(t=this.delegate).requestProgressed?t.requestProgressed(this.progress):void 0},e.prototype.destroy=function(){var e;return this.setProgress(1),"function"==typeof(e=this.delegate).requestFinished&&e.requestFinished(),this.delegate=null,this.xhr=null},e}()}.call(this),function(){var n=function(e,t){return function(){return e.apply(t,arguments)}};d.ProgressBar=function(){function e(){this.trickle=n(this.trickle,this),this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement()}var t;return t=300,e.defaultCSS=".turbolinks-progress-bar {\n  position: fixed;\n  display: block;\n  top: 0;\n  left: 0;\n  height: 3px;\n  background: #0076ff;\n  z-index: 9999;\n  transition: width "+t+"ms ease-out, opacity "+t/2+"ms "+t/2+"ms ease-in;\n  transform: translate3d(0, 0, 0);\n}",e.prototype.show=function(){return this.visible?void 0:(this.visible=!0,this.installStylesheetElement(),this.installProgressElement(),this.startTrickling())},e.prototype.hide=function(){return this.visible&&!this.hiding?(this.hiding=!0,this.fadeProgressElement((e=this,function(){return e.uninstallProgressElement(),e.stopTrickling(),e.visible=!1,e.hiding=!1}))):void 0;var e},e.prototype.setValue=function(e){return this.value=e,this.refresh()},e.prototype.installStylesheetElement=function(){return document.head.insertBefore(this.stylesheetElement,document.head.firstChild)},e.prototype.installProgressElement=function(){return this.progressElement.style.width=0,this.progressElement.style.opacity=1,document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()},e.prototype.fadeProgressElement=function(e){return this.progressElement.style.opacity=0,setTimeout(e,1.5*t)},e.prototype.uninstallProgressElement=function(){return this.progressElement.parentNode?document.documentElement.removeChild(this.progressElement):void 0},e.prototype.startTrickling=function(){return null!=this.trickleInterval?this.trickleInterval:this.trickleInterval=setInterval(this.trickle,t)},e.prototype.stopTrickling=function(){return clearInterval(this.trickleInterval),this.trickleInterval=null},e.prototype.trickle=function(){return this.setValue(this.value+Math.random()/100)},e.prototype.refresh=function(){return requestAnimationFrame((e=this,function(){return e.progressElement.style.width=10+90*e.value+"%"}));var e},e.prototype.createStylesheetElement=function(){var e;return(e=document.createElement("style")).type="text/css",e.textContent=this.constructor.defaultCSS,e},e.prototype.createProgressElement=function(){var e;return(e=document.createElement("div")).className="turbolinks-progress-bar",e},e}()}.call(this),function(){var o=function(e,t){return function(){return e.apply(t,arguments)}};d.BrowserAdapter=function(){function e(e){this.controller=e,this.showProgressBar=o(this.showProgressBar,this),this.progressBar=new d.ProgressBar}var n,i,t;return t=d.HttpRequest,n=t.NETWORK_FAILURE,i=t.TIMEOUT_FAILURE,e.prototype.visitProposedToLocationWithAction=function(e,t){return this.controller.startVisitToLocationWithAction(e,t)},e.prototype.visitStarted=function(e){return e.issueRequest(),e.changeHistory(),e.loadCachedSnapshot()},e.prototype.visitRequestStarted=function(e){return this.progressBar.setValue(0),e.hasCachedSnapshot()||"restore"!==e.action?this.showProgressBarAfterDelay():this.showProgressBar()},e.prototype.visitRequestProgressed=function(e){return this.progressBar.setValue(e.progress)},e.prototype.visitRequestCompleted=function(e){return e.loadResponse()},e.prototype.visitRequestFailedWithStatusCode=function(e,t){switch(t){case n:case i:return this.reload();default:return e.loadResponse()}},e.prototype.visitRequestFinished=function(){return this.hideProgressBar()},e.prototype.visitCompleted=function(e){return e.followRedirect()},e.prototype.pageInvalidated=function(){return this.reload()},e.prototype.showProgressBarAfterDelay=function(){return this.progressBarTimeout=setTimeout(this.showProgressBar,this.controller.progressBarDelay)},e.prototype.showProgressBar=function(){return this.progressBar.show()},e.prototype.hideProgressBar=function(){return this.progressBar.hide(),clearTimeout(this.progressBarTimeout)},e.prototype.reload=function(){return window.location.reload()},e}()}.call(this),function(){var t=function(e,t){return function(){return e.apply(t,arguments)}};d.History=function(){function e(e){this.delegate=e,this.onPageLoad=t(this.onPageLoad,this),this.onPopState=t(this.onPopState,this)}return e.prototype.start=function(){return this.started?void 0:(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.started=!0)},e.prototype.stop=function(){return this.started?(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1):void 0},e.prototype.push=function(e,t){return e=d.Location.wrap(e),this.update("push",e,t)},e.prototype.replace=function(e,t){return e=d.Location.wrap(e),this.update("replace",e,t)},e.prototype.onPopState=function(e){var t,n,i,o;return this.shouldHandlePopState()&&(o=null!=(n=e.state)?n.turbolinks:void 0)?(t=d.Location.wrap(window.location),i=o.restorationIdentifier,this.delegate.historyPoppedToLocationWithRestorationIdentifier(t,i)):void 0},e.prototype.onPageLoad=function(){return d.defer((e=this,function(){return e.pageLoaded=!0}));var e},e.prototype.shouldHandlePopState=function(){return this.pageIsLoaded()},e.prototype.pageIsLoaded=function(){return this.pageLoaded||"complete"===document.readyState},e.prototype.update=function(e,t,n){var i;return i={turbolinks:{restorationIdentifier:n}},history[e+"State"](i,null,t)},e}()}.call(this),function(){d.HeadDetails=function(){function e(e){var t,n,i,o,r;for(this.elements={},n=0,o=e.length;n<o;n++)(r=e[n]).nodeType===Node.ELEMENT_NODE&&(i=r.outerHTML,(null!=(t=this.elements)[i]?t[i]:t[i]={type:s(r),tracked:a(r),elements:[]}).elements.push(r))}var r,t,n,a,s;return e.fromHeadElement=function(e){var t;return new this(null!=(t=null!=e?e.childNodes:void 0)?t:[])},e.prototype.hasElementWithKey=function(e){return e in this.elements},e.prototype.getTrackedElementSignature=function(){var n;return function(){var e,t;for(n in t=[],e=this.elements)e[n].tracked&&t.push(n);return t}.call(this).join("")},e.prototype.getScriptElementsNotInDetails=function(e){return this.getElementsMatchingTypeNotInDetails("script",e)},e.prototype.getStylesheetElementsNotInDetails=function(e){return this.getElementsMatchingTypeNotInDetails("stylesheet",e)},e.prototype.getElementsMatchingTypeNotInDetails=function(e,t){var n,i,o,r,a,s;for(i in a=[],o=this.elements)s=(r=o[i]).type,n=r.elements,s!==e||t.hasElementWithKey(i)||a.push(n[0]);return a},e.prototype.getProvisionalElements=function(){var e,t,n,i,o,r,a;for(t in n=[],i=this.elements)a=(o=i[t]).type,r=o.tracked,e=o.elements,null!=a||r?1<e.length&&n.push.apply(n,e.slice(1)):n.push.apply(n,e);return n},e.prototype.getMetaValue=function(e){var t;return null!=(t=this.findMetaElementByName(e))?t.getAttribute("content"):void 0},e.prototype.findMetaElementByName=function(e){var t,n,i,o;for(i in t=void 0,o=this.elements)n=o[i].elements,r(n[0],e)&&(t=n[0]);return t},s=function(e){return t(e)?"script":n(e)?"stylesheet":void 0},a=function(e){return"reload"===e.getAttribute("data-turbolinks-track")},t=function(e){return"script"===e.tagName.toLowerCase()},n=function(e){var t;return"style"===(t=e.tagName.toLowerCase())||"link"===t&&"stylesheet"===e.getAttribute("rel")},r=function(e,t){return"meta"===e.tagName.toLowerCase()&&e.getAttribute("name")===t},e}()}.call(this),function(){d.Snapshot=function(){function e(e,t){this.headDetails=e,this.bodyElement=t}return e.wrap=function(e){return e instanceof this?e:"string"==typeof e?this.fromHTMLString(e):this.fromHTMLElement(e)},e.fromHTMLString=function(e){var t;return(t=document.createElement("html")).innerHTML=e,this.fromHTMLElement(t)},e.fromHTMLElement=function(e){var t,n,i;return n=e.querySelector("head"),t=null!=(i=e.querySelector("body"))?i:document.createElement("body"),new this(d.HeadDetails.fromHeadElement(n),t)},e.prototype.clone=function(){return new this.constructor(this.headDetails,this.bodyElement.cloneNode(!0))},e.prototype.getRootLocation=function(){var e,t;return t=null!=(e=this.getSetting("root"))?e:"/",new d.Location(t)},e.prototype.getCacheControlValue=function(){return this.getSetting("cache-control")},e.prototype.getElementForAnchor=function(e){try{return this.bodyElement.querySelector("[id='"+e+"'], a[name='"+e+"']")}catch(d){}},e.prototype.getPermanentElements=function(){return this.bodyElement.querySelectorAll("[id][data-turbolinks-permanent]")},e.prototype.getPermanentElementById=function(e){return this.bodyElement.querySelector("#"+e+"[data-turbolinks-permanent]")},e.prototype.getPermanentElementsPresentInSnapshot=function(e){var t,n,i,o,r;for(r=[],n=0,i=(o=this.getPermanentElements()).length;n<i;n++)t=o[n],e.getPermanentElementById(t.id)&&r.push(t);return r},e.prototype.findFirstAutofocusableElement=function(){return this.bodyElement.querySelector("[autofocus]")},e.prototype.hasAnchor=function(e){return null!=this.getElementForAnchor(e)},e.prototype.isPreviewable=function(){return"no-preview"!==this.getCacheControlValue()},e.prototype.isCacheable=function(){return"no-cache"!==this.getCacheControlValue()},e.prototype.isVisitable=function(){return"reload"!==this.getSetting("visit-control")},e.prototype.getSetting=function(e){return this.headDetails.getMetaValue("turbolinks-"+e)},e}()}.call(this),function(){var r=[].slice;d.Renderer=function(){function e(){}var n;return e.render=function(e,t){var n,i,o;return i=e,n=t,(o=function(e,t,n){n.prototype=e.prototype;var i=new n,o=e.apply(i,t);return Object(o)===o?o:i}(this,3<=arguments.length?r.call(arguments,2):[],function(){})).delegate=i,o.render(n),o},e.prototype.renderView=function(e){return this.delegate.viewWillRender(this.newBody),e(),this.delegate.viewRendered(this.newBody)},e.prototype.invalidateView=function(){return this.delegate.viewInvalidated()},e.prototype.createScriptElement=function(e){var t;return"false"===e.getAttribute("data-turbolinks-eval")?e:((t=document.createElement("script")).textContent=e.textContent,t.async=!1,n(t,e),t)},n=function(e,t){var n,i,o,r,a,s,l;for(s=[],n=0,i=(r=t.attributes).length;n<i;n++)o=(a=r[n]).name,l=a.value,s.push(e.setAttribute(o,l));return s},e}()}.call(this),function(){var s,l,n=function(e,t){function n(){this.constructor=e}for(var i in t)o.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;d.SnapshotRenderer=function(e){function t(e,t,n){this.currentSnapshot=e,this.newSnapshot=t,this.isPreview=n,this.currentHeadDetails=this.currentSnapshot.headDetails,this.newHeadDetails=this.newSnapshot.headDetails,this.currentBody=this.currentSnapshot.bodyElement,this.newBody=this.newSnapshot.bodyElement}return n(t,e),t.prototype.render=function(e){return this.shouldRender()?(this.mergeHead(),this.renderView((t=this,function(){return t.replaceBody(),t.isPreview||t.focusFirstAutofocusableElement(),e()}))):this.invalidateView();var t},t.prototype.mergeHead=function(){return this.copyNewHeadStylesheetElements(),this.copyNewHeadScriptElements(),this.removeCurrentHeadProvisionalElements(),this.copyNewHeadProvisionalElements()},t.prototype.replaceBody=function(){var e;return e=this.relocateCurrentBodyPermanentElements(),this.activateNewBodyScriptElements(),this.assignNewBody(),this.replacePlaceholderElementsWithClonedPermanentElements(e)},t.prototype.shouldRender=function(){return this.newSnapshot.isVisitable()&&this.trackedElementsAreIdentical()},t.prototype.trackedElementsAreIdentical=function(){return this.currentHeadDetails.getTrackedElementSignature()===this.newHeadDetails.getTrackedElementSignature()},t.prototype.copyNewHeadStylesheetElements=function(){var e,t,n,i,o;for(o=[],t=0,n=(i=this.getNewHeadStylesheetElements()).length;t<n;t++)e=i[t],o.push(document.head.appendChild(e));return o},t.prototype.copyNewHeadScriptElements=function(){var e,t,n,i,o;for(o=[],t=0,n=(i=this.getNewHeadScriptElements()).length;t<n;t++)e=i[t],o.push(document.head.appendChild(this.createScriptElement(e)));return o},t.prototype.removeCurrentHeadProvisionalElements=function(){var e,t,n,i,o;for(o=[],t=0,n=(i=this.getCurrentHeadProvisionalElements()).length;t<n;t++)e=i[t],o.push(document.head.removeChild(e));return o},t.prototype.copyNewHeadProvisionalElements=function(){var e,t,n,i,o;for(o=[],t=0,n=(i=this.getNewHeadProvisionalElements()).length;t<n;t++)e=i[t],o.push(document.head.appendChild(e));return o},t.prototype.relocateCurrentBodyPermanentElements=function(){var e,t,n,i,o,r,a;for(a=[],e=0,t=(r=this.getCurrentBodyPermanentElements()).length;e<t;e++)i=r[e],o=s(i),n=this.newSnapshot.getPermanentElementById(i.id),l(i,o.element),l(n,i),a.push(o);return a},t.prototype.replacePlaceholderElementsWithClonedPermanentElements=function(e){var t,n,i,o,r,a;for(a=[],i=0,o=e.length;i<o;i++)n=(r=e[i]).element,t=r.permanentElement.cloneNode(!0),a.push(l(n,t));return a},t.prototype.activateNewBodyScriptElements=function(){var e,t,n,i,o,r;for(r=[],t=0,i=(o=this.getNewBodyScriptElements()).length;t<i;t++)n=o[t],e=this.createScriptElement(n),r.push(l(n,e));return r},t.prototype.assignNewBody=function(){return document.body=this.newBody},t.prototype.focusFirstAutofocusableElement=function(){var e;return null!=(e=this.newSnapshot.findFirstAutofocusableElement())?e.focus():void 0},t.prototype.getNewHeadStylesheetElements=function(){return this.newHeadDetails.getStylesheetElementsNotInDetails(this.currentHeadDetails)},t.prototype.getNewHeadScriptElements=function(){return this.newHeadDetails.getScriptElementsNotInDetails(this.currentHeadDetails)},t.prototype.getCurrentHeadProvisionalElements=function(){return this.currentHeadDetails.getProvisionalElements()},t.prototype.getNewHeadProvisionalElements=function(){return this.newHeadDetails.getProvisionalElements()},t.prototype.getCurrentBodyPermanentElements=function(){return this.currentSnapshot.getPermanentElementsPresentInSnapshot(this.newSnapshot)},t.prototype.getNewBodyScriptElements=function(){return this.newBody.querySelectorAll("script")},t}(d.Renderer),s=function(e){var t;return(t=document.createElement("meta")).setAttribute("name","turbolinks-permanent-placeholder"),t.setAttribute("content",e.id),{element:t,permanentElement:e}},l=function(e,t){var n;return(n=e.parentNode)?n.replaceChild(t,e):void 0}}.call(this),function(){var n=function(e,t){function n(){this.constructor=e}for(var i in t)o.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;d.ErrorRenderer=function(e){function t(e){var t;(t=document.createElement("html")).innerHTML=e,this.newHead=t.querySelector("head"),this.newBody=t.querySelector("body")}return n(t,e),t.prototype.render=function(e){return this.renderView((t=this,function(){return t.replaceHeadAndBody(),t.activateBodyScriptElements(),e()}));var t},t.prototype.replaceHeadAndBody=function(){var e,t;return t=document.head,e=document.body,t.parentNode.replaceChild(this.newHead,t),e.parentNode.replaceChild(this.newBody,e)},t.prototype.activateBodyScriptElements=function(){var e,t,n,i,o,r;for(r=[],t=0,n=(i=this.getScriptElements()).length;t<n;t++)o=i[t],e=this.createScriptElement(o),r.push(o.parentNode.replaceChild(e,o));return r},t.prototype.getScriptElements=function(){return document.documentElement.querySelectorAll("script")},t}(d.Renderer)}.call(this),function(){d.View=function(){function e(e){this.delegate=e,this.htmlElement=document.documentElement}return e.prototype.getRootLocation=function(){return this.getSnapshot().getRootLocation()},e.prototype.getElementForAnchor=function(e){return this.getSnapshot().getElementForAnchor(e)},e.prototype.getSnapshot=function(){return d.Snapshot.fromHTMLElement(this.htmlElement)},e.prototype.render=function(e,t){var n,i,o;return o=e.snapshot,n=e.error,i=e.isPreview,this.markAsPreview(i),null!=o?this.renderSnapshot(o,i,t):this.renderError(n,t)},e.prototype.markAsPreview=function(e){return e?this.htmlElement.setAttribute("data-turbolinks-preview",""):this.htmlElement.removeAttribute("data-turbolinks-preview")},e.prototype.renderSnapshot=function(e,t,n){return d.SnapshotRenderer.render(this.delegate,n,this.getSnapshot(),d.Snapshot.wrap(e),t)},e.prototype.renderError=function(e,t){return d.ErrorRenderer.render(this.delegate,t,e)},e}()}.call(this),function(){var t=function(e,t){return function(){return e.apply(t,arguments)}};d.ScrollManager=function(){function e(e){this.delegate=e,this.onScroll=t(this.onScroll,this),this.onScroll=d.throttle(this.onScroll)}return e.prototype.start=function(){return this.started?void 0:(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)},e.prototype.stop=function(){return this.started?(removeEventListener("scroll",this.onScroll,!1),this.started=!1):void 0},e.prototype.scrollToElement=function(e){return e.scrollIntoView()},e.prototype.scrollToPosition=function(e){var t,n;return t=e.x,n=e.y,window.scrollTo(t,n)},e.prototype.onScroll=function(){return this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})},e.prototype.updatePosition=function(e){var t;return this.position=e,null!=(t=this.delegate)?t.scrollPositionChanged(this.position):void 0},e}()}.call(this),function(){d.SnapshotCache=function(){function e(e){this.size=e,this.keys=[],this.snapshots={}}var i;return e.prototype.has=function(e){return i(e)in this.snapshots},e.prototype.get=function(e){var t;if(this.has(e))return t=this.read(e),this.touch(e),t},e.prototype.put=function(e,t){return this.write(e,t),this.touch(e),t},e.prototype.read=function(e){var t;return t=i(e),this.snapshots[t]},e.prototype.write=function(e,t){var n;return n=i(e),this.snapshots[n]=t},e.prototype.touch=function(e){var t,n;return n=i(e),-1<(t=this.keys.indexOf(n))&&this.keys.splice(t,1),this.keys.unshift(n),this.trim()},e.prototype.trim=function(){var e,t,n,i,o;for(o=[],e=0,n=(i=this.keys.splice(this.size)).length;e<n;e++)t=i[e],o.push(delete this.snapshots[t]);return o},i=function(e){return d.Location.wrap(e).toCacheKey()},e}()}.call(this),function(){var i=function(e,t){return function(){return e.apply(t,arguments)}};d.Visit=function(){function e(e,t,n){this.controller=e,this.action=n,this.performScroll=i(this.performScroll,this),this.identifier=d.uuid(),this.location=d.Location.wrap(t),this.adapter=this.controller.adapter,this.state="initialized",this.timingMetrics={}}var n;return e.prototype.start=function(){return"initialized"===this.state?(this.recordTimingMetric("visitStart"),this.state="started",this.adapter.visitStarted(this)):void 0},e.prototype.cancel=function(){var e;return"started"===this.state?(null!=(e=this.request)&&e.cancel(),this.cancelRender(),this.state="canceled"):void 0},e.prototype.complete=function(){var e;return"started"===this.state?(this.recordTimingMetric("visitEnd"),this.state="completed","function"==typeof(e=this.adapter).visitCompleted&&e.visitCompleted(this),this.controller.visitCompleted(this)):void 0},e.prototype.fail=function(){var e;return"started"===this.state?(this.state="failed","function"==typeof(e=this.adapter).visitFailed?e.visitFailed(this):void 0):void 0},e.prototype.changeHistory=function(){var e,t;return this.historyChanged?void 0:(e=this.location.isEqualTo(this.referrer)?"replace":this.action,t=n(e),this.controller[t](this.location,this.restorationIdentifier),this.historyChanged=!0)},e.prototype.issueRequest=function(){return this.shouldIssueRequest()&&null==this.request?(this.progress=0,this.request=new d.HttpRequest(this,this.location,this.referrer),this.request.send()):void 0},e.prototype.getCachedSnapshot=function(){var e;return!(e=this.controller.getCachedSnapshotForLocation(this.location))||null!=this.location.anchor&&!e.hasAnchor(this.location.anchor)||"restore"!==this.action&&!e.isPreviewable()?void 0:e},e.prototype.hasCachedSnapshot=function(){return null!=this.getCachedSnapshot()},e.prototype.loadCachedSnapshot=function(){var t,n;return(n=this.getCachedSnapshot())?(t=this.shouldIssueRequest(),this.render(function(){var e;return this.cacheSnapshot(),this.controller.render({snapshot:n,isPreview:t},this.performScroll),"function"==typeof(
e=this.adapter).visitRendered&&e.visitRendered(this),t?void 0:this.complete()})):void 0},e.prototype.loadResponse=function(){return null!=this.response?this.render(function(){var e,t;return this.cacheSnapshot(),this.request.failed?(this.controller.render({error:this.response},this.performScroll),"function"==typeof(e=this.adapter).visitRendered&&e.visitRendered(this),this.fail()):(this.controller.render({snapshot:this.response},this.performScroll),"function"==typeof(t=this.adapter).visitRendered&&t.visitRendered(this),this.complete())}):void 0},e.prototype.followRedirect=function(){return this.redirectedToLocation&&!this.followedRedirect?(this.location=this.redirectedToLocation,this.controller.replaceHistoryWithLocationAndRestorationIdentifier(this.redirectedToLocation,this.restorationIdentifier),this.followedRedirect=!0):void 0},e.prototype.requestStarted=function(){var e;return this.recordTimingMetric("requestStart"),"function"==typeof(e=this.adapter).visitRequestStarted?e.visitRequestStarted(this):void 0},e.prototype.requestProgressed=function(e){var t;return this.progress=e,"function"==typeof(t=this.adapter).visitRequestProgressed?t.visitRequestProgressed(this):void 0},e.prototype.requestCompletedWithResponse=function(e,t){return this.response=e,null!=t&&(this.redirectedToLocation=d.Location.wrap(t)),this.adapter.visitRequestCompleted(this)},e.prototype.requestFailedWithStatusCode=function(e,t){return this.response=t,this.adapter.visitRequestFailedWithStatusCode(this,e)},e.prototype.requestFinished=function(){var e;return this.recordTimingMetric("requestEnd"),"function"==typeof(e=this.adapter).visitRequestFinished?e.visitRequestFinished(this):void 0},e.prototype.performScroll=function(){return this.scrolled?void 0:("restore"===this.action?this.scrollToRestoredPosition()||this.scrollToTop():this.scrollToAnchor()||this.scrollToTop(),this.scrolled=!0)},e.prototype.scrollToRestoredPosition=function(){var e,t;return null!=(e=null!=(t=this.restorationData)?t.scrollPosition:void 0)?(this.controller.scrollToPosition(e),!0):void 0},e.prototype.scrollToAnchor=function(){return null!=this.location.anchor?(this.controller.scrollToAnchor(this.location.anchor),!0):void 0},e.prototype.scrollToTop=function(){return this.controller.scrollToPosition({x:0,y:0})},e.prototype.recordTimingMetric=function(e){var t;return null!=(t=this.timingMetrics)[e]?t[e]:t[e]=(new Date).getTime()},e.prototype.getTimingMetrics=function(){return d.copyObject(this.timingMetrics)},n=function(e){switch(e){case"replace":return"replaceHistoryWithLocationAndRestorationIdentifier";case"advance":case"restore":return"pushHistoryWithLocationAndRestorationIdentifier"}},e.prototype.shouldIssueRequest=function(){return"restore"!==this.action||!this.hasCachedSnapshot()},e.prototype.cacheSnapshot=function(){return this.snapshotCached?void 0:(this.controller.cacheSnapshot(),this.snapshotCached=!0)},e.prototype.render=function(e){return this.cancelRender(),this.frame=requestAnimationFrame((t=this,function(){return t.frame=null,e.call(t)}));var t},e.prototype.cancelRender=function(){return this.frame?cancelAnimationFrame(this.frame):void 0},e}()}.call(this),function(){var t=function(e,t){return function(){return e.apply(t,arguments)}};d.Controller=function(){function e(){this.clickBubbled=t(this.clickBubbled,this),this.clickCaptured=t(this.clickCaptured,this),this.pageLoaded=t(this.pageLoaded,this),this.history=new d.History(this),this.view=new d.View(this),this.scrollManager=new d.ScrollManager(this),this.restorationData={},this.clearCache(),this.setProgressBarDelay(500)}return e.prototype.start=function(){return d.supported&&!this.started?(addEventListener("click",this.clickCaptured,!0),addEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.start(),this.startHistory(),this.started=!0,this.enabled=!0):void 0},e.prototype.disable=function(){return this.enabled=!1},e.prototype.stop=function(){return this.started?(removeEventListener("click",this.clickCaptured,!0),removeEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.stop(),this.stopHistory(),this.started=!1):void 0},e.prototype.clearCache=function(){return this.cache=new d.SnapshotCache(10)},e.prototype.visit=function(e,t){var n,i;return null==t&&(t={}),e=d.Location.wrap(e),this.applicationAllowsVisitingLocation(e)?this.locationIsVisitable(e)?(n=null!=(i=t.action)?i:"advance",this.adapter.visitProposedToLocationWithAction(e,n)):window.location=e:void 0},e.prototype.startVisitToLocationWithAction=function(e,t,n){var i;return d.supported?(i=this.getRestorationDataForIdentifier(n),this.startVisit(e,t,{restorationData:i})):window.location=e},e.prototype.setProgressBarDelay=function(e){return this.progressBarDelay=e},e.prototype.startHistory=function(){return this.location=d.Location.wrap(window.location),this.restorationIdentifier=d.uuid(),this.history.start(),this.history.replace(this.location,this.restorationIdentifier)},e.prototype.stopHistory=function(){return this.history.stop()},e.prototype.pushHistoryWithLocationAndRestorationIdentifier=function(e,t){return this.restorationIdentifier=t,this.location=d.Location.wrap(e),this.history.push(this.location,this.restorationIdentifier)},e.prototype.replaceHistoryWithLocationAndRestorationIdentifier=function(e,t){return this.restorationIdentifier=t,this.location=d.Location.wrap(e),this.history.replace(this.location,this.restorationIdentifier)},e.prototype.historyPoppedToLocationWithRestorationIdentifier=function(e,t){var n;return this.restorationIdentifier=t,this.enabled?(n=this.getRestorationDataForIdentifier(this.restorationIdentifier),this.startVisit(e,"restore",{restorationIdentifier:this.restorationIdentifier,restorationData:n,historyChanged:!0}),this.location=d.Location.wrap(e)):this.adapter.pageInvalidated()},e.prototype.getCachedSnapshotForLocation=function(e){var t;return null!=(t=this.cache.get(e))?t.clone():void 0},e.prototype.shouldCacheSnapshot=function(){return this.view.getSnapshot().isCacheable()},e.prototype.cacheSnapshot=function(){var e,t,n;return this.shouldCacheSnapshot()?(this.notifyApplicationBeforeCachingSnapshot(),t=this.view.getSnapshot(),e=this.lastRenderedLocation,d.defer((n=this,function(){return n.cache.put(e,t.clone())}))):void 0},e.prototype.scrollToAnchor=function(e){var t;return(t=this.view.getElementForAnchor(e))?this.scrollToElement(t):this.scrollToPosition({x:0,y:0})},e.prototype.scrollToElement=function(e){return this.scrollManager.scrollToElement(e)},e.prototype.scrollToPosition=function(e){return this.scrollManager.scrollToPosition(e)},e.prototype.scrollPositionChanged=function(e){return this.getCurrentRestorationData().scrollPosition=e},e.prototype.render=function(e,t){return this.view.render(e,t)},e.prototype.viewInvalidated=function(){return this.adapter.pageInvalidated()},e.prototype.viewWillRender=function(e){return this.notifyApplicationBeforeRender(e)},e.prototype.viewRendered=function(){return this.lastRenderedLocation=this.currentVisit.location,this.notifyApplicationAfterRender()},e.prototype.pageLoaded=function(){return this.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()},e.prototype.clickCaptured=function(){return removeEventListener("click",this.clickBubbled,!1),addEventListener("click",this.clickBubbled,!1)},e.prototype.clickBubbled=function(e){var t,n,i;return this.enabled&&this.clickEventIsSignificant(e)&&(n=this.getVisitableLinkForNode(e.target))&&(i=this.getVisitableLocationForLink(n))&&this.applicationAllowsFollowingLinkToLocation(n,i)?(e.preventDefault(),t=this.getActionForLink(n),this.visit(i,{action:t})):void 0},e.prototype.applicationAllowsFollowingLinkToLocation=function(e,t){return!this.notifyApplicationAfterClickingLinkToLocation(e,t).defaultPrevented},e.prototype.applicationAllowsVisitingLocation=function(e){return!this.notifyApplicationBeforeVisitingLocation(e).defaultPrevented},e.prototype.notifyApplicationAfterClickingLinkToLocation=function(e,t){return d.dispatch("turbolinks:click",{target:e,data:{url:t.absoluteURL},cancelable:!0})},e.prototype.notifyApplicationBeforeVisitingLocation=function(e){return d.dispatch("turbolinks:before-visit",{data:{url:e.absoluteURL},cancelable:!0})},e.prototype.notifyApplicationAfterVisitingLocation=function(e){return d.dispatch("turbolinks:visit",{data:{url:e.absoluteURL}})},e.prototype.notifyApplicationBeforeCachingSnapshot=function(){return d.dispatch("turbolinks:before-cache")},e.prototype.notifyApplicationBeforeRender=function(e){return d.dispatch("turbolinks:before-render",{data:{newBody:e}})},e.prototype.notifyApplicationAfterRender=function(){return d.dispatch("turbolinks:render")},e.prototype.notifyApplicationAfterPageLoad=function(e){return null==e&&(e={}),d.dispatch("turbolinks:load",{data:{url:this.location.absoluteURL,timing:e}})},e.prototype.startVisit=function(e,t,n){var i;return null!=(i=this.currentVisit)&&i.cancel(),this.currentVisit=this.createVisit(e,t,n),this.currentVisit.start(),this.notifyApplicationAfterVisitingLocation(e)},e.prototype.createVisit=function(e,t,n){var i,o,r,a,s;return a=(o=null!=n?n:{}).restorationIdentifier,r=o.restorationData,i=o.historyChanged,(s=new d.Visit(this,e,t)).restorationIdentifier=null!=a?a:d.uuid(),s.restorationData=d.copyObject(r),s.historyChanged=i,s.referrer=this.location,s},e.prototype.visitCompleted=function(e){return this.notifyApplicationAfterPageLoad(e.getTimingMetrics())},e.prototype.clickEventIsSignificant=function(e){return!(e.defaultPrevented||e.target.isContentEditable||1<e.which||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)},e.prototype.getVisitableLinkForNode=function(e){return this.nodeIsVisitable(e)?d.closest(e,"a[href]:not([target]):not([download])"):void 0},e.prototype.getVisitableLocationForLink=function(e){var t;return t=new d.Location(e.getAttribute("href")),this.locationIsVisitable(t)?t:void 0},e.prototype.getActionForLink=function(e){var t;return null!=(t=e.getAttribute("data-turbolinks-action"))?t:"advance"},e.prototype.nodeIsVisitable=function(e){var t;return!(t=d.closest(e,"[data-turbolinks]"))||"false"!==t.getAttribute("data-turbolinks")},e.prototype.locationIsVisitable=function(e){return e.isPrefixedBy(this.view.getRootLocation())&&e.isHTML()},e.prototype.getCurrentRestorationData=function(){return this.getRestorationDataForIdentifier(this.restorationIdentifier)},e.prototype.getRestorationDataForIdentifier=function(e){var t;return null!=(t=this.restorationData)[e]?t[e]:t[e]={}},e}()}.call(this),function(){!function(){var e,t;if((e=t=document.currentScript)&&!t.hasAttribute("data-turbolinks-suppress-warning"))for(;e=e.parentNode;)if(e===document.body)return console.warn("You are loading Turbolinks from a <script> element inside the <body> element. This is probably not what you meant to do!\n\nLoad your application\u2019s JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.\n\nFor more information, see: https://github.com/turbolinks/turbolinks#working-with-script-elements\n\n\u2014\u2014\nSuppress this warning by adding a `data-turbolinks-suppress-warning` attribute to: %s",t.outerHTML)}()}.call(this),function(){var e,t,n;d.start=function(){return t()?(null==d.controller&&(d.controller=e()),d.controller.start()):void 0},t=function(){return null==window.Turbolinks&&(window.Turbolinks=d),n()},e=function(){var e;return(e=new d.Controller).adapter=new d.BrowserAdapter(e),e},(n=function(){return window.Turbolinks===d})()&&d.start()}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=d:"function"==typeof define&&define.amd&&define(d)}.call(this),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?e(require("jquery")):e(jQuery)}(function(i){var t=function(){if(i&&i.fn&&i.fn.select2&&i.fn.select2.amd)var t=i.fn.select2.amd;var o,d,u,n;return t&&t.requirejs||(t?d=t:t={},function(h){function p(e,t){return n.call(e,t)}function r(e,t){var n,i,o,r,a,s,l,c,d,u,h,p=t&&t.split("/"),f=b.map,m=f&&f["*"]||{};if(e&&"."===e.charAt(0))if(t){for(a=(e=e.split("/")).length-1,b.nodeIdCompat&&_.test(e[a])&&(e[a]=e[a].replace(_,"")),e=p.slice(0,p.length-1).concat(e),d=0;d<e.length;d+=1)if("."===(h=e[d]))e.splice(d,1),d-=1;else if(".."===h){if(1===d&&(".."===e[2]||".."===e[0]))break;0<d&&(e.splice(d-1,2),d-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((p||m)&&f){for(d=(n=e.split("/")).length;0<d;d-=1){if(i=n.slice(0,d).join("/"),p)for(u=p.length;0<u;u-=1)if((o=f[p.slice(0,u).join("/")])&&(o=o[i])){r=o,s=d;break}if(r)break;!l&&m&&m[i]&&(l=m[i],c=d)}!r&&l&&(r=l,s=c),r&&(n.splice(0,s,r),e=n.join("/"))}return e}function f(t,n){return function(){var e=i.call(arguments,0);return"string"!=typeof e[0]&&1===e.length&&e.push(null),c.apply(h,e.concat([t,n]))}}function a(t){return function(e){return r(e,t)}}function m(t){return function(e){y[t]=e}}function g(e){if(p(E,e)){var t=E[e];delete E[e],C[e]=!0,l.apply(h,t)}if(!p(y,e)&&!p(C,e))throw new Error("No "+e);return y[e]}function s(e){var t,n=e?e.indexOf("!"):-1;return-1<n&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function t(e){return function(){return b&&b.config&&b.config[e]||{}}}var l,c,v,T,y={},E={},b={},C={},n=Object.prototype.hasOwnProperty,i=[].slice,_=/\.js$/;v=function(e,t){var n,i=s(e),o=i[0];return e=i[1],o&&(n=g(o=r(o,t))),o?e=n&&n.normalize?n.normalize(e,a(t)):r(e,t):(o=(i=s(e=r(e,t)))[0],e=i[1],o&&(n=g(o))),{f:o?o+"!"+e:e,n:e,pr:o,p:n}},T={require:function(e){return f(e)},exports:function(e){var t=y[e];return void 0!==t?t:y[e]={}},module:function(e){return{id:e,uri:"",exports:y[e],config:t(e)}}},l=function(e,t,n,i){var o,r,a,s,l,c,d=[],u=typeof n;if(i=i||e,"undefined"===u||"function"===u){for(t=!t.length&&n.length?["require","exports","module"]:t,l=0;l<t.length;l+=1)if("require"===(r=(s=v(t[l],i)).f))d[l]=T.require(e);else if("exports"===r)d[l]=T.exports(e),c=!0;else if("module"===r)o=d[l]=T.module(e);else if(p(y,r)||p(E,r)||p(C,r))d[l]=g(r);else{if(!s.p)throw new Error(e+" missing "+r);s.p.load(s.n,f(i,!0),m(r),{}),d[l]=y[r]}a=n?n.apply(y[e],d):undefined,e&&(o&&o.exports!==h&&o.exports!==y[e]?y[e]=o.exports:a===h&&c||(y[e]=a))}else e&&(y[e]=n)},o=d=c=function(e,t,n,i,o){if("string"==typeof e)return T[e]?T[e](t):g(v(e,t).f);if(!e.splice){if((b=e).deps&&c(b.deps,b.callback),!t)return;t.splice?(e=t,t=n,n=null):e=h}return t=t||function(){},"function"==typeof n&&(n=i,i=o),i?l(h,e,t,n):setTimeout(function(){l(h,e,t,n)},4),c},c.config=function(e){return c(e)},o._defined=y,(u=function(e,t,n){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");t.splice||(n=t,t=[]),p(y,e)||p(E,e)||(E[e]=[e,t,n])}).amd={jQuery:!0}}(),t.requirejs=o,t.require=d,t.define=u),t.define("almond",function(){}),t.define("jquery",[],function(){var e=i||$;return null==e&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),e}),t.define("select2/utils",["jquery"],function(r){function u(e){var t=e.prototype,n=[];for(var i in t){"function"==typeof t[i]&&("constructor"!==i&&n.push(i))}return n}var e={Extend:function(e,t){function n(){this.constructor=e}var i={}.hasOwnProperty;for(var o in t)i.call(t,o)&&(e[o]=t[o]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},Decorate:function(i,o){function r(){var e=Array.prototype.unshift,t=o.prototype.constructor.length,n=i.prototype.constructor;0<t&&(e.call(arguments,i.prototype.constructor),n=o.prototype.constructor),n.apply(this,arguments)}function e(){this.constructor=r}var t=u(o),n=u(i);o.displayName=i.displayName,r.prototype=new e;for(var a=0;a<n.length;a++){var s=n[a];r.prototype[s]=i.prototype[s]}for(var l=function(e){var t=function(){};e in r.prototype&&(t=r.prototype[e]);var n=o.prototype[e];return function(){return Array.prototype.unshift.call(arguments,t),n.apply(this,arguments)}},c=0;c<t.length;c++){var d=t[c];r.prototype[d]=l(d)}return r}},t=function(){this.listeners={}};return t.prototype.on=function(e,t){this.listeners=this.listeners||{},e in this.listeners?this.listeners[e].push(t):this.listeners[e]=[t]},t.prototype.trigger=function(e){var t=Array.prototype.slice,n=t.call(arguments,1);this.listeners=this.listeners||{},null==n&&(n=[]),0===n.length&&n.push({}),(n[0]._type=e)in this.listeners&&this.invoke(this.listeners[e],t.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},t.prototype.invoke=function(e,t){for(var n=0,i=e.length;n<i;n++)e[n].apply(this,t)},e.Observable=t,e.generateChars=function(e){for(var t="",n=0;n<e;n++){t+=Math.floor(36*Math.random()).toString(36)}return t},e.bind=function(e,t){return function(){e.apply(t,arguments)}},e._convertData=function(e){for(var t in e){var n=t.split("-"),i=e;if(1!==n.length){for(var o=0;o<n.length;o++){var r=n[o];(r=r.substring(0,1).toLowerCase()+r.substring(1))in i||(i[r]={}),o==n.length-1&&(i[r]=e[t]),i=i[r]}delete e[t]}}return e},e.hasScroll=function(e,t){var n=r(t),i=t.style.overflowX,o=t.style.overflowY;return(i!==o||"hidden"!==o&&"visible"!==o)&&("scroll"===i||"scroll"===o||(n.innerHeight()<t.scrollHeight||n.innerWidth()<t.scrollWidth))},e.escapeMarkup=function(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof e?e:String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})},e.appendMany=function(e,t){if("1.7"===r.fn.jquery.substr(0,3)){var n=r();r.map(t,function(e){n=n.add(e)}),t=n}e.append(t)},e}),t.define("select2/results",["jquery","./utils"],function(h,e){function i(e,t,n){this.$element=e,this.data=n,this.options=t,i.__super__.constructor.call(this)}return e.Extend(i,e.Observable),i.prototype.render=function(){var e=h('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&e.attr("aria-multiselectable","true"),this.$results=e},i.prototype.clear=function(){this.$results.empty()},i.prototype.displayMessage=function(e){var t=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var n=h('<li role="treeitem" aria-live="assertive" class="select2-results__option"></li>'),i=this.options.get("translations").get(e.message);n.append(t(i(e.args))),n[0].className+=" select2-results__message",this.$results.append(n)},i.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},i.prototype.append=function(e){this.hideLoading();var t=[];if(null!=e.results&&0!==e.results.length){e.results=this.sort(e.results);for(var n=0;n<e.results.length;n++){var i=e.results[n],o=this.option(i);t.push(o)}this.$results.append(t)}else 0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"})},i.prototype.position=function(e,t){t.find(".select2-results").append(e)},i.prototype.sort=function(e){return this.options.get("sorter")(e)},i.prototype.highlightFirstItem=function(){var e=this.$results.find(".select2-results__option[aria-selected]"),t=e.filter("[aria-selected=true]");0<t.length?t.first().trigger("mouseenter"):e.first().trigger("mouseenter"),this.ensureHighlightVisible()},i.prototype.setClasses=function(){var t=this;this.data.current(function(e){var i=h.map(e,function(e){return e.id.toString()});t.$results.find(".select2-results__option[aria-selected]").each(function(){var e=h(this),t=h.data(this,"data"),n=""+t.id;null!=t.element&&t.element.selected||null==t.element&&-1<h.inArray(n,i)?e.attr("aria-selected","true"):e.attr("aria-selected","false")})})},i.prototype.showLoading=function(e){this.hideLoading();var t={disabled:!0,loading:!0,text:this.options.get("translations").get("searching")(e)},n=this.option(t);n.className+=" loading-results",this.$results.prepend(n)},i.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},i.prototype.option=function(e){var t=document.createElement("li");t.className="select2-results__option";var n={role:"treeitem","aria-selected":"false"};for(var i in e.disabled&&(delete n["aria-selected"],n["aria-disabled"]="true"),null==e.id&&delete n["aria-selected"],null!=e._resultId&&(t.id=e._resultId),e.title&&(t.title=e.title),e.children&&(n.role="group",n["aria-label"]=e.text,delete n["aria-selected"]),n){var o=n[i];t.setAttribute(i,o)}if(e.children){var r=h(t),a=document.createElement("strong");a.className="select2-results__group";h(a);this.template(e,a);for(var s=[],l=0;l<e.children.length;l++){var c=e.children[l],d=this.option(c);s.push(d)}var u=h("<ul></ul>",{"class":"select2-results__options select2-results__options--nested"});u.append(s),r.append(a),r.append(u)}else this.template(e,t);return h.data(t,"data",e),t},i.prototype.bind=function(t){var l=this,e=t.id+"-results";this.$results.attr("id",e),t.on("results:all",function(e){l.clear(),l.append(e.data),t.isOpen()&&(l.setClasses(),l.highlightFirstItem())}),t.on("results:append",function(e){l.append(e.data),t.isOpen()&&l.setClasses()}),t.on("query",function(e){l.hideMessages(),l.showLoading(e)}),t.on("select",function(){t.isOpen()&&(l.setClasses(),l.highlightFirstItem())}),t.on("unselect",function(){t.isOpen()&&(l.setClasses(),l.highlightFirstItem())}),t.on("open",function(){l.$results.attr("aria-expanded","true"),l.$results.attr("aria-hidden","false"),l.setClasses(),l.ensureHighlightVisible()}),t.on("close",function(){l.$results.attr("aria-expanded","false"),l.$results.attr("aria-hidden","true"),l.$results.removeAttr("aria-activedescendant")}),t.on("results:toggle",function(){var e=l.getHighlightedResults();0!==e.length&&e.trigger("mouseup")}),t.on("results:select",function(){var e=l.getHighlightedResults();if(0!==e.length){var t=e.data("data");"true"==e.attr("aria-selected")?l.trigger("close",{}):l.trigger("select",{data:t})}}),t.on("results:previous",function(){var e=l.getHighlightedResults(),t=l.$results.find("[aria-selected]"),n=t.index(e);if(0!==n){var i=n-1;0===e.length&&(i=0);var o=t.eq(i);o.trigger("mouseenter");var r=l.$results.offset().top,a=o.offset().top,s=l.$results.scrollTop()+(a-r);0===i?l.$results.scrollTop(0):a-r<0&&l.$results.scrollTop(s)}}),t.on("results:next",function(){var e=l.getHighlightedResults(),t=l.$results.find("[aria-selected]"),n=t.index(e)+1;if(!(n>=t.length)){var i=t.eq(n);i.trigger("mouseenter");var o=l.$results.offset().top+l.$results.outerHeight(!1),r=i.offset().top+i.outerHeight(!1),a=l.$results.scrollTop()+r-o;0===n?l.$results.scrollTop(0):o<r&&l.$results.scrollTop(a)}}),t.on("results:focus",function(e){e.element.addClass("select2-results__option--highlighted")}),t.on("results:message",function(e){l.displayMessage(e)}),h.fn.mousewheel&&this.$results.on("mousewheel",function(e){var t=l.$results.scrollTop(),n=l.$results.get(0).scrollHeight-t+e.deltaY,i=0<e.deltaY&&t-e.deltaY<=0,o=e.deltaY<0&&n<=l.$results.height();i?(l.$results.scrollTop(0),e.preventDefault(),e.stopPropagation()):o&&(l.$results.scrollTop(l.$results.get(0).scrollHeight-l.$results.height()),e.preventDefault(),e.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(e){var t=h(this),n=t.data("data");"true"!==t.attr("aria-selected")?l.trigger("select",{originalEvent:e,data:n}):l.options.get("multiple")?l.trigger("unselect",{originalEvent:e,data:n}):l.trigger("close",{})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(){var e=h(this).data("data");l.getHighlightedResults().removeClass("select2-results__option--highlighted"),l.trigger("results:focus",{data:e,element:h(this)})})},i.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},i.prototype.destroy=function(){this.$results.remove()},i.prototype.ensureHighlightVisible=function(){var e=this.getHighlightedResults();if(0!==e.length){var t=this.$results.find("[aria-selected]").index(e),n=this.$results.offset().top,i=e.offset().top,o=this.$results.scrollTop()+(i-n),r=i-n;o-=2*e.outerHeight(!1),t<=2?this.$results.scrollTop(0):(r>this.$results.outerHeight()||r<0)&&this.$results.scrollTop(o)}},i.prototype.template=function(e,t){var n=this.options.get("templateResult"),i=this.options.get("escapeMarkup"),o=n(e,t);null==o?t.style.display="none":"string"==typeof o?t.innerHTML=i(o):h(t).append(o)},i}),t.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),t.define("select2/selection/base",["jquery","../utils","../keys"],function(n,e,i){function o(e,t){this.$element=e,this.options=t,o.__super__.constructor.call(this)}return e.Extend(o,e.Observable),o.prototype.render=function(){var e=n('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=this.$element.data("old-tabindex")?this._tabindex=this.$element.data("old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),e.attr("title",this.$element.attr("title")),e.attr("tabindex",this._tabindex),this.$selection=e},o.prototype.bind=function(e){var t=this,n=(e.id,e.id+"-results");this.container=e,this.$selection.on("focus",function(e){t.trigger("focus",e)}),this.$selection.on("blur",function(e){t._handleBlur(e)}),this.$selection.on("keydown",function(e){t.trigger("keypress",e),e.which===i.SPACE&&e.preventDefault()}),e.on("results:focus",function(e){t.$selection.attr("aria-activedescendant",e.data._resultId)}),e.on("selection:update",function(e){t.update(e.data)}),e.on("open",function(){t.$selection.attr("aria-expanded","true"),t.$selection.attr("aria-owns",n),t._attachCloseHandler(e)}),e.on("close",function(){t.$selection.attr("aria-expanded","false"),t.$selection.removeAttr("aria-activedescendant"),t.$selection.removeAttr("aria-owns"),t.$selection.focus(),t._detachCloseHandler(e)}),e.on("enable",function(){t.$selection.attr("tabindex",t._tabindex)}),e.on("disable",function(){t.$selection.attr("tabindex","-1")})},o.prototype._handleBlur=function(e){var t=this;window.setTimeout(function(){document.activeElement==t.$selection[0]||n.contains(t.$selection[0],document.activeElement)||t.trigger("blur",e)},1)},o.prototype._attachCloseHandler=function(e){n(document.body).on("mousedown.select2."+e.id,function(e){var t=n(e.target).closest(".select2");n(".select2.select2-container--open").each(function(){var e=n(this);this!=t[0]&&e.data("element").select2("close")})})},o.prototype._detachCloseHandler=function(e){n(document.body).off("mousedown.select2."+e.id)},o.prototype.position=function(e,t){t.find(".selection").append(e)},o.prototype.destroy=function(){this._detachCloseHandler(this.container)},o.prototype.update=function(){throw new Error("The `update` method must be defined in child classes.")},o}),t.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(e,t,n){function o(){o.__super__.constructor.apply(this,arguments)}return n.Extend(o,t),o.prototype.render=function(){var e=o.__super__.render.call(this);return e.addClass("select2-selection--single"),e.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),e},o.prototype.bind=function(e,t){var n=this;o.__super__.bind.apply(this,arguments);var i=e.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",i),this.$selection.attr("aria-labelledby",i),this.$selection.on("mousedown",function(e){1===e.which&&n.trigger("toggle",{originalEvent:e})}),this.$selection.on("focus",function(){}),this.$selection.on("blur",function(){}),e.on("focus",function(){e.isOpen()||n.$selection.focus()}),e.on("selection:update",function(e){n.update(e.data)})},o.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},o.prototype.display=function(e,t){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(e,t))},o.prototype.selectionContainer=function(){return e("<span></span>")},o.prototype.update=function(e){if(0!==e.length){var t=e[0],n=this.$selection.find(".select2-selection__rendered"),i=this.display(t,n);n.empty().append(i),n.prop("title",t.title||t.text)}else this.clear()},o}),t.define("select2/selection/multiple",["jquery","./base","../utils"],function(i,e,s){function o(e,t){o.__super__.constructor.apply(this,arguments)}return s.Extend(o,e),o.prototype.render=function(){var e=o.__super__.render.call(this);return e.addClass("select2-selection--multiple"),e.html('<ul class="select2-selection__rendered"></ul>'),e},o.prototype.bind=function(e,t){var n=this;o.__super__.bind.apply(this,arguments),this.$selection.on("click",function(e){n.trigger("toggle",{originalEvent:e})}),this.$selection.on("click",".select2-selection__choice__remove",function(e){if(!n.options.get("disabled")){var t=i(this).parent().data("data");n.trigger("unselect",{originalEvent:e,data:t})}})},o.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},o.prototype.display=function(e,t){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(e,t))},o.prototype.selectionContainer=function(){return i('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>')},o.prototype.update=function(e){if(this.clear(),0!==e.length){for(var t=[],n=0;n<e.length;n++){var i=e[n],o=this.selectionContainer(),r=this.display(i,o);o.append(r),o.prop("title",i.title||i.text),o.data("data",i),t.push(o)}var a=this.$selection.find(".select2-selection__rendered");s.appendMany(a,t)}},o}),t.define("select2/selection/placeholder",["../utils"],function(){function e(e,t,n){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),e.call(this,t,n)}return e.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},e.prototype.createPlaceholder=function(e,t){var n=this.selectionContainer();return n.html(this.display(t)),n.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),n},e.prototype.update=function(e,t){var n=1==t.length&&t[0].id!=this.placeholder.id;if(1<t.length||n)return e.call(this,t);this.clear();var i=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(i)},e}),t.define("select2/selection/allowClear",["jquery","../keys"],function(i,o){function e(){}return e.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(e){i._handleClear(e)}),t.on("keypress",function(e){i._handleKeyboardClear(e,t)})},e.prototype._handleClear=function(e,t){if(!this.options.get("disabled")){var n=this.$selection.find(".select2-selection__clear");if(0!==n.length){t.stopPropagation();for(var i=n.data("data"),o=0;o<i.length;o++){var r={data:i[o]};if(this.trigger("unselect",r),r.prevented)return}this.$element.val(this.placeholder.id).trigger("change"),this.trigger("toggle",{})}}},e.prototype._handleKeyboardClear=function(e,t,n){n.isOpen()||t.which!=o.DELETE&&t.which!=o.BACKSPACE||this._handleClear(t)},e.prototype.update=function(e,t){if(e.call(this,t),!(0<this.$selection.find(".select2-selection__placeholder").length||0===t.length)){var n=i('<span class="select2-selection__clear">&times;</span>');n.data("data",t),this.$selection.find(".select2-selection__rendered").prepend(n)}},e}),t.define("select2/selection/search",["jquery","../utils","../keys"],function(i,e,a){function t(e,t,n){e.call(this,t,n)}return t.prototype.render=function(e){var t=i('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>');this.$searchContainer=t,this.$search=t.find("input");var n=e.call(this);return this._transferTabIndex(),n},t.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on("open",function(){i.$search.trigger("focus")}),t.on("close",function(){i.$search.val(""),i.$search.removeAttr("aria-activedescendant"),i.$search.trigger("focus")}),t.on("enable",function(){i.$search.prop("disabled",!1),i._transferTabIndex()}),t.on("disable",function(){i.$search.prop("disabled",!0)}),t.on("focus",function(){i.$search.trigger("focus")}),t.on("results:focus",function(e){i.$search.attr("aria-activedescendant",e.id)}),this.$selection.on("focusin",".select2-search--inline",function(e){i.trigger("focus",e)}),
this.$selection.on("focusout",".select2-search--inline",function(e){i._handleBlur(e)}),this.$selection.on("keydown",".select2-search--inline",function(e){if(e.stopPropagation(),i.trigger("keypress",e),i._keyUpPrevented=e.isDefaultPrevented(),e.which===a.BACKSPACE&&""===i.$search.val()){var t=i.$searchContainer.prev(".select2-selection__choice");if(0<t.length){var n=t.data("data");i.searchRemoveChoice(n),e.preventDefault()}}});var o=document.documentMode,r=o&&o<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(){r?i.$selection.off("input.search input.searchcheck"):i.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(e){if(r&&"input"===e.type)i.$selection.off("input.search input.searchcheck");else{var t=e.which;t!=a.SHIFT&&t!=a.CTRL&&t!=a.ALT&&t!=a.TAB&&i.handleSearch(e)}})},t.prototype._transferTabIndex=function(){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},t.prototype.createPlaceholder=function(e,t){this.$search.attr("placeholder",t.text)},t.prototype.update=function(e,t){var n=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),e.call(this,t),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),n&&this.$search.focus()},t.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1},t.prototype.searchRemoveChoice=function(e,t){this.trigger("unselect",{data:t}),this.$search.val(t.text),this.handleSearch()},t.prototype.resizeSearch=function(){this.$search.css("width","25px");var e="";""!==this.$search.attr("placeholder")?e=this.$selection.find(".select2-selection__rendered").innerWidth():e=.75*(this.$search.val().length+1)+"em";this.$search.css("width",e)},t}),t.define("select2/selection/eventRelay",["jquery"],function(a){function e(){}return e.prototype.bind=function(e,t,n){var i=this,o=["open","opening","close","closing","select","selecting","unselect","unselecting"],r=["opening","closing","selecting","unselecting"];e.call(this,t,n),t.on("*",function(e,t){if(-1!==a.inArray(e,o)){t=t||{};var n=a.Event("select2:"+e,{params:t});i.$element.trigger(n),-1!==a.inArray(e,r)&&(t.prevented=n.isDefaultPrevented())}})},e}),t.define("select2/translation",["jquery","require"],function(t,n){function i(e){this.dict=e||{}}return i.prototype.all=function(){return this.dict},i.prototype.get=function(e){return this.dict[e]},i.prototype.extend=function(e){this.dict=t.extend({},e.all(),this.dict)},i._cache={},i.loadPath=function(e){if(!(e in i._cache)){var t=n(e);i._cache[e]=t}return new i(i._cache[e])},i}),t.define("select2/diacritics",[],function(){return{"\u24b6":"A","\uff21":"A","\xc0":"A","\xc1":"A","\xc2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\xc3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\xc4":"A","\u01de":"A","\u1ea2":"A","\xc5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A","\ua732":"AA","\xc6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\xc7":"C","\u1e08":"C","\u0187":"C","\u023b":"C","\ua73e":"C","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D","\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz","\u24ba":"E","\uff25":"E","\xc8":"E","\xc9":"E","\xca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\xcb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E","\u24bb":"F","\uff26":"F","\u1e1e":"F","\u0191":"F","\ua77b":"F","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H","\u2c75":"H","\ua78d":"H","\u24be":"I","\uff29":"I","\xcc":"I","\xcd":"I","\xce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\xcf":"I","\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K","\u24c1":"L","\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L","\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\xd1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N","\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj","\u24c4":"O","\uff2f":"O","\xd2":"O","\xd3":"O","\xd4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O","\xd5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\xd6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O","\xd8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u01a2":"OI","\ua74e":"OO","\u0222":"OU","\u24c5":"P","\uff30":"P","\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R","\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ","\u24ca":"U","\uff35":"U","\xd9":"U","\xda":"U","\xdb":"U","\u0168":"U","\u1e78":"U","\u016a":"U","\u1e7a":"U","\u016c":"U","\xdc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W","\u1e84":"W","\u1e88":"W","\u2c72":"W","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\xdd":"Y","\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z","\u24d0":"a","\uff41":"a","\u1e9a":"a","\xe0":"a","\xe1":"a","\xe2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\xe3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a","\u1eb3":"a","\u0227":"a","\u01e1":"a","\xe4":"a","\u01df":"a","\u1ea3":"a","\xe5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\xe6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\xe7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz","\u24d4":"e","\uff45":"e","\xe8":"e","\xe9":"e","\xea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e","\xeb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g","\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv","\u24d8":"i","\uff49":"i","\xec":"i","\xed":"i","\xee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\xef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i","\u0131":"i","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj","\u24dc":"m","\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\xf1":"n","\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj","\u24de":"o","\uff4f":"o","\xf2":"o","\xf3":"o","\xf4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\xf5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o","\u014f":"o","\u022f":"o","\u0231":"o","\xf6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\xf8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u01a3":"oi","\u0223":"ou","\ua74f":"oo","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p","\u24e0":"q","\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r","\u24e2":"s","\uff53":"s","\xdf":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s","\u24e3":"t","\uff54":"t","\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz","\u24e4":"u","\uff55":"u","\xf9":"u","\xfa":"u","\xfb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\xfc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u","\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x","\u24e8":"y","\uff59":"y","\u1ef3":"y","\xfd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\xff":"y","\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z","\u0386":"\u0391","\u0388":"\u0395","\u0389":"\u0397","\u038a":"\u0399","\u03aa":"\u0399","\u038c":"\u039f","\u038e":"\u03a5","\u03ab":"\u03a5","\u038f":"\u03a9","\u03ac":"\u03b1","\u03ad":"\u03b5","\u03ae":"\u03b7","\u03af":"\u03b9","\u03ca":"\u03b9","\u0390":"\u03b9","\u03cc":"\u03bf","\u03cd":"\u03c5","\u03cb":"\u03c5","\u03b0":"\u03c5","\u03c9":"\u03c9","\u03c2":"\u03c3"}}),t.define("select2/data/base",["../utils"],function(i){function e(){e.__super__.constructor.call(this)}return i.Extend(e,i.Observable),e.prototype.current=function(){throw new Error("The `current` method must be defined in child classes.")},e.prototype.query=function(){throw new Error("The `query` method must be defined in child classes.")},e.prototype.bind=function(){},e.prototype.destroy=function(){},e.prototype.generateResultId=function(e,t){var n=e.id+"-result-";return n+=i.generateChars(4),null!=t.id?n+="-"+t.id.toString():n+="-"+i.generateChars(4),n},e}),t.define("select2/data/select",["./base","../utils","jquery"],function(e,t,s){function n(e,t){this.$element=e,this.options=t,n.__super__.constructor.call(this)}return t.Extend(n,e),n.prototype.current=function(e){var n=[],i=this;this.$element.find(":selected").each(function(){var e=s(this),t=i.item(e);n.push(t)}),e(n)},n.prototype.select=function(o){var r=this;if(o.selected=!0,s(o.element).is("option"))return o.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current(function(e){var t=[];(o=[o]).push.apply(o,e);for(var n=0;n<o.length;n++){var i=o[n].id;-1===s.inArray(i,t)&&t.push(i)}r.$element.val(t),r.$element.trigger("change")});else{var e=o.id;this.$element.val(e),this.$element.trigger("change")}},n.prototype.unselect=function(o){var r=this;if(this.$element.prop("multiple")){if(o.selected=!1,s(o.element).is("option"))return o.element.selected=!1,void this.$element.trigger("change");this.current(function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n].id;i!==o.id&&-1===s.inArray(i,t)&&t.push(i)}r.$element.val(t),r.$element.trigger("change")})}},n.prototype.bind=function(e){var t=this;(this.container=e).on("select",function(e){t.select(e.data)}),e.on("unselect",function(e){t.unselect(e.data)})},n.prototype.destroy=function(){this.$element.find("*").each(function(){s.removeData(this,"data")})},n.prototype.query=function(i,e){var o=[],r=this;this.$element.children().each(function(){var e=s(this);if(e.is("option")||e.is("optgroup")){var t=r.item(e),n=r.matches(i,t);null!==n&&o.push(n)}}),e({results:o})},n.prototype.addOptions=function(e){t.appendMany(this.$element,e)},n.prototype.option=function(e){var t;e.children?(t=document.createElement("optgroup")).label=e.text:(t=document.createElement("option")).textContent!==undefined?t.textContent=e.text:t.innerText=e.text,e.id&&(t.value=e.id),e.disabled&&(t.disabled=!0),e.selected&&(t.selected=!0),e.title&&(t.title=e.title);var n=s(t),i=this._normalizeItem(e);return i.element=t,s.data(t,"data",i),n},n.prototype.item=function(e){var t={};if(null!=(t=s.data(e[0],"data")))return t;if(e.is("option"))t={id:e.val(),text:e.text(),disabled:e.prop("disabled"),selected:e.prop("selected"),title:e.prop("title")};else if(e.is("optgroup")){t={text:e.prop("label"),children:[],title:e.prop("title")};for(var n=e.children("option"),i=[],o=0;o<n.length;o++){var r=s(n[o]),a=this.item(r);i.push(a)}t.children=i}return(t=this._normalizeItem(t)).element=e[0],s.data(e[0],"data",t),t},n.prototype._normalizeItem=function(e){s.isPlainObject(e)||(e={id:e,text:e});var t={selected:!1,disabled:!1};return null!=(e=s.extend({},{text:""},e)).id&&(e.id=e.id.toString()),null!=e.text&&(e.text=e.text.toString()),null==e._resultId&&e.id&&null!=this.container&&(e._resultId=this.generateResultId(this.container,e)),s.extend({},t,e)},n.prototype.matches=function(e,t){return this.options.get("matcher")(e,t)},n}),t.define("select2/data/array",["./select","../utils","jquery"],function(e,f,m){function i(e,t){var n=t.get("data")||[];i.__super__.constructor.call(this,e,t),this.addOptions(this.convertToOptions(n))}return f.Extend(i,e),i.prototype.select=function(n){var e=this.$element.find("option").filter(function(e,t){return t.value==n.id.toString()});0===e.length&&(e=this.option(n),this.addOptions(e)),i.__super__.select.call(this,n)},i.prototype.convertToOptions=function(e){function t(e){return function(){return m(this).val()==e.id}}for(var n=this,i=this.$element.find("option"),o=i.map(function(){return n.item(m(this)).id}).get(),r=[],a=0;a<e.length;a++){var s=this._normalizeItem(e[a]);if(0<=m.inArray(s.id,o)){var l=i.filter(t(s)),c=this.item(l),d=m.extend(!0,{},s,c),u=this.option(d);l.replaceWith(u)}else{var h=this.option(s);if(s.children){var p=this.convertToOptions(s.children);f.appendMany(h,p)}r.push(h)}}return r},i}),t.define("select2/data/ajax",["./array","../utils","jquery"],function(e,t,r){function n(e,t){this.ajaxOptions=this._applyDefaults(t.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),n.__super__.constructor.call(this,e,t)}return t.Extend(n,e),n.prototype._applyDefaults=function(e){var t={data:function(e){return r.extend({},e,{q:e.term})},transport:function(e,t,n){var i=r.ajax(e);return i.then(t),i.fail(n),i}};return r.extend({},t,e,!0)},n.prototype.processResults=function(e){return e},n.prototype.query=function(n,i){function e(){var e=t.transport(t,function(e){var t=o.processResults(e,n);o.options.get("debug")&&window.console&&console.error&&(t&&t.results&&r.isArray(t.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),i(t)},function(){e.status&&"0"===e.status||o.trigger("results:message",{message:"errorLoading"})});o._request=e}var o=this;null!=this._request&&(r.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var t=r.extend({type:"GET"},this.ajaxOptions);"function"==typeof t.url&&(t.url=t.url.call(this.$element,n)),"function"==typeof t.data&&(t.data=t.data.call(this.$element,n)),this.ajaxOptions.delay&&null!=n.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(e,this.ajaxOptions.delay)):e()},n}),t.define("select2/data/tags",["jquery"],function(d){function e(e,t,n){var i=n.get("tags"),o=n.get("createTag");o!==undefined&&(this.createTag=o);var r=n.get("insertTag");if(r!==undefined&&(this.insertTag=r),e.call(this,t,n),d.isArray(i))for(var a=0;a<i.length;a++){var s=i[a],l=this._normalizeItem(s),c=this.option(l);this.$element.append(c)}}return e.prototype.query=function(e,l,c){function d(e,t){for(var n=e.results,i=0;i<n.length;i++){var o=n[i],r=null!=o.children&&!d({results:o.children},!0);if(o.text===l.term||r)return!t&&(e.data=n,void c(e))}if(t)return!0;var a=u.createTag(l);if(null!=a){var s=u.option(a);s.attr("data-select2-tag",!0),u.addOptions([s]),u.insertTag(n,a)}e.results=n,c(e)}var u=this;this._removeOldTags(),null!=l.term&&null==l.page?e.call(this,l,d):e.call(this,l,c)},e.prototype.createTag=function(e,t){var n=d.trim(t.term);return""===n?null:{id:n,text:n}},e.prototype.insertTag=function(e,t,n){t.unshift(n)},e.prototype._removeOldTags=function(){this._lastTag;this.$element.find("option[data-select2-tag]").each(function(){this.selected||d(this).remove()})},e}),t.define("select2/data/tokenizer",["jquery"],function(u){function e(e,t,n){var i=n.get("tokenizer");i!==undefined&&(this.tokenizer=i),e.call(this,t,n)}return e.prototype.bind=function(e,t,n){e.call(this,t,n),this.$search=t.dropdown.$search||t.selection.$search||n.find(".select2-search__field")},e.prototype.query=function(e,t,n){function i(e){var t=r._normalizeItem(e);if(!r.$element.find("option").filter(function(){return u(this).val()===t.id}).length){var n=r.option(t);n.attr("data-select2-tag",!0),r._removeOldTags(),r.addOptions([n])}o(t)}function o(e){r.trigger("select",{data:e})}var r=this;t.term=t.term||"";var a=this.tokenizer(t,this.options,i);a.term!==t.term&&(this.$search.length&&(this.$search.val(a.term),this.$search.focus()),t.term=a.term),e.call(this,t,n)},e.prototype.tokenizer=function(e,t,n,i){for(var o=n.get("tokenSeparators")||[],r=t.term,a=0,s=this.createTag||function(e){return{id:e.term,text:e.term}};a<r.length;){var l=r[a];if(-1!==u.inArray(l,o)){var c=r.substr(0,a),d=s(u.extend({},t,{term:c}));null!=d?(i(d),r=r.substr(a+1)||"",a=0):a++}else a++}return{term:r}},e}),t.define("select2/data/minimumInputLength",[],function(){function e(e,t,n){this.minimumInputLength=n.get("minimumInputLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){t.term=t.term||"",t.term.length<this.minimumInputLength?this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:t.term,params:t}}):e.call(this,t,n)},e}),t.define("select2/data/maximumInputLength",[],function(){function e(e,t,n){this.maximumInputLength=n.get("maximumInputLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){t.term=t.term||"",0<this.maximumInputLength&&t.term.length>this.maximumInputLength?this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:t.term,params:t}}):e.call(this,t,n)},e}),t.define("select2/data/maximumSelectionLength",[],function(){function e(e,t,n){this.maximumSelectionLength=n.get("maximumSelectionLength"),e.call(this,t,n)}return e.prototype.query=function(n,i,o){var r=this;this.current(function(e){var t=null!=e?e.length:0;0<r.maximumSelectionLength&&t>=r.maximumSelectionLength?r.trigger("results:message",{message:"maximumSelected",args:{maximum:r.maximumSelectionLength}}):n.call(r,i,o)})},e}),t.define("select2/dropdown",["jquery","./utils"],function(t,e){function n(e,t){this.$element=e,this.options=t,n.__super__.constructor.call(this)}return e.Extend(n,e.Observable),n.prototype.render=function(){var e=t('<span class="select2-dropdown"><span class="select2-results"></span></span>');return e.attr("dir",this.options.get("dir")),this.$dropdown=e},n.prototype.bind=function(){},n.prototype.position=function(){},n.prototype.destroy=function(){this.$dropdown.remove()},n}),t.define("select2/dropdown/search",["jquery","../utils"],function(o){function e(){}return e.prototype.render=function(e){var t=e.call(this),n=o('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=n,this.$search=n.find("input"),t.prepend(n),t},e.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),this.$search.on("keydown",function(e){i.trigger("keypress",e),i._keyUpPrevented=e.isDefaultPrevented()}),this.$search.on("input",function(){o(this).off("keyup")}),this.$search.on("keyup input",function(e){i.handleSearch(e)}),t.on("open",function(){i.$search.attr("tabindex",0),i.$search.focus(),window.setTimeout(function(){i.$search.focus()},0)}),t.on("close",function(){i.$search.attr("tabindex",-1),i.$search.val("")}),t.on("focus",function(){t.isOpen()&&i.$search.focus()}),t.on("results:all",function(e){null!=e.query.term&&""!==e.query.term||(i.showSearch(e)?i.$searchContainer.removeClass("select2-search--hide"):i.$searchContainer.addClass("select2-search--hide"))})},e.prototype.handleSearch=function(){if(!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1},e.prototype.showSearch=function(){return!0},e}),t.define("select2/dropdown/hidePlaceholder",[],function(){function e(e,t,n,i){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),e.call(this,t,n,i)}return e.prototype.append=function(e,t){t.results=this.removePlaceholder(t.results),e.call(this,t)},e.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},e.prototype.removePlaceholder=function(e,t){for(var n=t.slice(0),i=t.length-1;0<=i;i--){var o=t[i];this.placeholder.id===o.id&&n.splice(i,1)}return n},e}),t.define("select2/dropdown/infiniteScroll",["jquery"],function(o){function e(e,t,n,i){this.lastParams={},e.call(this,t,n,i),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return e.prototype.append=function(e,t){this.$loadingMore.remove(),this.loading=!1,e.call(this,t),this.showLoadingMore(t)&&this.$results.append(this.$loadingMore)},e.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on("query",function(e){i.lastParams=e,i.loading=!0}),t.on("query:append",function(e){i.lastParams=e,i.loading=!0}),this.$results.on("scroll",function(){var e=o.contains(document.documentElement,i.$loadingMore[0]);if(!i.loading&&e){var t=i.$results.offset().top+i.$results.outerHeight(!1);i.$loadingMore.offset().top+i.$loadingMore.outerHeight(!1)<=t+50&&i.loadMore()}})},e.prototype.loadMore=function(){this.loading=!0;var e=o.extend({},{page:1},this.lastParams);e.page++,this.trigger("query:append",e)},e.prototype.showLoadingMore=function(e,t){return t.pagination&&t.pagination.more},e.prototype.createLoadingMore=function(){var e=o('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"></li>'),t=this.options.get("translations").get("loadingMore");return e.html(t(this.lastParams)),e},e}),t.define("select2/dropdown/attachBody",["jquery","../utils"],function(p,s){function e(e,t,n){this.$dropdownParent=n.get("dropdownParent")||p(document.body),e.call(this,t,n)}return e.prototype.bind=function(e,t,n){var i=this,o=!1;e.call(this,t,n),t.on("open",function(){i._showDropdown(),i._attachPositioningHandler(t),o||(o=!0,t.on("results:all",function(){i._positionDropdown(),i._resizeDropdown()}),t.on("results:append",function(){i._positionDropdown(),i._resizeDropdown()}))}),t.on("close",function(){i._hideDropdown(),i._detachPositioningHandler(t)}),this.$dropdownContainer.on("mousedown",function(e){e.stopPropagation()})},e.prototype.destroy=function(e){e.call(this),this.$dropdownContainer.remove()},e.prototype.position=function(e,t,n){t.attr("class",n.attr("class")),t.removeClass("select2"),t.addClass("select2-container--open"),t.css({position:"absolute",top:-999999}),this.$container=n},e.prototype.render=function(e){var t=p("<span></span>"),n=e.call(this);return t.append(n),this.$dropdownContainer=t},e.prototype._hideDropdown=function(){this.$dropdownContainer.detach()},e.prototype._attachPositioningHandler=function(e,t){var n=this,i="scroll.select2."+t.id,o="resize.select2."+t.id,r="orientationchange.select2."+t.id,a=this.$container.parents().filter(s.hasScroll);a.each(function(){p(this).data("select2-scroll-position",{x:p(this).scrollLeft(),y:p(this).scrollTop()})}),a.on(i,function(){var e=p(this).data("select2-scroll-position");p(this).scrollTop(e.y)}),p(window).on(i+" "+o+" "+r,function(){n._positionDropdown(),n._resizeDropdown()})},e.prototype._detachPositioningHandler=function(e,t){var n="scroll.select2."+t.id,i="resize.select2."+t.id,o="orientationchange.select2."+t.id;this.$container.parents().filter(s.hasScroll).off(n),p(window).off(n+" "+i+" "+o)},e.prototype._positionDropdown=function(){var e=p(window),t=this.$dropdown.hasClass("select2-dropdown--above"),n=this.$dropdown.hasClass("select2-dropdown--below"),i=null,o=this.$container.offset();o.bottom=o.top+this.$container.outerHeight(!1);var r={height:this.$container.outerHeight(!1)};r.top=o.top,r.bottom=o.top+r.height;var a={height:this.$dropdown.outerHeight(!1)},s={top:e.scrollTop(),bottom:e.scrollTop()+e.height()},l=s.top<o.top-a.height,c=s.bottom>o.bottom+a.height,d={left:o.left,top:r.bottom},u=this.$dropdownParent;"static"===u.css("position")&&(u=u.offsetParent());var h=u.offset();d.top-=h.top,d.left-=h.left,t||n||(i="below"),c||!l||t?!l&&c&&t&&(i="below"):i="above",("above"==i||t&&"below"!==i)&&(d.top=r.top-h.top-a.height),null!=i&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+i),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+i)),this.$dropdownContainer.css(d)},e.prototype._resizeDropdown=function(){var e={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(e.minWidth=e.width,e.position="relative",e.width="auto"),this.$dropdown.css(e)},e.prototype._showDropdown=function(){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},e}),t.define("select2/dropdown/minimumResultsForSearch",[],function(){function o(e){for(var t=0,n=0;n<e.length;n++){var i=e[n];i.children?t+=o(i.children):t++}return t}function e(e,t,n,i){this.minimumResultsForSearch=n.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=Infinity),e.call(this,t,n,i)}return e.prototype.showSearch=function(e,t){return!(o(t.data.results)<this.minimumResultsForSearch)&&e.call(this,t)},e}),t.define("select2/dropdown/selectOnClose",[],function(){function e(){}return e.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on("close",function(e){i._handleSelectOnClose(e)})},e.prototype._handleSelectOnClose=function(e,t){if(t&&null!=t.originalSelect2Event){var n=t.originalSelect2Event;if("select"===n._type||"unselect"===n._type)return}var i=this.getHighlightedResults();if(!(i.length<1)){var o=i.data("data");null!=o.element&&o.element.selected||null==o.element&&o.selected||this.trigger("select",{data:o})}},e}),t.define("select2/dropdown/closeOnSelect",[],function(){function e(){}return e.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on("select",function(e){i._selectTriggered(e)}),t.on("unselect",function(e){i._selectTriggered(e)})},e.prototype._selectTriggered=function(e,t){var n=t.originalEvent;n&&n.ctrlKey||this.trigger("close",{originalEvent:n,originalSelect2Event:t})},e}),t.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(e){var t=e.input.length-e.maximum,n="Please delete "+t+" character";return 1!=t&&(n+="s"),n},inputTooShort:function(e){return"Please enter "+(e.minimum-e.input.length)+" or more characters"},loadingMore:function(){return"Loading more results\u2026"},maximumSelected:function(e){var t="You can only select "+e.maximum+" item";return 1!=e.maximum&&(t+="s"),t},noResults:function(){return"No results found"},searching:function(){return"Searching\u2026"}}}),t.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(g,v,T,y,E,b,C,_,O,I,D,n,w,R,k,x,S,K,N,A,L,P,M,F,B,$,H,z,t){function i(){this.reset()}return i.prototype.apply=function(t){if(null==(t=g.extend(!0,{},this.defaults,t)).dataAdapter){if(null!=t.ajax?t.dataAdapter=k:null!=t.data?t.dataAdapter=R:t.dataAdapter=w,0<t.minimumInputLength&&(t.dataAdapter=I.Decorate(t.dataAdapter,K)),0<t.maximumInputLength&&(t.dataAdapter=I.Decorate(t.dataAdapter,N)),
0<t.maximumSelectionLength&&(t.dataAdapter=I.Decorate(t.dataAdapter,A)),t.tags&&(t.dataAdapter=I.Decorate(t.dataAdapter,x)),null==t.tokenSeparators&&null==t.tokenizer||(t.dataAdapter=I.Decorate(t.dataAdapter,S)),null!=t.query){var n=v(t.amdBase+"compat/query");t.dataAdapter=I.Decorate(t.dataAdapter,n)}if(null!=t.initSelection){var i=v(t.amdBase+"compat/initSelection");t.dataAdapter=I.Decorate(t.dataAdapter,i)}}if(null==t.resultsAdapter&&(t.resultsAdapter=T,null!=t.ajax&&(t.resultsAdapter=I.Decorate(t.resultsAdapter,F)),null!=t.placeholder&&(t.resultsAdapter=I.Decorate(t.resultsAdapter,M)),t.selectOnClose&&(t.resultsAdapter=I.Decorate(t.resultsAdapter,H))),null==t.dropdownAdapter){if(t.multiple)t.dropdownAdapter=L;else{var o=I.Decorate(L,P);t.dropdownAdapter=o}if(0!==t.minimumResultsForSearch&&(t.dropdownAdapter=I.Decorate(t.dropdownAdapter,$)),t.closeOnSelect&&(t.dropdownAdapter=I.Decorate(t.dropdownAdapter,z)),null!=t.dropdownCssClass||null!=t.dropdownCss||null!=t.adaptDropdownCssClass){var r=v(t.amdBase+"compat/dropdownCss");t.dropdownAdapter=I.Decorate(t.dropdownAdapter,r)}t.dropdownAdapter=I.Decorate(t.dropdownAdapter,B)}if(null==t.selectionAdapter){if(t.multiple?t.selectionAdapter=E:t.selectionAdapter=y,null!=t.placeholder&&(t.selectionAdapter=I.Decorate(t.selectionAdapter,b)),t.allowClear&&(t.selectionAdapter=I.Decorate(t.selectionAdapter,C)),t.multiple&&(t.selectionAdapter=I.Decorate(t.selectionAdapter,_)),null!=t.containerCssClass||null!=t.containerCss||null!=t.adaptContainerCssClass){var a=v(t.amdBase+"compat/containerCss");t.selectionAdapter=I.Decorate(t.selectionAdapter,a)}t.selectionAdapter=I.Decorate(t.selectionAdapter,O)}if("string"==typeof t.language)if(0<t.language.indexOf("-")){var s=t.language.split("-")[0];t.language=[t.language,s]}else t.language=[t.language];if(g.isArray(t.language)){var l=new D;t.language.push("en");for(var c=t.language,d=0;d<c.length;d++){var u=c[d],h={};try{h=D.loadPath(u)}catch(e){try{u=this.defaults.amdLanguageBase+u,h=D.loadPath(u)}catch(m){t.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+u+'" could not be automatically loaded. A fallback will be used instead.');continue}}l.extend(h)}t.translations=l}else{var p=D.loadPath(this.defaults.amdLanguageBase+"en"),f=new D(t.language);f.extend(p),t.translations=f}return t},i.prototype.reset=function(){function a(e){function t(e){return n[e]||e}return e.replace(/[^\u0000-\u007E]/g,t)}function s(e,t){if(""===g.trim(e.term))return t;if(t.children&&0<t.children.length){for(var n=g.extend(!0,{},t),i=t.children.length-1;0<=i;i--){null==s(e,t.children[i])&&n.children.splice(i,1)}return 0<n.children.length?n:s(e,n)}var o=a(t.text).toUpperCase(),r=a(e.term).toUpperCase();return-1<o.indexOf(r)?t:null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:I.escapeMarkup,language:t,matcher:s,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(e){return e},templateResult:function(e){return e.text},templateSelection:function(e){return e.text},theme:"default",width:"resolve"}},i.prototype.set=function(e,t){var n={};n[g.camelCase(e)]=t;var i=I._convertData(n);g.extend(this.defaults,i)},new i}),t.define("select2/options",["require","jquery","./defaults","./utils"],function(i,r,o,a){function e(e,t){if(this.options=e,null!=t&&this.fromElement(t),this.options=o.apply(this.options),t&&t.is("input")){var n=i(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=a.Decorate(this.options.dataAdapter,n)}}return e.prototype.fromElement=function(e){var t=["select2"];null==this.options.multiple&&(this.options.multiple=e.prop("multiple")),null==this.options.disabled&&(this.options.disabled=e.prop("disabled")),null==this.options.language&&(e.prop("lang")?this.options.language=e.prop("lang").toLowerCase():e.closest("[lang]").prop("lang")&&(this.options.language=e.closest("[lang]").prop("lang"))),null==this.options.dir&&(e.prop("dir")?this.options.dir=e.prop("dir"):e.closest("[dir]").prop("dir")?this.options.dir=e.closest("[dir]").prop("dir"):this.options.dir="ltr"),e.prop("disabled",this.options.disabled),e.prop("multiple",this.options.multiple),e.data("select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),e.data("data",e.data("select2Tags")),e.data("tags",!0)),e.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),e.attr("ajax--url",e.data("ajaxUrl")),e.data("ajax--url",e.data("ajaxUrl")));var n={};n=r.fn.jquery&&"1."==r.fn.jquery.substr(0,2)&&e[0].dataset?r.extend(!0,{},e[0].dataset,e.data()):e.data();var i=r.extend(!0,{},n);for(var o in i=a._convertData(i))-1<r.inArray(o,t)||(r.isPlainObject(this.options[o])?r.extend(this.options[o],i[o]):this.options[o]=i[o]);return this},e.prototype.get=function(e){return this.options[e]},e.prototype.set=function(e,t){this.options[e]=t},e}),t.define("select2/core",["jquery","./options","./utils","./keys"],function(o,c,n,i){var d=function(e,t){null!=e.data("select2")&&e.data("select2").destroy(),this.$element=e,this.id=this._generateId(e),t=t||{},this.options=new c(t,e),d.__super__.constructor.call(this);var n=e.attr("tabindex")||0;e.data("old-tabindex",n),e.attr("tabindex","-1");var i=this.options.get("dataAdapter");this.dataAdapter=new i(e,this.options);var o=this.render();this._placeContainer(o);var r=this.options.get("selectionAdapter");this.selection=new r(e,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,o);var a=this.options.get("dropdownAdapter");this.dropdown=new a(e,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,o);var s=this.options.get("resultsAdapter");this.results=new s(e,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var l=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(e){l.trigger("selection:update",{data:e})}),e.addClass("select2-hidden-accessible"),e.attr("aria-hidden","true"),this._syncAttributes(),e.data("select2",this)};return n.Extend(d,n.Observable),d.prototype._generateId=function(e){return"select2-"+(null!=e.attr("id")?e.attr("id"):null!=e.attr("name")?e.attr("name")+"-"+n.generateChars(2):n.generateChars(4)).replace(/(:|\.|\[|\]|,)/g,"")},d.prototype._placeContainer=function(e){e.insertAfter(this.$element);var t=this._resolveWidth(this.$element,this.options.get("width"));null!=t&&e.css("width",t)},d.prototype._resolveWidth=function(e,t){var n=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==t){var i=this._resolveWidth(e,"style");return null!=i?i:this._resolveWidth(e,"element")}if("element"==t){var o=e.outerWidth(!1);return o<=0?"auto":o+"px"}if("style"!=t)return t;var r=e.attr("style");if("string"!=typeof r)return null;for(var a=r.split(";"),s=0,l=a.length;s<l;s+=1){var c=a[s].replace(/\s/g,"").match(n);if(null!==c&&1<=c.length)return c[1]}return null},d.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},d.prototype._registerDomEvents=function(){var t=this;this.$element.on("change.select2",function(){t.dataAdapter.current(function(e){t.trigger("selection:update",{data:e})})}),this.$element.on("focus.select2",function(e){t.trigger("focus",e)}),this._syncA=n.bind(this._syncAttributes,this),this._syncS=n.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var e=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=e?(this._observer=new e(function(e){o.each(e,t._syncA),o.each(e,t._syncS)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",t._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",t._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",t._syncS,!1))},d.prototype._registerDataEvents=function(){var n=this;this.dataAdapter.on("*",function(e,t){n.trigger(e,t)})},d.prototype._registerSelectionEvents=function(){var n=this,i=["toggle","focus"];this.selection.on("toggle",function(){n.toggleDropdown()}),this.selection.on("focus",function(e){n.focus(e)}),this.selection.on("*",function(e,t){-1===o.inArray(e,i)&&n.trigger(e,t)})},d.prototype._registerDropdownEvents=function(){var n=this;this.dropdown.on("*",function(e,t){n.trigger(e,t)})},d.prototype._registerResultsEvents=function(){var n=this;this.results.on("*",function(e,t){n.trigger(e,t)})},d.prototype._registerEvents=function(){var n=this;this.on("open",function(){n.$container.addClass("select2-container--open")}),this.on("close",function(){n.$container.removeClass("select2-container--open")}),this.on("enable",function(){n.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){n.$container.addClass("select2-container--disabled")}),this.on("blur",function(){n.$container.removeClass("select2-container--focus")}),this.on("query",function(t){n.isOpen()||n.trigger("open",{}),this.dataAdapter.query(t,function(e){n.trigger("results:all",{data:e,query:t})})}),this.on("query:append",function(t){this.dataAdapter.query(t,function(e){n.trigger("results:append",{data:e,query:t})})}),this.on("keypress",function(e){var t=e.which;n.isOpen()?t===i.ESC||t===i.TAB||t===i.UP&&e.altKey?(n.close(),e.preventDefault()):t===i.ENTER?(n.trigger("results:select",{}),e.preventDefault()):t===i.SPACE&&e.ctrlKey?(n.trigger("results:toggle",{}),e.preventDefault()):t===i.UP?(n.trigger("results:previous",{}),e.preventDefault()):t===i.DOWN&&(n.trigger("results:next",{}),e.preventDefault()):(t===i.ENTER||t===i.SPACE||t===i.DOWN&&e.altKey)&&(n.open(),e.preventDefault())})},d.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},d.prototype._syncSubtree=function(e,t){var n=!1,i=this;if(!e||!e.target||"OPTION"===e.target.nodeName||"OPTGROUP"===e.target.nodeName){if(t)if(t.addedNodes&&0<t.addedNodes.length)for(var o=0;o<t.addedNodes.length;o++){t.addedNodes[o].selected&&(n=!0)}else t.removedNodes&&0<t.removedNodes.length&&(n=!0);else n=!0;n&&this.dataAdapter.current(function(e){i.trigger("selection:update",{data:e})})}},d.prototype.trigger=function(e,t){var n=d.__super__.trigger,i={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};if(t===undefined&&(t={}),e in i){var o=i[e],r={prevented:!1,name:e,args:t};if(n.call(this,o,r),r.prevented)return void(t.prevented=!0)}n.call(this,e,t)},d.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},d.prototype.open=function(){this.isOpen()||this.trigger("query",{})},d.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},d.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},d.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},d.prototype.focus=function(){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},d.prototype.enable=function(e){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),null!=e&&0!==e.length||(e=[!0]);var t=!e[0];this.$element.prop("disabled",t)},d.prototype.data=function(){this.options.get("debug")&&0<arguments.length&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var t=[];return this.dataAdapter.current(function(e){t=e}),t},d.prototype.val=function(e){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==e||0===e.length)return this.$element.val();var t=e[0];o.isArray(t)&&(t=o.map(t,function(e){return e.toString()})),this.$element.val(t).trigger("change")},d.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",this.$element.data("old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},d.prototype.render=function(){var e=o('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return e.attr("dir",this.options.get("dir")),this.$container=e,this.$container.addClass("select2-container--"+this.options.get("theme")),e.data("element",this.$element),e},d}),t.define("select2/compat/utils",["jquery"],function(a){function e(e,t,n){var i,o,r=[];(i=a.trim(e.attr("class")))&&a((i=""+i).split(/\s+/)).each(function(){0===this.indexOf("select2-")&&r.push(this)}),(i=a.trim(t.attr("class")))&&a((i=""+i).split(/\s+/)).each(function(){0!==this.indexOf("select2-")&&null!=(o=n(this))&&r.push(o)}),e.attr("class",r.join(" "))}return{syncCssClasses:e}}),t.define("select2/compat/containerCss",["jquery","./utils"],function(a,s){function l(){return null}function e(){}return e.prototype.render=function(e){var t=e.call(this),n=this.options.get("containerCssClass")||"";a.isFunction(n)&&(n=n(this.$element));var i=this.options.get("adaptContainerCssClass");if(i=i||l,-1!==n.indexOf(":all:")){n=n.replace(":all:","");var o=i;i=function(e){var t=o(e);return null!=t?t+" "+e:e}}var r=this.options.get("containerCss")||{};return a.isFunction(r)&&(r=r(this.$element)),s.syncCssClasses(t,this.$element,i),t.css(r),t.addClass(n),t},e}),t.define("select2/compat/dropdownCss",["jquery","./utils"],function(a,s){function l(){return null}function e(){}return e.prototype.render=function(e){var t=e.call(this),n=this.options.get("dropdownCssClass")||"";a.isFunction(n)&&(n=n(this.$element));var i=this.options.get("adaptDropdownCssClass");if(i=i||l,-1!==n.indexOf(":all:")){n=n.replace(":all:","");var o=i;i=function(e){var t=o(e);return null!=t?t+" "+e:e}}var r=this.options.get("dropdownCss")||{};return a.isFunction(r)&&(r=r(this.$element)),s.syncCssClasses(t,this.$element,i),t.css(r),t.addClass(n),t},e}),t.define("select2/compat/initSelection",["jquery"],function(i){function e(e,t,n){n.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `initSelection` option has been deprecated in favor of a custom data adapter that overrides the `current` method. This method is now called multiple times instead of a single time when the instance is initialized. Support will be removed for the `initSelection` option in future versions of Select2"),this.initSelection=n.get("initSelection"),this._isInitialized=!1,e.call(this,t,n)}return e.prototype.current=function(e,t){var n=this;this._isInitialized?e.call(this,t):this.initSelection.call(null,this.$element,function(e){n._isInitialized=!0,i.isArray(e)||(e=[e]),t(e)})},e}),t.define("select2/compat/inputData",["jquery"],function(a){function e(e,t,n){this._currentData=[],this._valueSeparator=n.get("valueSeparator")||",","hidden"===t.prop("type")&&n.get("debug")&&console&&console.warn&&console.warn("Select2: Using a hidden input with Select2 is no longer supported and may stop working in the future. It is recommended to use a `<select>` element instead."),e.call(this,t,n)}return e.prototype.current=function(e,t){function i(e,t){var n=[];return e.selected||-1!==a.inArray(e.id,t)?(e.selected=!0,n.push(e)):e.selected=!1,e.children&&n.push.apply(n,i(e.children,t)),n}for(var n=[],o=0;o<this._currentData.length;o++){var r=this._currentData[o];n.push.apply(n,i(r,this.$element.val().split(this._valueSeparator)))}t(n)},e.prototype.select=function(e,t){if(this.options.get("multiple")){var n=this.$element.val();n+=this._valueSeparator+t.id,this.$element.val(n),this.$element.trigger("change")}else this.current(function(e){a.map(e,function(e){e.selected=!1})}),this.$element.val(t.id),this.$element.trigger("change")},e.prototype.unselect=function(e,o){var r=this;o.selected=!1,this.current(function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];o.id!=i.id&&t.push(i.id)}r.$element.val(t.join(r._valueSeparator)),r.$element.trigger("change")})},e.prototype.query=function(e,t,n){for(var i=[],o=0;o<this._currentData.length;o++){var r=this._currentData[o],a=this.matches(t,r);null!==a&&i.push(a)}n({results:i})},e.prototype.addOptions=function(e,t){var n=a.map(t,function(e){return a.data(e[0],"data")});this._currentData.push.apply(this._currentData,n)},e}),t.define("select2/compat/matcher",["jquery"],function(a){function e(r){function e(e,t){var n=a.extend(!0,{},t);if(null==e.term||""===a.trim(e.term))return n;if(t.children){for(var i=t.children.length-1;0<=i;i--){var o=t.children[i];r(e.term,o.text,o)||n.children.splice(i,1)}if(0<n.children.length)return n}return r(e.term,t.text,t)?n:null}return e}return e}),t.define("select2/compat/query",[],function(){function e(e,t,n){n.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `query` option has been deprecated in favor of a custom data adapter that overrides the `query` method. Support will be removed for the `query` option in future versions of Select2."),e.call(this,t,n)}return e.prototype.query=function(e,t,n){t.callback=n,this.options.get("query").call(null,t)},e}),t.define("select2/dropdown/attachContainer",[],function(){function e(e,t,n){e.call(this,t,n)}return e.prototype.position=function(e,t,n){n.find(".dropdown-wrapper").append(t),t.addClass("select2-dropdown--below"),n.addClass("select2-container--below")},e}),t.define("select2/dropdown/stopPropagation",[],function(){function e(){}return e.prototype.bind=function(e,t,n){e.call(this,t,n);var i=["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"];this.$dropdown.on(i.join(" "),function(e){e.stopPropagation()})},e}),t.define("select2/selection/stopPropagation",[],function(){function e(){}return e.prototype.bind=function(e,t,n){e.call(this,t,n);var i=["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"];this.$selection.on(i.join(" "),function(e){e.stopPropagation()})},e}),n=function(h){function t(e){var t=e||window.event,n=v.call(arguments,1),i=0,o=0,r=0,a=0,s=0,l=0;if((e=h.event.fix(t)).type="mousewheel","detail"in t&&(r=-1*t.detail),"wheelDelta"in t&&(r=t.wheelDelta),"wheelDeltaY"in t&&(r=t.wheelDeltaY),"wheelDeltaX"in t&&(o=-1*t.wheelDeltaX),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(o=-1*r,r=0),i=0===r?o:r,"deltaY"in t&&(i=r=-1*t.deltaY),"deltaX"in t&&(o=t.deltaX,0===r&&(i=-1*o)),0!==r||0!==o){if(1===t.deltaMode){var c=h.data(this,"mousewheel-line-height");i*=c,r*=c,o*=c}else if(2===t.deltaMode){var d=h.data(this,"mousewheel-page-height");i*=d,r*=d,o*=d}if(a=Math.max(Math.abs(r),Math.abs(o)),(!g||a<g)&&f(t,g=a)&&(g/=40),f(t,a)&&(i/=40,o/=40,r/=40),i=Math[1<=i?"floor":"ceil"](i/g),o=Math[1<=o?"floor":"ceil"](o/g),r=Math[1<=r?"floor":"ceil"](r/g),T.settings.normalizeOffset&&this.getBoundingClientRect){var u=this.getBoundingClientRect();s=e.clientX-u.left,l=e.clientY-u.top}return e.deltaX=o,e.deltaY=r,e.deltaFactor=g,e.offsetX=s,e.offsetY=l,e.deltaMode=0,n.unshift(e,i,o,r),m&&clearTimeout(m),m=setTimeout(p,200),(h.event.dispatch||h.event.handle).apply(this,n)}}function p(){g=null}function f(e,t){return T.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}var m,g,e=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],n="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],v=Array.prototype.slice;if(h.event.fixHooks)for(var i=e.length;i;)h.event.fixHooks[e[--i]]=h.event.mouseHooks;var T=h.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var e=n.length;e;)this.addEventListener(n[--e],t,!1);else this.onmousewheel=t;h.data(this,"mousewheel-line-height",T.getLineHeight(this)),h.data(this,"mousewheel-page-height",T.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=n.length;e;)this.removeEventListener(n[--e],t,!1);else this.onmousewheel=null;h.removeData(this,"mousewheel-line-height"),h.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var t=h(e),n=t["offsetParent"in h.fn?"offsetParent":"parent"]();return n.length||(n=h("body")),parseInt(n.css("fontSize"),10)||parseInt(t.css("fontSize"),10)||16},getPageHeight:function(e){return h(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};h.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})},"function"==typeof t.define&&t.define.amd?t.define("jquery-mousewheel",["jquery"],n):"object"==typeof exports?module.exports=n:n(i),t.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults"],function(o,e,r,t){if(null==o.fn.select2){var a=["open","close","destroy"];o.fn.select2=function(t){if("object"==typeof(t=t||{}))return this.each(function(){var e=o.extend(!0,{},t);new r(o(this),e)}),this;if("string"!=typeof t)throw new Error("Invalid arguments for Select2: "+t);var n,i=Array.prototype.slice.call(arguments,1);return this.each(function(){var e=o(this).data("select2");null==e&&window.console&&console.error&&console.error("The select2('"+t+"') method was called on an element that is not using Select2."),n=e[t].apply(e,i)}),-1<o.inArray(t,a)?this:n}}return null==o.fn.select2.defaults&&(o.fn.select2.defaults=t),r}),{define:t.define,require:t.require}}(),n=t.require("jquery.select2");return i.fn.select2.amd=t,n}),function(){window.SocialShareButton={openUrl:function(e,t,n){var i;return null==t&&(t=640),null==n&&(n=480),i="width="+t+",height="+n+",left="+(screen.width/2-t/2)+",top="+(.3*screen.height-n/2)+",menubar=no,status=no,location=no",window.open(e,"popup",i),!1},share:function(n){var e,t,i,o,r,a,s,l,c,d,u,h,p;switch(l=$(n).data("site"),t=$(n).data("appkey")||"",e=$(n).parent(),c=encodeURIComponent($(n).data(l+"-title")||e.data("title")||""),s=encodeURIComponent(e.data("img")||""),u=encodeURIComponent(e.data("url")||""),h=encodeURIComponent(e.data("via")||""),i=encodeURIComponent(e.data("desc")||" "),"function"==typeof(o=window[window.GoogleAnalyticsObject||"ga"])&&o("send","event","Social Share Button","click",l),0===u.length&&(u=encodeURIComponent(location.href)),l){case"email":location.href="mailto:?to=&subject="+c+"&body="+u;break;case"weibo":SocialShareButton.openUrl("http://service.weibo.com/share/share.php?url="+u+"&type=3&pic="+s+"&title="+c+"&appkey="+t,620,370);break;case"twitter":a=encodeURIComponent($(n).data(l+"-hashtags")||e.data("hashtags")||""),p="",0<h.length&&(p="&via="+h),SocialShareButton.openUrl("https://twitter.com/intent/tweet?url="+u+"&text="+c+"&hashtags="+a+p,650,300);break;case"douban":SocialShareButton.openUrl("http://shuo.douban.com/!service/share?href="+u+"&name="+c+"&image="+s+"&sel="+i,770,470);break;case"facebook":SocialShareButton.openUrl("http://www.facebook.com/sharer/sharer.php?u="+u+"&display=popup&quote="+i,555,400);break;case"qq":SocialShareButton.openUrl("http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url="+u+"&title="+c+"&pics="+s+"&summary="+i+"&site="+t);break;case"google_plus":SocialShareButton.openUrl("https://plus.google.com/share?url="+u);break;case"google_bookmark":SocialShareButton.openUrl("https://www.google.com/bookmarks/mark?op=edit&output=popup&bkmk="+u+"&title="+c);break;case"delicious":SocialShareButton.openUrl("https://del.icio.us/save?url="+u+"&title="+c+"&jump=yes&pic="+s);break;case"pinterest":SocialShareButton.openUrl("http://www.pinterest.com/pin/create/button/?url="+u+"&media="+s+"&description="+c);break;case"linkedin":SocialShareButton.openUrl("https://www.linkedin.com/shareArticle?mini=true&url="+u+"&title="+c+"&summary="+i);break;case"xing":SocialShareButton.openUrl("https://www.xing.com/spi/shares/new?url="+u);break;case"vkontakte":SocialShareButton.openUrl("http://vk.com/share.php?url="+u+"&title="+c+"&image="+s);break;case"odnoklassniki":SocialShareButton.openUrl("https://connect.ok.ru/offer?url="+u+"&title="+c+"&description="+i+"&imageUrl="+s);break;case"wechat":if(!window.SocialShareWeChatButton)throw new Error("You should require social-share-button/wechat to your application.js");window.SocialShareWeChatButton.qrcode({url:decodeURIComponent(u),header:$(n).attr("title"),footer:$(n).data("wechat-footer")});break;case"tumblr":r=function(e){var t;if(t=$(n).attr("data-"+e))return encodeURIComponent(t)},d=function(){var e,t,n,i;return t=r("type")||"link",e=function(){switch(t){case"text":return"title="+(c=r("title")||c);case"photo":return c=r("caption")||c,i=r("source")||s,"caption="+c+"&source="+i;case"quote":return n=r("quote")||c,i=r("source")||"","quote="+n+"&source="+i;default:return c=r("title")||c,u=r("url")||u,"name="+c+"&url="+u}}(),"/"+t+"?"+e},SocialShareButton.openUrl("http://www.tumblr.com/share"+d());break;case"reddit":SocialShareButton.openUrl("http://www.reddit.com/submit?url="+u+"&newwindow=1",555,400);break;case"hacker_news":SocialShareButton.openUrl("http://news.ycombinator.com/submitlink?u="+u+"&t="+c,770,500);break;case"telegram":SocialShareButton.openUrl("https://telegram.me/share/url?text="+c+"&url="+u)}return!1}}}.call(this),function(){$(document).on("turbolinks:load",function(){return $("input[name=publish_type]").on("change",function(){return parseInt($(this).val())?$(".publish-date").addClass("d-none"):$(".publish-date").removeClass("d-none")}),$(".add-new-category").on("click",function(e){return e.preventDefault(),$.ajax({url:"/categories/add",type:"POST",dataType:"json",data:{category:{name:$("#category_name").val()}},complete:function(){},success:function(e){var t;return t="<tr>",t+="<td class='text-center'>",t+="<input type='checkbox' name='blog[category_ids][]'' id='blog_category_ids_' value='"+e.id+"' multiple='multiple'>",t+="</td>",t+="<td class='text-center'>",t+=e.name,t+="</td>",t+="<td class='text-center'>",t+="<a class='fa fa-edit fa-lg text-success' href='/categories/"+e.id+"/edit'></a>",t+="<a class='fa fa-trash fa-lg text-danger' data-confirm='Are you sure?' rel='nofollow' data-method='delete' href='/categories/"+e.id+"'></a>",t+="</td>",t+="</tr>",$(".cat-list").append(t)},error:function(){}})}),$(".add-new-tag").on("click",function(e){var t;if(e.preventDefault(),null!==(t=$("#tag_name").val()))return $.ajax({url:"/tags/add",type:"POST",dataType:"json",data:{tag:{name:t}},complete:function(){},success:function(e){var t;return t="<h6>"+e.name+"</h6>",t+="<input type='hidden' name='blog[tag_ids][]'' id='blog_tag_ids_' value='"+e.id+"' multiple='multiple'>",$(".tags-list").append(t)},error:function(){}})})})}.call(this),function(){var e=this;(function(){(function(){var n=[].slice;this.ActionCable={INTERNAL:{message_types:{welcome:"welcome",ping:"ping",confirmation:"confirm_subscription",rejection:"reject_subscription"},default_mount_path:"/cable",protocols:["actioncable-v1-json","actioncable-unsupported"]},WebSocket:window.WebSocket,logger:window.console,createConsumer:function(e){var t;return null==e&&(e=null!=(t=this.getConfig("url"))?t:this.INTERNAL.default_mount_path),new l.Consumer(this.createWebSocketURL(e))},getConfig:function(e){var t;return null!=(t=document.head.querySelector("meta[name='action-cable-"+e+"']"))?t.getAttribute("content"):void 0},createWebSocketURL:function(e){var t;return e&&!/^wss?:/i.test(e)?((t=document.createElement("a")).href=e,t.href=t.href,t.protocol=t.protocol.replace("http","ws"),t.href):e},startDebugging:function(){return this.debugging=!0},stopDebugging:function(){return this.debugging=null},log:function(){var e,t;if(e=1<=arguments.length?n.call(arguments,0):[],this.debugging)return e.push(Date.now()),(t=this.logger).log.apply(t,["[ActionCable]"].concat(n.call(e)))}}}).call(this)}).call(e);var l=e.ActionCable;(function(){(function(){var i=function(e,t){return function(){return e.apply(t,arguments)}};l.ConnectionMonitor=function(){function e(e){this.connection=e,this.visibilityDidChange=i(this.visibilityDidChange,this),this.reconnectAttempts=0}var o,t,n;return e.pollInterval={min:3,max:30},e.staleThreshold=6,e.prototype.start=function(){if(!this.isRunning())return this.startedAt=t(),delete this.stoppedAt,this.startPolling(),document.addEventListener("visibilitychange",this.visibilityDidChange),l.log("ConnectionMonitor started. pollInterval = "+this.getPollInterval()+" ms")},e.prototype.stop=function(){if(this.isRunning())return this.stoppedAt=t(),this.stopPolling(),document.removeEventListener("visibilitychange",this.visibilityDidChange),l.log("ConnectionMonitor stopped")},e.prototype.isRunning=function(){return null!=this.startedAt&&null==this.stoppedAt},e.prototype.recordPing=function(){return this.pingedAt=t()},e.prototype.recordConnect=function(){return this.reconnectAttempts=0,this.recordPing(),delete this.disconnectedAt,l.log("ConnectionMonitor recorded connect")},e.prototype.recordDisconnect=function(){return this.disconnectedAt=t(),l.log("ConnectionMonitor recorded disconnect")},e.prototype.startPolling=function(){return this.stopPolling(),this.poll()},e.prototype.stopPolling=function(){return clearTimeout(this.pollTimeout)},e.prototype.poll=function(){return this.pollTimeout=setTimeout((e=this,function(){return e.reconnectIfStale(),e.poll()}),this.getPollInterval());var e},e.prototype.getPollInterval=function(){var e,t,n,i;return n=(i=this.constructor.pollInterval).min,t=i.max,e=5*Math.log(this.reconnectAttempts+1),Math.round(1e3*o(e,n,t))},e.prototype.reconnectIfStale=function(){if(this.connectionIsStale())return l.log("ConnectionMonitor detected stale connection. reconnectAttempts = "+this.reconnectAttempts+", pollInterval = "+this.getPollInterval()+" ms, time disconnected = "+n(this.disconnectedAt)+" s, stale threshold = "+this.constructor.staleThreshold+" s"),this.reconnectAttempts++,this.disconnectedRecently()?l.log("ConnectionMonitor skipping reopening recent disconnect"):(l.log("ConnectionMonitor reopening"),this.connection.reopen())},e.prototype.connectionIsStale=function(){var e;return n(null!=(e=this.pingedAt)?e:this.startedAt)>this.constructor.staleThreshold},e.prototype.disconnectedRecently=function(){return this.disconnectedAt&&n(this.disconnectedAt)<this.constructor.staleThreshold},e.prototype.visibilityDidChange=function(){if("visible"===document.visibilityState)return setTimeout((e=this,function(){if(e.connectionIsStale()||!e.connection.isOpen())return l.log("ConnectionMonitor reopening stale connection on visibilitychange. visbilityState = "+document.visibilityState),e.connection.reopen()}),200);var e},t=function(){return(new Date).getTime()},n=function(e){return(t()-e)/1e3},o=function(e,t,n){return Math.max(t,Math.min(n,e))},e}()}).call(this),function(){var e,o,t,n,i,r=[].slice,a=function(e,t){return function(){return e.apply(t,arguments)}},s=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1}
;n=l.INTERNAL,o=n.message_types,t=n.protocols,i=2<=t.length?r.call(t,0,e=t.length-1):(e=0,[]),t[e++],l.Connection=function(){function e(e){this.consumer=e,this.open=a(this.open,this),this.subscriptions=this.consumer.subscriptions,this.monitor=new l.ConnectionMonitor(this),this.disconnected=!0}return e.reopenDelay=500,e.prototype.send=function(e){return!!this.isOpen()&&(this.webSocket.send(JSON.stringify(e)),!0)},e.prototype.open=function(){return this.isActive()?(l.log("Attempted to open WebSocket, but existing socket is "+this.getState()),!1):(l.log("Opening WebSocket, current state is "+this.getState()+", subprotocols: "+t),null!=this.webSocket&&this.uninstallEventHandlers(),this.webSocket=new l.WebSocket(this.consumer.url,t),this.installEventHandlers(),this.monitor.start(),!0)},e.prototype.close=function(e){var t;if((null!=e?e:{allowReconnect:!0}).allowReconnect||this.monitor.stop(),this.isActive())return null!=(t=this.webSocket)?t.close():void 0},e.prototype.reopen=function(){var e;if(l.log("Reopening WebSocket, current state is "+this.getState()),!this.isActive())return this.open();try{return this.close()}catch(t){return e=t,l.log("Failed to reopen WebSocket",e)}finally{l.log("Reopening WebSocket in "+this.constructor.reopenDelay+"ms"),setTimeout(this.open,this.constructor.reopenDelay)}},e.prototype.getProtocol=function(){var e;return null!=(e=this.webSocket)?e.protocol:void 0},e.prototype.isOpen=function(){return this.isState("open")},e.prototype.isActive=function(){return this.isState("open","connecting")},e.prototype.isProtocolSupported=function(){var e;return e=this.getProtocol(),0<=s.call(i,e)},e.prototype.isState=function(){var e,t;return t=1<=arguments.length?r.call(arguments,0):[],e=this.getState(),0<=s.call(t,e)},e.prototype.getState=function(){var e,t;for(t in WebSocket)if(WebSocket[t]===(null!=(e=this.webSocket)?e.readyState:void 0))return t.toLowerCase();return null},e.prototype.installEventHandlers=function(){var e,t;for(e in this.events)t=this.events[e].bind(this),this.webSocket["on"+e]=t},e.prototype.uninstallEventHandlers=function(){var e;for(e in this.events)this.webSocket["on"+e]=function(){}},e.prototype.events={message:function(e){var t,n,i;if(this.isProtocolSupported())switch(t=(i=JSON.parse(e.data)).identifier,n=i.message,i.type){case o.welcome:return this.monitor.recordConnect(),this.subscriptions.reload();case o.ping:return this.monitor.recordPing();case o.confirmation:return this.subscriptions.notify(t,"connected");case o.rejection:return this.subscriptions.reject(t);default:return this.subscriptions.notify(t,"received",n)}},open:function(){if(l.log("WebSocket onopen event, using '"+this.getProtocol()+"' subprotocol"),this.disconnected=!1,!this.isProtocolSupported())return l.log("Protocol is unsupported. Stopping monitor and disconnecting."),this.close({allowReconnect:!1})},close:function(){if(l.log("WebSocket onclose event"),!this.disconnected)return this.disconnected=!0,this.monitor.recordDisconnect(),this.subscriptions.notifyAll("disconnected",{willAttemptReconnect:this.monitor.isRunning()})},error:function(){return l.log("WebSocket onerror event")}},e}()}.call(this),function(){var c=[].slice;l.Subscriptions=function(){function e(e){this.consumer=e,this.subscriptions=[]}return e.prototype.create=function(e,t){var n,i,o;return i="object"==typeof(n=e)?n:{channel:n},o=new l.Subscription(this.consumer,i,t),this.add(o)},e.prototype.add=function(e){return this.subscriptions.push(e),this.consumer.ensureActiveConnection(),this.notify(e,"initialized"),this.sendCommand(e,"subscribe"),e},e.prototype.remove=function(e){return this.forget(e),this.findAll(e.identifier).length||this.sendCommand(e,"unsubscribe"),e},e.prototype.reject=function(e){var t,n,i,o,r;for(o=[],t=0,n=(i=this.findAll(e)).length;t<n;t++)r=i[t],this.forget(r),this.notify(r,"rejected"),o.push(r);return o},e.prototype.forget=function(o){var r;return this.subscriptions=function(){var e,t,n,i;for(i=[],e=0,t=(n=this.subscriptions).length;e<t;e++)(r=n[e])!==o&&i.push(r);return i}.call(this),o},e.prototype.findAll=function(e){var t,n,i,o,r;for(o=[],t=0,n=(i=this.subscriptions).length;t<n;t++)(r=i[t]).identifier===e&&o.push(r);return o},e.prototype.reload=function(){var e,t,n,i,o;for(i=[],e=0,t=(n=this.subscriptions).length;e<t;e++)o=n[e],i.push(this.sendCommand(o,"subscribe"));return i},e.prototype.notifyAll=function(e){var t,n,i,o,r,a,s;for(n=e,t=2<=arguments.length?c.call(arguments,1):[],a=[],i=0,o=(r=this.subscriptions).length;i<o;i++)s=r[i],a.push(this.notify.apply(this,[s,n].concat(c.call(t))));return a},e.prototype.notify=function(e,t){var n,i,o,r,a,s,l;for(s=e,i=t,n=3<=arguments.length?c.call(arguments,2):[],a=[],o=0,r=(l="string"==typeof s?this.findAll(s):[s]).length;o<r;o++)s=l[o],a.push("function"==typeof s[i]?s[i].apply(s,n):void 0);return a},e.prototype.sendCommand=function(e,t){var n;return n=e.identifier,this.consumer.send({command:t,identifier:n})},e}()}.call(this),function(){l.Subscription=function(){function e(e,t,n){this.consumer=e,null==t&&(t={}),this.identifier=JSON.stringify(t),i(this,n)}var i;return e.prototype.perform=function(e,t){return null==t&&(t={}),t.action=e,this.send(t)},e.prototype.send=function(e){return this.consumer.send({command:"message",identifier:this.identifier,data:JSON.stringify(e)})},e.prototype.unsubscribe=function(){return this.consumer.subscriptions.remove(this)},i=function(e,t){var n,i;if(null!=t)for(n in t)i=t[n],e[n]=i;return e},e}()}.call(this),function(){l.Consumer=function(){function e(e){this.url=e,this.subscriptions=new l.Subscriptions(this),this.connection=new l.Connection(this)}return e.prototype.send=function(e){return this.connection.send(e)},e.prototype.connect=function(){return this.connection.open()},e.prototype.disconnect=function(){return this.connection.close({allowReconnect:!1})},e.prototype.ensureActiveConnection=function(){if(!this.connection.isActive())return this.connection.open()},e}()}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=l:"function"==typeof define&&define.amd&&define(l)}.call(this),function(){this.App||(this.App={}),App.cable=ActionCable.createConsumer()}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){var t;t=function(){var e;e=$("#job_info").closest(".col").width(),$("#job_info").width(e)},$(document).on("turbolinks:load",function(){return $("form#filter-auto select, form#filter-auto input").on("change",function(){return $("form#filter-auto").submit()}),$(".filter-block__bottom a.show-more").on("click",function(){var e,t,n,i,o,r,a;if((t=$(this).closest(".filter-block").find(".hidden-filter")).length){for(a=$(this).closest(".filter-block").find(".showed-block"),t.length<=5&&$(this).closest(".filter-block__bottom").hide(),e=t.length<5?t.length:5,console.log(e),r=[],n=i=0,o=e;0<=o?i<o:o<i;n=0<=o?++i:--i)r.push(a.append($(t[n]).removeClass("hidden-filter")));return r}}),$("a[data-remote]").on("ajax:error",function(){return window.location=$(this).attr("href")}),$(document).on("scroll",function(){var e;if(0<$("#job_info:visible").length){if(void 0===(e=$(".info-cards .info-cards__card:first").offset()))return;return $(document).scrollTop()>e.top?$("#job_info").addClass("fix-block"):$("#job_info").removeClass("fix-block"),t()}}),$(".closeInfo").on("click",function(){return $("#job_info").hide()})})}.call(this),function(){}.call(this),function(){$(document).on("turbolinks:load",function(){var e,t;return t=e=$("select.change-action").data("user-type"),$("select.change-action").on("change",function(){return t=$(this).val(),/suspend/.test(t)?($("#small-dialog .modal-body h5").text("Are you going to suspend this "+e+" ?"),$("#modal-click").trigger("click")):/delete/.test(t)?($("#small-dialog .modal-body h5").text("Are you going to delete this "+e+" ?"),$("#modal-click").trigger("click")):void 0}),$(".action-confirm-yes").on("click",function(e){return e.preventDefault(),$.get(t)}),$(".action-confirm-no").on("click",function(){return $("select.change-action").val("")})})}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this);